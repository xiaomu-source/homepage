import{V as DD}from"./index-dca43598.js";var hA={},_e={},kr={},LD=2311;function PD(){return LD++}var cA=PD,$i={};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?$i={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?$i={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?$i={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:$i=RD(navigator.userAgent);var ID=$i;function RD(e){var t={},r={},a=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),n=e.match(/Edge\/([\d.]+)/),s=/micromessenger/i.test(e);return a&&(r.firefox=!0,r.version=a[1]),i&&(r.ie=!0,r.version=i[1]),n&&(r.edge=!0,r.version=n[1]),s&&(r.weChat=!0),{browser:r,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=11),domSupported:typeof document<"u"}}var nt=ID,W={},fA={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},dA={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},sn=Object.prototype.toString,ln=Array.prototype,ED=ln.forEach,kD=ln.filter,Ki=ln.slice,OD=ln.map,zD=ln.reduce,id={};function BD(e,t){e==="createCanvas"&&(_o=null),id[e]=t}function $a(e){if(e==null||typeof e!="object")return e;var t=e,r=sn.call(e);if(r==="[object Array]"){if(!Ua(e)){t=[];for(var a=0,i=e.length;a<i;a++)t[a]=$a(e[a])}}else if(dA[r]){if(!Ua(e)){var n=e.constructor;if(e.constructor.from)t=n.from(e);else{t=new n(e.length);for(var a=0,i=e.length;a<i;a++)t[a]=$a(e[a])}}}else if(!fA[r]&&!Ua(e)&&!Io(e)){t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=$a(e[s]))}return t}function nd(e,t,r){if(!Ui(t)||!Ui(e))return r?$a(t):e;for(var a in t)if(t.hasOwnProperty(a)){var i=e[a],n=t[a];Ui(n)&&Ui(i)&&!Po(n)&&!Po(i)&&!Io(n)&&!Io(i)&&!cf(n)&&!cf(i)&&!Ua(n)&&!Ua(i)?nd(i,n,r):(r||!(a in e))&&(e[a]=$a(t[a]))}return e}function ND(e,t){for(var r=e[0],a=1,i=e.length;a<i;a++)r=nd(r,e[a],t);return r}function VD(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function gA(e,t,r){for(var a in t)t.hasOwnProperty(a)&&(r?t[a]!=null:e[a]==null)&&(e[a]=t[a]);return e}var pA=function(){return id.createCanvas()};id.createCanvas=function(){return document.createElement("canvas")};var _o;function HD(){return _o||(_o=pA().getContext("2d")),_o}function qD(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r}return-1}function GD(e,t){var r=e.prototype;function a(){}a.prototype=t.prototype,e.prototype=new a;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function FD(e,t,r){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,gA(e,t,r)}function $D(e){if(e)return typeof e=="string"?!1:typeof e.length=="number"}function mA(e,t,r){if(e&&t)if(e.forEach&&e.forEach===ED)e.forEach(t,r);else if(e.length===+e.length)for(var a=0,i=e.length;a<i;a++)t.call(r,e[a],a,e);else for(var n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}function UD(e,t,r){if(e&&t){if(e.map&&e.map===OD)return e.map(t,r);for(var a=[],i=0,n=e.length;i<n;i++)a.push(t.call(r,e[i],i,e));return a}}function WD(e,t,r,a){if(e&&t){if(e.reduce&&e.reduce===zD)return e.reduce(t,r,a);for(var i=0,n=e.length;i<n;i++)r=t.call(a,r,e[i],i,e);return r}}function ZD(e,t,r){if(e&&t){if(e.filter&&e.filter===kD)return e.filter(t,r);for(var a=[],i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)&&a.push(e[i]);return a}}function YD(e,t,r){if(e&&t){for(var a=0,i=e.length;a<i;a++)if(t.call(r,e[a],a,e))return e[a]}}function yA(e,t){var r=Ki.call(arguments,2);return function(){return e.apply(t,r.concat(Ki.call(arguments)))}}function XD(e){var t=Ki.call(arguments,1);return function(){return e.apply(this,t.concat(Ki.call(arguments)))}}function Po(e){return sn.call(e)==="[object Array]"}function KD(e){return typeof e=="function"}function QD(e){return sn.call(e)==="[object String]"}function Ui(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function cf(e){return!!fA[sn.call(e)]}function jD(e){return!!dA[sn.call(e)]}function Io(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function JD(e){return e!==e}function eL(e){for(var t=0,r=arguments.length;t<r;t++)if(arguments[t]!=null)return arguments[t]}function tL(e,t){return e??t}function rL(e,t,r){return e??t??r}function aL(){return Function.call.apply(Ki,arguments)}function iL(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function nL(e,t){if(!e)throw new Error(t)}function oL(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var _A="__ec_primitive__";function sL(e){e[_A]=!0}function Ua(e){return e[_A]}function Ro(e){var t=Po(e);this.data={};var r=this;e instanceof Ro?e.each(a):e&&mA(e,a);function a(i,n){t?r.set(i,n):r.set(n,i)}}Ro.prototype={constructor:Ro,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){t!==void 0&&(e=yA(e,t));for(var r in this.data)this.data.hasOwnProperty(r)&&e(this.data[r],r)},removeKey:function(e){delete this.data[e]}};function lL(e){return new Ro(e)}function uL(e,t){for(var r=new e.constructor(e.length+t.length),a=0;a<e.length;a++)r[a]=e[a];var i=e.length;for(a=0;a<t.length;a++)r[a+i]=t[a];return r}function vL(){}W.$override=BD;W.clone=$a;W.merge=nd;W.mergeAll=ND;W.extend=VD;W.defaults=gA;W.createCanvas=pA;W.getContext=HD;W.indexOf=qD;W.inherits=GD;W.mixin=FD;W.isArrayLike=$D;W.each=mA;W.map=UD;W.reduce=WD;W.filter=ZD;W.find=YD;W.bind=yA;W.curry=XD;W.isArray=Po;W.isFunction=KD;W.isString=QD;W.isObject=Ui;W.isBuiltInObject=cf;W.isTypedArray=jD;W.isDom=Io;W.eqNaN=JD;W.retrieve=eL;W.retrieve2=tL;W.retrieve3=rL;W.slice=aL;W.normalizeCssArray=iL;W.assert=nL;W.trim=oL;W.setAsPrimitive=sL;W.isPrimitive=Ua;W.createHashMap=lL;W.concatArray=uL;W.noop=vL;var Ee={},xA=typeof Float32Array>"u"?Array:Float32Array;function hL(e,t){var r=new xA(2);return e==null&&(e=0),t==null&&(t=0),r[0]=e,r[1]=t,r}function cL(e,t){return e[0]=t[0],e[1]=t[1],e}function fL(e){var t=new xA(2);return t[0]=e[0],t[1]=e[1],t}function dL(e,t,r){return e[0]=t,e[1]=r,e}function gL(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function pL(e,t,r,a){return e[0]=t[0]+r[0]*a,e[1]=t[1]+r[1]*a,e}function mL(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function od(e){return Math.sqrt(sd(e))}var yL=od;function sd(e){return e[0]*e[0]+e[1]*e[1]}var _L=sd;function xL(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function SL(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function bL(e,t){return e[0]*t[0]+e[1]*t[1]}function wL(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function AL(e,t){var r=od(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function SA(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var TL=SA;function bA(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var CL=bA;function ML(e,t){return e[0]=-t[0],e[1]=-t[1],e}function DL(e,t,r,a){return e[0]=t[0]+a*(r[0]-t[0]),e[1]=t[1]+a*(r[1]-t[1]),e}function LL(e,t,r){var a=t[0],i=t[1];return e[0]=r[0]*a+r[2]*i+r[4],e[1]=r[1]*a+r[3]*i+r[5],e}function PL(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function IL(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}Ee.create=hL;Ee.copy=cL;Ee.clone=fL;Ee.set=dL;Ee.add=gL;Ee.scaleAndAdd=pL;Ee.sub=mL;Ee.len=od;Ee.length=yL;Ee.lenSquare=sd;Ee.lengthSquare=_L;Ee.mul=xL;Ee.div=SL;Ee.dot=bL;Ee.scale=wL;Ee.normalize=AL;Ee.distance=SA;Ee.dist=TL;Ee.distanceSquare=bA;Ee.distSquare=CL;Ee.negate=ML;Ee.lerp=DL;Ee.applyTransform=LL;Ee.min=PL;Ee.max=IL;function ff(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}ff.prototype={constructor:ff,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(Pa(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,a=e.offsetY,i=r-this._x,n=a-this._y;this._x=r,this._y=a,t.drift(i,n,e),this.dispatchToElement(Pa(t,e),"drag",e.event);var s=this.findHover(r,a,t).target,c=this._dropTarget;this._dropTarget=s,t!==s&&(c&&s!==c&&this.dispatchToElement(Pa(c,e),"dragleave",e.event),s&&s!==c&&this.dispatchToElement(Pa(s,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(Pa(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(Pa(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};function Pa(e,t){return{target:e,topTarget:t&&t.topTarget}}var RL=ff,EL=RL,Og=Array.prototype.slice,df=function(e){this._$handlers={},this._$eventProcessor=e};df.prototype={constructor:df,one:function(e,t,r,a){return zg(this,e,t,r,a,!0)},on:function(e,t,r,a){return zg(this,e,t,r,a,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var r=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var a=[],i=0,n=r[e].length;i<n;i++)r[e][i].h!==t&&a.push(r[e][i]);r[e]=a}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},trigger:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>3&&(a=Og.call(a,1));for(var n=t.length,s=0;s<n;){var c=t[s];if(r&&r.filter&&c.query!=null&&!r.filter(e,c.query)){s++;continue}switch(i){case 1:c.h.call(c.ctx);break;case 2:c.h.call(c.ctx,a[1]);break;case 3:c.h.call(c.ctx,a[1],a[2]);break;default:c.h.apply(c.ctx,a);break}c.one?(t.splice(s,1),n--):s++}}return r&&r.afterTrigger&&r.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>4&&(a=Og.call(a,1,a.length-1));for(var n=a[a.length-1],s=t.length,c=0;c<s;){var o=t[c];if(r&&r.filter&&o.query!=null&&!r.filter(e,o.query)){c++;continue}switch(i){case 1:o.h.call(n);break;case 2:o.h.call(n,a[1]);break;case 3:o.h.call(n,a[1],a[2]);break;default:o.h.apply(n,a);break}o.one?(t.splice(c,1),s--):c++}}return r&&r.afterTrigger&&r.afterTrigger(e),this}};function kL(e,t){var r=e._$eventProcessor;return t!=null&&r&&r.normalizeQuery&&(t=r.normalizeQuery(t)),t}function zg(e,t,r,a,i,n){var s=e._$handlers;if(typeof r=="function"&&(i=a,a=r,r=null),!a||!t)return e;r=kL(e,r),s[t]||(s[t]=[]);for(var c=0;c<s[t].length;c++)if(s[t][c].h===a)return e;var o={h:a,one:n,query:r,ctx:i||e,callAtLast:a.zrEventfulCallAtLast},u=s[t].length-1,v=s[t][u];return v&&v.callAtLast?s[t].splice(u,0,o):s[t].push(o),e}var OL=df,ya=OL,vt={},un={},wA={},zL=Math.log(2);function gf(e,t,r,a,i,n){var s=a+"-"+i,c=e.length;if(n.hasOwnProperty(s))return n[s];if(t===1){var o=Math.round(Math.log((1<<c)-1&~i)/zL);return e[r][o]}for(var u=a|1<<r,v=r+1;a&1<<v;)v++;for(var h=0,l=0,d=0;l<c;l++){var f=1<<l;f&i||(h+=(d%2?-1:1)*e[r][l]*gf(e,t-1,v,u,i|f,n),d++)}return n[s]=h,h}function BL(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],a={},i=gf(r,8,0,0,0,a);if(i!==0){for(var n=[],s=0;s<8;s++)for(var c=0;c<8;c++)n[c]==null&&(n[c]=0),n[c]+=((s+c)%2?-1:1)*gf(r,7,s===0?1:0,1<<s,1<<c,a)/i*t[s];return function(o,u,v){var h=u*n[6]+v*n[7]+1;o[0]=(u*n[0]+v*n[1]+n[2])/h,o[1]=(u*n[3]+v*n[4]+n[5])/h}}}wA.buildTransformer=BL;var NL=nt,VL=wA,Bg=VL.buildTransformer,Ng="___zrEVENTSAVED",Is=[];function HL(e,t,r,a,i){return pf(Is,t,a,i,!0)&&pf(e,r,Is[0],Is[1])}function pf(e,t,r,a,i){if(t.getBoundingClientRect&&NL.domSupported&&!AA(t)){var n=t[Ng]||(t[Ng]={}),s=qL(t,n),c=GL(s,n,i);if(c)return c(e,r,a),!0}return!1}function qL(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var a=["left","right"],i=["top","bottom"],n=0;n<4;n++){var s=document.createElement("div"),c=s.style,o=n%2,u=(n>>1)%2;c.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[o]+":0",i[u]+":0",a[1-o]+":auto",i[1-u]+":auto",""].join("!important;"),e.appendChild(s),r.push(s)}return r}function GL(e,t,r){for(var a=r?"invTrans":"trans",i=t[a],n=t.srcCoords,s=!0,c=[],o=[],u=0;u<4;u++){var v=e[u].getBoundingClientRect(),h=2*u,l=v.left,d=v.top;c.push(l,d),s=s&&n&&l===n[h]&&d===n[h+1],o.push(e[u].offsetLeft,e[u].offsetTop)}return s&&i?i:(t.srcCoords=c,t[a]=r?Bg(o,c):Bg(c,o))}function AA(e){return e.nodeName.toUpperCase()==="CANVAS"}un.transformLocalCoord=HL;un.transformCoordWithViewport=pf;un.isCanvasEl=AA;var FL=ya;vt.Dispatcher=FL;var mf=nt,TA=un,$L=TA.isCanvasEl,UL=TA.transformCoordWithViewport,ld=typeof window<"u"&&!!window.addEventListener,WL=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Rs=[];function yf(e,t,r,a){return r=r||{},a||!mf.canvasSupported?Vg(e,t,r):mf.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):Vg(e,t,r),r}function Vg(e,t,r){if(mf.domSupported&&e.getBoundingClientRect){var a=t.clientX,i=t.clientY;if($L(e)){var n=e.getBoundingClientRect();r.zrX=a-n.left,r.zrY=i-n.top;return}else if(UL(Rs,e,a,i)){r.zrX=Rs[0],r.zrY=Rs[1];return}}r.zrX=r.zrY=0}function CA(e){return e||window.event}function ZL(e,t,r){if(t=CA(t),t.zrX!=null)return t;var a=t.type,i=a&&a.indexOf("touch")>=0;if(!i)yf(e,t,t,r),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;else{var n=a!=="touchend"?t.targetTouches[0]:t.changedTouches[0];n&&yf(e,n,t,r)}var s=t.button;return t.which==null&&s!==void 0&&WL.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function YL(e,t,r,a){ld?e.addEventListener(t,r,a):e.attachEvent("on"+t,r)}function XL(e,t,r,a){ld?e.removeEventListener(t,r,a):e.detachEvent("on"+t,r)}var KL=ld?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function QL(e){return e.which===2||e.which===3}function jL(e){return e.which>1}vt.clientToLocal=yf;vt.getNativeEvent=CA;vt.normalizeEvent=ZL;vt.addEventListener=YL;vt.removeEventListener=XL;vt.stop=KL;vt.isMiddleOrRightButtonOnMouseUpDown=QL;vt.notLeftMouse=jL;var JL=vt,_f=function(){this._track=[]};_f.prototype={constructor:_f,recognize:function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,r){var a=e.touches;if(a){for(var i={points:[],touches:[],target:t,event:e},n=0,s=a.length;n<s;n++){var c=a[n],o=JL.clientToLocal(r,c,{});i.points.push([o.zrX,o.zrY]),i.touches.push(c)}this._track.push(i)}},_recognize:function(e){for(var t in Es)if(Es.hasOwnProperty(t)){var r=Es[t](this._track,e);if(r)return r}}};function Hg(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function eP(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var Es={pinch:function(e,t){var r=e.length;if(r){var a=(e[r-1]||{}).points,i=(e[r-2]||{}).points||a;if(i&&i.length>1&&a&&a.length>1){var n=Hg(a)/Hg(i);!isFinite(n)&&(n=1),t.pinchScale=n;var s=eP(a);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},tP=_f,rP=tP,Qo=W,aP=Ee,MA=EL,DA=ya,iP=vt,nP=rP,LA="silent";function oP(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:sP}}function sP(){iP.stop(this.event)}function PA(){}PA.prototype.dispose=function(){};var lP=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Ka=function(e,t,r,a){DA.call(this),this.storage=e,this.painter=t,this.painterRoot=a,r=r||new PA,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,MA.call(this),this.setHandlerProxy(r)};Ka.prototype={constructor:Ka,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(Qo.each(lP,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,r=e.zrY,a=IA(this,t,r),i=this._hovered,n=i.target;n&&!n.__zr&&(i=this.findHover(i.x,i.y),n=i.target);var s=this._hovered=a?{x:t,y:r}:this.findHover(t,r),c=s.target,o=this.proxy;o.setCursor&&o.setCursor(c?c.cursor:"default"),n&&c!==n&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(s,"mousemove",e),c&&c!==n&&this.dispatchToElement(s,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,r=e.zrIsToLocalDOM;t!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),t!=="no_globalout"&&!r&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var r=this[e];r&&r.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,r){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var i="on"+t,n=oP(t,e,r);a&&(a[i]&&(n.cancelBubble=a[i].call(a,n)),a.trigger(t,n),a=a.parent,!n.cancelBubble););n.cancelBubble||(this.trigger(t,n),this.painter&&this.painter.eachOtherLayer(function(s){typeof s[i]=="function"&&s[i].call(s,n),s.trigger&&s.trigger(t,n)}))}},findHover:function(e,t,r){for(var a=this.storage.getDisplayList(),i={x:e,y:t},n=a.length-1;n>=0;n--){var s;if(a[n]!==r&&!a[n].ignore&&(s=uP(a[n],e,t))&&(!i.topTarget&&(i.topTarget=a[n]),s!==LA)){i.target=a[n];break}}return i},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new nP);var r=this._gestureMgr;t==="start"&&r.clear();var a=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(t==="end"&&r.clear(),a){var i=a.type;e.gestureEvent=i,this.dispatchToElement({target:a.target},i,a.event)}}};Qo.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Ka.prototype[e]=function(t){var r=t.zrX,a=t.zrY,i=IA(this,r,a),n,s;if((e!=="mouseup"||!i)&&(n=this.findHover(r,a),s=n.target),e==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(e==="mouseup")this._upEl=s;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||aP.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,e,t)}});function uP(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var a=e,i;a;){if(a.clipPath&&!a.clipPath.contain(t,r))return!1;a.silent&&(i=!0),a=a.parent}return i?LA:!0}return!1}function IA(e,t,r){var a=e.painter;return t<0||t>a.getWidth()||r<0||r>a.getHeight()}Qo.mixin(Ka,DA);Qo.mixin(Ka,MA);var vP=Ka,hP=vP,Je={},cP=typeof Float32Array>"u"?Array:Float32Array;function RA(){var e=new cP(6);return EA(e),e}function EA(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function kA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function fP(e,t,r){var a=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],n=t[0]*r[2]+t[2]*r[3],s=t[1]*r[2]+t[3]*r[3],c=t[0]*r[4]+t[2]*r[5]+t[4],o=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=a,e[1]=i,e[2]=n,e[3]=s,e[4]=c,e[5]=o,e}function dP(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function gP(e,t,r){var a=t[0],i=t[2],n=t[4],s=t[1],c=t[3],o=t[5],u=Math.sin(r),v=Math.cos(r);return e[0]=a*v+s*u,e[1]=-a*u+s*v,e[2]=i*v+c*u,e[3]=-i*u+v*c,e[4]=v*n+u*o,e[5]=v*o-u*n,e}function pP(e,t,r){var a=r[0],i=r[1];return e[0]=t[0]*a,e[1]=t[1]*i,e[2]=t[2]*a,e[3]=t[3]*i,e[4]=t[4]*a,e[5]=t[5]*i,e}function mP(e,t){var r=t[0],a=t[2],i=t[4],n=t[1],s=t[3],c=t[5],o=r*s-n*a;return o?(o=1/o,e[0]=s*o,e[1]=-n*o,e[2]=-a*o,e[3]=r*o,e[4]=(a*c-s*i)*o,e[5]=(n*i-r*c)*o,e):null}function yP(e){var t=RA();return kA(t,e),t}Je.create=RA;Je.identity=EA;Je.copy=kA;Je.mul=fP;Je.translate=dP;Je.rotate=gP;Je.scale=pP;Je.invert=mP;Je.clone=yP;var jt=Je,OA=Ee,xf=jt.identity,qg=5e-5;function ca(e){return e>qg||e<-qg}var jo=function(e){e=e||{},e.position||(this.position=[0,0]),e.rotation==null&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},er=jo.prototype;er.transform=null;er.needLocalTransform=function(){return ca(this.rotation)||ca(this.position[0])||ca(this.position[1])||ca(this.scale[0]-1)||ca(this.scale[1]-1)};var ia=[];er.updateTransform=function(){var e=this.parent,t=e&&e.transform,r=this.needLocalTransform(),a=this.transform;if(!(r||t)){a&&xf(a);return}a=a||jt.create(),r?this.getLocalTransform(a):xf(a),t&&(r?jt.mul(a,e.transform,a):jt.copy(a,e.transform)),this.transform=a;var i=this.globalScaleRatio;if(i!=null&&i!==1){this.getGlobalScale(ia);var n=ia[0]<0?-1:1,s=ia[1]<0?-1:1,c=((ia[0]-n)*i+n)/ia[0]||0,o=((ia[1]-s)*i+s)/ia[1]||0;a[0]*=c,a[1]*=c,a[2]*=o,a[3]*=o}this.invTransform=this.invTransform||jt.create(),jt.invert(this.invTransform,a)};er.getLocalTransform=function(e){return jo.getLocalTransform(this,e)};er.setTransform=function(e){var t=this.transform,r=e.dpr||1;t?e.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):e.setTransform(r,0,0,r,0,0)};er.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Ia=[],ks=jt.create();er.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],a=this.position,i=this.scale;ca(t-1)&&(t=Math.sqrt(t)),ca(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(t=-t),e[3]<0&&(r=-r),a[0]=e[4],a[1]=e[5],i[0]=t,i[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/t)}};er.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(jt.mul(Ia,e.invTransform,t),t=Ia);var r=this.origin;r&&(r[0]||r[1])&&(ks[4]=r[0],ks[5]=r[1],jt.mul(Ia,t,ks),Ia[4]-=r[0],Ia[5]-=r[1],t=Ia),this.setLocalTransform(t)}};er.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)};er.transformCoordToLocal=function(e,t){var r=[e,t],a=this.invTransform;return a&&OA.applyTransform(r,r,a),r};er.transformCoordToGlobal=function(e,t){var r=[e,t],a=this.transform;return a&&OA.applyTransform(r,r,a),r};jo.getLocalTransform=function(e,t){t=t||[],xf(t);var r=e.origin,a=e.scale||[1,1],i=e.rotation||0,n=e.position||[0,0];return r&&(t[4]-=r[0],t[5]-=r[1]),jt.scale(t,t,a),i&&jt.rotate(t,t,i),r&&(t[4]+=r[0],t[5]+=r[1]),t[4]+=n[0],t[5]+=n[1],t};var _P=jo,Jo=_P,xo={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)))},elasticOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/a)+1)},elasticInOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-xo.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?xo.bounceIn(e*2)*.5:xo.bounceOut(e*2-1)*.5+.5}},xP=xo,SP=xP,bP=SP;function Sf(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=e.loop==null?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}Sf.prototype={constructor:Sf,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused){this._pausedTime+=t;return}var r=(e-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var a=this.easing,i=typeof a=="string"?bP[a]:a,n=typeof i=="function"?i(r):r;return this.fire("frame",n),r===1?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var wP=Sf,AP=wP,lt={},zA=function(){this.head=null,this.tail=null,this._len=0},vn=zA.prototype;vn.insert=function(e){var t=new BA(e);return this.insertEntry(t),t};vn.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++};vn.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--};vn.len=function(){return this._len};vn.clear=function(){this.head=this.tail=null,this._len=0};var BA=function(e){this.value=e,this.next,this.prev},NA=function(e){this._list=new zA,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},ud=NA.prototype;ud.put=function(e,t){var r=this._list,a=this._map,i=null;if(a[e]==null){var n=r.len(),s=this._lastRemovedEntry;if(n>=this._maxSize&&n>0){var c=r.head;r.remove(c),delete a[c.key],i=c.value,this._lastRemovedEntry=c}s?s.value=t:s=new BA(t),s.key=e,r.insertEntry(s),a[e]=s}return i};ud.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value};ud.clear=function(){this._list.clear(),this._map={}};var TP=NA,VA=TP,CP=VA,Gg={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Jt(e){return e=Math.round(e),e<0?0:e>255?255:e}function MP(e){return e=Math.round(e),e<0?0:e>360?360:e}function Qi(e){return e<0?0:e>1?1:e}function Os(e){return e.length&&e.charAt(e.length-1)==="%"?Jt(parseFloat(e)/100*255):Jt(parseInt(e,10))}function Qa(e){return e.length&&e.charAt(e.length-1)==="%"?Qi(parseFloat(e)/100):Qi(parseFloat(e))}function zs(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Wr(e,t,r){return e+(t-e)*r}function Kt(e,t,r,a,i){return e[0]=t,e[1]=r,e[2]=a,e[3]=i,e}function bf(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var HA=new CP(20),Nn=null;function Ra(e,t){Nn&&bf(Nn,t),Nn=HA.put(e,Nn||t.slice())}function ma(e,t){if(e){t=t||[];var r=HA.get(e);if(r)return bf(t,r);e=e+"";var a=e.replace(/ /g,"").toLowerCase();if(a in Gg)return bf(t,Gg[a]),Ra(e,t),t;if(a.charAt(0)==="#"){if(a.length===4){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=4095)){Kt(t,0,0,0,1);return}return Kt(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1),Ra(e,t),t}else if(a.length===7){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=16777215)){Kt(t,0,0,0,1);return}return Kt(t,(i&16711680)>>16,(i&65280)>>8,i&255,1),Ra(e,t),t}return}var n=a.indexOf("("),s=a.indexOf(")");if(n!==-1&&s+1===a.length){var c=a.substr(0,n),o=a.substr(n+1,s-(n+1)).split(","),u=1;switch(c){case"rgba":if(o.length!==4){Kt(t,0,0,0,1);return}u=Qa(o.pop());case"rgb":if(o.length!==3){Kt(t,0,0,0,1);return}return Kt(t,Os(o[0]),Os(o[1]),Os(o[2]),u),Ra(e,t),t;case"hsla":if(o.length!==4){Kt(t,0,0,0,1);return}return o[3]=Qa(o[3]),wf(o,t),Ra(e,t),t;case"hsl":if(o.length!==3){Kt(t,0,0,0,1);return}return wf(o,t),Ra(e,t),t;default:return}}Kt(t,0,0,0,1)}}function wf(e,t){var r=(parseFloat(e[0])%360+360)%360/360,a=Qa(e[1]),i=Qa(e[2]),n=i<=.5?i*(a+1):i+a-i*a,s=i*2-n;return t=t||[],Kt(t,Jt(zs(s,n,r+1/3)*255),Jt(zs(s,n,r)*255),Jt(zs(s,n,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function DP(e){if(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,i=Math.min(t,r,a),n=Math.max(t,r,a),s=n-i,c=(n+i)/2,o,u;if(s===0)o=0,u=0;else{c<.5?u=s/(n+i):u=s/(2-n-i);var v=((n-t)/6+s/2)/s,h=((n-r)/6+s/2)/s,l=((n-a)/6+s/2)/s;t===n?o=l-h:r===n?o=1/3+v-l:a===n&&(o=2/3+h-v),o<0&&(o+=1),o>1&&(o-=1)}var d=[o*360,u,c];return e[3]!=null&&d.push(e[3]),d}}function LP(e,t){var r=ma(e);if(r){for(var a=0;a<3;a++)t<0?r[a]=r[a]*(1-t)|0:r[a]=(255-r[a])*t+r[a]|0,r[a]>255?r[a]=255:e[a]<0&&(r[a]=0);return hn(r,r.length===4?"rgba":"rgb")}}function PP(e){var t=ma(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function qA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var a=e*(t.length-1),i=Math.floor(a),n=Math.ceil(a),s=t[i],c=t[n],o=a-i;return r[0]=Jt(Wr(s[0],c[0],o)),r[1]=Jt(Wr(s[1],c[1],o)),r[2]=Jt(Wr(s[2],c[2],o)),r[3]=Qi(Wr(s[3],c[3],o)),r}}var IP=qA;function GA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var a=e*(t.length-1),i=Math.floor(a),n=Math.ceil(a),s=ma(t[i]),c=ma(t[n]),o=a-i,u=hn([Jt(Wr(s[0],c[0],o)),Jt(Wr(s[1],c[1],o)),Jt(Wr(s[2],c[2],o)),Qi(Wr(s[3],c[3],o))],"rgba");return r?{color:u,leftIndex:i,rightIndex:n,value:a}:u}}var RP=GA;function EP(e,t,r,a){if(e=ma(e),e)return e=DP(e),t!=null&&(e[0]=MP(t)),r!=null&&(e[1]=Qa(r)),a!=null&&(e[2]=Qa(a)),hn(wf(e),"rgba")}function kP(e,t){if(e=ma(e),e&&t!=null)return e[3]=Qi(t),hn(e,"rgba")}function hn(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}lt.parse=ma;lt.lift=LP;lt.toHex=PP;lt.fastLerp=qA;lt.fastMapToColor=IP;lt.lerp=GA;lt.mapToColor=RP;lt.modifyHSL=EP;lt.modifyAlpha=kP;lt.stringify=hn;var OP=AP,zP=lt,BP=W,Eo=BP.isArrayLike,Af=Array.prototype.slice;function NP(e,t){return e[t]}function VP(e,t,r){e[t]=r}function Tf(e,t,r){return(t-e)*r+e}function Fg(e,t,r){return r>.5?t:e}function $g(e,t,r,a,i){var n=e.length;if(i===1)for(var s=0;s<n;s++)a[s]=Tf(e[s],t[s],r);else for(var c=n&&e[0].length,s=0;s<n;s++)for(var o=0;o<c;o++)a[s][o]=Tf(e[s][o],t[s][o],r)}function Ug(e,t,r){var a=e.length,i=t.length;if(a!==i){var n=a>i;if(n)e.length=i;else for(var s=a;s<i;s++)e.push(r===1?t[s]:Af.call(t[s]))}for(var c=e[0]&&e[0].length,s=0;s<e.length;s++)if(r===1)isNaN(e[s])&&(e[s]=t[s]);else for(var o=0;o<c;o++)isNaN(e[s][o])&&(e[s][o]=t[s][o])}function HP(e,t,r){if(e===t)return!0;var a=e.length;if(a!==t.length)return!1;if(r===1){for(var i=0;i<a;i++)if(e[i]!==t[i])return!1}else for(var n=e[0].length,i=0;i<a;i++)for(var s=0;s<n;s++)if(e[i][s]!==t[i][s])return!1;return!0}function Wg(e,t,r,a,i,n,s,c,o){var u=e.length;if(o===1)for(var v=0;v<u;v++)c[v]=Cf(e[v],t[v],r[v],a[v],i,n,s);else for(var h=e[0].length,v=0;v<u;v++)for(var l=0;l<h;l++)c[v][l]=Cf(e[v][l],t[v][l],r[v][l],a[v][l],i,n,s)}function Cf(e,t,r,a,i,n,s){var c=(r-e)*.5,o=(a-t)*.5;return(2*(t-r)+c+o)*s+(-3*(t-r)-2*c-o)*n+c*i+t}function qP(e){if(Eo(e)){var t=e.length;if(Eo(e[0])){for(var r=[],a=0;a<t;a++)r.push(Af.call(e[a]));return r}return Af.call(e)}return e}function Zg(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function GP(e){var t=e[e.length-1].value;return Eo(t&&t[0])?2:1}function FP(e,t,r,a,i,n){var s=e._getter,c=e._setter,o=t==="spline",u=a.length;if(u){var v=a[0].value,h=Eo(v),l=!1,d=!1,f=h?GP(a):0,m;a.sort(function(q,V){return q.time-V.time}),m=a[u-1].time;for(var g=[],p=[],y=a[0].value,_=!0,w=0;w<u;w++){g.push(a[w].time/m);var S=a[w].value;if(h&&HP(S,y,f)||!h&&S===y||(_=!1),y=S,typeof S=="string"){var A=zP.parse(S);A?(S=A,l=!0):d=!0}p.push(S)}if(!(!n&&_)){for(var x=p[u-1],w=0;w<u-1;w++)h?Ug(p[w],x,f):isNaN(p[w])&&!isNaN(x)&&!d&&!l&&(p[w]=x);h&&Ug(s(e._target,i),x,f);var b=0,T=0,M,C,D,L,P,I;if(l)var E=[0,0,0,0];var O=function(q,V){var R;if(V<0)R=0;else if(V<T){for(M=Math.min(b+1,u-1),R=M;R>=0&&!(g[R]<=V);R--);R=Math.min(R,u-2)}else{for(R=b;R<u&&!(g[R]>V);R++);R=Math.min(R-1,u-2)}b=R,T=V;var z=g[R+1]-g[R];if(z!==0)if(C=(V-g[R])/z,o)if(L=p[R],D=p[R===0?R:R-1],P=p[R>u-2?u-1:R+1],I=p[R>u-3?u-1:R+2],h)Wg(D,L,P,I,C,C*C,C*C*C,s(q,i),f);else{var k;if(l)k=Wg(D,L,P,I,C,C*C,C*C*C,E,1),k=Zg(E);else{if(d)return Fg(L,P,C);k=Cf(D,L,P,I,C,C*C,C*C*C)}c(q,i,k)}else if(h)$g(p[R],p[R+1],C,s(q,i),f);else{var k;if(l)$g(p[R],p[R+1],C,E,1),k=Zg(E);else{if(d)return Fg(p[R],p[R+1],C);k=Tf(p[R],p[R+1],C)}c(q,i,k)}},B=new OP({target:e._target,life:m,loop:e._loop,delay:e._delay,onframe:O,ondestroy:r});return t&&t!=="spline"&&(B.easing=t),B}}}var FA=function(e,t,r,a){this._tracks={},this._target=e,this._loop=t||!1,this._getter=r||NP,this._setter=a||VP,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};FA.prototype={when:function(e,t){var r=this._tracks;for(var a in t)if(t.hasOwnProperty(a)){if(!r[a]){r[a]=[];var i=this._getter(this._target,a);if(i==null)continue;e!==0&&r[a].push({time:0,value:qP(i)})}r[a].push({time:e,value:t[a]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,r=0;r<t;r++)e[r].call(this)},start:function(e,t){var r=this,a=0,i=function(){a--,a||r._doneCallback()},n;for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var c=FP(this,e,i,this._tracks[s],s,t);c&&(this._clipList.push(c),a++,this.animation&&this.animation.addClip(c),n=c)}if(n){var o=n.onframe;n.onframe=function(u,v){o(u,v);for(var h=0;h<r._onframeList.length;h++)r._onframeList[h](u,v)}}return a||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,r=this.animation,a=0;a<t.length;a++){var i=t[a];e&&i.onframe(this._target,1),r&&r.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var $P=FA,$A=$P,ni={},UA=1;typeof window<"u"&&(UA=Math.max(window.devicePixelRatio||1,1));var UP=0,WP=UA;ni.debugMode=UP;ni.devicePixelRatio=WP;var ZP=ni,YP=ZP.debugMode,WA=function(){};YP===1&&(WA=console.error);var XP=WA,cn=XP,KP=$A,QP=cn,fn=W,jP=fn.isString,Bs=fn.isFunction,JP=fn.isObject,eI=fn.isArrayLike,tI=fn.indexOf,Mf=function(){this.animators=[]};Mf.prototype={constructor:Mf,animate:function(e,t){var r,a=!1,i=this,n=this.__zr;if(e){var s=e.split("."),c=i;a=s[0]==="shape";for(var o=0,u=s.length;o<u;o++)c&&(c=c[s[o]]);c&&(r=c)}else r=i;if(!r){QP('Property "'+e+'" is not existed in element '+i.id);return}var v=i.animators,h=new KP(r,t);return h.during(function(l){i.dirty(a)}).done(function(){v.splice(tI(v,h),1)}),v.push(h),n&&n.animation.addAnimator(h),h},stopAnimation:function(e){for(var t=this.animators,r=t.length,a=0;a<r;a++)t[a].stop(e);return t.length=0,this},animateTo:function(e,t,r,a,i,n){Yg(this,e,t,r,a,i,n)},animateFrom:function(e,t,r,a,i,n){Yg(this,e,t,r,a,i,n,!0)}};function Yg(e,t,r,a,i,n,s,c){jP(a)?(n=i,i=a,a=0):Bs(i)?(n=i,i="linear",a=0):Bs(a)?(n=a,a=0):Bs(r)?(n=r,r=500):r||(r=500),e.stopAnimation(),ZA(e,"",e,t,r,a,c);var o=e.animators.slice(),u=o.length;function v(){u--,u||n&&n()}u||n&&n();for(var h=0;h<o.length;h++)o[h].done(v).start(i,s)}function ZA(e,t,r,a,i,n,s){var c={},o=0;for(var u in a)a.hasOwnProperty(u)&&(r[u]!=null?JP(a[u])&&!eI(a[u])?ZA(e,t?t+"."+u:u,r[u],a[u],i,n,s):(s?(c[u]=r[u],Xg(e,t,u,a[u])):c[u]=a[u],o++):a[u]!=null&&!s&&Xg(e,t,u,a[u]));o>0&&e.animate(t,!1).when(i??500,c).delay(n||0)}function Xg(e,t,r,a){if(!t)e.attr(r,a);else{var i={};i[t]={},i[t][r]=a,e.attr(i)}}var rI=Mf,aI=rI,iI=cA,YA=ya,XA=Jo,KA=aI,es=W,dn=function(e){XA.call(this,e),YA.call(this,e),KA.call(this,e),this.id=e.id||iI()};dn.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(e==="position"||e==="scale"||e==="origin"){if(t){var r=this[e];r||(r=this[e]=[]),r[0]=t[0],r[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(es.isObject(e))for(var r in e)e.hasOwnProperty(r)&&this.attrKV(r,e[r]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};es.mixin(dn,KA);es.mixin(dn,XA);es.mixin(dn,YA);var nI=dn,QA=nI,oI=Ee,Vn=Je,Hn=oI.applyTransform,qn=Math.min,Gn=Math.max;function $r(e,t,r,a){r<0&&(e=e+r,r=-r),a<0&&(t=t+a,a=-a),this.x=e,this.y=t,this.width=r,this.height=a}$r.prototype={constructor:$r,union:function(e){var t=qn(e.x,this.x),r=qn(e.y,this.y);this.width=Gn(e.x+e.width,this.x+this.width)-t,this.height=Gn(e.y+e.height,this.y+this.height)-r,this.x=t,this.y=r},applyTransform:function(){var e=[],t=[],r=[],a=[];return function(i){if(i){e[0]=r[0]=this.x,e[1]=a[1]=this.y,t[0]=a[0]=this.x+this.width,t[1]=r[1]=this.y+this.height,Hn(e,e,i),Hn(t,t,i),Hn(r,r,i),Hn(a,a,i),this.x=qn(e[0],t[0],r[0],a[0]),this.y=qn(e[1],t[1],r[1],a[1]);var n=Gn(e[0],t[0],r[0],a[0]),s=Gn(e[1],t[1],r[1],a[1]);this.width=n-this.x,this.height=s-this.y}}}(),calculateTransform:function(e){var t=this,r=e.width/t.width,a=e.height/t.height,i=Vn.create();return Vn.translate(i,i,[-t.x,-t.y]),Vn.scale(i,i,[r,a]),Vn.translate(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof $r||(e=$r.create(e));var t=this,r=t.x,a=t.x+t.width,i=t.y,n=t.y+t.height,s=e.x,c=e.x+e.width,o=e.y,u=e.y+e.height;return!(a<s||c<r||n<o||u<i)},contain:function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},clone:function(){return new $r(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};$r.create=function(e){return new $r(e.x,e.y,e.width,e.height)};var sI=$r,Xe=sI,jA=W,JA=QA,lI=Xe,Dr=function(e){e=e||{},JA.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Dr.prototype={constructor:Dr,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,r=0;r<t.length;r++)if(t[r].name===e)return t[r]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var r=this._children,a=r.indexOf(t);a>=0&&(r.splice(a,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,r=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Dr&&e.addChildrenToStorage(t)),r&&r.refresh()},remove:function(e){var t=this.__zr,r=this.__storage,a=this._children,i=jA.indexOf(a,e);return i<0?this:(a.splice(i,1),e.parent=null,r&&(r.delFromStorage(e),e instanceof Dr&&e.delChildrenFromStorage(r)),t&&t.refresh(),this)},removeAll:function(){var e=this._children,t=this.__storage,r,a;for(a=0;a<e.length;a++)r=e[a],t&&(t.delFromStorage(r),r instanceof Dr&&r.delChildrenFromStorage(t)),r.parent=null;return e.length=0,this},eachChild:function(e,t){for(var r=this._children,a=0;a<r.length;a++){var i=r[a];e.call(t,i,a)}return this},traverse:function(e,t){for(var r=0;r<this._children.length;r++){var a=this._children[r];e.call(t,a),a.type==="group"&&a.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.addToStorage(r),r instanceof Dr&&r.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.delFromStorage(r),r instanceof Dr&&r.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,r=new lI(0,0,0,0),a=e||this._children,i=[],n=0;n<a.length;n++){var s=a[n];if(!(s.ignore||s.invisible)){var c=s.getBoundingRect(),o=s.getLocalTransform(i);o?(r.copy(c),r.applyTransform(o),t=t||r.clone(),t.union(r)):(t=t||c.clone(),t.union(c))}}return t||r}};jA.inherits(Dr,JA);var uI=Dr,_a=uI,eT=32,wi=7;function vI(e){for(var t=0;e>=eT;)t|=e&1,e>>=1;return e+t}function Kg(e,t,r,a){var i=t+1;if(i===r)return 1;if(a(e[i++],e[t])<0){for(;i<r&&a(e[i],e[i-1])<0;)i++;hI(e,t,i)}else for(;i<r&&a(e[i],e[i-1])>=0;)i++;return i-t}function hI(e,t,r){for(r--;t<r;){var a=e[t];e[t++]=e[r],e[r--]=a}}function Qg(e,t,r,a,i){for(a===t&&a++;a<r;a++){for(var n=e[a],s=t,c=a,o;s<c;)o=s+c>>>1,i(n,e[o])<0?c=o:s=o+1;var u=a-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;u>0;)e[s+u]=e[s+u-1],u--}e[s]=n}}function Ns(e,t,r,a,i,n){var s=0,c=0,o=1;if(n(e,t[r+i])>0){for(c=a-i;o<c&&n(e,t[r+i+o])>0;)s=o,o=(o<<1)+1,o<=0&&(o=c);o>c&&(o=c),s+=i,o+=i}else{for(c=i+1;o<c&&n(e,t[r+i-o])<=0;)s=o,o=(o<<1)+1,o<=0&&(o=c);o>c&&(o=c);var u=s;s=i-o,o=i-u}for(s++;s<o;){var v=s+(o-s>>>1);n(e,t[r+v])>0?s=v+1:o=v}return o}function Vs(e,t,r,a,i,n){var s=0,c=0,o=1;if(n(e,t[r+i])<0){for(c=i+1;o<c&&n(e,t[r+i-o])<0;)s=o,o=(o<<1)+1,o<=0&&(o=c);o>c&&(o=c);var u=s;s=i-o,o=i-u}else{for(c=a-i;o<c&&n(e,t[r+i+o])>=0;)s=o,o=(o<<1)+1,o<=0&&(o=c);o>c&&(o=c),s+=i,o+=i}for(s++;s<o;){var v=s+(o-s>>>1);n(e,t[r+v])<0?o=v:s=v+1}return o}function cI(e,t){var r=wi,a,i,n=0;e.length;var s=[];a=[],i=[];function c(d,f){a[n]=d,i[n]=f,n+=1}function o(){for(;n>1;){var d=n-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;v(d)}}function u(){for(;n>1;){var d=n-2;d>0&&i[d-1]<i[d+1]&&d--,v(d)}}function v(d){var f=a[d],m=i[d],g=a[d+1],p=i[d+1];i[d]=m+p,d===n-3&&(a[d+1]=a[d+2],i[d+1]=i[d+2]),n--;var y=Vs(e[g],e,f,m,0,t);f+=y,m-=y,m!==0&&(p=Ns(e[f+m-1],e,g,p,p-1,t),p!==0&&(m<=p?h(f,m,g,p):l(f,m,g,p)))}function h(d,f,m,g){var p=0;for(p=0;p<f;p++)s[p]=e[d+p];var y=0,_=m,w=d;if(e[w++]=e[_++],--g===0){for(p=0;p<f;p++)e[w+p]=s[y+p];return}if(f===1){for(p=0;p<g;p++)e[w+p]=e[_+p];e[w+g]=s[y];return}for(var S=r,A,x,b;;){A=0,x=0,b=!1;do if(t(e[_],s[y])<0){if(e[w++]=e[_++],x++,A=0,--g===0){b=!0;break}}else if(e[w++]=s[y++],A++,x=0,--f===1){b=!0;break}while((A|x)<S);if(b)break;do{if(A=Vs(e[_],s,y,f,0,t),A!==0){for(p=0;p<A;p++)e[w+p]=s[y+p];if(w+=A,y+=A,f-=A,f<=1){b=!0;break}}if(e[w++]=e[_++],--g===0){b=!0;break}if(x=Ns(s[y],e,_,g,0,t),x!==0){for(p=0;p<x;p++)e[w+p]=e[_+p];if(w+=x,_+=x,g-=x,g===0){b=!0;break}}if(e[w++]=s[y++],--f===1){b=!0;break}S--}while(A>=wi||x>=wi);if(b)break;S<0&&(S=0),S+=2}if(r=S,r<1&&(r=1),f===1){for(p=0;p<g;p++)e[w+p]=e[_+p];e[w+g]=s[y]}else{if(f===0)throw new Error;for(p=0;p<f;p++)e[w+p]=s[y+p]}}function l(d,f,m,g){var p=0;for(p=0;p<g;p++)s[p]=e[m+p];var y=d+f-1,_=g-1,w=m+g-1,S=0,A=0;if(e[w--]=e[y--],--f===0){for(S=w-(g-1),p=0;p<g;p++)e[S+p]=s[p];return}if(g===1){for(w-=f,y-=f,A=w+1,S=y+1,p=f-1;p>=0;p--)e[A+p]=e[S+p];e[w]=s[_];return}for(var x=r;;){var b=0,T=0,M=!1;do if(t(s[_],e[y])<0){if(e[w--]=e[y--],b++,T=0,--f===0){M=!0;break}}else if(e[w--]=s[_--],T++,b=0,--g===1){M=!0;break}while((b|T)<x);if(M)break;do{if(b=f-Vs(s[_],e,d,f,f-1,t),b!==0){for(w-=b,y-=b,f-=b,A=w+1,S=y+1,p=b-1;p>=0;p--)e[A+p]=e[S+p];if(f===0){M=!0;break}}if(e[w--]=s[_--],--g===1){M=!0;break}if(T=g-Ns(e[y],s,0,g,g-1,t),T!==0){for(w-=T,_-=T,g-=T,A=w+1,S=_+1,p=0;p<T;p++)e[A+p]=s[S+p];if(g<=1){M=!0;break}}if(e[w--]=e[y--],--f===0){M=!0;break}x--}while(b>=wi||T>=wi);if(M)break;x<0&&(x=0),x+=2}if(r=x,r<1&&(r=1),g===1){for(w-=f,y-=f,A=w+1,S=y+1,p=f-1;p>=0;p--)e[A+p]=e[S+p];e[w]=s[_]}else{if(g===0)throw new Error;for(S=w-(g-1),p=0;p<g;p++)e[S+p]=s[p]}}this.mergeRuns=o,this.forceMergeRuns=u,this.pushRun=c}function fI(e,t,r,a){r||(r=0),a||(a=e.length);var i=a-r;if(!(i<2)){var n=0;if(i<eT){n=Kg(e,r,a,t),Qg(e,r,a,r+n,t);return}var s=new cI(e,t),c=vI(i);do{if(n=Kg(e,r,a,t),n<c){var o=i;o>c&&(o=c),Qg(e,r,r+o,r+n,t),n=o}s.pushRun(r,n),s.mergeRuns(),i-=n,r+=n}while(i!==0);s.forceMergeRuns()}}var vd=fI,dI=W,gI=nt,Hs=_a,pI=vd;function jg(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Df=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Df.prototype={constructor:Df,traverse:function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,a=0,i=t.length;a<i;a++)this._updateAndAddDisplayable(t[a],null,e);r.length=this._displayListLen,gI.canvasSupported&&pI(r,jg)},_updateAndAddDisplayable:function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var a=e.clipPath;if(a){t?t=t.slice():t=[];for(var i=a,n=e;i;)i.parent=n,i.updateTransform(),t.push(i),n=i,i=i.clipPath}if(e.isGroup){for(var s=e._children,c=0;c<s.length;c++){var o=s[c];e.__dirty&&(o.__dirty=!0),this._updateAndAddDisplayable(o,t,r)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof Hs&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(e==null){for(var t=0;t<this._roots.length;t++){var r=this._roots[t];r instanceof Hs&&r.delChildrenFromStorage(this)}this._roots=[],this._displayList=[],this._displayListLen=0;return}if(e instanceof Array){for(var t=0,a=e.length;t<a;t++)this.delRoot(e[t]);return}var i=dI.indexOf(this._roots,e);i>=0&&(this.delFromStorage(e),this._roots.splice(i,1),e instanceof Hs&&e.delChildrenFromStorage(this))},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:jg};var mI=Df,yI=mI,_I={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function xI(e,t,r){return _I.hasOwnProperty(t)?r*=e.dpr:r}var tT=xI,oi={},SI={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},bI=9;oi.ContextCachedBy=SI;oi.WILL_BE_RESTORED=bI;var wI=tT,AI=oi,Jg=AI.ContextCachedBy,ko=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ji=function(e){this.extendFrom(e,!1)};function TI(e,t,r){var a=t.x==null?0:t.x,i=t.x2==null?1:t.x2,n=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(a=a*r.width+r.x,i=i*r.width+r.x,n=n*r.height+r.y,s=s*r.height+r.y),a=isNaN(a)?0:a,i=isNaN(i)?1:i,n=isNaN(n)?0:n,s=isNaN(s)?0:s;var c=e.createLinearGradient(a,n,i,s);return c}function CI(e,t,r){var a=r.width,i=r.height,n=Math.min(a,i),s=t.x==null?.5:t.x,c=t.y==null?.5:t.y,o=t.r==null?.5:t.r;t.global||(s=s*a+r.x,c=c*i+r.y,o=o*n);var u=e.createRadialGradient(s,c,0,s,c,o);return u}ji.prototype={constructor:ji,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,r){var a=this,i=r&&r.style,n=!i||e.__attrCachedBy!==Jg.STYLE_BIND;e.__attrCachedBy=Jg.STYLE_BIND;for(var s=0;s<ko.length;s++){var c=ko[s],o=c[0];(n||a[o]!==i[o])&&(e[o]=wI(e,o,a[o]||c[1]))}if((n||a.fill!==i.fill)&&(e.fillStyle=a.fill),(n||a.stroke!==i.stroke)&&(e.strokeStyle=a.stroke),(n||a.opacity!==i.opacity)&&(e.globalAlpha=a.opacity==null?1:a.opacity),(n||a.blend!==i.blend)&&(e.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var u=a.lineWidth;e.lineWidth=u/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(t===!0||(t===!1?!this.hasOwnProperty(r):e[r]!=null))&&(this[r]=e[r])},set:function(e,t){typeof e=="string"?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,r){for(var a=t.type==="radial"?CI:TI,i=a(e,t,r),n=t.colorStops,s=0;s<n.length;s++)i.addColorStop(n[s].offset,n[s].color);return i}};var Lf=ji.prototype;for(var qs=0;qs<ko.length;qs++){var Gs=ko[qs];Gs[0]in Lf||(Lf[Gs[0]]=Gs[1])}ji.getGradient=Lf.getGradient;var MI=ji,hd=MI,rT=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};rT.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var DI=rT,aT=DI,iT=W,LI=ni,PI=LI.devicePixelRatio,II=hd,RI=aT;function EI(){return!1}function nT(e,t,r){var a=iT.createCanvas(),i=t.getWidth(),n=t.getHeight(),s=a.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=i+"px",s.height=n+"px",a.setAttribute("data-zr-dom-id",e)),a.width=i*r,a.height=n*r,a}var Pf=function(e,t,r){var a;r=r||PI,typeof e=="string"?a=nT(e,t,r):iT.isObject(e)&&(a=e,e=a.id),this.id=e,this.dom=a;var i=a.style;i&&(a.onselectstart=EI,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};Pf.prototype={constructor:Pf,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=nT("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},resize:function(e,t){var r=this.dpr,a=this.dom,i=a.style,n=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),a.width=e*r,a.height=t*r,n&&(n.width=e*r,n.height=t*r,r!==1&&this.ctxBack.scale(r,r))},clear:function(e,s){var r=this.dom,a=this.ctx,i=r.width,n=r.height,s=s||this.clearColor,c=this.motionBlur&&!e,o=this.lastFrameAlpha,u=this.dpr;if(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,i/u,n/u)),a.clearRect(0,0,i,n),s&&s!=="transparent"){var v;s.colorStops?(v=s.__canvasGradient||II.getGradient(a,s,{x:0,y:0,width:i,height:n}),s.__canvasGradient=v):s.image&&(v=RI.prototype.getCanvasPattern.call(s,a)),a.save(),a.fillStyle=v||s,a.fillRect(0,0,i,n),a.restore()}if(c){var h=this.domBack;a.save(),a.globalAlpha=o,a.drawImage(h,0,0,i,n),a.restore()}}};var kI=Pf,OI=kI,zI=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},oT=zI,tr={},Ue={},si={},BI=VA,If=new BI(50);function NI(e){if(typeof e=="string"){var t=If.get(e);return t&&t.image}else return e}function VI(e,t,r,a,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var n=If.get(e),s={hostEl:r,cb:a,cbPayload:i};return n?(t=n.image,!sT(t)&&n.pending.push(s)):(t=new Image,t.onload=t.onerror=HI,If.put(e,t.__cachedImgObj={image:t,pending:[s]}),t.src=t.__zrImageSrc=e),t}else return e;else return t}function HI(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],a=r.cb;a&&a(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function sT(e){return e&&e.width&&e.height}si.findExistImage=NI;si.createOrUpdateImage=VI;si.isImageReady=sT;var lT=Xe,ep=si,gn=W,qI=gn.getContext,GI=gn.extend,Zr=gn.retrieve2,FI=gn.retrieve3,$I=gn.trim,Fn={},Fs=0,UI=5e3,$s=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,cd="12px sans-serif",fd={};function WI(e,t){fd[e]=t}function pr(e,t){t=t||cd;var r=e+":"+t;if(Fn[r])return Fn[r];for(var a=(e+"").split(`
`),i=0,n=0,s=a.length;n<s;n++)i=Math.max(fT(a[n],t).width,i);return Fs>UI&&(Fs=0,Fn={}),Fs++,Fn[r]=i,i}function ZI(e,t,r,a,i,n,s,c){return s?XI(e,t,r,a,i,n,s,c):YI(e,t,r,a,i,n,c)}function YI(e,t,r,a,i,n,s){var c=dT(e,t,i,n,s),o=pr(e,t);i&&(o+=i[1]+i[3]);var u=c.outerHeight,v=dd(0,o,r),h=gd(0,u,a),l=new lT(v,h,o,u);return l.lineHeight=c.lineHeight,l}function XI(e,t,r,a,i,n,s,c){var o=gT(e,{rich:s,truncate:c,font:t,textAlign:r,textPadding:i,textLineHeight:n}),u=o.outerWidth,v=o.outerHeight,h=dd(0,u,r),l=gd(0,v,a);return new lT(h,l,u,v)}function dd(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function gd(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function uT(e,t,r){var a=t.textPosition,i=t.textDistance,n=r.x,s=r.y;i=i||0;var c=r.height,o=r.width,u=c/2,v="left",h="top";switch(a){case"left":n-=i,s+=u,v="right",h="middle";break;case"right":n+=i+o,s+=u,h="middle";break;case"top":n+=o/2,s-=i,v="center",h="bottom";break;case"bottom":n+=o/2,s+=c+i,v="center";break;case"inside":n+=o/2,s+=u,v="center",h="middle";break;case"insideLeft":n+=i,s+=u,h="middle";break;case"insideRight":n+=o-i,s+=u,v="right",h="middle";break;case"insideTop":n+=o/2,s+=i,v="center";break;case"insideBottom":n+=o/2,s+=c-i,v="center",h="bottom";break;case"insideTopLeft":n+=i,s+=i;break;case"insideTopRight":n+=o-i,s+=i,v="right";break;case"insideBottomLeft":n+=i,s+=c-i,h="bottom";break;case"insideBottomRight":n+=o-i,s+=c-i,v="right",h="bottom";break}return e=e||{},e.x=n,e.y=s,e.textAlign=v,e.textVerticalAlign=h,e}function KI(e,t,r){var a={textPosition:e,textDistance:r};return uT({},a,t)}function vT(e,t,r,a,i){if(!t)return"";var n=(e+"").split(`
`);i=hT(t,r,a,i);for(var s=0,c=n.length;s<c;s++)n[s]=cT(n[s],i);return n.join(`
`)}function hT(e,t,i,a){a=GI({},a),a.font=t;var i=Zr(i,"...");a.maxIterations=Zr(a.maxIterations,2);var n=a.minChar=Zr(a.minChar,0);a.cnCharWidth=pr("国",t);var s=a.ascCharWidth=pr("a",t);a.placeholder=Zr(a.placeholder,"");for(var c=e=Math.max(0,e-1),o=0;o<n&&c>=s;o++)c-=s;var u=pr(i,t);return u>c&&(i="",u=0),c=e-u,a.ellipsis=i,a.ellipsisWidth=u,a.contentWidth=c,a.containerWidth=e,a}function cT(e,t){var r=t.containerWidth,a=t.font,i=t.contentWidth;if(!r)return"";var n=pr(e,a);if(n<=r)return e;for(var s=0;;s++){if(n<=i||s>=t.maxIterations){e+=t.ellipsis;break}var c=s===0?QI(e,i,t.ascCharWidth,t.cnCharWidth):n>0?Math.floor(e.length*i/n):0;e=e.substr(0,c),n=pr(e,a)}return e===""&&(e=t.placeholder),e}function QI(e,t,r,a){for(var i=0,n=0,s=e.length;n<s&&i<t;n++){var c=e.charCodeAt(n);i+=0<=c&&c<=127?r:a}return n}function pd(e){return pr("国",e)}function fT(e,t){return fd.measureText(e,t)}fd.measureText=function(e,t){var r=qI();return r.font=t||cd,r.measureText(e)};function dT(e,t,r,a,i){e!=null&&(e+="");var n=Zr(a,pd(t)),s=e?e.split(`
`):[],c=s.length*n,o=c,u=!0;if(r&&(o+=r[0]+r[2]),e&&i){u=!1;var v=i.outerHeight,h=i.outerWidth;if(v!=null&&o>v)e="",s=[];else if(h!=null)for(var l=hT(h-(r?r[1]+r[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),d=0,f=s.length;d<f;d++)s[d]=cT(s[d],l)}return{lines:s,height:c,outerHeight:o,lineHeight:n,canCacheByTextString:u}}function gT(e,t){var r={lines:[],width:0,height:0};if(e!=null&&(e+=""),!e)return r;for(var a=$s.lastIndex=0,i;(i=$s.exec(e))!=null;){var n=i.index;n>a&&Us(r,e.substring(a,n)),Us(r,i[2],i[1]),a=$s.lastIndex}a<e.length&&Us(r,e.substring(a,e.length));var s=r.lines,c=0,o=0,u=[],v=t.textPadding,h=t.truncate,l=h&&h.outerWidth,d=h&&h.outerHeight;v&&(l!=null&&(l-=v[1]+v[3]),d!=null&&(d-=v[0]+v[2]));for(var f=0;f<s.length;f++){for(var m=s[f],g=0,p=0,y=0;y<m.tokens.length;y++){var _=m.tokens[y],w=_.styleName&&t.rich[_.styleName]||{},S=_.textPadding=w.textPadding,A=_.font=w.font||t.font,x=_.textHeight=Zr(w.textHeight,pd(A));if(S&&(x+=S[0]+S[2]),_.height=x,_.lineHeight=FI(w.textLineHeight,t.textLineHeight,x),_.textAlign=w&&w.textAlign||t.textAlign,_.textVerticalAlign=w&&w.textVerticalAlign||"middle",d!=null&&c+_.lineHeight>d)return{lines:[],width:0,height:0};_.textWidth=pr(_.text,A);var b=w.textWidth,T=b==null||b==="auto";if(typeof b=="string"&&b.charAt(b.length-1)==="%")_.percentWidth=b,u.push(_),b=0;else{if(T){b=_.textWidth;var M=w.textBackgroundColor,C=M&&M.image;C&&(C=ep.findExistImage(C),ep.isImageReady(C)&&(b=Math.max(b,C.width*x/C.height)))}var D=S?S[1]+S[3]:0;b+=D;var L=l!=null?l-p:null;L!=null&&L<b&&(!T||L<D?(_.text="",_.textWidth=b=0):(_.text=vT(_.text,L-D,A,h.ellipsis,{minChar:h.minChar}),_.textWidth=pr(_.text,A),b=_.textWidth+D))}p+=_.width=b,w&&(g=Math.max(g,_.lineHeight))}m.width=p,m.lineHeight=g,c+=g,o=Math.max(o,p)}r.outerWidth=r.width=Zr(t.textWidth,o),r.outerHeight=r.height=Zr(t.textHeight,c),v&&(r.outerWidth+=v[1]+v[3],r.outerHeight+=v[0]+v[2]);for(var f=0;f<u.length;f++){var _=u[f],P=_.percentWidth;_.width=parseInt(P,10)/100*o}return r}function Us(e,t,r){for(var a=t==="",i=t.split(`
`),n=e.lines,s=0;s<i.length;s++){var c=i[s],o={styleName:r,text:c,isLineHolder:!c&&!a};if(s)n.push({tokens:[o]});else{var u=(n[n.length-1]||(n[0]={tokens:[]})).tokens,v=u.length;v===1&&u[0].isLineHolder?u[0]=o:(c||!v||a)&&u.push(o)}}}function jI(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&$I(t)||e.textFont||e.font}Ue.DEFAULT_FONT=cd;Ue.$override=WI;Ue.getWidth=pr;Ue.getBoundingRect=ZI;Ue.adjustTextX=dd;Ue.adjustTextY=gd;Ue.calculateTextPosition=uT;Ue.adjustTextPositionOnRect=KI;Ue.truncateText=vT;Ue.getLineHeight=pd;Ue.measureText=fT;Ue.parsePlainText=dT;Ue.parseRichText=gT;Ue.makeFont=jI;var md={};function JI(e,t){var r=t.x,a=t.y,i=t.width,n=t.height,s=t.r,c,o,u,v;i<0&&(r=r+i,i=-i),n<0&&(a=a+n,n=-n),typeof s=="number"?c=o=u=v=s:s instanceof Array?s.length===1?c=o=u=v=s[0]:s.length===2?(c=u=s[0],o=v=s[1]):s.length===3?(c=s[0],o=v=s[1],u=s[2]):(c=s[0],o=s[1],u=s[2],v=s[3]):c=o=u=v=0;var h;c+o>i&&(h=c+o,c*=i/h,o*=i/h),u+v>i&&(h=u+v,u*=i/h,v*=i/h),o+u>n&&(h=o+u,o*=n/h,u*=n/h),c+v>n&&(h=c+v,c*=n/h,v*=n/h),e.moveTo(r+c,a),e.lineTo(r+i-o,a),o!==0&&e.arc(r+i-o,a+o,o,-Math.PI/2,0),e.lineTo(r+i,a+n-u),u!==0&&e.arc(r+i-u,a+n-u,u,0,Math.PI/2),e.lineTo(r+v,a+n),v!==0&&e.arc(r+v,a+n-v,v,Math.PI/2,Math.PI),e.lineTo(r,a+c),c!==0&&e.arc(r+c,a+c,c,Math.PI,Math.PI*1.5)}md.buildPath=JI;var li=W,eR=li.retrieve2,Ws=li.retrieve3,tR=li.each,rR=li.normalizeCssArray,aR=li.isString,iR=li.isObject,gr=Ue,nR=md,tp=si,pT=tT,mT=oi,Wi=mT.ContextCachedBy,yT=mT.WILL_BE_RESTORED,Rf=gr.DEFAULT_FONT,oR={left:1,right:1,center:1},sR={top:1,bottom:1,middle:1},rp=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],ap={},_T={};function lR(e){return ip(e),tR(e.rich,ip),e}function ip(e){if(e){e.font=gr.makeFont(e);var t=e.textAlign;t==="middle"&&(t="center"),e.textAlign=t==null||oR[t]?t:"left";var r=e.textVerticalAlign||e.textBaseline;r==="center"&&(r="middle"),e.textVerticalAlign=r==null||sR[r]?r:"top";var a=e.textPadding;a&&(e.textPadding=rR(e.textPadding))}}function uR(e,t,r,a,i,n){a.rich?hR(e,t,r,a,i,n):vR(e,t,r,a,i,n)}function vR(e,t,r,a,i,n){var s=yd(a),c,o=!1,u=t.__attrCachedBy===Wi.PLAIN_TEXT;n!==yT?(n&&(c=n.style,o=!s&&u&&c),t.__attrCachedBy=s?Wi.NONE:Wi.PLAIN_TEXT):u&&(t.__attrCachedBy=Wi.NONE);var v=a.font||Rf;(!o||v!==(c.font||Rf))&&(t.font=v);var h=e.__computedFont;e.__styleFont!==v&&(e.__styleFont=v,h=e.__computedFont=t.font);var l=a.textPadding,d=a.textLineHeight,f=e.__textCotentBlock;(!f||e.__dirtyText)&&(f=e.__textCotentBlock=gr.parsePlainText(r,h,l,d,a.truncate));var m=f.outerHeight,g=f.lines,p=f.lineHeight,y=xd(_T,e,a,i),_=y.baseX,w=y.baseY,S=y.textAlign||"left",A=y.textVerticalAlign;xT(t,a,i,_,w);var x=gr.adjustTextY(w,m,A),b=_,T=x;if(s||l){var M=gr.getWidth(r,h),C=M;l&&(C+=l[1]+l[3]);var D=gr.adjustTextX(_,C,S);s&&_d(e,t,a,D,x,C,m),l&&(b=ST(_,S,l),T+=l[0])}t.textAlign=S,t.textBaseline="middle",t.globalAlpha=a.opacity||1;for(var L=0;L<rp.length;L++){var P=rp[L],I=P[0],E=P[1],O=a[I];(!o||O!==c[I])&&(t[E]=pT(t,E,O||P[2]))}T+=p/2;var B=a.textStrokeWidth,q=o?c.textStrokeWidth:null,V=!o||B!==q,R=!o||V||a.textStroke!==c.textStroke,z=Sd(a.textStroke,B),k=bd(a.textFill);if(z&&(V&&(t.lineWidth=B),R&&(t.strokeStyle=z)),k&&(!o||a.textFill!==c.textFill)&&(t.fillStyle=k),g.length===1)z&&t.strokeText(g[0],b,T),k&&t.fillText(g[0],b,T);else for(var L=0;L<g.length;L++)z&&t.strokeText(g[L],b,T),k&&t.fillText(g[L],b,T),T+=p}function hR(e,t,r,a,i,n){n!==yT&&(t.__attrCachedBy=Wi.NONE);var s=e.__textCotentBlock;(!s||e.__dirtyText)&&(s=e.__textCotentBlock=gr.parseRichText(r,a)),cR(e,t,s,a,i)}function cR(e,t,r,a,i){var n=r.width,s=r.outerWidth,c=r.outerHeight,o=a.textPadding,u=xd(_T,e,a,i),v=u.baseX,h=u.baseY,l=u.textAlign,d=u.textVerticalAlign;xT(t,a,i,v,h);var f=gr.adjustTextX(v,s,l),m=gr.adjustTextY(h,c,d),g=f,p=m;o&&(g+=o[3],p+=o[0]);var y=g+n;yd(a)&&_d(e,t,a,f,m,s,c);for(var _=0;_<r.lines.length;_++){for(var w=r.lines[_],S=w.tokens,A=S.length,x=w.lineHeight,b=w.width,T=0,M=g,C=y,D=A-1,L;T<A&&(L=S[T],!L.textAlign||L.textAlign==="left");)Zs(e,t,L,a,x,p,M,"left"),b-=L.width,M+=L.width,T++;for(;D>=0&&(L=S[D],L.textAlign==="right");)Zs(e,t,L,a,x,p,C,"right"),b-=L.width,C-=L.width,D--;for(M+=(n-(M-g)-(y-C)-b)/2;T<=D;)L=S[T],Zs(e,t,L,a,x,p,M+L.width/2,"center"),M+=L.width,T++;p+=x}}function xT(e,t,r,a,i){if(r&&t.textRotation){var n=t.textOrigin;n==="center"?(a=r.width/2+r.x,i=r.height/2+r.y):n&&(a=n[0]+r.x,i=n[1]+r.y),e.translate(a,i),e.rotate(-t.textRotation),e.translate(-a,-i)}}function Zs(e,t,r,a,i,n,s,c){var o=a.rich[r.styleName]||{};o.text=r.text;var u=r.textVerticalAlign,v=n+i/2;u==="top"?v=n+r.height/2:u==="bottom"&&(v=n+i-r.height/2),!r.isLineHolder&&yd(o)&&_d(e,t,o,c==="right"?s-r.width:c==="center"?s-r.width/2:s,v-r.height/2,r.width,r.height);var h=r.textPadding;h&&(s=ST(s,c,h),v-=r.height/2-h[2]-r.textHeight/2),_t(t,"shadowBlur",Ws(o.textShadowBlur,a.textShadowBlur,0)),_t(t,"shadowColor",o.textShadowColor||a.textShadowColor||"transparent"),_t(t,"shadowOffsetX",Ws(o.textShadowOffsetX,a.textShadowOffsetX,0)),_t(t,"shadowOffsetY",Ws(o.textShadowOffsetY,a.textShadowOffsetY,0)),_t(t,"textAlign",c),_t(t,"textBaseline","middle"),_t(t,"font",r.font||Rf);var l=Sd(o.textStroke||a.textStroke,f),d=bd(o.textFill||a.textFill),f=eR(o.textStrokeWidth,a.textStrokeWidth);l&&(_t(t,"lineWidth",f),_t(t,"strokeStyle",l),t.strokeText(r.text,s,v)),d&&(_t(t,"fillStyle",d),t.fillText(r.text,s,v))}function yd(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function _d(e,t,r,a,i,n,s){var c=r.textBackgroundColor,o=r.textBorderWidth,u=r.textBorderColor,v=aR(c);if(_t(t,"shadowBlur",r.textBoxShadowBlur||0),_t(t,"shadowColor",r.textBoxShadowColor||"transparent"),_t(t,"shadowOffsetX",r.textBoxShadowOffsetX||0),_t(t,"shadowOffsetY",r.textBoxShadowOffsetY||0),v||o&&u){t.beginPath();var h=r.textBorderRadius;h?nR.buildPath(t,{x:a,y:i,width:n,height:s,r:h}):t.rect(a,i,n,s),t.closePath()}if(v)if(_t(t,"fillStyle",c),r.fillOpacity!=null){var l=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,t.fill(),t.globalAlpha=l}else t.fill();else if(iR(c)){var d=c.image;d=tp.createOrUpdateImage(d,null,e,fR,c),d&&tp.isImageReady(d)&&t.drawImage(d,a,i,n,s)}if(o&&u)if(_t(t,"lineWidth",o),_t(t,"strokeStyle",u),r.strokeOpacity!=null){var l=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,t.stroke(),t.globalAlpha=l}else t.stroke()}function fR(e,t){t.image=e}function xd(e,t,r,a){var i=r.x||0,n=r.y||0,s=r.textAlign,c=r.textVerticalAlign;if(a){var o=r.textPosition;if(o instanceof Array)i=a.x+Ef(o[0],a.width),n=a.y+Ef(o[1],a.height);else{var u=t&&t.calculateTextPosition?t.calculateTextPosition(ap,r,a):gr.calculateTextPosition(ap,r,a);i=u.x,n=u.y,s=s||u.textAlign,c=c||u.textVerticalAlign}var v=r.textOffset;v&&(i+=v[0],n+=v[1])}return e=e||{},e.baseX=i,e.baseY=n,e.textAlign=s,e.textVerticalAlign=c,e}function _t(e,t,r){return e[t]=pT(e,t,r),e[t]}function Sd(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function bd(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function Ef(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function ST(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function dR(e,t){return e!=null&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}tr.normalizeTextStyle=lR;tr.renderText=uR;tr.getBoxPosition=xd;tr.getStroke=Sd;tr.getFill=bd;tr.parsePercent=Ef;tr.needDrawText=dR;var Ys,np;function bT(){if(np)return Ys;np=1;var e=tr,t=Xe,r=oi,a=r.WILL_BE_RESTORED,i=new t,n=function(){};n.prototype={constructor:n,drawRectText:function(c,o){var u=this.style;o=u.textRect||o,this.__dirty&&e.normalizeTextStyle(u,!0);var v=u.text;if(v!=null&&(v+=""),!!e.needDrawText(v,u)){c.save();var h=this.transform;u.transformText?this.setTransform(c):h&&(i.copy(o),i.applyTransform(h),o=i),e.renderText(this,c,v,u,o,a),c.restore()}}};var s=n;return Ys=s,Ys}var wT=W,AT=hd,wd=QA,gR=bT();function Ji(e){e=e||{},wd.call(this,e);for(var t in e)e.hasOwnProperty(t)&&t!=="style"&&(this[t]=e[t]);this.style=new AT(e.style),this._rect=null,this.__clipPaths=null}Ji.prototype={constructor:Ji,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return a.contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){e!=="style"?wd.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new AT(e),this.dirty(!1),this},calculateTextPosition:null};wT.inherits(Ji,wd);wT.mixin(Ji,gR);var pR=Ji,pn=pR,TT=pn,mR=Xe,yR=W,op=si;function Oo(e){TT.call(this,e)}Oo.prototype={constructor:Oo,type:"image",brush:function(e,t){var r=this.style,a=r.image;r.bind(e,this,t);var i=this._image=op.createOrUpdateImage(a,this._image,this,this.onload);if(!(!i||!op.isImageReady(i))){var n=r.x||0,s=r.y||0,c=r.width,o=r.height,u=i.width/i.height;if(c==null&&o!=null?c=o*u:o==null&&c!=null?o=c/u:c==null&&o==null&&(c=i.width,o=i.height),this.setTransform(e),r.sWidth&&r.sHeight){var v=r.sx||0,h=r.sy||0;e.drawImage(i,v,h,r.sWidth,r.sHeight,n,s,c,o)}else if(r.sx&&r.sy){var v=r.sx,h=r.sy,l=c-v,d=o-h;e.drawImage(i,v,h,l,d,n,s,c,o)}else e.drawImage(i,n,s,c,o);r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new mR(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}};yR.inherits(Oo,TT);var _R=Oo,ui=_R,xR=ni,SR=xR.devicePixelRatio,Tr=W,Xs=cn,CT=Xe,bR=vd,kf=OI,wR=oT,AR=ui,TR=nt,sp=1e5,fa=314159,$n=.01,CR=.001;function Un(e){return parseInt(e,10)}function MR(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}var Ks=new CT(0,0,0,0),Qs=new CT(0,0,0,0);function DR(e,t,r){return Ks.copy(e.getBoundingRect()),e.transform&&Ks.applyTransform(e.transform),Qs.width=t,Qs.height=r,!Ks.intersect(Qs)}function LR(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function PR(e,t){for(var r=0;r<e.length;r++){var a=e[r];a.setTransform(t),t.beginPath(),a.buildPath(t,a.shape),t.clip(),a.restoreTransform(t)}}function IR(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var Of=function(e,t,r){this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=Tr.extend({},r||{}),this.dpr=r.devicePixelRatio||SR,this._singleCanvas=a,this.root=e;var i=e.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var n=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,a){var o=e.width,u=e.height;r.width!=null&&(o=r.width),r.height!=null&&(u=r.height),this.dpr=r.devicePixelRatio||1,e.width=o*this.dpr,e.height=u*this.dpr,this._width=o,this._height=u;var v=new kf(e,this,this.dpr);v.__builtin__=!0,v.initContext(),s[fa]=v,v.zlevel=fa,n.push(fa),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=IR(this._width,this._height);e.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};Of.prototype={constructor:Of,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var a=0;a<r.length;a++){var i=r[a],n=this._layers[i];if(!n.__builtin__&&n.refresh){var s=a===0?this._backgroundColor:null;n.refresh(s)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var r=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return r.__from=e,e.__hoverMir=r,t&&r.setStyle(t),this._hoverElements.push(r),r}},removeHover:function(e){var t=e.__hoverMir,r=this._hoverElements,a=Tr.indexOf(r,t);a>=0&&r.splice(a,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,r=0;r<t.length;r++){var a=t[r].__from;a&&(a.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){bR(e,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(sp));var a={};r.ctx.save();for(var i=0;i<t;){var n=e[i],s=n.__from;if(!(s&&s.__zr)){e.splice(i,1),s.__hoverMir=null,t--;continue}i++,s.invisible||(n.transform=s.transform,n.invTransform=s.invTransform,n.__clipPaths=s.__clipPaths,this._doPaintEl(n,r,!0,a))}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(sp)},_paintList:function(e,t,r){if(this._redrawId===r){t=t||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var i=this;wR(function(){i._paintList(e,t,r)})}}},_compositeManually:function(){var e=this.getLayer(fa).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,r)})},_doPaintList:function(e,t){for(var r=[],a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a],n=this._layers[i];n.__builtin__&&n!==this._hoverlayer&&(n.__dirty||t)&&r.push(n)}for(var s=!0,c=0;c<r.length;c++){var n=r[c],o=n.ctx,u={};o.save();var v=t?n.__startIndex:n.__drawIndex,h=!t&&n.incremental&&Date.now,l=h&&Date.now(),d=n.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(n.__startIndex===n.__endIndex)n.clear(!1,d);else if(v===n.__startIndex){var f=e[v];(!f.incremental||!f.notClear||t)&&n.clear(!1,d)}v===-1&&(console.error("For some unknown reason. drawIndex is -1"),v=n.__startIndex);for(var m=v;m<n.__endIndex;m++){var g=e[m];if(this._doPaintEl(g,n,t,u),g.__dirty=g.__dirtyText=!1,h){var p=Date.now()-l;if(p>15)break}}n.__drawIndex=m,n.__drawIndex<n.__endIndex&&(s=!1),u.prevElClipPaths&&o.restore(),o.restore()}return TR.wxa&&Tr.each(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),s},_doPaintEl:function(e,t,r,a){var i=t.ctx,n=e.transform;if((t.__dirty||r)&&!e.invisible&&e.style.opacity!==0&&!(n&&!n[0]&&!n[3])&&!(e.culling&&DR(e,this._width,this._height))){var s=e.__clipPaths,c=a.prevElClipPaths;(!c||LR(s,c))&&(c&&(i.restore(),a.prevElClipPaths=null,a.prevEl=null),s&&(i.save(),PR(s,i),a.prevElClipPaths=s)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,a.prevEl||null),a.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=fa);var r=this._layers[e];return r||(r=new kf("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?Tr.merge(r,this._layerConfig[e],!0):this._layerConfig[e-$n]&&Tr.merge(r,this._layerConfig[e-$n],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},insertLayer:function(e,t){var r=this._layers,a=this._zlevelList,i=a.length,n=null,s=-1,c=this._domRoot;if(r[e]){Xs("ZLevel "+e+" has been used already");return}if(!MR(t)){Xs("Layer of zlevel "+e+" is not valid");return}if(i>0&&e>a[0]){for(s=0;s<i-1&&!(a[s]<e&&a[s+1]>e);s++);n=r[a[s]]}if(a.splice(s+1,0,e),r[e]=t,!t.virtual)if(n){var o=n.dom;o.nextSibling?c.insertBefore(t.dom,o.nextSibling):c.appendChild(t.dom)}else c.firstChild?c.insertBefore(t.dom,c.firstChild):c.appendChild(t.dom)},eachLayer:function(e,t){var r=this._zlevelList,a,i;for(i=0;i<r.length;i++)a=r[i],e.call(t,this._layers[a],a)},eachBuiltinLayer:function(e,t){var r=this._zlevelList,a,i,n;for(n=0;n<r.length;n++)i=r[n],a=this._layers[i],a.__builtin__&&e.call(t,a,i)},eachOtherLayer:function(e,t){var r=this._zlevelList,a,i,n;for(n=0;n<r.length;n++)i=r[n],a=this._layers[i],a.__builtin__||e.call(t,a,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){this.eachBuiltinLayer(function(u,v){u.__dirty=u.__used=!1});function t(u){i&&(i.__endIndex!==u&&(i.__dirty=!0),i.__endIndex=u)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var a=e[r];if(a.zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}for(var i=null,n=0,s,r=0;r<e.length;r++){var a=e[r],c=a.zlevel,o;s!==c&&(s=c,n=0),a.incremental?(o=this.getLayer(c+CR,this._needsManuallyCompositing),o.incremental=!0,n=1):o=this.getLayer(c+(n>0?$n:0),this._needsManuallyCompositing),o.__builtin__||Xs("ZLevel "+c+" has been used by unkown layer "+o.id),o!==i&&(o.__used=!0,o.__startIndex!==r&&(o.__dirty=!0),o.__startIndex=r,o.incremental?o.__drawIndex=-1:o.__drawIndex=r,t(r),i=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(u,v){!u.__used&&u.getElementCount()>0&&(u.__dirty=!0,u.__startIndex=u.__endIndex=u.__drawIndex=0),u.__dirty&&u.__drawIndex<0&&(u.__drawIndex=u.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var r=this._layerConfig;r[e]?Tr.merge(r[e],t,!0):r[e]=t;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+$n){var n=this._layers[i];Tr.merge(n,r[e],!0)}}}},delLayer:function(e){var t=this._layers,r=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],r.splice(Tr.indexOf(r,e),1))},resize:function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);Tr.each(this._progressiveLayers,function(n){n.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(fa).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[fa].dom;var t=new kf("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height,i=t.ctx;this.eachLayer(function(u){u.__builtin__?i.drawImage(u.dom,0,0,r,a):u.renderToCanvas&&(t.ctx.save(),u.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var n={},s=this.storage.getDisplayList(!0),c=0;c<s.length;c++){var o=s[c];this._doPaintEl(o,t,!0,n)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,r=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],n=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var s=this.root,c=document.defaultView.getComputedStyle(s);return(s[a]||Un(c[r])||Un(s.style[r]))-(Un(c[i])||0)-(Un(c[n])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),a=r.getContext("2d"),i=e.getBoundingRect(),n=e.style,s=n.shadowBlur*t,c=n.shadowOffsetX*t,o=n.shadowOffsetY*t,u=n.hasStroke()?n.lineWidth:0,v=Math.max(u/2,-c+s),h=Math.max(u/2,c+s),l=Math.max(u/2,-o+s),d=Math.max(u/2,o+s),f=i.width+v+h,m=i.height+l+d;r.width=f*t,r.height=m*t,a.scale(t,t),a.clearRect(0,0,f,m),a.dpr=t;var g={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[v-i.x,l-i.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(a);var p=AR,y=new p({style:{x:0,y:0,image:r}});return g.position!=null&&(y.position=e.position=g.position),g.rotation!=null&&(y.rotation=e.rotation=g.rotation),g.scale!=null&&(y.scale=e.scale=g.scale),y}};var RR=Of,ER=RR,MT=W,kR=vt,DT=kR.Dispatcher,lp=oT,OR=$A,zo=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,DT.call(this)};zo.prototype={constructor:zo,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),r=0;r<t.length;r++)this.addClip(t[r])},removeClip:function(e){var t=MT.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),r=0;r<t.length;r++)this.removeClip(t[r]);e.animation=null},_update:function(){for(var e=new Date().getTime()-this._pausedTime,t=e-this._time,r=this._clips,a=r.length,i=[],n=[],s=0;s<a;s++){var c=r[s],o=c.step(e,t);o&&(i.push(o),n.push(c))}for(var s=0;s<a;)r[s]._needsRemove?(r[s]=r[a-1],r.pop(),a--):s++;a=i.length;for(var s=0;s<a;s++)n[s].fire(i[s]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0;function t(){e._running&&(lp(t),!e._paused&&e._update())}lp(t)},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var r=new OR(e,t.loop,t.getter,t.setter);return this.addAnimator(r),r}};MT.mixin(zo,DT);var zR=zo,BR=zR,ts=vt,NR=ts.addEventListener,VR=ts.removeEventListener,Lr=ts.normalizeEvent,LT=ts.getNativeEvent,Rr=W,PT=ya,ja=nt,HR=300,Ad=ja.domSupported,js=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=Rr.map(e,function(i){var n=i.replace("mouse","pointer");return r.hasOwnProperty(n)?n:i});return{mouse:e,touch:t,pointer:a}}(),up={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function IT(e){return e==="mousewheel"&&ja.browser.firefox?"DOMMouseScroll":e}function zf(e){var t=e.pointerType;return t==="pen"||t==="touch"}function qR(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Js(e){e&&(e.zrByTouch=!0)}function GR(e,t){return Lr(e.dom,new ET(e,t),!0)}function RT(e,t){for(var r=t,a=!1;r&&r.nodeType!==9&&!(a=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return a}function ET(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var el=ET.prototype;el.stopPropagation=el.stopImmediatePropagation=el.preventDefault=Rr.noop;var Qt={mousedown:function(e){e=Lr(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Lr(this.dom,e);var t=this._mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&Vf(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Lr(this.dom,e),Vf(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Lr(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=RT(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=Lr(this.dom,e),Js(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Qt.mousemove.call(this,e),Qt.mousedown.call(this,e)},touchmove:function(e){e=Lr(this.dom,e),Js(e),this.handler.processGesture(e,"change"),Qt.mousemove.call(this,e)},touchend:function(e){e=Lr(this.dom,e),Js(e),this.handler.processGesture(e,"end"),Qt.mouseup.call(this,e),+new Date-this._lastTouchMoment<HR&&Qt.click.call(this,e)},pointerdown:function(e){Qt.mousedown.call(this,e)},pointermove:function(e){zf(e)||Qt.mousemove.call(this,e)},pointerup:function(e){Qt.mouseup.call(this,e)},pointerout:function(e){zf(e)||Qt.mouseout.call(this,e)}};Rr.each(["click","mousewheel","dblclick","contextmenu"],function(e){Qt[e]=function(t){t=Lr(this.dom,t),this.trigger(e,t)}});var Bf={pointermove:function(e){zf(e)||Bf.mousemove.call(this,e)},pointerup:function(e){Bf.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;Vf(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function FR(e,t){var r=t.domHandlers;ja.pointerEventsSupported?Rr.each(js.pointer,function(a){So(t,a,function(i){r[a].call(e,i)})}):(ja.touchEventsSupported&&Rr.each(js.touch,function(a){So(t,a,function(i){r[a].call(e,i),qR(t)})}),Rr.each(js.mouse,function(a){So(t,a,function(i){i=LT(i),t.touching||r[a].call(e,i)})}))}function $R(e,t){ja.pointerEventsSupported?Rr.each(up.pointer,r):ja.touchEventsSupported||Rr.each(up.mouse,r);function r(a){function i(n){n=LT(n),RT(e,n.target)||(n=GR(e,n),t.domHandlers[a].call(e,n))}So(t,a,i,{capture:!0})}}function So(e,t,r,a){e.mounted[t]=r,e.listenerOpts[t]=a,NR(e.domTarget,IT(t),r,a)}function Nf(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&VR(e.domTarget,IT(r),t[r],e.listenerOpts[r]);e.mounted={}}function Vf(e,t){if(e._mayPointerCapture=null,Ad&&e._pointerCapturing^t){e._pointerCapturing=t;var r=e._globalHandlerScope;t?$R(e,r):Nf(r)}}function vp(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Td(e,t){PT.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new vp(e,Qt),Ad&&(this._globalHandlerScope=new vp(document,Bf)),this._pointerCapturing=!1,this._mayPointerCapture=null,FR(this,this._localHandlerScope)}var kT=Td.prototype;kT.dispose=function(){Nf(this._localHandlerScope),Ad&&Nf(this._globalHandlerScope)};kT.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};Rr.mixin(Td,PT);var UR=Td,WR=UR,ZR=cA,Hf=nt,YR=W,XR=hP,KR=yI,QR=ER,jR=BR,JR=WR;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var e2=!Hf.canvasSupported,bo={canvas:QR},da={},t2="4.3.1";function r2(e,t){var r=new qf(ZR(),e,t);return da[r.id]=r,r}function a2(e){if(e)e.dispose();else{for(var t in da)da.hasOwnProperty(t)&&da[t].dispose();da={}}return this}function i2(e){return da[e]}function n2(e,t){bo[e]=t}function o2(e){delete da[e]}var qf=function(e,t,r){r=r||{},this.dom=t,this.id=e;var a=this,i=new KR,n=r.renderer;if(e2){if(!bo.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");n="vml"}else(!n||!bo[n])&&(n="canvas");var s=new bo[n](t,i,r,e);this.storage=i,this.painter=s;var c=!Hf.node&&!Hf.worker?new JR(s.getViewportRoot(),s.root):null;this.handler=new XR(i,s,c,s.root),this.animation=new jR({stage:{update:YR.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var o=i.delFromStorage,u=i.addToStorage;i.delFromStorage=function(v){o.call(i,v),v&&v.removeSelfFromZr(a)},i.addToStorage=function(v){u.call(i,v),v.addSelfToZr(a)}};qf.prototype={constructor:qf,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var r=this.painter.addHover(e,t);return this.refreshHover(),r}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,r){this.handler.on(e,t,r)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,o2(this.id)}};kr.version=t2;kr.init=r2;kr.dispose=a2;kr.getInstance=i2;kr.registerPainter=n2;var Ie={},Rt=W,s2=nt,Wa=Rt.each,Ja=Rt.isObject,l2=Rt.isArray,OT="series\0";function zT(e){return e instanceof Array?e:e==null?[]:[e]}function u2(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var a=0,i=r.length;a<i;a++){var n=r[a];!e.emphasis[t].hasOwnProperty(n)&&e[t].hasOwnProperty(n)&&(e.emphasis[t][n]=e[t][n])}}}var v2=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function h2(e){return Ja(e)&&!l2(e)&&!(e instanceof Date)?e.value:e}function c2(e){return Ja(e)&&!(e instanceof Array)}function f2(e,t){t=(t||[]).slice();var r=Rt.map(e||[],function(a,i){return{exist:a}});return Wa(t,function(a,i){if(Ja(a)){for(var n=0;n<r.length;n++)if(!r[n].option&&a.id!=null&&r[n].exist.id===a.id+""){r[n].option=a,t[i]=null;return}for(var n=0;n<r.length;n++){var s=r[n].exist;if(!r[n].option&&(s.id==null||a.id==null)&&a.name!=null&&!wo(a)&&!wo(s)&&s.name===a.name+""){r[n].option=a,t[i]=null;return}}}}),Wa(t,function(a,i){if(Ja(a)){for(var n=0;n<r.length;n++){var s=r[n].exist;if(!r[n].option&&!wo(s)&&a.id==null){r[n].option=a;break}}n>=r.length&&r.push({option:a})}}),r}function d2(e){var t=Rt.createHashMap();Wa(e,function(r,a){var i=r.exist;i&&t.set(i.id,r)}),Wa(e,function(r,a){var i=r.option;Rt.assert(!i||i.id==null||!t.get(i.id)||t.get(i.id)===r,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,r),!r.keyInfo&&(r.keyInfo={})}),Wa(e,function(r,a){var i=r.exist,n=r.option,s=r.keyInfo;if(Ja(n)){if(s.name=n.name!=null?n.name+"":i?i.name:OT+a,i)s.id=i.id;else if(n.id!=null)s.id=n.id+"";else{var c=0;do s.id="\0"+s.name+"\0"+c++;while(t.get(s.id))}t.set(s.id,r)}})}function g2(e){var t=e.name;return!!(t&&t.indexOf(OT))}function wo(e){return Ja(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function p2(e,t){var r={},a={};return i(e||[],r),i(t||[],a,r),[n(r),n(a)];function i(s,c,o){for(var u=0,v=s.length;u<v;u++)for(var h=s[u].seriesId,l=zT(s[u].dataIndex),d=o&&o[h],f=0,m=l.length;f<m;f++){var g=l[f];d&&d[g]?d[g]=null:(c[h]||(c[h]={}))[g]=1}}function n(s,c){var o=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(c)o.push(+u);else{var v=n(s[u],!0);v.length&&o.push({seriesId:u,dataIndex:v})}return o}}function m2(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Rt.isArray(t.dataIndex)?Rt.map(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Rt.isArray(t.name)?Rt.map(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function y2(){var e="__\0ec_inner_"+_2+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var _2=0;function x2(e,t,r){if(Rt.isString(t)){var a={};a[t+"Index"]=0,t=a}var i=r&&r.defaultMainType;i&&!tl(t,i+"Index")&&!tl(t,i+"Id")&&!tl(t,i+"Name")&&(t[i+"Index"]=0);var n={};return Wa(t,function(o,c){var o=t[c];if(c==="dataIndex"||c==="dataIndexInside"){n[c]=o;return}var u=c.match(/^(\w+)(Index|Id|Name)$/)||[],v=u[1],h=(u[2]||"").toLowerCase();if(!(!v||!h||o==null||h==="index"&&o==="none"||r&&r.includeMainTypes&&Rt.indexOf(r.includeMainTypes,v)<0)){var l={mainType:v};(h!=="index"||o!=="all")&&(l[h]=o);var d=e.queryComponents(l);n[v+"Models"]=d,n[v+"Model"]=d[0]}}),n}function tl(e,t){return e&&e.hasOwnProperty(t)}function S2(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function b2(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function w2(e){return e==="auto"?s2.domSupported?"html":"richText":e||"html"}function A2(e,t){var r=Rt.createHashMap(),a=[];return Rt.each(e,function(i){var n=t(i);(r.get(n)||(a.push(n),r.set(n,[]))).push(i)}),{keys:a,buckets:r}}Ie.normalizeToArray=zT;Ie.defaultEmphasis=u2;Ie.TEXT_STYLE_OPTIONS=v2;Ie.getDataItemValue=h2;Ie.isDataItemOption=c2;Ie.mappingToExists=f2;Ie.makeIdAndName=d2;Ie.isNameSpecified=g2;Ie.isIdInner=wo;Ie.compressBatches=p2;Ie.queryDataIndex=m2;Ie.makeInner=y2;Ie.parseFinder=x2;Ie.setAttribute=S2;Ie.getAttribute=b2;Ie.getTooltipRenderMode=w2;Ie.groupData=A2;var Et={},ei=W,T2=".",na="___EC__COMPONENT__CONTAINER___";function Ga(e){var t={main:"",sub:""};return e&&(e=e.split(T2),t.main=e[0]||"",t.sub=e[1]||""),t}function C2(e){ei.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function M2(e,t){e.$constructor=e,e.extend=function(r){var a=this,i=function(){r.$constructor?r.$constructor.apply(this,arguments):a.apply(this,arguments)};return ei.extend(i.prototype,r),i.extend=this.extend,i.superCall=P2,i.superApply=I2,ei.inherits(i,this),i.superClass=a,i}}var D2=0;function L2(e){var t=["__\0is_clz",D2++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function P2(e,t){var r=ei.slice(arguments,2);return this.superClass.prototype[t].apply(e,r)}function I2(e,t,r){return this.superClass.prototype[t].apply(e,r)}function R2(e,t){t=t||{};var r={};e.registerClass=function(n,s){if(s){if(C2(s),s=Ga(s),!s.sub)r[s.main]=n;else if(s.sub!==na){var c=a(s);c[s.sub]=n}}return n},e.getClass=function(n,s,c){var o=r[n];if(o&&o[na]&&(o=s?o[s]:null),c&&!o)throw new Error(s?"Component "+n+"."+(s||"")+" not exists. Load it first.":n+".type should be specified.");return o},e.getClassesByMainType=function(n){n=Ga(n);var s=[],c=r[n.main];return c&&c[na]?ei.each(c,function(o,u){u!==na&&s.push(o)}):s.push(c),s},e.hasClass=function(n){return n=Ga(n),!!r[n.main]},e.getAllClassMainTypes=function(){var n=[];return ei.each(r,function(s,c){n.push(c)}),n},e.hasSubTypes=function(n){n=Ga(n);var s=r[n.main];return s&&s[na]},e.parseClassType=Ga;function a(n){var s=r[n.main];return(!s||!s[na])&&(s=r[n.main]={},s[na]=!0),s}if(t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(n){var s=i.call(this,n);return e.registerClass(s,n.type)})}return e}function E2(e,t){}Et.parseClassType=Ga;Et.enableClassExtend=M2;Et.enableClassCheck=L2;Et.enableClassManagement=R2;Et.setReadOnly=E2;var hp=W;function k2(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(r,a,i){for(var n={},s=0;s<e.length;s++){var c=e[s][1];if(!(a&&hp.indexOf(a,c)>=0||i&&hp.indexOf(i,c)<0)){var o=r.getShallow(c);o!=null&&(n[e[s][0]]=o)}}return n}}var vi=k2,O2=vi,z2=O2([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),B2={getLineStyle:function(e){var t=z2(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){e==null&&(e=1);var t=this.get("type"),r=Math.max(e,2),a=e*4;return t==="solid"||t==null?!1:t==="dashed"?[a,a]:[r,r]}},N2=B2,V2=vi,H2=V2([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),q2={getAreaStyle:function(e,t){return H2(this,e,t)}},G2=q2,fe={},mn={},ut={},BT=Ee,Cd=BT.create,Za=BT.distSquare,Wn=Math.pow,Qr=Math.sqrt,Bo=1e-8,NT=1e-4,cp=Qr(3),Zn=1/3,fr=Cd(),$t=Cd(),Ya=Cd();function Yr(e){return e>-Bo&&e<Bo}function VT(e){return e>Bo||e<-Bo}function Cr(e,t,r,a,i){var n=1-i;return n*n*(n*e+3*i*t)+i*i*(i*a+3*n*r)}function F2(e,t,r,a,i){var n=1-i;return 3*(((t-e)*n+2*(r-t)*i)*n+(a-r)*i*i)}function $2(e,t,r,a,i,n){var s=a+3*(t-r)-e,c=3*(r-t*2+e),o=3*(t-e),u=e-i,v=c*c-3*s*o,h=c*o-9*s*u,l=o*o-3*c*u,d=0;if(Yr(v)&&Yr(h))if(Yr(c))n[0]=0;else{var f=-o/c;f>=0&&f<=1&&(n[d++]=f)}else{var m=h*h-4*v*l;if(Yr(m)){var g=h/v,f=-c/s+g,p=-g/2;f>=0&&f<=1&&(n[d++]=f),p>=0&&p<=1&&(n[d++]=p)}else if(m>0){var y=Qr(m),_=v*c+1.5*s*(-h+y),w=v*c+1.5*s*(-h-y);_<0?_=-Wn(-_,Zn):_=Wn(_,Zn),w<0?w=-Wn(-w,Zn):w=Wn(w,Zn);var f=(-c-(_+w))/(3*s);f>=0&&f<=1&&(n[d++]=f)}else{var S=(2*v*c-3*s*h)/(2*Qr(v*v*v)),A=Math.acos(S)/3,x=Qr(v),b=Math.cos(A),f=(-c-2*x*b)/(3*s),p=(-c+x*(b+cp*Math.sin(A)))/(3*s),T=(-c+x*(b-cp*Math.sin(A)))/(3*s);f>=0&&f<=1&&(n[d++]=f),p>=0&&p<=1&&(n[d++]=p),T>=0&&T<=1&&(n[d++]=T)}}return d}function U2(e,t,r,a,i){var n=6*r-12*t+6*e,s=9*t+3*a-3*e-9*r,c=3*t-3*e,o=0;if(Yr(s)){if(VT(n)){var u=-c/n;u>=0&&u<=1&&(i[o++]=u)}}else{var v=n*n-4*s*c;if(Yr(v))i[0]=-n/(2*s);else if(v>0){var h=Qr(v),u=(-n+h)/(2*s),l=(-n-h)/(2*s);u>=0&&u<=1&&(i[o++]=u),l>=0&&l<=1&&(i[o++]=l)}}return o}function W2(e,t,r,a,i,n){var s=(t-e)*i+e,c=(r-t)*i+t,o=(a-r)*i+r,u=(c-s)*i+s,v=(o-c)*i+c,h=(v-u)*i+u;n[0]=e,n[1]=s,n[2]=u,n[3]=h,n[4]=h,n[5]=v,n[6]=o,n[7]=a}function Z2(e,t,r,a,i,n,s,c,o,u,v){var h,l=.005,d=1/0,f,m,g,p;fr[0]=o,fr[1]=u;for(var y=0;y<1;y+=.05)$t[0]=Cr(e,r,i,s,y),$t[1]=Cr(t,a,n,c,y),g=Za(fr,$t),g<d&&(h=y,d=g);d=1/0;for(var _=0;_<32&&!(l<NT);_++)f=h-l,m=h+l,$t[0]=Cr(e,r,i,s,f),$t[1]=Cr(t,a,n,c,f),g=Za($t,fr),f>=0&&g<d?(h=f,d=g):(Ya[0]=Cr(e,r,i,s,m),Ya[1]=Cr(t,a,n,c,m),p=Za(Ya,fr),m<=1&&p<d?(h=m,d=p):l*=.5);return v&&(v[0]=Cr(e,r,i,s,h),v[1]=Cr(t,a,n,c,h)),Qr(d)}function Mr(e,t,r,a){var i=1-a;return i*(i*e+2*a*t)+a*a*r}function Y2(e,t,r,a){return 2*((1-a)*(t-e)+a*(r-t))}function X2(e,t,r,a,i){var n=e-2*t+r,s=2*(t-e),c=e-a,o=0;if(Yr(n)){if(VT(s)){var u=-c/s;u>=0&&u<=1&&(i[o++]=u)}}else{var v=s*s-4*n*c;if(Yr(v)){var u=-s/(2*n);u>=0&&u<=1&&(i[o++]=u)}else if(v>0){var h=Qr(v),u=(-s+h)/(2*n),l=(-s-h)/(2*n);u>=0&&u<=1&&(i[o++]=u),l>=0&&l<=1&&(i[o++]=l)}}return o}function K2(e,t,r){var a=e+r-2*t;return a===0?.5:(e-t)/a}function Q2(e,t,r,a,i){var n=(t-e)*a+e,s=(r-t)*a+t,c=(s-n)*a+n;i[0]=e,i[1]=n,i[2]=c,i[3]=c,i[4]=s,i[5]=r}function j2(e,t,r,a,i,n,s,c,o){var u,v=.005,h=1/0;fr[0]=s,fr[1]=c;for(var l=0;l<1;l+=.05){$t[0]=Mr(e,r,i,l),$t[1]=Mr(t,a,n,l);var d=Za(fr,$t);d<h&&(u=l,h=d)}h=1/0;for(var f=0;f<32&&!(v<NT);f++){var m=u-v,g=u+v;$t[0]=Mr(e,r,i,m),$t[1]=Mr(t,a,n,m);var d=Za($t,fr);if(m>=0&&d<h)u=m,h=d;else{Ya[0]=Mr(e,r,i,g),Ya[1]=Mr(t,a,n,g);var p=Za(Ya,fr);g<=1&&p<h?(u=g,h=p):v*=.5}}return o&&(o[0]=Mr(e,r,i,u),o[1]=Mr(t,a,n,u)),Qr(h)}ut.cubicAt=Cr;ut.cubicDerivativeAt=F2;ut.cubicRootAt=$2;ut.cubicExtrema=U2;ut.cubicSubdivide=W2;ut.cubicProjectPoint=Z2;ut.quadraticAt=Mr;ut.quadraticDerivativeAt=Y2;ut.quadraticRootAt=X2;ut.quadraticExtremum=K2;ut.quadraticSubdivide=Q2;ut.quadraticProjectPoint=j2;var oa={},fp;function yn(){if(fp)return oa;fp=1;var e=Ee,t=ut,r=Math.min,a=Math.max,i=Math.sin,n=Math.cos,s=Math.PI*2,c=e.create(),o=e.create(),u=e.create();function v(p,y,_){if(p.length!==0){var w=p[0],S=w[0],A=w[0],x=w[1],b=w[1],T;for(T=1;T<p.length;T++)w=p[T],S=r(S,w[0]),A=a(A,w[0]),x=r(x,w[1]),b=a(b,w[1]);y[0]=S,y[1]=x,_[0]=A,_[1]=b}}function h(p,y,_,w,S,A){S[0]=r(p,_),S[1]=r(y,w),A[0]=a(p,_),A[1]=a(y,w)}var l=[],d=[];function f(p,y,_,w,S,A,x,b,T,M){var C=t.cubicExtrema,D=t.cubicAt,L,P=C(p,_,S,x,l);for(T[0]=1/0,T[1]=1/0,M[0]=-1/0,M[1]=-1/0,L=0;L<P;L++){var I=D(p,_,S,x,l[L]);T[0]=r(I,T[0]),M[0]=a(I,M[0])}for(P=C(y,w,A,b,d),L=0;L<P;L++){var E=D(y,w,A,b,d[L]);T[1]=r(E,T[1]),M[1]=a(E,M[1])}T[0]=r(p,T[0]),M[0]=a(p,M[0]),T[0]=r(x,T[0]),M[0]=a(x,M[0]),T[1]=r(y,T[1]),M[1]=a(y,M[1]),T[1]=r(b,T[1]),M[1]=a(b,M[1])}function m(p,y,_,w,S,A,x,b){var T=t.quadraticExtremum,M=t.quadraticAt,C=a(r(T(p,_,S),1),0),D=a(r(T(y,w,A),1),0),L=M(p,_,S,C),P=M(y,w,A,D);x[0]=r(p,S,L),x[1]=r(y,A,P),b[0]=a(p,S,L),b[1]=a(y,A,P)}function g(p,y,_,w,S,A,x,b,T){var M=e.min,C=e.max,D=Math.abs(S-A);if(D%s<1e-4&&D>1e-4){b[0]=p-_,b[1]=y-w,T[0]=p+_,T[1]=y+w;return}if(c[0]=n(S)*_+p,c[1]=i(S)*w+y,o[0]=n(A)*_+p,o[1]=i(A)*w+y,M(b,c,o),C(T,c,o),S=S%s,S<0&&(S=S+s),A=A%s,A<0&&(A=A+s),S>A&&!x?A+=s:S<A&&x&&(S+=s),x){var L=A;A=S,S=L}for(var P=0;P<A;P+=Math.PI/2)P>S&&(u[0]=n(P)*_+p,u[1]=i(P)*w+y,M(b,u,b),C(T,u,T))}return oa.fromPoints=v,oa.fromLine=h,oa.fromCubic=f,oa.fromQuadratic=m,oa.fromArc=g,oa}var J2=ut,dp=Ee,Ai=yn(),eE=Xe,tE=ni,gp=tE.devicePixelRatio,rt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},sr=[],Nr=[],lr=[],ur=[],pp=Math.min,mp=Math.max,Ti=Math.cos,Ci=Math.sin,Yn=Math.sqrt,Ea=Math.abs,rl=typeof Float32Array<"u",No=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};No.prototype={constructor:No,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,r){r=r||0,this._ux=Ea(r/gp/e)||0,this._uy=Ea(r/gp/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(rt.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var r=Ea(e-this._xi)>this._ux||Ea(t-this._yi)>this._uy||this._len<5;return this.addData(rt.L,e,t),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),r&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,r,a,i,n){return this.addData(rt.C,e,t,r,a,i,n),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,r,a,i,n):this._ctx.bezierCurveTo(e,t,r,a,i,n)),this._xi=i,this._yi=n,this},quadraticCurveTo:function(e,t,r,a){return this.addData(rt.Q,e,t,r,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,r,a):this._ctx.quadraticCurveTo(e,t,r,a)),this._xi=r,this._yi=a,this},arc:function(e,t,r,a,i,n){return this.addData(rt.A,e,t,r,r,a,i-a,0,n?0:1),this._ctx&&this._ctx.arc(e,t,r,a,i,n),this._xi=Ti(i)*r+e,this._yi=Ci(i)*r+t,this},arcTo:function(e,t,r,a,i){return this._ctx&&this._ctx.arcTo(e,t,r,a,i),this},rect:function(e,t,r,a){return this._ctx&&this._ctx.rect(e,t,r,a),this.addData(rt.R,e,t,r,a),this},closePath:function(){this.addData(rt.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,r),e.closePath()),this._xi=t,this._yi=r,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,r=0;r<e.length;r++)t+=e[r];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;!(this.data&&this.data.length===t)&&rl&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,a=this._len,i=0;i<t;i++)r+=e[i].len();rl&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var i=0;i<t;i++)for(var n=e[i].data,s=0;s<n.length;s++)this.data[a++]=n[s];this._len=a},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var r=0;r<arguments.length;r++)t[this._len++]=arguments[r];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var r=this._dashSum,a=this._dashOffset,i=this._lineDash,n=this._ctx,s=this._xi,c=this._yi,o=e-s,u=t-c,v=Yn(o*o+u*u),h=s,l=c,d,f=i.length,m;for(o/=v,u/=v,a<0&&(a=r+a),a%=r,h-=a*o,l-=a*u;o>0&&h<=e||o<0&&h>=e||o===0&&(u>0&&l<=t||u<0&&l>=t);)m=this._dashIdx,d=i[m],h+=o*d,l+=u*d,this._dashIdx=(m+1)%f,!(o>0&&h<s||o<0&&h>s||u>0&&l<c||u<0&&l>c)&&n[m%2?"moveTo":"lineTo"](o>=0?pp(h,e):mp(h,e),u>=0?pp(l,t):mp(l,t));o=h-e,u=l-t,this._dashOffset=-Yn(o*o+u*u)},_dashedBezierTo:function(e,t,r,a,i,n){var s=this._dashSum,c=this._dashOffset,o=this._lineDash,u=this._ctx,v=this._xi,h=this._yi,l,d,f,m=J2.cubicAt,g=0,p=this._dashIdx,y=o.length,_,w,S=0;for(c<0&&(c=s+c),c%=s,l=0;l<1;l+=.1)d=m(v,e,r,i,l+.1)-m(v,e,r,i,l),f=m(h,t,a,n,l+.1)-m(h,t,a,n,l),g+=Yn(d*d+f*f);for(;p<y&&(S+=o[p],!(S>c));p++);for(l=(S-c)/g;l<=1;)_=m(v,e,r,i,l),w=m(h,t,a,n,l),p%2?u.moveTo(_,w):u.lineTo(_,w),l+=o[p]/g,p=(p+1)%y;p%2!==0&&u.lineTo(i,n),d=i-_,f=n-w,this._dashOffset=-Yn(d*d+f*f)},_dashedQuadraticTo:function(e,t,r,a){var i=r,n=a;r=(r+2*e)/3,a=(a+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,r,a,i,n)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,rl&&(this.data=new Float32Array(e)))},getBoundingRect:function(){sr[0]=sr[1]=lr[0]=lr[1]=Number.MAX_VALUE,Nr[0]=Nr[1]=ur[0]=ur[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,r=0,a=0,i=0,n=0;n<e.length;){var s=e[n++];switch(n===1&&(t=e[n],r=e[n+1],a=t,i=r),s){case rt.M:a=e[n++],i=e[n++],t=a,r=i,lr[0]=a,lr[1]=i,ur[0]=a,ur[1]=i;break;case rt.L:Ai.fromLine(t,r,e[n],e[n+1],lr,ur),t=e[n++],r=e[n++];break;case rt.C:Ai.fromCubic(t,r,e[n++],e[n++],e[n++],e[n++],e[n],e[n+1],lr,ur),t=e[n++],r=e[n++];break;case rt.Q:Ai.fromQuadratic(t,r,e[n++],e[n++],e[n],e[n+1],lr,ur),t=e[n++],r=e[n++];break;case rt.A:var c=e[n++],o=e[n++],u=e[n++],v=e[n++],h=e[n++],l=e[n++]+h;n+=1;var d=1-e[n++];n===1&&(a=Ti(h)*u+c,i=Ci(h)*v+o),Ai.fromArc(c,o,u,v,h,l,d,lr,ur),t=Ti(l)*u+c,r=Ci(l)*v+o;break;case rt.R:a=t=e[n++],i=r=e[n++];var f=e[n++],m=e[n++];Ai.fromLine(a,i,a+f,i+m,lr,ur);break;case rt.Z:t=a,r=i;break}dp.min(sr,sr,lr),dp.max(Nr,Nr,ur)}return n===0&&(sr[0]=sr[1]=Nr[0]=Nr[1]=0),new eE(sr[0],sr[1],Nr[0]-sr[0],Nr[1]-sr[1])},rebuildPath:function(e){for(var t=this.data,r,a,i,n,s,c,o=this._ux,u=this._uy,v=this._len,h=0;h<v;){var l=t[h++];switch(h===1&&(i=t[h],n=t[h+1],r=i,a=n),l){case rt.M:r=i=t[h++],a=n=t[h++],e.moveTo(i,n);break;case rt.L:s=t[h++],c=t[h++],(Ea(s-i)>o||Ea(c-n)>u||h===v-1)&&(e.lineTo(s,c),i=s,n=c);break;case rt.C:e.bezierCurveTo(t[h++],t[h++],t[h++],t[h++],t[h++],t[h++]),i=t[h-2],n=t[h-1];break;case rt.Q:e.quadraticCurveTo(t[h++],t[h++],t[h++],t[h++]),i=t[h-2],n=t[h-1];break;case rt.A:var d=t[h++],f=t[h++],m=t[h++],g=t[h++],p=t[h++],y=t[h++],_=t[h++],w=t[h++],S=m>g?m:g,A=m>g?1:m/g,x=m>g?g/m:1,b=Math.abs(m-g)>.001,T=p+y;b?(e.translate(d,f),e.rotate(_),e.scale(A,x),e.arc(0,0,S,p,T,1-w),e.scale(1/A,1/x),e.rotate(-_),e.translate(-d,-f)):e.arc(d,f,S,p,T,1-w),h===1&&(r=Ti(p)*m+d,a=Ci(p)*g+f),i=Ti(T)*m+d,n=Ci(T)*g+f;break;case rt.R:r=i=t[h],a=n=t[h+1],e.rect(t[h++],t[h++],t[h++],t[h++]);break;case rt.Z:e.closePath(),i=r,n=a}}}};No.CMD=rt;var rE=No,hi=rE,Md={},Dd={};function aE(e,t,r,a,i,n,s){if(i===0)return!1;var c=i,o=0,u=e;if(s>t+c&&s>a+c||s<t-c&&s<a-c||n>e+c&&n>r+c||n<e-c&&n<r-c)return!1;if(e!==r)o=(t-a)/(e-r),u=(e*a-r*t)/(e-r);else return Math.abs(n-e)<=c/2;var v=o*n-s+u,h=v*v/(o*o+1);return h<=c/2*c/2}Dd.containStroke=aE;var HT={},iE=ut;function nE(e,t,r,a,i,n,s,c,o,u,v){if(o===0)return!1;var h=o;if(v>t+h&&v>a+h&&v>n+h&&v>c+h||v<t-h&&v<a-h&&v<n-h&&v<c-h||u>e+h&&u>r+h&&u>i+h&&u>s+h||u<e-h&&u<r-h&&u<i-h&&u<s-h)return!1;var l=iE.cubicProjectPoint(e,t,r,a,i,n,s,c,u,v,null);return l<=h/2}HT.containStroke=nE;var Ld={},oE=ut,sE=oE.quadraticProjectPoint;function lE(e,t,r,a,i,n,s,c,o){if(s===0)return!1;var u=s;if(o>t+u&&o>a+u&&o>n+u||o<t-u&&o<a-u&&o<n-u||c>e+u&&c>r+u&&c>i+u||c<e-u&&c<r-u&&c<i-u)return!1;var v=sE(e,t,r,a,i,n,c,o,null);return v<=u/2}Ld.containStroke=lE;var qT={},Pd={},yp=Math.PI*2;function uE(e){return e%=yp,e<0&&(e+=yp),e}Pd.normalizeRadian=uE;var vE=Pd,Xn=vE.normalizeRadian,Mi=Math.PI*2;function hE(e,t,r,a,i,n,s,c,o){if(s===0)return!1;var u=s;c-=e,o-=t;var v=Math.sqrt(c*c+o*o);if(v-u>r||v+u<r)return!1;if(Math.abs(a-i)%Mi<1e-4)return!0;if(n){var h=a;a=Xn(i),i=Xn(h)}else a=Xn(a),i=Xn(i);a>i&&(i+=Mi);var l=Math.atan2(o,c);return l<0&&(l+=Mi),l>=a&&l<=i||l+Mi>=a&&l+Mi<=i}qT.containStroke=hE;function cE(e,t,r,a,i,n){if(n>t&&n>a||n<t&&n<a||a===t)return 0;var s=a<t?1:-1,c=(n-t)/(a-t);(c===1||c===0)&&(s=a<t?.5:-.5);var o=c*(r-e)+e;return o===i?1/0:o>i?s:0}var GT=cE,fE=hi,ka=Dd,dE=HT,gE=Ld,pE=qT,mE=Pd,Kn=mE.normalizeRadian,dr=ut,sa=GT,Vr=fE.CMD,Oa=Math.PI*2,yE=1e-4;function _E(e,t){return Math.abs(e-t)<yE}var Dt=[-1,-1,-1],Ft=[-1,-1];function xE(){var e=Ft[0];Ft[0]=Ft[1],Ft[1]=e}function SE(e,t,r,a,i,n,s,c,o,u){if(u>t&&u>a&&u>n&&u>c||u<t&&u<a&&u<n&&u<c)return 0;var v=dr.cubicRootAt(t,a,n,c,u,Dt);if(v===0)return 0;for(var h=0,l=-1,d,f,m=0;m<v;m++){var g=Dt[m],p=g===0||g===1?.5:1,y=dr.cubicAt(e,r,i,s,g);y<o||(l<0&&(l=dr.cubicExtrema(t,a,n,c,Ft),Ft[1]<Ft[0]&&l>1&&xE(),d=dr.cubicAt(t,a,n,c,Ft[0]),l>1&&(f=dr.cubicAt(t,a,n,c,Ft[1]))),l===2?g<Ft[0]?h+=d<t?p:-p:g<Ft[1]?h+=f<d?p:-p:h+=c<f?p:-p:g<Ft[0]?h+=d<t?p:-p:h+=c<d?p:-p)}return h}function bE(e,t,r,a,i,n,s,c){if(c>t&&c>a&&c>n||c<t&&c<a&&c<n)return 0;var o=dr.quadraticRootAt(t,a,n,c,Dt);if(o===0)return 0;var u=dr.quadraticExtremum(t,a,n);if(u>=0&&u<=1){for(var v=0,h=dr.quadraticAt(t,a,n,u),l=0;l<o;l++){var d=Dt[l]===0||Dt[l]===1?.5:1,f=dr.quadraticAt(e,r,i,Dt[l]);f<s||(Dt[l]<u?v+=h<t?d:-d:v+=n<h?d:-d)}return v}else{var d=Dt[0]===0||Dt[0]===1?.5:1,f=dr.quadraticAt(e,r,i,Dt[0]);return f<s?0:n<t?d:-d}}function wE(e,t,r,a,i,n,s,c){if(c-=t,c>r||c<-r)return 0;var o=Math.sqrt(r*r-c*c);Dt[0]=-o,Dt[1]=o;var u=Math.abs(a-i);if(u<1e-4)return 0;if(u%Oa<1e-4){a=0,i=Oa;var v=n?1:-1;return s>=Dt[0]+e&&s<=Dt[1]+e?v:0}if(n){var o=a;a=Kn(i),i=Kn(o)}else a=Kn(a),i=Kn(i);a>i&&(i+=Oa);for(var h=0,l=0;l<2;l++){var d=Dt[l];if(d+e>s){var f=Math.atan2(c,d),v=n?1:-1;f<0&&(f=Oa+f),(f>=a&&f<=i||f+Oa>=a&&f+Oa<=i)&&(f>Math.PI/2&&f<Math.PI*1.5&&(v=-v),h+=v)}}return h}function FT(e,t,r,a,i){for(var n=0,s=0,c=0,o=0,u=0,v=0;v<e.length;){var h=e[v++];switch(h===Vr.M&&v>1&&(r||(n+=sa(s,c,o,u,a,i))),v===1&&(s=e[v],c=e[v+1],o=s,u=c),h){case Vr.M:o=e[v++],u=e[v++],s=o,c=u;break;case Vr.L:if(r){if(ka.containStroke(s,c,e[v],e[v+1],t,a,i))return!0}else n+=sa(s,c,e[v],e[v+1],a,i)||0;s=e[v++],c=e[v++];break;case Vr.C:if(r){if(dE.containStroke(s,c,e[v++],e[v++],e[v++],e[v++],e[v],e[v+1],t,a,i))return!0}else n+=SE(s,c,e[v++],e[v++],e[v++],e[v++],e[v],e[v+1],a,i)||0;s=e[v++],c=e[v++];break;case Vr.Q:if(r){if(gE.containStroke(s,c,e[v++],e[v++],e[v],e[v+1],t,a,i))return!0}else n+=bE(s,c,e[v++],e[v++],e[v],e[v+1],a,i)||0;s=e[v++],c=e[v++];break;case Vr.A:var l=e[v++],d=e[v++],f=e[v++],m=e[v++],g=e[v++],p=e[v++];v+=1;var y=1-e[v++],A=Math.cos(g)*f+l,x=Math.sin(g)*m+d;v>1?n+=sa(s,c,A,x,a,i):(o=A,u=x);var _=(a-l)*m/f+l;if(r){if(pE.containStroke(l,d,m,g,g+p,y,t,_,i))return!0}else n+=wE(l,d,m,g,g+p,y,_,i);s=Math.cos(g+p)*f+l,c=Math.sin(g+p)*m+d;break;case Vr.R:o=s=e[v++],u=c=e[v++];var w=e[v++],S=e[v++],A=o+w,x=u+S;if(r){if(ka.containStroke(o,u,A,u,t,a,i)||ka.containStroke(A,u,A,x,t,a,i)||ka.containStroke(A,x,o,x,t,a,i)||ka.containStroke(o,x,o,u,t,a,i))return!0}else n+=sa(A,u,A,x,a,i),n+=sa(o,x,o,u,a,i);break;case Vr.Z:if(r){if(ka.containStroke(s,c,o,u,t,a,i))return!0}else n+=sa(s,c,o,u,a,i);s=o,c=u;break}}return!r&&!_E(c,u)&&(n+=sa(s,c,o,u,a,i)||0),n!==0}function AE(e,t,r){return FT(e,0,!1,t,r)}function TE(e,t,r,a){return FT(e,t,!0,r,a)}Md.contain=AE;Md.containStroke=TE;var Id=pn,Rd=W,Gf=hi,_p=Md,CE=aT,xp=CE.prototype.getCanvasPattern,al=Math.abs,ME=new Gf(!0);function pa(e){Id.call(this,e),this.path=null}pa.prototype={constructor:pa,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var r=this.style,a=this.path||ME,i=r.hasStroke(),n=r.hasFill(),s=r.fill,c=r.stroke,o=n&&!!s.colorStops,u=i&&!!c.colorStops,v=n&&!!s.image,h=i&&!!c.image;if(r.bind(e,this,t),this.setTransform(e),this.__dirty){var l;o&&(l=l||this.getBoundingRect(),this._fillGradient=r.getGradient(e,s,l)),u&&(l=l||this.getBoundingRect(),this._strokeGradient=r.getGradient(e,c,l))}o?e.fillStyle=this._fillGradient:v&&(e.fillStyle=xp.call(s,e)),u?e.strokeStyle=this._strokeGradient:h&&(e.strokeStyle=xp.call(c,e));var d=r.lineDash,f=r.lineDashOffset,m=!!e.setLineDash,g=this.getGlobalScale();if(a.setScale(g[0],g[1],this.segmentIgnoreThreshold),this.__dirtyPath||d&&!m&&i?(a.beginPath(e),d&&!m&&(a.setLineDash(d),a.setLineDashOffset(f)),this.buildPath(a,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),n)if(r.fillOpacity!=null){var p=e.globalAlpha;e.globalAlpha=r.fillOpacity*r.opacity,a.fill(e),e.globalAlpha=p}else a.fill(e);if(d&&m&&(e.setLineDash(d),e.lineDashOffset=f),i)if(r.strokeOpacity!=null){var p=e.globalAlpha;e.globalAlpha=r.strokeOpacity*r.opacity,a.stroke(e),e.globalAlpha=p}else a.stroke(e);d&&m&&e.setLineDash([]),r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,r){},createPathProxy:function(){this.path=new Gf},getBoundingRect:function(){var e=this._rect,t=this.style,r=!e;if(r){var a=this.path;a||(a=this.path=new Gf),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),e=a.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){i.copy(e);var n=t.lineWidth,s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(n=Math.max(n,this.strokeContainThreshold||4)),s>1e-10&&(i.width+=n/s,i.height+=n/s,i.x-=n/s/2,i.y-=n/s/2)}return i}return e},contain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect(),i=this.style;if(e=r[0],t=r[1],a.contain(e,t)){var n=this.path.data;if(i.hasStroke()){var s=i.lineWidth,c=i.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(i.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),_p.containStroke(n,s/c,e,t)))return!0}if(i.hasFill())return _p.contain(n,e,t)}return!1},dirty:function(e){e==null&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){e==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):Id.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var r=this.shape;if(r){if(Rd.isObject(e))for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);else r[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&al(e[0]-1)>1e-10&&al(e[3]-1)>1e-10?Math.sqrt(al(e[0]*e[3]-e[2]*e[1])):1}};pa.extend=function(e){var t=function(a){pa.call(this,a),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var s in i)!n.hasOwnProperty(s)&&i.hasOwnProperty(s)&&(n[s]=i[s])}e.init&&e.init.call(this,a)};Rd.inherits(t,pa);for(var r in e)r!=="style"&&r!=="shape"&&(t.prototype[r]=e[r]);return t};Rd.inherits(pa,Id);var DE=pa,at=DE,LE=hi,PE=Ee,il=PE.applyTransform,za=LE.CMD,IE=[[],[],[]],Sp=Math.sqrt,RE=Math.atan2;function EE(e,t){var r=e.data,a,i,n,s,c,o,u=za.M,v=za.C,h=za.L,l=za.R,d=za.A,f=za.Q;for(n=0,s=0;n<r.length;){switch(a=r[n++],s=n,i=0,a){case u:i=1;break;case h:i=1;break;case v:i=3;break;case f:i=2;break;case d:var m=t[4],g=t[5],p=Sp(t[0]*t[0]+t[1]*t[1]),y=Sp(t[2]*t[2]+t[3]*t[3]),_=RE(-t[1]/y,t[0]/p);r[n]*=p,r[n++]+=m,r[n]*=y,r[n++]+=g,r[n++]*=p,r[n++]*=y,r[n++]+=_,r[n++]+=_,n+=2,s=n;break;case l:o[0]=r[n++],o[1]=r[n++],il(o,o,t),r[s++]=o[0],r[s++]=o[1],o[0]+=r[n++],o[1]+=r[n++],il(o,o,t),r[s++]=o[0],r[s++]=o[1]}for(c=0;c<i;c++){var o=IE[c];o[0]=r[n++],o[1]=r[n++],il(o,o,t),r[s++]=o[0],r[s++]=o[1]}}}var kE=EE,Ed=at,nl=hi,OE=kE,ol=Math.sqrt,Qn=Math.sin,jn=Math.cos,Jn=Math.PI,bp=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},Ff=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(bp(e)*bp(t))},wp=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Ff(e,t))};function Ap(e,t,r,a,i,n,s,c,o,u,v){var h=o*(Jn/180),l=jn(h)*(e-r)/2+Qn(h)*(t-a)/2,d=-1*Qn(h)*(e-r)/2+jn(h)*(t-a)/2,f=l*l/(s*s)+d*d/(c*c);f>1&&(s*=ol(f),c*=ol(f));var m=(i===n?-1:1)*ol((s*s*(c*c)-s*s*(d*d)-c*c*(l*l))/(s*s*(d*d)+c*c*(l*l)))||0,g=m*s*d/c,p=m*-c*l/s,y=(e+r)/2+jn(h)*g-Qn(h)*p,_=(t+a)/2+Qn(h)*g+jn(h)*p,w=wp([1,0],[(l-g)/s,(d-p)/c]),S=[(l-g)/s,(d-p)/c],A=[(-1*l-g)/s,(-1*d-p)/c],x=wp(S,A);Ff(S,A)<=-1&&(x=Jn),Ff(S,A)>=1&&(x=0),n===0&&x>0&&(x=x-2*Jn),n===1&&x<0&&(x=x+2*Jn),v.addData(u,y,_,s,c,w,x,h,n)}var zE=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,BE=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function NE(e){if(!e)return new nl;for(var t=0,r=0,a=t,i=r,n,s=new nl,c=nl.CMD,o=e.match(zE),u=0;u<o.length;u++){for(var v=o[u],h=v.charAt(0),l,d=v.match(BE)||[],f=d.length,m=0;m<f;m++)d[m]=parseFloat(d[m]);for(var g=0;g<f;){var p,y,_,w,S,A,x,b=t,T=r;switch(h){case"l":t+=d[g++],r+=d[g++],l=c.L,s.addData(l,t,r);break;case"L":t=d[g++],r=d[g++],l=c.L,s.addData(l,t,r);break;case"m":t+=d[g++],r+=d[g++],l=c.M,s.addData(l,t,r),a=t,i=r,h="l";break;case"M":t=d[g++],r=d[g++],l=c.M,s.addData(l,t,r),a=t,i=r,h="L";break;case"h":t+=d[g++],l=c.L,s.addData(l,t,r);break;case"H":t=d[g++],l=c.L,s.addData(l,t,r);break;case"v":r+=d[g++],l=c.L,s.addData(l,t,r);break;case"V":r=d[g++],l=c.L,s.addData(l,t,r);break;case"C":l=c.C,s.addData(l,d[g++],d[g++],d[g++],d[g++],d[g++],d[g++]),t=d[g-2],r=d[g-1];break;case"c":l=c.C,s.addData(l,d[g++]+t,d[g++]+r,d[g++]+t,d[g++]+r,d[g++]+t,d[g++]+r),t+=d[g-2],r+=d[g-1];break;case"S":p=t,y=r;var M=s.len(),C=s.data;n===c.C&&(p+=t-C[M-4],y+=r-C[M-3]),l=c.C,b=d[g++],T=d[g++],t=d[g++],r=d[g++],s.addData(l,p,y,b,T,t,r);break;case"s":p=t,y=r;var M=s.len(),C=s.data;n===c.C&&(p+=t-C[M-4],y+=r-C[M-3]),l=c.C,b=t+d[g++],T=r+d[g++],t+=d[g++],r+=d[g++],s.addData(l,p,y,b,T,t,r);break;case"Q":b=d[g++],T=d[g++],t=d[g++],r=d[g++],l=c.Q,s.addData(l,b,T,t,r);break;case"q":b=d[g++]+t,T=d[g++]+r,t+=d[g++],r+=d[g++],l=c.Q,s.addData(l,b,T,t,r);break;case"T":p=t,y=r;var M=s.len(),C=s.data;n===c.Q&&(p+=t-C[M-4],y+=r-C[M-3]),t=d[g++],r=d[g++],l=c.Q,s.addData(l,p,y,t,r);break;case"t":p=t,y=r;var M=s.len(),C=s.data;n===c.Q&&(p+=t-C[M-4],y+=r-C[M-3]),t+=d[g++],r+=d[g++],l=c.Q,s.addData(l,p,y,t,r);break;case"A":_=d[g++],w=d[g++],S=d[g++],A=d[g++],x=d[g++],b=t,T=r,t=d[g++],r=d[g++],l=c.A,Ap(b,T,t,r,A,x,_,w,S,l,s);break;case"a":_=d[g++],w=d[g++],S=d[g++],A=d[g++],x=d[g++],b=t,T=r,t+=d[g++],r+=d[g++],l=c.A,Ap(b,T,t,r,A,x,_,w,S,l,s);break}}(h==="z"||h==="Z")&&(l=c.Z,s.addData(l),t=a,r=i),n=l}return s.toStatic(),s}function $T(e,t){var r=NE(e);return t=t||{},t.buildPath=function(a){if(a.setData){a.setData(r.data);var i=a.getContext();i&&a.rebuildPath(i)}else{var i=a;r.rebuildPath(i)}},t.applyTransform=function(a){OE(r,a),this.dirty(!0)},t}function VE(e,t){return new Ed($T(e,t))}function HE(e,t){return Ed.extend($T(e,t))}function qE(e,t){for(var r=[],a=e.length,i=0;i<a;i++){var n=e[i];n.path||n.createPathProxy(),n.__dirtyPath&&n.buildPath(n.path,n.shape,!0),r.push(n.path)}var s=new Ed(t);return s.createPathProxy(),s.buildPath=function(c){c.appendPath(r);var o=c.getContext();o&&c.rebuildPath(o)},s}mn.createFromString=VE;mn.extendFromString=HE;mn.mergePath=qE;var UT=pn,GE=W,FE=Ue,Di=tr,$E=oi,UE=$E.ContextCachedBy,Vo=function(e){UT.call(this,e)};Vo.prototype={constructor:Vo,type:"text",brush:function(e,t){var r=this.style;this.__dirty&&Di.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var a=r.text;if(a!=null&&(a+=""),!Di.needDrawText(a,r)){e.__attrCachedBy=UE.NONE;return}this.setTransform(e),Di.renderText(this,e,a,r,null,t),this.restoreTransform(e)},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Di.normalizeTextStyle(e,!0),!this._rect){e.text;var t=FE.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(t.x+=e.x||0,t.y+=e.y||0,Di.getStroke(e.textStroke,e.textStrokeWidth)){var r=e.textStrokeWidth;t.x-=r/2,t.y-=r/2,t.width+=r,t.height+=r}this._rect=t}return this._rect}};GE.inherits(Vo,UT);var WE=Vo,xa=WE,ZE=at,YE=ZE.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,r){r&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0)}}),WT=YE,Tp=nt,Hr=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function XE(e){return Tp.browser.ie&&Tp.browser.version>=11?function(){var t=this.__clipPaths,r=this.style,a;if(t)for(var i=0;i<t.length;i++){var n=t[i],s=n&&n.shape,c=n&&n.type;if(s&&(c==="sector"&&s.startAngle===s.endAngle||c==="rect"&&(!s.width||!s.height))){for(var o=0;o<Hr.length;o++)Hr[o][2]=r[Hr[o][0]],r[Hr[o][0]]=Hr[o][1];a=!0;break}}if(e.apply(this,arguments),a)for(var o=0;o<Hr.length;o++)r[Hr[o][0]]=Hr[o][2]}:e}var ZT=XE,Cp=at,KE=ZT,QE=Cp.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:KE(Cp.prototype.brush),buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r0||0,0),n=Math.max(t.r,0),s=t.startAngle,c=t.endAngle,o=t.clockwise,u=Math.cos(s),v=Math.sin(s);e.moveTo(u*i+r,v*i+a),e.lineTo(u*n+r,v*n+a),e.arc(r,a,n,s,c,!o),e.lineTo(Math.cos(c)*i+r,Math.sin(c)*i+a),i!==0&&e.arc(r,a,i,c,s,o),e.closePath()}}),jE=QE,JE=at,ek=JE.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.PI*2;e.moveTo(r+t.r,a),e.arc(r,a,t.r,0,i,!1),e.moveTo(r+t.r0,a),e.arc(r,a,t.r0,0,i,!0)}}),tk=ek,kd={},rk=Ee,ak=rk.distance;function Mp(e,t,r,a,i,n,s){var c=(r-e)*.5,o=(a-t)*.5;return(2*(t-r)+c+o)*s+(-3*(t-r)-2*c-o)*n+c*i+t}function ik(e,t){for(var r=e.length,a=[],i=0,n=1;n<r;n++)i+=ak(e[n-1],e[n]);var s=i/2;s=s<r?r:s;for(var n=0;n<s;n++){var c=n/(s-1)*(t?r:r-1),o=Math.floor(c),u=c-o,v,h=e[o%r],l,d;t?(v=e[(o-1+r)%r],l=e[(o+1)%r],d=e[(o+2)%r]):(v=e[o===0?o:o-1],l=e[o>r-2?r-1:o+1],d=e[o>r-3?r-1:o+2]);var f=u*u,m=u*f;a.push([Mp(v[0],h[0],l[0],d[0],u,f,m),Mp(v[1],h[1],l[1],d[1],u,f,m)])}return a}var nk=ik,Sa=Ee,eo=Sa.min,to=Sa.max,sl=Sa.scale,Dp=Sa.distance,Lp=Sa.add,ok=Sa.clone,sk=Sa.sub;function lk(e,t,r,a){var i=[],n=[],s=[],c=[],o,u,v,h;if(a){v=[1/0,1/0],h=[-1/0,-1/0];for(var l=0,d=e.length;l<d;l++)eo(v,v,e[l]),to(h,h,e[l]);eo(v,v,a[0]),to(h,h,a[1])}for(var l=0,d=e.length;l<d;l++){var f=e[l];if(r)o=e[l?l-1:d-1],u=e[(l+1)%d];else if(l===0||l===d-1){i.push(ok(e[l]));continue}else o=e[l-1],u=e[l+1];sk(n,u,o),sl(n,n,t);var m=Dp(f,o),g=Dp(f,u),p=m+g;p!==0&&(m/=p,g/=p),sl(s,n,-m),sl(c,n,g);var y=Lp([],f,s),_=Lp([],f,c);a&&(to(y,y,v),eo(y,y,h),to(_,_,v),eo(_,_,h)),i.push(y),i.push(_)}return r&&i.push(i.shift()),i}var uk=lk,vk=nk,hk=uk;function ck(e,t,r){var a=t.points,i=t.smooth;if(a&&a.length>=2){if(i&&i!=="spline"){var n=hk(a,i,r,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var s=a.length,c=0;c<(r?s:s-1);c++){var o=n[c*2],u=n[c*2+1],v=a[(c+1)%s];e.bezierCurveTo(o[0],o[1],u[0],u[1],v[0],v[1])}}else{i==="spline"&&(a=vk(a,r)),e.moveTo(a[0][0],a[0][1]);for(var c=1,h=a.length;c<h;c++)e.lineTo(a[c][0],a[c][1])}r&&e.closePath()}}kd.buildPath=ck;var fk=at,dk=kd,gk=fk.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){dk.buildPath(e,t,!0)}}),YT=gk,pk=at,mk=kd,yk=pk.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){mk.buildPath(e,t,!1)}}),XT=yk,ci={},Fa=Math.round;function _k(e,t,r){if(t){var a=t.x1,i=t.x2,n=t.y1,s=t.y2;e.x1=a,e.x2=i,e.y1=n,e.y2=s;var c=r&&r.lineWidth;c&&(Fa(a*2)===Fa(i*2)&&(e.x1=e.x2=ga(a,c,!0)),Fa(n*2)===Fa(s*2)&&(e.y1=e.y2=ga(n,c,!0)))}}function xk(e,t,r){if(t){var a=t.x,i=t.y,n=t.width,s=t.height;e.x=a,e.y=i,e.width=n,e.height=s;var c=r&&r.lineWidth;c&&(e.x=ga(a,c,!0),e.y=ga(i,c,!0),e.width=Math.max(ga(a+n,c,!1)-e.x,n===0?0:1),e.height=Math.max(ga(i+s,c,!1)-e.y,s===0?0:1))}}function ga(e,t,r){if(!t)return e;var a=Fa(e*2);return(a+Fa(t))%2===0?a/2:(a+(r?1:-1))/2}ci.subPixelOptimizeLine=_k;ci.subPixelOptimizeRect=xk;ci.subPixelOptimize=ga;var Sk=at,bk=md,wk=ci,Ak=wk.subPixelOptimizeRect,la={},Tk=Sk.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var r,a,i,n;this.subPixelOptimize?(Ak(la,t,this.style),r=la.x,a=la.y,i=la.width,n=la.height,la.r=t.r,t=la):(r=t.x,a=t.y,i=t.width,n=t.height),t.r?bk.buildPath(e,t):e.rect(r,a,i,n),e.closePath()}}),Od=Tk,Ck=at,Mk=ci,Dk=Mk.subPixelOptimizeLine,Li={},Lk=Ck.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r,a,i,n;this.subPixelOptimize?(Dk(Li,t,this.style),r=Li.x1,a=Li.y1,i=Li.x2,n=Li.y2):(r=t.x1,a=t.y1,i=t.x2,n=t.y2);var s=t.percent;s!==0&&(e.moveTo(r,a),s<1&&(i=r*(1-s)+i*s,n=a*(1-s)+n*s),e.lineTo(i,n))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),KT=Lk,Pk=at,Ik=Ee,fi=ut,Pp=fi.quadraticSubdivide,Ip=fi.cubicSubdivide,Rp=fi.quadraticAt,Ep=fi.cubicAt,kp=fi.quadraticDerivativeAt,Op=fi.cubicDerivativeAt,Pt=[];function zp(e,t,r){var a=e.cpx2,i=e.cpy2;return a===null||i===null?[(r?Op:Ep)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?Op:Ep)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?kp:Rp)(e.x1,e.cpx1,e.x2,t),(r?kp:Rp)(e.y1,e.cpy1,e.y2,t)]}var Rk=Pk.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.x1,a=t.y1,i=t.x2,n=t.y2,s=t.cpx1,c=t.cpy1,o=t.cpx2,u=t.cpy2,v=t.percent;v!==0&&(e.moveTo(r,a),o==null||u==null?(v<1&&(Pp(r,s,i,v,Pt),s=Pt[1],i=Pt[2],Pp(a,c,n,v,Pt),c=Pt[1],n=Pt[2]),e.quadraticCurveTo(s,c,i,n)):(v<1&&(Ip(r,s,o,i,v,Pt),s=Pt[1],o=Pt[2],i=Pt[3],Ip(a,c,u,n,v,Pt),c=Pt[1],u=Pt[2],n=Pt[3]),e.bezierCurveTo(s,c,o,u,i,n)))},pointAt:function(e){return zp(this.shape,e,!1)},tangentAt:function(e){var t=zp(this.shape,e,!0);return Ik.normalize(t,t)}}),Ek=Rk,kk=at,Ok=kk.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r,0),n=t.startAngle,s=t.endAngle,c=t.clockwise,o=Math.cos(n),u=Math.sin(n);e.moveTo(o*i+r,u*i+a),e.arc(r,a,i,n,s,!c)}}),zk=Ok,Bp=at,Bk=Bp.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,r=0;r<t.length;r++)e=e||t[r].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(t[0],t[1],e[r].segmentIgnoreThreshold)},buildPath:function(e,t){for(var r=t.paths||[],a=0;a<r.length;a++)r[a].buildPath(e,r[a].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Bp.prototype.getBoundingRect.call(this)}}),Nk=Bk,$f=function(e){this.colorStops=e||[]};$f.prototype={constructor:$f,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var Vk=$f,rs=Vk,Hk=W,QT=rs,Ho=function(e,t,r,a,i,n){this.x=e??0,this.y=t??0,this.x2=r??1,this.y2=a??0,this.type="linear",this.global=n||!1,QT.call(this,i)};Ho.prototype={constructor:Ho};Hk.inherits(Ho,QT);var qk=Ho,zd=qk,Gk=W,jT=rs,qo=function(e,t,r,a,i){this.x=e??.5,this.y=t??.5,this.r=r??.5,this.type="radial",this.global=i||!1,jT.call(this,a)};qo.prototype={constructor:qo};Gk.inherits(qo,jT);var Fk=qo,$k=Fk,Uk=W,Wk=Uk.inherits,JT=pn,Zk=Xe;function rr(e){JT.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}rr.prototype.incremental=!0;rr.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1};rr.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()};rr.prototype.addDisplayables=function(e,t){t=t||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],t)};rr.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])};rr.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}};rr.prototype.brush=function(e,t){for(var r=this._cursor;r<this._displayables.length;r++){var a=this._displayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===this._cursor?null:this._displayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._cursor=r;for(var r=0;r<this._temporaryDisplayables.length;r++){var a=this._temporaryDisplayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===0?null:this._temporaryDisplayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var Yk=[];rr.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Zk(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var r=this._displayables[t],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(Yk)),e.union(a)}this._rect=e}return this._rect};rr.prototype.contain=function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var i=0;i<this._displayables.length;i++){var n=this._displayables[i];if(n.contain(e,t))return!0}return!1};Wk(rr,JT);var Xk=rr,Bd=Xk,zt=W,Nd=mn,Kk=lt,Uf=Je,eC=Ee,Qk=at,jk=Jo,Vd=ui;fe.Image=Vd;var Jk=_a;fe.Group=Jk;var eO=xa;fe.Text=eO;var tC=WT;fe.Circle=tC;var rC=jE;fe.Sector=rC;var aC=tk;fe.Ring=aC;var iC=YT;fe.Polygon=iC;var nC=XT;fe.Polyline=nC;var oC=Od;fe.Rect=oC;var sC=KT;fe.Line=sC;var lC=Ek;fe.BezierCurve=lC;var uC=zk;fe.Arc=uC;var tO=Nk;fe.CompoundPath=tO;var rO=zd;fe.LinearGradient=rO;var aO=$k;fe.RadialGradient=aO;var iO=Xe;fe.BoundingRect=iO;var nO=Bd;fe.IncrementalDisplayable=nO;var Hd=ci,Go=Math.max,Fo=Math.min,as={},qd=1,oO={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Np="emphasis",Vp="normal",Hp=1,qp={},Wf={};function sO(e){return Qk.extend(e)}function lO(e,t){return Nd.extendFromString(e,t)}function yr(e,t){Wf[e]=t}function uO(e){if(Wf.hasOwnProperty(e))return Wf[e]}function vC(e,t,r,a){var i=Nd.createFromString(e,t);return r&&(a==="center"&&(r=hC(r,i.getBoundingRect())),cC(i,r)),i}function vO(e,t,r){var a=new Vd({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var n={width:i.width,height:i.height};a.setStyle(hC(t,n))}}});return a}function hC(e,t){var r=t.width/t.height,a=e.height*r,i;a<=e.width?i=e.height:(a=e.width,i=a/r);var n=e.x+e.width/2,s=e.y+e.height/2;return{x:n-a/2,y:s-i/2,width:a,height:i}}var hO=Nd.mergePath;function cC(e,t){if(e.applyTransform){var r=e.getBoundingRect(),a=r.calculateTransform(t);e.applyTransform(a)}}function cO(e){return Hd.subPixelOptimizeLine(e.shape,e.shape,e.style),e}function fO(e){return Hd.subPixelOptimizeRect(e.shape,e.shape,e.style),e}var dO=Hd.subPixelOptimize;function Gp(e){return e!=null&&e!=="none"}var Fp=zt.createHashMap(),$p=0;function gO(e){if(typeof e!="string")return e;var t=Fp.get(e);return t||(t=Kk.lift(e,-.1),$p<1e4&&(Fp.set(e,t),$p++)),t}function pO(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t){e.__cachedNormalStl=e.__cachedNormalZ2=null;return}var r=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var a=e.style;for(var i in t)t[i]!=null&&(r[i]=a[i]);r.fill=a.fill,r.stroke=a.stroke}}function Gd(e){var t=e.__hoverStl;if(!(!t||e.__highlighted)){var r=e.__zr,a=e.useHoverLayer&&r&&r.painter.type==="canvas";if(e.__highlighted=a?"layer":"plain",!(e.isGroup||!r&&e.useHoverLayer)){var i=e,n=e.style;a&&(i=r.addHover(e),n=i.style),$o(n),a||pO(i),n.extendFrom(t),Up(n,t,"fill"),Up(n,t,"stroke"),en(n),a||(e.dirty(!1),e.z2+=qd)}}}function Up(e,t,r){!Gp(t[r])&&Gp(e[r])&&(e[r]=gO(e[r]))}function Fd(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if(t==="layer")e.__zr&&e.__zr.removeHover(e);else{var r=e.style,a=e.__cachedNormalStl;a&&($o(r),e.setStyle(a),en(r));var i=e.__cachedNormalZ2;i!=null&&e.z2-i===qd&&(e.z2=i)}}function _n(e,t,r){var a=Vp,i=Vp,n;e.__highlighted&&(a=Np,n=!0),t(e,r),e.__highlighted&&(i=Np,n=!0),e.isGroup&&e.traverse(function(s){!s.isGroup&&t(s,r)}),n&&e.__highDownOnUpdate&&e.__highDownOnUpdate(a,i)}function fC(e,t){t=e.__hoverStl=t!==!1&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,Fd(e),Gd(e))}function mO(e){!dC(this,e)&&!this.__highByOuter&&_n(this,Gd)}function yO(e){!dC(this,e)&&!this.__highByOuter&&_n(this,Fd)}function _O(e){this.__highByOuter|=1<<(e||0),_n(this,Gd)}function xO(e){!(this.__highByOuter&=~(1<<(e||0)))&&_n(this,Fd)}function dC(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function SO(e,t){gC(e,!0),_n(e,fC,t)}function gC(e,t){var r=t===!1;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!r||e.__highDownDispatcher){var a=r?"off":"on";e[a]("mouseover",mO)[a]("mouseout",yO),e[a]("emphasis",_O)[a]("normal",xO),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!r}}function bO(e){return!!(e&&e.__highDownDispatcher)}function wO(e){var t=qp[e];return t==null&&Hp<=32&&(t=qp[e]=Hp++),t}function AO(e,t,r,a,i,n,s){i=i||as;var c=i.labelFetcher,o=i.labelDataIndex,u=i.labelDimIndex,v=i.labelProp,h=r.getShallow("show"),l=a.getShallow("show"),d;(h||l)&&(c&&(d=c.getFormattedLabel(o,"normal",null,u,v)),d==null&&(d=zt.isFunction(i.defaultText)?i.defaultText(o,i):i.defaultText));var f=h?d:null,m=l?zt.retrieve2(c?c.getFormattedLabel(o,"emphasis",null,u,v):null,d):null;(f!=null||m!=null)&&(Zf(e,r,n,i),Zf(t,a,s,i,!0)),e.text=f,t.text=m}function TO(e,t,r){var a=e.style;t&&($o(a),e.setStyle(t),en(a)),a=e.__hoverStl,r&&a&&($o(a),zt.extend(a,r),en(a))}function Zf(e,t,r,a,i){return pC(e,t,a,i),r&&zt.extend(e,r),e}function CO(e,t,r){var a={isRectText:!0},i;r===!1?i=!0:a.autoColor=r,pC(e,t,a,i)}function pC(e,t,r,a){if(r=r||as,r.isRectText){var i;r.getTextPosition?i=r.getTextPosition(t,a):(i=t.getShallow("position")||(a?null:"inside"),i==="outside"&&(i="top")),e.textPosition=i,e.textOffset=t.getShallow("offset");var n=t.getShallow("rotate");n!=null&&(n*=Math.PI/180),e.textRotation=n,e.textDistance=zt.retrieve2(t.getShallow("distance"),a?null:5)}var s=t.ecModel,c=s&&s.option.textStyle,o=MO(t),u;if(o){u={};for(var v in o)if(o.hasOwnProperty(v)){var h=t.getModel(["rich",v]);Wp(u[v]={},h,c,r,a)}}return e.rich=u,Wp(e,t,c,r,a,!0),r.forceRich&&!r.textStyle&&(r.textStyle={}),e}function MO(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||as).rich;if(r){t=t||{};for(var a in r)r.hasOwnProperty(a)&&(t[a]=1)}e=e.parentModel}return t}function Wp(e,t,r,a,i,n){r=!i&&r||as,e.textFill=ro(t.getShallow("color"),a)||r.color,e.textStroke=ro(t.getShallow("textBorderColor"),a)||r.textBorderColor,e.textStrokeWidth=zt.retrieve2(t.getShallow("textBorderWidth"),r.textBorderWidth),i||(n&&(e.insideRollbackOpt=a,en(e)),e.textFill==null&&(e.textFill=a.autoColor)),e.fontStyle=t.getShallow("fontStyle")||r.fontStyle,e.fontWeight=t.getShallow("fontWeight")||r.fontWeight,e.fontSize=t.getShallow("fontSize")||r.fontSize,e.fontFamily=t.getShallow("fontFamily")||r.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),(!n||!a.disableBox)&&(e.textBackgroundColor=ro(t.getShallow("backgroundColor"),a),e.textPadding=t.getShallow("padding"),e.textBorderColor=ro(t.getShallow("borderColor"),a),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||r.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||r.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||r.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function ro(e,t){return e!=="auto"?e:t&&t.autoColor?t.autoColor:null}function en(e){var t=e.textPosition,r=e.insideRollbackOpt,a;if(r&&e.textFill==null){var i=r.autoColor,n=r.isRectText,s=r.useInsideStyle,c=s!==!1&&(s===!0||n&&t&&typeof t=="string"&&t.indexOf("inside")>=0),o=!c&&i!=null;(c||o)&&(a={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),c&&(e.textFill="#fff",e.textStroke==null&&(e.textStroke=i,e.textStrokeWidth==null&&(e.textStrokeWidth=2))),o&&(e.textFill=i)}e.insideRollback=a}function $o(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function DO(e,t){var r=t&&t.getModel("textStyle");return zt.trim([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}function mC(e,t,r,a,i,n){typeof i=="function"&&(n=i,i=null);var s=a&&a.isAnimationEnabled();if(s){var c=e?"Update":"",o=a.getShallow("animationDuration"+c),u=a.getShallow("animationEasing"+c),v=a.getShallow("animationDelay"+c);typeof v=="function"&&(v=v(i,a.getAnimationDelayParams?a.getAnimationDelayParams(t,i):null)),typeof o=="function"&&(o=o(i)),o>0?t.animateTo(r,o,v||0,u,n,!!n):(t.stopAnimation(),t.attr(r),n&&n())}else t.stopAnimation(),t.attr(r),n&&n()}function yC(e,t,r,a,i){mC(!0,e,t,r,a,i)}function LO(e,t,r,a,i){mC(!1,e,t,r,a,i)}function PO(e,t){for(var r=Uf.identity([]);e&&e!==t;)Uf.mul(r,e.getLocalTransform(),r),e=e.parent;return r}function _C(e,t,r){return t&&!zt.isArrayLike(t)&&(t=jk.getLocalTransform(t)),r&&(t=Uf.invert([],t)),eC.applyTransform([],e,t)}function IO(e,t,r){var a=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),n=[e==="left"?-a:e==="right"?a:0,e==="top"?-i:e==="bottom"?i:0];return n=_C(n,t,r),Math.abs(n[0])>Math.abs(n[1])?n[0]>0?"right":"left":n[1]>0?"bottom":"top"}function RO(e,t,r,a){if(!e||!t)return;function i(c){var o={};return c.traverse(function(u){!u.isGroup&&u.anid&&(o[u.anid]=u)}),o}function n(c){var o={position:eC.clone(c.position),rotation:c.rotation};return c.shape&&(o.shape=zt.extend({},c.shape)),o}var s=i(e);t.traverse(function(c){if(!c.isGroup&&c.anid){var o=s[c.anid];if(o){var u=n(c);c.attr(n(o)),yC(c,u,r,c.dataIndex)}}})}function EO(e,t){return zt.map(e,function(r){var a=r[0];a=Go(a,t.x),a=Fo(a,t.x+t.width);var i=r[1];return i=Go(i,t.y),i=Fo(i,t.y+t.height),[a,i]})}function kO(e,t){var r=Go(e.x,t.x),a=Fo(e.x+e.width,t.x+t.width),i=Go(e.y,t.y),n=Fo(e.y+e.height,t.y+t.height);if(a>=r&&n>=i)return{x:r,y:i,width:a-r,height:n-i}}function OO(e,t,r){t=zt.extend({rectHover:!0},t);var a=t.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),zt.defaults(a,r),new Vd(t)):vC(e.replace("path://",""),t,r,"center")}function zO(e,t,r,a,i){for(var n=0,s=i[i.length-1];n<i.length;n++){var c=i[n];if(xC(e,t,r,a,c[0],c[1],s[0],s[1]))return!0;s=c}}function xC(e,t,r,a,i,n,s,c){var o=r-e,u=a-t,v=s-i,h=c-n,l=ll(v,h,o,u);if(BO(l))return!1;var d=e-i,f=t-n,m=ll(d,f,o,u)/l;if(m<0||m>1)return!1;var g=ll(d,f,v,h)/l;return!(g<0||g>1)}function ll(e,t,r,a){return e*a-r*t}function BO(e){return e<=1e-6&&e>=-1e-6}yr("circle",tC);yr("sector",rC);yr("ring",aC);yr("polygon",iC);yr("polyline",nC);yr("rect",oC);yr("line",sC);yr("bezierCurve",lC);yr("arc",uC);fe.Z2_EMPHASIS_LIFT=qd;fe.CACHED_LABEL_STYLE_PROPERTIES=oO;fe.extendShape=sO;fe.extendPath=lO;fe.registerShape=yr;fe.getShapeClass=uO;fe.makePath=vC;fe.makeImage=vO;fe.mergePath=hO;fe.resizePath=cC;fe.subPixelOptimizeLine=cO;fe.subPixelOptimizeRect=fO;fe.subPixelOptimize=dO;fe.setElementHoverStyle=fC;fe.setHoverStyle=SO;fe.setAsHighDownDispatcher=gC;fe.isHighDownDispatcher=bO;fe.getHighlightDigit=wO;fe.setLabelStyle=AO;fe.modifyLabelStyle=TO;fe.setTextStyle=Zf;fe.setText=CO;fe.getFont=DO;fe.updateProps=yC;fe.initProps=LO;fe.getTransform=PO;fe.applyTransform=_C;fe.transformDirection=IO;fe.groupTransition=RO;fe.clipPointsByRect=EO;fe.clipRectByRect=kO;fe.createIcon=OO;fe.linePolygonIntersect=zO;fe.lineLineIntersect=xC;var NO=Ue,VO=fe,HO=["textStyle","color"],qO={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(HO):null)},getFont:function(){return VO.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return NO.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},GO=qO,FO=vi,$O=FO([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),UO={getItemStyle:function(e,t){var r=$O(this,e,t),a=this.getBorderLineDash();return a&&(r.lineDash=a),r},getBorderLineDash:function(){var e=this.get("borderType");return e==="solid"||e==null?null:e==="dashed"?[5,5]:[1,1]}},WO=UO,Yf=W,ZO=nt,YO=Ie,XO=YO.makeInner,SC=Et,KO=SC.enableClassExtend,QO=SC.enableClassCheck,jO=N2,JO=G2,ez=GO,tz=WO,is=Yf.mixin,bC=XO();function mr(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}mr.prototype={constructor:mr,init:null,mergeOption:function(e){Yf.merge(this.option,e,!0)},get:function(e,t){return e==null?this.option:Zp(this.option,this.parsePath(e),!t&&ul(this,e))},getShallow:function(e,t){var r=this.option,a=r==null?r:r[e],i=!t&&ul(this,e);return a==null&&i&&(a=i.getShallow(e)),a},getModel:function(e,t){var r=e==null?this.option:Zp(this.option,e=this.parsePath(e)),a;return t=t||(a=ul(this,e))&&a.getModel(e),new mr(r,t,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var e=this.constructor;return new e(Yf.clone(this.option))},setReadOnly:function(e){},parsePath:function(e){return typeof e=="string"&&(e=e.split(".")),e},customizeGetParent:function(e){bC(this).getParent=e},isAnimationEnabled:function(){if(!ZO.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};function Zp(e,t,r){for(var a=0;a<t.length&&!(t[a]&&(e=e&&typeof e=="object"?e[t[a]]:null,e==null));a++);return e==null&&r&&(e=r.get(t)),e}function ul(e,t){var r=bC(e).getParent;return r?r.call(e,t):e.parentModel}KO(mr);QO(mr);is(mr,jO);is(mr,JO);is(mr,ez);is(mr,tz);var rz=mr,ot=rz,jr={},wr=W,az=Et,Yp=az.parseClassType,iz=0;function nz(e){return[e||"",iz++,Math.random().toFixed(5)].join("_")}function oz(e){var t={};return e.registerSubTypeDefaulter=function(r,a){r=Yp(r),t[r.main]=a},e.determineSubType=function(r,a){var i=a.type;if(!i){var n=Yp(r).main;e.hasSubTypes(r)&&t[n]&&(i=t[n](a))}return i},e}function sz(e,t){e.topologicalTravel=function(n,s,c,o){if(!n.length)return;var u=r(s),v=u.graph,h=u.noEntryList,l={};for(wr.each(n,function(y){l[y]=!0});h.length;){var d=h.pop(),f=v[d],m=!!l[d];m&&(c.call(o,d,f.originalDeps.slice()),delete l[d]),wr.each(f.successor,m?p:g)}wr.each(l,function(){throw new Error("Circle dependency may exists")});function g(y){v[y].entryCount--,v[y].entryCount===0&&h.push(y)}function p(y){l[y]=!0,g(y)}};function r(n){var s={},c=[];return wr.each(n,function(o){var u=a(s,o),v=u.originalDeps=t(o),h=i(v,n);u.entryCount=h.length,u.entryCount===0&&c.push(o),wr.each(h,function(l){wr.indexOf(u.predecessor,l)<0&&u.predecessor.push(l);var d=a(s,l);wr.indexOf(d.successor,l)<0&&d.successor.push(o)})}),{graph:s,noEntryList:c}}function a(n,s){return n[s]||(n[s]={predecessor:[],successor:[]}),n[s]}function i(n,s){var c=[];return wr.each(n,function(o){wr.indexOf(s,o)>=0&&c.push(o)}),c}}jr.getUID=nz;jr.enableSubTypeDefaulter=oz;jr.enableTopologicalTravel=sz;var Be={},Le={},Pi=W,Xp=1e-4;function lz(e){return e.replace(/^\s+|\s+$/g,"")}function uz(e,t,r,a){var i=t[1]-t[0],n=r[1]-r[0];if(i===0)return n===0?r[0]:(r[0]+r[1])/2;if(a)if(i>0){if(e<=t[0])return r[0];if(e>=t[1])return r[1]}else{if(e>=t[0])return r[0];if(e<=t[1])return r[1]}else{if(e===t[0])return r[0];if(e===t[1])return r[1]}return(e-t[0])/i*n+r[0]}function vz(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return typeof e=="string"?lz(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function hz(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),r?e:+e}function cz(e){return e.sort(function(t,r){return t-r}),e}function fz(e){if(e=+e,isNaN(e))return 0;for(var t=1,r=0;Math.round(e*t)/t!==e;)t*=10,r++;return r}function dz(e){var t=e.toString(),r=t.indexOf("e");if(r>0){var a=+t.slice(r+1);return a<0?-a:0}else{var i=t.indexOf(".");return i<0?0:t.length-1-i}}function gz(e,t){var r=Math.log,a=Math.LN10,i=Math.floor(r(e[1]-e[0])/a),n=Math.round(r(Math.abs(t[1]-t[0]))/a),s=Math.min(Math.max(-i+n,0),20);return isFinite(s)?s:20}function pz(e,t,r){if(!e[t])return 0;var a=Pi.reduce(e,function(f,m){return f+(isNaN(m)?0:m)},0);if(a===0)return 0;for(var i=Math.pow(10,r),n=Pi.map(e,function(f){return(isNaN(f)?0:f)/a*i*100}),s=i*100,c=Pi.map(n,function(f){return Math.floor(f)}),o=Pi.reduce(c,function(f,m){return f+m},0),u=Pi.map(n,function(f,m){return f-c[m]});o<s;){for(var v=Number.NEGATIVE_INFINITY,h=null,l=0,d=u.length;l<d;++l)u[l]>v&&(v=u[l],h=l);++c[h],u[h]=0,++o}return c[t]/i}var mz=9007199254740991;function yz(e){var t=Math.PI*2;return(e%t+t)%t}function _z(e){return e>-Xp&&e<Xp}var xz=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Sz(e){if(e instanceof Date)return e;if(typeof e=="string"){var t=xz.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,+t[7]||0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function bz(e){return Math.pow(10,$d(e))}function $d(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function wz(e,t){var r=$d(e),a=Math.pow(10,r),i=e/a,n;return t?i<1.5?n=1:i<2.5?n=2:i<4?n=3:i<7?n=5:n=10:i<1?n=1:i<2?n=2:i<3?n=3:i<5?n=5:n=10,e=n*a,r>=-20?+e.toFixed(r<0?-r:0):e}function Az(e,t){var r=(e.length-1)*t+1,a=Math.floor(r),i=+e[a-1],n=r-a;return n?i+n*(e[a]-i):i}function Tz(e){e.sort(function(o,u){return c(o,u,0)?-1:1});for(var t=-1/0,r=1,a=0;a<e.length;){for(var i=e[a].interval,n=e[a].close,s=0;s<2;s++)i[s]<=t&&(i[s]=t,n[s]=s?1:1-r),t=i[s],r=n[s];i[0]===i[1]&&n[0]*n[1]!==1?e.splice(a,1):a++}return e;function c(o,u,v){return o.interval[v]<u.interval[v]||o.interval[v]===u.interval[v]&&(o.close[v]-u.close[v]===(v?-1:1)||!v&&c(o,u,1))}}function Cz(e){return e-parseFloat(e)>=0}Le.linearMap=uz;Le.parsePercent=vz;Le.round=hz;Le.asc=cz;Le.getPrecision=fz;Le.getPrecisionSafe=dz;Le.getPixelPrecision=gz;Le.getPercentWithPrecision=pz;Le.MAX_SAFE_INTEGER=mz;Le.remRadian=yz;Le.isRadianAroundZero=_z;Le.parseDate=Sz;Le.quantity=bz;Le.quantityExponent=$d;Le.nice=wz;Le.quantile=Az;Le.reformIntervals=Tz;Le.isNumeric=Cz;var Ne={},ns=W,Ud=Ue,Mz=Le;function Dz(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))}function Lz(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,a){return a.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Pz=ns.normalizeCssArray,Iz=/([&<>"'])/g,Rz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tn(e){return e==null?"":(e+"").replace(Iz,function(t,r){return Rz[r]})}var Kp=["a","b","c","d","e","f","g"],vl=function(e,t){return"{"+e+(t??"")+"}"};function Ez(e,t,r){ns.isArray(t)||(t=[t]);var a=t.length;if(!a)return"";for(var i=t[0].$vars||[],n=0;n<i.length;n++){var s=Kp[n];e=e.replace(vl(s),vl(s,0))}for(var c=0;c<a;c++)for(var o=0;o<i.length;o++){var u=t[c][i[o]];e=e.replace(vl(Kp[o],c),r?tn(u):u)}return e}function kz(e,t,r){return ns.each(t,function(a,i){e=e.replace("{"+i+"}",r?tn(a):a)}),e}function Oz(e,i){e=ns.isString(e)?{color:e,extraCssText:i}:e||{};var r=e.color,a=e.type,i=e.extraCssText,n=e.renderMode||"html",s=e.markerId||"X";return r?n==="html"?a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+tn(r)+";"+(i||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+tn(r)+";"+(i||"")+'"></span>':{renderMode:n,content:"{marker"+s+"|}  ",style:{color:r}}:""}function Ba(e,t){return e+="","0000".substr(0,t-e.length)+e}function zz(e,t,r){(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year")&&(e=`MM-dd
yyyy`);var a=Mz.parseDate(t),i=r?"UTC":"",n=a["get"+i+"FullYear"](),s=a["get"+i+"Month"]()+1,c=a["get"+i+"Date"](),o=a["get"+i+"Hours"](),u=a["get"+i+"Minutes"](),v=a["get"+i+"Seconds"](),h=a["get"+i+"Milliseconds"]();return e=e.replace("MM",Ba(s,2)).replace("M",s).replace("yyyy",n).replace("yy",n%100).replace("dd",Ba(c,2)).replace("d",c).replace("hh",Ba(o,2)).replace("h",o).replace("mm",Ba(u,2)).replace("m",u).replace("ss",Ba(v,2)).replace("s",v).replace("SSS",Ba(h,3)),e}function Bz(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}var Nz=Ud.truncateText;function Vz(e){return Ud.getBoundingRect(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)}function Hz(e,t,r,a,i,n,s,c){return Ud.getBoundingRect(e,t,r,a,i,c,n,s)}function qz(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null,r.location=e}else window.open(e,t)}Ne.addCommas=Dz;Ne.toCamelCase=Lz;Ne.normalizeCssArray=Pz;Ne.encodeHTML=tn;Ne.formatTpl=Ez;Ne.formatTplSimple=kz;Ne.getTooltipMarker=Oz;Ne.formatTime=zz;Ne.capitalFirst=Bz;Ne.truncateText=Nz;Ne.getTextBoundingRect=Vz;Ne.getTextRect=Hz;Ne.windowOpen=qz;var ti=W,wC=Xe,Gz=Le,cr=Gz.parsePercent,AC=Ne,Ao=ti.each,TC=["left","right","top","bottom","width","height"],Xr=[["width","left","right"],["height","top","bottom"]];function Wd(e,t,r,a,i){var n=0,s=0;a==null&&(a=1/0),i==null&&(i=1/0);var c=0;t.eachChild(function(o,u){var v=o.position,h=o.getBoundingRect(),l=t.childAt(u+1),d=l&&l.getBoundingRect(),f,m;if(e==="horizontal"){var g=h.width+(d?-d.x+h.x:0);f=n+g,f>a||o.newline?(n=0,f=g,s+=c+r,c=h.height):c=Math.max(c,h.height)}else{var p=h.height+(d?-d.y+h.y:0);m=s+p,m>i||o.newline?(n+=c+r,s=0,m=p,c=h.width):c=Math.max(c,h.width)}o.newline||(v[0]=n,v[1]=s,e==="horizontal"?n=f+r:s=m+r)})}var Fz=Wd,$z=ti.curry(Wd,"vertical"),Uz=ti.curry(Wd,"horizontal");function Wz(e,t,r){var a=t.width,i=t.height,n=cr(e.x,a),s=cr(e.y,i),c=cr(e.x2,a),o=cr(e.y2,i);return(isNaN(n)||isNaN(parseFloat(e.x)))&&(n=0),(isNaN(c)||isNaN(parseFloat(e.x2)))&&(c=a),(isNaN(s)||isNaN(parseFloat(e.y)))&&(s=0),(isNaN(o)||isNaN(parseFloat(e.y2)))&&(o=i),r=AC.normalizeCssArray(r||0),{width:Math.max(c-n-r[1]-r[3],0),height:Math.max(o-s-r[0]-r[2],0)}}function CC(e,t,r){r=AC.normalizeCssArray(r||0);var a=t.width,i=t.height,n=cr(e.left,a),s=cr(e.top,i),c=cr(e.right,a),o=cr(e.bottom,i),u=cr(e.width,a),v=cr(e.height,i),h=r[2]+r[0],l=r[1]+r[3],d=e.aspect;switch(isNaN(u)&&(u=a-c-l-n),isNaN(v)&&(v=i-o-h-s),d!=null&&(isNaN(u)&&isNaN(v)&&(d>a/i?u=a*.8:v=i*.8),isNaN(u)&&(u=d*v),isNaN(v)&&(v=u/d)),isNaN(n)&&(n=a-c-u-l),isNaN(s)&&(s=i-o-v-h),e.left||e.right){case"center":n=a/2-u/2-r[3];break;case"right":n=a-u-l;break}switch(e.top||e.bottom){case"middle":case"center":s=i/2-v/2-r[0];break;case"bottom":s=i-v-h;break}n=n||0,s=s||0,isNaN(u)&&(u=a-l-n-(c||0)),isNaN(v)&&(v=i-h-s-(o||0));var f=new wC(n+r[3],s+r[0],u,v);return f.margin=r,f}function Zz(e,t,r,a,i){var n=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],c=i&&i.boundingMode||"all";if(!(!n&&!s)){var o;if(c==="raw")o=e.type==="group"?new wC(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(o=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();o=o.clone(),o.applyTransform(u)}t=CC(ti.defaults({width:o.width,height:o.height},t),r,a);var v=e.position,h=n?t.x-o.x:0,l=s?t.y-o.y:0;e.attr("position",c==="raw"?[h,l]:[v[0]+h,v[1]+l])}}function Yz(e,t){return e[Xr[t][0]]!=null||e[Xr[t][1]]!=null&&e[Xr[t][2]]!=null}function Xz(e,t,r){!ti.isObject(r)&&(r={});var a=r.ignoreSize;!ti.isArray(a)&&(a=[a,a]);var i=s(Xr[0],0),n=s(Xr[1],1);u(Xr[0],e,i),u(Xr[1],e,n);function s(v,h){var l={},d=0,f={},m=0,g=2;if(Ao(v,function(_){f[_]=e[_]}),Ao(v,function(_){c(t,_)&&(l[_]=f[_]=t[_]),o(l,_)&&d++,o(f,_)&&m++}),a[h])return o(t,v[1])?f[v[2]]=null:o(t,v[2])&&(f[v[1]]=null),f;if(m===g||!d)return f;if(d>=g)return l;for(var p=0;p<v.length;p++){var y=v[p];if(!c(l,y)&&c(e,y)){l[y]=e[y];break}}return l}function c(v,h){return v.hasOwnProperty(h)}function o(v,h){return v[h]!=null&&v[h]!=="auto"}function u(v,h,l){Ao(v,function(d){h[d]=l[d]})}}function Kz(e){return MC({},e)}function MC(e,t){return t&&e&&Ao(TC,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}Be.LOCATION_PARAMS=TC;Be.HV_NAMES=Xr;Be.box=Fz;Be.vbox=$z;Be.hbox=Uz;Be.getAvailableSize=Wz;Be.getLayoutRect=CC;Be.positionElement=Zz;Be.sizeCalculable=Yz;Be.mergeLayoutParam=Xz;Be.getLayoutParams=Kz;Be.copyLayoutParams=MC;var Qz={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},jz=Qz,Kr=W,Qp=ot,Zd=jr,DC=Et,Jz=DC.enableClassManagement,eB=DC.parseClassType,tB=Ie,rB=tB.makeInner,hl=Be,aB=jz,iB=rB(),di=Qp.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,r,a){Qp.call(this,e,t,r,a),this.uid=Zd.getUID("ec_cpt_model")},init:function(e,t,r,a){this.mergeDefaultAndTheme(e,r)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?hl.getLayoutParams(e):{},i=t.getTheme();Kr.merge(e,i.get(this.mainType)),Kr.merge(e,this.getDefaultOption()),r&&hl.mergeLayoutParam(e,a,r)},mergeOption:function(e,t){Kr.merge(this.option,e,!0);var r=this.layoutMode;r&&hl.mergeLayoutParam(this.option,e,r)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=iB(this);if(!e.defaultOption){for(var t=[],r=this.constructor;r;){var a=r.prototype.defaultOption;a&&t.push(a),r=r.superClass}for(var i={},n=t.length-1;n>=0;n--)i=Kr.merge(i,t[n],!0);e.defaultOption=i}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});Jz(di,{registerWhenExtend:!0});Zd.enableSubTypeDefaulter(di);Zd.enableTopologicalTravel(di,nB);function nB(e){var t=[];return Kr.each(di.getClassesByMainType(e),function(r){t=t.concat(r.prototype.dependencies||[])}),t=Kr.map(t,function(r){return eB(r).main}),e!=="dataset"&&Kr.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}Kr.mixin(di,aB);var oB=di,ht=oB,LC="";typeof navigator<"u"&&(LC=navigator.platform||"");var sB={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:LC.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},lB=sB,PC=Ie,uB=PC.makeInner,vB=PC.normalizeToArray,cl=uB();function hB(e,t){for(var r=e.length,a=0;a<r;a++)if(e[a].length>t)return e[a];return e[r-1]}var cB={clearColorPalette:function(){cl(this).colorIdx=0,cl(this).colorNameMap={}},getColorFromPalette:function(e,t,r){t=t||this;var a=cl(t),i=a.colorIdx||0,n=a.colorNameMap=a.colorNameMap||{};if(n.hasOwnProperty(e))return n[e];var s=vB(this.get("color",!0)),c=this.get("colorLayer",!0),o=r==null||!c?s:hB(c,r);if(o=o||s,!(!o||!o.length)){var u=o[i];return e&&(n[e]=u),a.colorIdx=(i+1)%o.length,u}}},IC=cB,xt={},Bt={},fB="original",dB="arrayRows",gB="objectRows",pB="keyedColumns",mB="unknown",yB="typedArray",_B="column",xB="row";Bt.SOURCE_FORMAT_ORIGINAL=fB;Bt.SOURCE_FORMAT_ARRAY_ROWS=dB;Bt.SOURCE_FORMAT_OBJECT_ROWS=gB;Bt.SOURCE_FORMAT_KEYED_COLUMNS=pB;Bt.SOURCE_FORMAT_UNKNOWN=mB;Bt.SOURCE_FORMAT_TYPED_ARRAY=yB;Bt.SERIES_LAYOUT_BY_COLUMN=_B;Bt.SERIES_LAYOUT_BY_ROW=xB;var RC=W,SB=RC.createHashMap,bB=RC.isTypedArray,wB=Et,AB=wB.enableClassCheck,xn=Bt,TB=xn.SOURCE_FORMAT_ORIGINAL,CB=xn.SERIES_LAYOUT_BY_COLUMN,MB=xn.SOURCE_FORMAT_UNKNOWN,DB=xn.SOURCE_FORMAT_TYPED_ARRAY,LB=xn.SOURCE_FORMAT_KEYED_COLUMNS;function Uo(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===LB?{}:[]),this.sourceFormat=e.sourceFormat||MB,this.seriesLayoutBy=e.seriesLayoutBy||CB,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&SB(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}Uo.seriesDataToSource=function(e){return new Uo({data:e,sourceFormat:bB(e)?DB:TB,fromDataset:!1})};AB(Uo);var PB=Uo,Sn=PB,EC=Ie,IB=EC.makeInner,kC=EC.getDataItemValue,_r=W,OC=_r.createHashMap,rn=_r.each,RB=_r.map,Wo=_r.isArray,Xf=_r.isString,ri=_r.isObject,Zo=_r.isTypedArray,EB=_r.isArrayLike,kB=_r.extend;_r.assert;var OB=Sn,ba=Bt,Yd=ba.SOURCE_FORMAT_ORIGINAL,Yo=ba.SOURCE_FORMAT_ARRAY_ROWS,os=ba.SOURCE_FORMAT_OBJECT_ROWS,ss=ba.SOURCE_FORMAT_KEYED_COLUMNS,zB=ba.SOURCE_FORMAT_UNKNOWN,zC=ba.SOURCE_FORMAT_TYPED_ARRAY,Xd=ba.SERIES_LAYOUT_BY_ROW,At={Must:1,Might:2,Not:3},ai=IB();function BB(e){var t=e.option.source,r=zB;if(Zo(t))r=zC;else if(Wo(t)){t.length===0&&(r=Yo);for(var a=0,i=t.length;a<i;a++){var n=t[a];if(n!=null){if(Wo(n)){r=Yo;break}else if(ri(n)){r=os;break}}}}else if(ri(t)){for(var s in t)if(t.hasOwnProperty(s)&&EB(t[s])){r=ss;break}}else if(t!=null)throw new Error("Invalid data");ai(e).sourceFormat=r}function NB(e){return ai(e).source}function VB(e){ai(e).datasetMap=OC()}function HB(e){var t=e.option,r=t.data,a=Zo(r)?zC:Yd,i=!1,n=t.seriesLayoutBy,s=t.sourceHeader,c=t.dimensions,o=Kd(e);if(o){var u=o.option;r=u.source,a=ai(o).sourceFormat,i=!0,n=n||u.seriesLayoutBy,s==null&&(s=u.sourceHeader),c=c||u.dimensions}var v=qB(r,a,n,s,c);ai(e).source=new OB({data:r,fromDataset:i,seriesLayoutBy:n,sourceFormat:a,dimensionsDefine:v.dimensionsDefine,startIndex:v.startIndex,dimensionsDetectCount:v.dimensionsDetectCount,encodeDefine:t.encode})}function qB(e,t,r,a,i){if(!e)return{dimensionsDefine:jp(i)};var n,s;if(t===Yo)a==="auto"||a==null?Jp(function(o){o!=null&&o!=="-"&&(Xf(o)?s==null&&(s=1):s=0)},r,e,10):s=a?1:0,!i&&s===1&&(i=[],Jp(function(o,u){i[u]=o??""},r,e)),n=i?i.length:r===Xd?e.length:e[0]?e[0].length:null;else if(t===os)i||(i=GB(e));else if(t===ss)i||(i=[],rn(e,function(o,u){i.push(u)}));else if(t===Yd){var c=kC(e[0]);n=Wo(c)&&c.length||1}return{startIndex:s,dimensionsDefine:jp(i),dimensionsDetectCount:n}}function jp(e){if(e){var t=OC();return RB(e,function(r,a){if(r=kB({},ri(r)?r:{name:r}),r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var i=t.get(r.name);return i?r.name+="-"+i.count++:t.set(r.name,{count:1}),r})}}function Jp(e,t,r,a){if(a==null&&(a=1/0),t===Xd)for(var i=0;i<r.length&&i<a;i++)e(r[i]?r[i][0]:null,i);else for(var n=r[0]||[],i=0;i<n.length&&i<a;i++)e(n[i],i)}function GB(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r){var a=[];return rn(r,function(i,n){a.push(n)}),a}}function FB(e,t,r){var a={},i=Kd(t);if(!i||!e)return a;var n=[],s=[],c=t.ecModel,o=ai(c).datasetMap,u=i.uid+"_"+r.seriesLayoutBy,v,h;e=e.slice(),rn(e,function(m,g){!ri(m)&&(e[g]={name:m}),m.type==="ordinal"&&v==null&&(v=g,h=f(e[g])),a[m.name]=[]});var l=o.get(u)||o.set(u,{categoryWayDim:h,valueWayDim:0});rn(e,function(m,g){var p=m.name,y=f(m);if(v==null){var _=l.valueWayDim;d(a[p],_,y),d(s,_,y),l.valueWayDim+=y}else if(v===g)d(a[p],0,y),d(n,0,y);else{var _=l.categoryWayDim;d(a[p],_,y),d(s,_,y),l.categoryWayDim+=y}});function d(m,g,p){for(var y=0;y<p;y++)m.push(g+y)}function f(m){var g=m.dimsDef;return g?g.length:1}return n.length&&(a.itemName=n),s.length&&(a.seriesName=s),a}function $B(e,t,r){var a={},i=Kd(e);if(!i)return a;var n=t.sourceFormat,s=t.dimensionsDefine,c;(n===os||n===ss)&&rn(s,function(v,h){(ri(v)?v.name:v)==="name"&&(c=h)});var o=function(){for(var v={},h={},l=[],d=0,f=Math.min(5,r);d<f;d++){var m=BC(t.data,n,t.seriesLayoutBy,s,t.startIndex,d);l.push(m);var g=m===At.Not;if(g&&v.v==null&&d!==c&&(v.v=d),(v.n==null||v.n===v.v||!g&&l[v.n]===At.Not)&&(v.n=d),p(v)&&l[v.n]!==At.Not)return v;g||(m===At.Might&&h.v==null&&d!==c&&(h.v=d),(h.n==null||h.n===h.v)&&(h.n=d))}function p(y){return y.v!=null&&y.n!=null}return p(v)?v:p(h)?h:null}();if(o){a.value=o.v;var u=c??o.n;a.itemName=[u],a.seriesName=[u]}return a}function Kd(e){var t=e.option,r=t.data;if(!r)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function UB(e,t){return BC(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function BC(e,t,r,a,i,n){var s,c=5;if(Zo(e))return At.Not;var o,u;if(a){var v=a[n];ri(v)?(o=v.name,u=v.type):Xf(v)&&(o=v)}if(u!=null)return u==="ordinal"?At.Must:At.Not;if(t===Yo)if(r===Xd){for(var h=e[n],l=0;l<(h||[]).length&&l<c;l++)if((s=g(h[i+l]))!=null)return s}else for(var l=0;l<e.length&&l<c;l++){var d=e[i+l];if(d&&(s=g(d[n]))!=null)return s}else if(t===os){if(!o)return At.Not;for(var l=0;l<e.length&&l<c;l++){var f=e[l];if(f&&(s=g(f[o]))!=null)return s}}else if(t===ss){if(!o)return At.Not;var h=e[o];if(!h||Zo(h))return At.Not;for(var l=0;l<h.length&&l<c;l++)if((s=g(h[l]))!=null)return s}else if(t===Yd)for(var l=0;l<e.length&&l<c;l++){var f=e[l],m=kC(f);if(!Wo(m))return At.Not;if((s=g(m[n]))!=null)return s}function g(p){var y=Xf(p);if(p!=null&&isFinite(p)&&p!=="")return y?At.Might:At.Not;if(y&&p!=="-")return At.Must}return At.Not}xt.BE_ORDINAL=At;xt.detectSourceFormat=BB;xt.getSource=NB;xt.resetSourceDefaulter=VB;xt.prepareSource=HB;xt.makeSeriesEncodeForAxisCoordSys=FB;xt.makeSeriesEncodeForNameBased=$B;xt.guessOrdinal=UB;var Nt=W,Mt=Nt.each,Fr=Nt.filter,NC=Nt.map,To=Nt.isArray,em=Nt.indexOf,fl=Nt.isObject,WB=Nt.isString,Qd=Nt.createHashMap,tm=Nt.assert,Kf=Nt.clone,jd=Nt.merge,rm=Nt.extend,ZB=Nt.mixin,Ii=Ie,am=ot,Pr=ht,YB=lB,XB=IC,KB=xt,QB=KB.resetSourceDefaulter,Qf="\0_ec_inner",VC=am.extend({init:function(e,t,r,a){r=r||{},this.option=null,this._theme=new am(r),this._optionManager=a},setOption:function(e,t){tm(!(Qf in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,r=this._optionManager;if(!e||e==="recreate"){var a=r.mountOption(e==="recreate");!this.option||e==="recreate"?eN.call(this,a):(this.restoreData(),this.mergeOption(a)),t=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var i=r.getTimelineOption(this);i&&(this.mergeOption(i),t=!0)}if(!e||e==="recreate"||e==="media"){var n=r.getMediaOption(this,this._api);n.length&&Mt(n,function(s){this.mergeOption(s,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,r=this._componentsMap,a=[];QB(this),Mt(e,function(n,s){n!=null&&(Pr.hasClass(s)?s&&a.push(s):t[s]=t[s]==null?Kf(n):jd(t[s],n,!0))}),Pr.topologicalTravel(a,Pr.getAllClassMainTypes(),i,this);function i(n,s){var c=Ii.normalizeToArray(e[n]),o=Ii.mappingToExists(r.get(n),c);Ii.makeIdAndName(o),Mt(o,function(v,h){var l=v.option;fl(l)&&(v.keyInfo.mainType=n,v.keyInfo.subType=rN(n,l,v.exist))});var u=tN(r,s);t[n]=[],r.set(n,[]),Mt(o,function(v,h){var l=v.exist,d=v.option;if(tm(fl(d)||l,"Empty component definition"),!d)l.mergeOption({},this),l.optionUpdated({},!1);else{var f=Pr.getClass(n,v.keyInfo.subType,!0);if(l&&l.constructor===f)l.name=v.keyInfo.name,l.mergeOption(d,this),l.optionUpdated(d,!1);else{var m=rm({dependentModels:u,componentIndex:h},v.keyInfo);l=new f(d,this,this,m),rm(l,m),l.init(d,this,this,m),l.optionUpdated(null,!0)}}r.get(n)[h]=l,t[n][h]=l.option},this),n==="series"&&dl(this,r.get("series"))}this._seriesIndicesMap=Qd(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=Kf(this.option);return Mt(e,function(t,r){if(Pr.hasClass(r)){for(var t=Ii.normalizeToArray(t),a=t.length-1;a>=0;a--)Ii.isIdInner(t[a])&&t.splice(a,1);e[r]=t}}),delete e[Qf],e},getTheme:function(){return this._theme},getComponent:function(e,t){var r=this._componentsMap.get(e);if(r)return r[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var r=e.index,a=e.id,i=e.name,n=this._componentsMap.get(t);if(!n||!n.length)return[];var s;if(r!=null)To(r)||(r=[r]),s=Fr(NC(r,function(u){return n[u]}),function(u){return!!u});else if(a!=null){var c=To(a);s=Fr(n,function(u){return c&&em(a,u.id)>=0||!c&&u.id===a})}else if(i!=null){var o=To(i);s=Fr(n,function(u){return o&&em(i,u.name)>=0||!o&&u.name===i})}else s=n.slice();return im(s,e)},findComponents:function(e){var t=e.query,r=e.mainType,a=n(t),i=a?this.queryComponents(a):this._componentsMap.get(r);return s(im(i,e));function n(c){var o=r+"Index",u=r+"Id",v=r+"Name";return c&&(c[o]!=null||c[u]!=null||c[v]!=null)?{mainType:r,index:c[o],id:c[u],name:c[v]}:null}function s(c){return e.filter?Fr(c,e.filter):c}},eachComponent:function(e,t,r){var a=this._componentsMap;if(typeof e=="function")r=t,t=e,a.each(function(n,s){Mt(n,function(c,o){t.call(r,s,c,o)})});else if(WB(e))Mt(a.get(e),t,r);else if(fl(e)){var i=this.findComponents(e);Mt(i,t,r)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return Fr(t,function(r){return r.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return Fr(t,function(r){return r.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){Mt(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];e.call(t,a,r)},this)},eachRawSeries:function(e,t){Mt(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,r){Mt(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];i.subType===e&&t.call(r,i,a)},this)},eachRawSeriesByType:function(e,t,r){return Mt(this.getSeriesByType(e),t,r)},isSeriesFiltered:function(e){return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){var r=Fr(this._componentsMap.get("series"),e,t);dl(this,r)},restoreData:function(e){var t=this._componentsMap;dl(this,t.get("series"));var r=[];t.each(function(a,i){r.push(i)}),Pr.topologicalTravel(r,Pr.getAllClassMainTypes(),function(a,i){Mt(t.get(a),function(n){(a!=="series"||!jB(n,e))&&n.restoreData()})})}});function jB(e,t){if(t){var r=t.seiresIndex,a=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||a!=null&&e.id!==a||i!=null&&e.name!==i}}function JB(e,t){var r=e.color&&!e.colorLayer;Mt(t,function(a,i){i==="colorLayer"&&r||Pr.hasClass(i)||(typeof a=="object"?e[i]=e[i]?jd(e[i],a,!1):Kf(a):e[i]==null&&(e[i]=a))})}function eN(e){e=e,this.option={},this.option[Qf]=1,this._componentsMap=Qd({series:[]}),this._seriesIndices,this._seriesIndicesMap,JB(e,this._theme.option),jd(e,YB,!1),this.mergeOption(e)}function tN(e,t){To(t)||(t=t?[t]:[]);var r={};return Mt(t,function(a){r[a]=(e.get(a)||[]).slice()}),r}function rN(e,t,r){var a=t.type?t.type:r?r.subType:Pr.determineSubType(e,t);return a}function dl(e,t){e._seriesIndicesMap=Qd(e._seriesIndices=NC(t,function(r){return r.componentIndex})||[])}function im(e,t){return t.hasOwnProperty("subType")?Fr(e,function(r){return r.subType===t.subType}):e}ZB(VC,XB);var aN=VC,HC=aN,nm=W,iN=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function nN(e){nm.each(iN,function(t){this[t]=nm.bind(e[t],e)},this)}var oN=nN,qC=oN,om=W,Jd={};function an(){this._coordinateSystems=[]}an.prototype={constructor:an,create:function(e,t){var r=[];om.each(Jd,function(a,i){var n=a.create(e,t);r=r.concat(n||[])}),this._coordinateSystems=r},update:function(e,t){om.each(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};an.register=function(e,t){Jd[e]=t};an.get=function(e){return Jd[e]};var sN=an,xr=sN,Er=W,Co=Ie,lN=ht,Mo=Er.each,ua=Er.clone,Do=Er.map,sm=Er.merge,uN=/^(min|max)?(.+)$/;function jf(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}jf.prototype={constructor:jf,setOption:function(e,t){e&&Er.each(Co.normalizeToArray(e.series),function(i){i&&i.data&&Er.isTypedArray(i.data)&&Er.setAsPrimitive(i.data)}),e=ua(e);var r=this._optionBackup,a=vN.call(this,e,t,!r);this._newBaseOption=a.baseOption,r?(dN(r.baseOption,a.baseOption),a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Do(t.timelineOptions,ua),this._mediaList=Do(t.mediaList,ua),this._mediaDefault=ua(t.mediaDefault),this._currentMediaIndices=[],ua(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,r=this._timelineOptions;if(r.length){var a=e.getComponent("timeline");a&&(t=ua(r[a.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,n=[],s=[];if(!a.length&&!i)return s;for(var c=0,o=a.length;c<o;c++)hN(a[c].query,t,r)&&n.push(c);return!n.length&&i&&(n=[-1]),n.length&&!fN(n,this._currentMediaIndices)&&(s=Do(n,function(u){return ua(u===-1?i.option:a[u].option)})),this._currentMediaIndices=n,s}};function vN(e,t,r){var a=[],i=[],n,s,c=e.timeline;if(e.baseOption&&(s=e.baseOption),(c||e.options)&&(s=s||{},a=(e.options||[]).slice()),e.media){s=s||{};var o=e.media;Mo(o,function(u){u&&u.option&&(u.query?i.push(u):n||(n=u))})}return s||(s=e),s.timeline||(s.timeline=c),Mo([s].concat(a).concat(Er.map(i,function(u){return u.option})),function(u){Mo(t,function(v){v(u,r)})}),{baseOption:s,timelineOptions:a,mediaDefault:n,mediaList:i}}function hN(e,t,r){var a={width:t,height:r,aspectratio:t/r},i=!0;return Er.each(e,function(n,s){var c=s.match(uN);if(!(!c||!c[1]||!c[2])){var o=c[1],u=c[2].toLowerCase();cN(a[u],n,o)||(i=!1)}}),i}function cN(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function fN(e,t){return e.join(",")===t.join(",")}function dN(e,t){t=t||{},Mo(t,function(r,a){if(r!=null){var i=e[a];if(!lN.hasClass(a))e[a]=sm(i,r,!0);else{r=Co.normalizeToArray(r),i=Co.normalizeToArray(i);var n=Co.mappingToExists(i,r);e[a]=Do(n,function(s){return s.option&&s.exist?sm(s.exist,s.option,!0):s.exist||s.option})}}})}var gN=jf,pN=gN,Lt=W,lm=Ie,Yt=Lt.each,nn=Lt.isObject,um=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function gl(e){var t=e&&e.itemStyle;if(t)for(var r=0,a=um.length;r<a;r++){var i=um[r],n=t.normal,s=t.emphasis;n&&n[i]&&(e[i]=e[i]||{},e[i].normal?Lt.merge(e[i].normal,n[i]):e[i].normal=n[i],n[i]=null),s&&s[i]&&(e[i]=e[i]||{},e[i].emphasis?Lt.merge(e[i].emphasis,s[i]):e[i].emphasis=s[i],s[i]=null)}}function Tt(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var a=e[t].normal,i=e[t].emphasis;a&&(r?(e[t].normal=e[t].emphasis=null,Lt.defaults(e[t],a)):e[t]=a),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i)}}function Zi(e){Tt(e,"itemStyle"),Tt(e,"lineStyle"),Tt(e,"areaStyle"),Tt(e,"label"),Tt(e,"labelLine"),Tt(e,"upperLabel"),Tt(e,"edgeLabel")}function it(e,t){var r=nn(e)&&e[t],a=nn(r)&&r.textStyle;if(a)for(var i=0,n=lm.TEXT_STYLE_OPTIONS.length;i<n;i++){var t=lm.TEXT_STYLE_OPTIONS[i];a.hasOwnProperty(t)&&(r[t]=a[t])}}function Gt(e){e&&(Zi(e),it(e,"label"),e.emphasis&&it(e.emphasis,"label"))}function mN(e){if(nn(e)){gl(e),Zi(e),it(e,"label"),it(e,"upperLabel"),it(e,"edgeLabel"),e.emphasis&&(it(e.emphasis,"label"),it(e.emphasis,"upperLabel"),it(e.emphasis,"edgeLabel"));var n=e.markPoint;n&&(gl(n),Gt(n));var c=e.markLine;c&&(gl(c),Gt(c));var t=e.markArea;t&&Gt(t);var r=e.data;if(e.type==="graph"){r=r||e.nodes;var a=e.links||e.edges;if(a&&!Lt.isTypedArray(a))for(var i=0;i<a.length;i++)Gt(a[i]);Lt.each(e.categories,function(u){Zi(u)})}if(r&&!Lt.isTypedArray(r))for(var i=0;i<r.length;i++)Gt(r[i]);var n=e.markPoint;if(n&&n.data)for(var s=n.data,i=0;i<s.length;i++)Gt(s[i]);var c=e.markLine;if(c&&c.data)for(var o=c.data,i=0;i<o.length;i++)Lt.isArray(o[i])?(Gt(o[i][0]),Gt(o[i][1])):Gt(o[i]);e.type==="gauge"?(it(e,"axisLabel"),it(e,"title"),it(e,"detail")):e.type==="treemap"?(Tt(e.breadcrumb,"itemStyle"),Lt.each(e.levels,function(u){Zi(u)})):e.type==="tree"&&Zi(e.leaves)}}function Ar(e){return Lt.isArray(e)?e:e?[e]:[]}function vm(e){return(Lt.isArray(e)?e[0]:e)||{}}function yN(e,t){Yt(Ar(e.series),function(a){nn(a)&&mN(a)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Yt(r,function(a){Yt(Ar(e[a]),function(i){i&&(it(i,"axisLabel"),it(i.axisPointer,"label"))})}),Yt(Ar(e.parallel),function(a){var i=a&&a.parallelAxisDefault;it(i,"axisLabel"),it(i&&i.axisPointer,"label")}),Yt(Ar(e.calendar),function(a){Tt(a,"itemStyle"),it(a,"dayLabel"),it(a,"monthLabel"),it(a,"yearLabel")}),Yt(Ar(e.radar),function(a){it(a,"name")}),Yt(Ar(e.geo),function(a){nn(a)&&(Gt(a),Yt(Ar(a.regions),function(i){Gt(i)}))}),Yt(Ar(e.timeline),function(a){Gt(a),Tt(a,"label"),Tt(a,"itemStyle"),Tt(a,"controlStyle",!0);var i=a.data;Lt.isArray(i)&&Lt.each(i,function(n){Lt.isObject(n)&&(Tt(n,"label"),Tt(n,"itemStyle"))})}),Yt(Ar(e.toolbox),function(a){Tt(a,"iconStyle"),Yt(a.feature,function(i){Tt(i,"iconStyle")})}),it(vm(e.axisPointer),"label"),it(vm(e.tooltip).axisPointer,"label")}var _N=yN,eg=W,Lo=eg.each,xN=eg.isArray,SN=eg.isObject,bN=_N,wN=Ie,AN=wN.normalizeToArray;function TN(e,t){t=t.split(",");for(var r=e,a=0;a<t.length&&(r=r&&r[t[a]],r!=null);a++);return r}function CN(e,t,r,a){t=t.split(",");for(var i=e,n,s=0;s<t.length-1;s++)n=t[s],i[n]==null&&(i[n]={}),i=i[n];(a||i[t[s]]==null)&&(i[t[s]]=r)}function hm(e){Lo(MN,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var MN=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],DN=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function LN(e,t){bN(e,t),e.series=AN(e.series),Lo(e.series,function(r){if(SN(r)){var a=r.type;if(a==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(a==="pie"||a==="gauge")r.clockWise!=null&&(r.clockwise=r.clockWise);else if(a==="gauge"){var i=TN(r,"pointer.color");i!=null&&CN(r,"itemStyle.color",i)}hm(r)}}),e.dataRange&&(e.visualMap=e.dataRange),Lo(DN,function(r){var a=e[r];a&&(xN(a)||(a=[a]),Lo(a,function(i){hm(i)}))})}var PN=LN,GC=W,IN=GC.createHashMap,RN=GC.each;function EN(e){var t=IN();e.eachSeries(function(r){var a=r.get("stack");if(a){var i=t.get(a)||t.set(a,[]),n=r.getData(),s={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:r};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&n.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),t.each(kN)}function kN(e){RN(e,function(t,r){var a=[],i=[NaN,NaN],n=[t.stackResultDimension,t.stackedOverDimension],s=t.data,c=t.isStackedByIndex,o=s.map(n,function(u,v,h){var l=s.get(t.stackedDimension,h);if(isNaN(l))return i;var d,f;c?f=s.getRawIndex(h):d=s.get(t.stackedByDimension,h);for(var m=NaN,g=r-1;g>=0;g--){var p=e[g];if(c||(f=p.data.rawIndexOf(p.stackedByDimension,d)),f>=0){var y=p.data.getByRawIndex(p.stackResultDimension,f);if(l>=0&&y>0||l<=0&&y<0){l+=y,m=y;break}}}return a[0]=l,a[1]=m,a});s.hostModel.setData(o),t.data=o})}var ON=EN,ar={},bn=W;bn.isTypedArray;var zN=bn.extend;bn.assert;var BN=bn.each,NN=bn.isObject,FC=Ie,VN=FC.getDataItemValue,HN=FC.isDataItemOption,qN=Le,GN=qN.parseDate,cm=Sn,ls=Bt,FN=ls.SOURCE_FORMAT_TYPED_ARRAY,$N=ls.SOURCE_FORMAT_ARRAY_ROWS,fm=ls.SOURCE_FORMAT_ORIGINAL,UN=ls.SOURCE_FORMAT_OBJECT_ROWS;function $C(e,t){cm.isInstance(e)||(e=cm.seriesDataToSource(e)),this._source=e;var r=this._data=e.data,a=e.sourceFormat;a===FN&&(this._offset=0,this._dimSize=t,this._data=r);var i=WN[a===$N?a+"_"+e.seriesLayoutBy:a];zN(this,i)}var tg=$C.prototype;tg.pure=!1;tg.persistent=!0;tg.getSource=function(){return this._source};var WN={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:pl},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],r=this._data,a=0;a<r.length;a++){var i=r[a];t.push(i?i[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:dm,getItem:gm,appendData:pl},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],r=this._source.dimensionsDefine,a=0;a<r.length;a++){var i=this._data[r[a].name];t.push(i?i[e]:null)}return t},appendData:function(e){var t=this._data;BN(e,function(r,a){for(var i=t[a]||(t[a]=[]),n=0;n<(r||[]).length;n++)i.push(r[n])})}},original:{count:dm,getItem:gm,appendData:pl},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e=e-this._offset,t=t||[];for(var r=this._dimSize*e,a=0;a<this._dimSize;a++)t[a]=this._data[r+a];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function dm(){return this._data.length}function gm(e){return this._data[e]}function pl(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var ZN={arrayRows:ml,objectRows:function(e,t,r,a){return r!=null?e[a]:e},keyedColumns:ml,original:function(e,t,r,a){var i=VN(e);return r==null||!(i instanceof Array)?i:i[r]},typedArray:ml};function ml(e,t,r,a){return r!=null?e[r]:e}var YN={arrayRows:pm,objectRows:function(e,t,r,a){return Jf(e[t],this._dimensionInfos[t])},keyedColumns:pm,original:function(e,t,r,a){var i=e&&(e.value==null?e:e.value);return!this._rawData.pure&&HN(e)&&(this.hasItemOption=!0),Jf(i instanceof Array?i[a]:i,this._dimensionInfos[t])},typedArray:function(e,t,r,a){return e[a]}};function pm(e,t,r,a){return Jf(e[a],this._dimensionInfos[t])}function Jf(e,t){var r=t&&t.type;if(r==="ordinal"){var a=t&&t.ordinalMeta;return a?a.parseAndCollect(e):e}return r==="time"&&typeof e!="number"&&e!=null&&e!=="-"&&(e=+GN(e)),e==null||e===""?NaN:+e}function XN(e,t,r){if(e){var a=e.getRawDataItem(t);if(a!=null){var i=e.getProvider().getSource().sourceFormat,n,s,c=e.getDimensionInfo(r);return c&&(n=c.name,s=c.index),ZN[i](a,t,s,n)}}}function KN(e,t,r){if(e){var a=e.getProvider().getSource().sourceFormat;if(!(a!==fm&&a!==UN)){var i=e.getRawDataItem(t);if(a===fm&&!NN(i)&&(i=null),i)return i[r]}}}ar.DefaultDataProvider=$C;ar.defaultDimValueGetters=YN;ar.retrieveRawValue=XN;ar.retrieveRawAttr=KN;var QN=ar,mm=QN.retrieveRawValue,UC=Ne,jN=UC.getTooltipMarker,JN=UC.formatTpl,eV=Ie,tV=eV.getTooltipRenderMode,rV=/\{@(.+?)\}/g,aV={getDataParams:function(e,t){var r=this.getData(t),a=this.getRawValue(e,t),i=r.getRawIndex(e),n=r.getName(e),s=r.getRawDataItem(e),c=r.getItemVisual(e,"color"),o=r.getItemVisual(e,"borderColor"),u=this.ecModel.getComponent("tooltip"),v=u&&u.get("renderMode"),h=tV(v),l=this.mainType,d=l==="series",f=r.userOutput;return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:n,dataIndex:i,data:s,dataType:t,value:a,color:c,borderColor:o,dimensionNames:f?f.dimensionNames:null,encode:f?f.encode:null,marker:jN({color:c,renderMode:h}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,r,a,i){t=t||"normal";var n=this.getData(r),s=n.getItemModel(e),c=this.getDataParams(e,r);a!=null&&c.value instanceof Array&&(c.value=c.value[a]);var o=s.get(t==="normal"?[i||"label","formatter"]:[t,i||"label","formatter"]);if(typeof o=="function")return c.status=t,c.dimensionIndex=a,o(c);if(typeof o=="string"){var u=JN(o,c);return u.replace(rV,function(v,h){var l=h.length;return h.charAt(0)==="["&&h.charAt(l-1)==="]"&&(h=+h.slice(1,l-1)),mm(n,e,h)})}},getRawValue:function(e,t){return mm(this.getData(t),e)},formatTooltip:function(){}},rg=aV,us={},WC=W;WC.assert;var ZC=WC.isArray;function iV(e){return new YC(e)}function YC(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var Jr=YC.prototype;Jr.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var a=this.context;a.data=a.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var n=u(this._modBy),s=this._modDataCount||0,c=u(e&&e.modBy),o=e&&e.modDataCount||0;(n!==c||s!==o)&&(i="reset");function u(p){return!(p>=1)&&(p=1),p}var v;(this._dirty||i==="reset")&&(this._dirty=!1,v=nV(this,r)),this._modBy=c,this._modDataCount=o;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var l=this._dueIndex,d=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!r&&(v||l<d)){var f=this._progress;if(ZC(f))for(var m=0;m<f.length;m++)_m(this,f[m],l,d,c,o);else _m(this,f,l,d,c,o)}this._dueIndex=d;var g=this._settedOutputEnd!=null?this._settedOutputEnd:d;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var ym=function(){var e,t,r,a,i,n={reset:function(o,u,v,h){t=o,e=u,r=v,a=h,i=Math.ceil(a/r),n.next=r>1&&a>0?c:s}};return n;function s(){return t<e?t++:null}function c(){var o=t%i*r+Math.ceil(t/i),u=t>=e?null:o<a?o:t;return t++,u}}();Jr.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)};function _m(e,t,r,a,i,n){ym.reset(r,a,i,n),e._callingProgress=t,e._callingProgress({start:r,end:a,count:a-r,next:ym.next},e.context)}function nV(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var r,a;!t&&e._reset&&(r=e._reset(e.context),r&&r.progress&&(a=r.forceFirstProgress,r=r.progress),ZC(r)&&!r.length&&(r=null)),e._progress=r,e._modBy=e._modDataCount=null;var i=e._downstream;return i&&i.dirty(),a}Jr.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};Jr.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())};Jr.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};Jr.getUpstream=function(){return this._upstream};Jr.getDownstream=function(){return this._downstream};Jr.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};us.createTask=iV;var It=W,oV=nt,vs=Ne,sV=vs.formatTime,Ri=vs.encodeHTML,xm=vs.addCommas,Sm=vs.getTooltipMarker,Yi=Ie,bm=ht,XC=IC,lV=rg,KC=Be,uV=KC.getLayoutParams,wm=KC.mergeLayoutParam,vV=us,hV=vV.createTask,QC=xt,Am=QC.prepareSource,cV=QC.getSource,fV=ar,Tm=fV.retrieveRawValue,Ei=Yi.makeInner(),ag=bm.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,r,a){this.seriesIndex=this.componentIndex,this.dataTask=hV({count:gV,reset:pV}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),Am(this);var i=this.getInitialData(e,r);Mm(i,this),this.dataTask.context.data=i,Ei(this).dataBeforeProcessed=i,Cm(this)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?uV(e):{},i=this.subType;bm.hasClass(i)&&(i+="Series"),It.merge(e,t.getTheme().get(this.subType)),It.merge(e,this.getDefaultOption()),Yi.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&wm(e,a,r)},mergeOption:function(e,t){e=It.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var r=this.layoutMode;r&&wm(this.option,e,r),Am(this);var a=this.getInitialData(e,t);Mm(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Ei(this).dataBeforeProcessed=a,Cm(this)},fillDataTextStyle:function(e){if(e&&!It.isTypedArray(e))for(var t=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&Yi.defaultEmphasis(e[r],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=ed(this);if(t){var r=t.context.data;return e==null?r:r.getLinkedData(e)}else return Ei(this).data},setData:function(e){var t=ed(this);if(t){var r=t.context;r.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),r.outputData=e,t!==this.dataTask&&(r.data=e)}Ei(this).data=e},getSource:function(){return cV(this)},getRawData:function(){return Ei(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,r,a){var i=this;a=a||"html";var n=a==="html"?"<br/>":`
`,s=a==="richText",c={},o=0;function u(T){var M=It.reduce(T,function(I,E,O){var B=h.getDimensionInfo(O);return I|=B&&B.tooltip!==!1&&B.displayName!=null},0),C=[];l.length?It.each(l,function(I){D(Tm(h,e,I),I)}):It.each(T,D);function D(I,E){var O=h.getDimensionInfo(E);if(!(!O||O.otherDims.tooltip===!1)){var B=O.type,q="sub"+i.seriesIndex+"at"+o,V=Sm({color:g,type:"subItem",renderMode:a,markerId:q}),R=typeof V=="string"?V:V.content,z=(M?R+Ri(O.displayName||"-")+": ":"")+Ri(B==="ordinal"?I+"":B==="time"?t?"":sV("yyyy/MM/dd hh:mm:ss",I):xm(I));z&&C.push(z),s&&(c[q]=g,++o)}}var L=M?s?`
`:"<br/>":"",P=L+C.join(L||", ");return{renderMode:a,content:P,style:c}}function v(T){return{renderMode:a,content:Ri(xm(T)),style:c}}var h=this.getData(),l=h.mapDimension("defaultedTooltip",!0),d=l.length,f=this.getRawValue(e),m=It.isArray(f),g=h.getItemVisual(e,"color");It.isObject(g)&&g.colorStops&&(g=(g.colorStops[0]||{}).color),g=g||"transparent";var p=d>1||m&&!d?u(f):v(d?Tm(h,e,l[0]):m?f[0]:f),y=p.content,_=i.seriesIndex+"at"+o,w=Sm({color:g,type:"item",renderMode:a,markerId:_});c[_]=g,++o;var S=h.getName(e),A=this.name;Yi.isNameSpecified(this)||(A=""),A=A?Ri(A)+(t?": ":n):"";var x=typeof w=="string"?w:w.content,b=t?x+A+y:A+x+(S?Ri(S)+": "+y:y);return{html:b,markers:c}},isAnimationEnabled:function(){if(oV.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,r){var a=this.ecModel,i=XC.getColorFromPalette.call(this,e,t,r);return i||(i=a.getColorFromPalette(e,t,r)),i},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});It.mixin(ag,lV);It.mixin(ag,XC);function Cm(e){var t=e.name;Yi.isNameSpecified(e)||(e.name=dV(e)||t)}function dV(e){var t=e.getRawData(),r=t.mapDimension("seriesName",!0),a=[];return It.each(r,function(i){var n=t.getDimensionInfo(i);n.displayName&&a.push(n.displayName)}),a.join(" ")}function gV(e){return e.model.getRawData().count()}function pV(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),mV}function mV(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Mm(e,t){It.each(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,It.curry(yV,t))})}function yV(e){var t=ed(e);t&&t.setOutputEnd(this.count())}function ed(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var a=r.currentTask;if(a){var i=a.agentStubMap;i&&(a=i.get(e.uid))}return a}}var _V=ag,ct=_V,xV=_a,SV=jr,jC=Et,ii=function(){this.group=new xV,this.uid=SV.getUID("viewComponent")};ii.prototype={constructor:ii,init:function(e,t){},render:function(e,t,r,a){},dispose:function(){},filterForExposedEvent:null};var yl=ii.prototype;yl.updateView=yl.updateLayout=yl.updateVisual=function(e,t,r,a){};jC.enableClassExtend(ii);jC.enableClassManagement(ii,{registerWhenExtend:!0});var bV=ii,hs=bV,wV=Ie,AV=wV.makeInner;function TV(){var e=AV();return function(t){var r=e(t),a=t.pipelineContext,i=r.large,n=r.progressiveRender,s=r.large=a&&a.large,c=r.progressiveRender=a&&a.progressiveRender;return!!(i^s||n^c)&&"reset"}}var gi=TV,CV=W,MV=CV.each,DV=_a,LV=jr,JC=Et,td=Ie,eM=fe,PV=us,IV=PV.createTask,RV=gi,tM=td.makeInner(),EV=RV();function pi(){this.group=new DV,this.uid=LV.getUID("viewChart"),this.renderTask=IV({plan:kV,reset:OV}),this.renderTask.context={view:this}}pi.prototype={type:"chart",init:function(e,t){},render:function(e,t,r,a){},highlight:function(e,t,r,a){Dm(e.getData(),a,"emphasis")},downplay:function(e,t,r,a){Dm(e.getData(),a,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var _l=pi.prototype;_l.updateView=_l.updateLayout=_l.updateVisual=function(e,t,r,a){this.render(e,t,r,a)};function rd(e,t,r){if(e&&(e.trigger(t,r),e.isGroup&&!eM.isHighDownDispatcher(e)))for(var a=0,i=e.childCount();a<i;a++)rd(e.childAt(a),t,r)}function Dm(e,t,r){var a=td.queryDataIndex(e,t),i=t&&t.highlightKey!=null?eM.getHighlightDigit(t.highlightKey):null;a!=null?MV(td.normalizeToArray(a),function(n){rd(e.getItemGraphicEl(n),r,i)}):e.eachItemGraphicEl(function(n){rd(n,r,i)})}JC.enableClassExtend(pi,["dispose"]);JC.enableClassManagement(pi,{registerWhenExtend:!0});pi.markUpdateMethod=function(e,t){tM(e).updateMethod=t};function kV(e){return EV(e.model)}function OV(e){var t=e.model,r=e.ecModel,a=e.api,i=e.payload,n=t.pipelineContext.progressiveRender,s=e.view,c=i&&tM(i).updateMethod,o=n?"incrementalPrepareRender":c&&s[c]?c:"render";return o!=="render"&&s[o](t,r,a,i),zV[o]}var zV={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},BV=pi,Sr=BV,ir={},Xo="\0__throttleOriginMethod",Lm="\0__throttleRate",Pm="\0__throttleType";function rM(e,t,r){var a,i=0,n=0,s=null,c,o,u,v;t=t||0;function h(){n=new Date().getTime(),s=null,e.apply(o,u||[])}var l=function(){a=new Date().getTime(),o=this,u=arguments;var d=v||t,f=v||r;v=null,c=a-(f?i:n)-d,clearTimeout(s),f?s=setTimeout(h,d):c>=0?h():s=setTimeout(h,-c),i=a};return l.clear=function(){s&&(clearTimeout(s),s=null)},l.debounceNextCall=function(d){v=d},l}function NV(e,t,r,a){var i=e[t];if(i){var n=i[Xo]||i,s=i[Pm],c=i[Lm];if(c!==r||s!==a){if(r==null||!a)return e[t]=n;i=e[t]=rM(n,r,a==="debounce"),i[Xo]=n,i[Pm]=a,i[Lm]=r}return i}}function VV(e,t){var r=e[t];r&&r[Xo]&&(e[t]=r[Xo])}ir.throttle=rM;ir.createOrUpdate=NV;ir.clear=VV;var HV=rs,qV=W,GV=qV.isFunction,FV={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),a=(e.visualColorAccessPath||"itemStyle.color").split("."),i=e.get(a),n=GV(i)&&!(i instanceof HV)?i:null;(!i||n)&&(i=e.getColorFromPalette(e.name,null,t.getSeriesCount())),r.setVisual("color",i);var s=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),c=e.get(s);if(r.setVisual("borderColor",c),!t.isSeriesFiltered(e)){n&&r.each(function(u){r.setItemVisual(u,"color",n(e.getDataParams(u)))});var o=function(u,v){var h=u.getItemModel(v),l=h.get(a,!0),d=h.get(s,!0);l!=null&&u.setItemVisual(v,"color",l),d!=null&&u.setItemVisual(v,"borderColor",d)};return{dataEach:r.hasItemOption?o:null}}}},$V=FV,UV={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},ea=UV,WV=W,Im=ea,ZV=ar,YV=ZV.retrieveRawValue;function XV(e,t){var r=t.getModel("aria");if(r.get("show")){if(r.get("description")){e.setAttribute("aria-label",r.get("description"));return}}else return;var a=0;t.eachSeries(function(m,g){++a},this);var i=r.get("data.maxCount")||10,n=r.get("series.maxCount")||10,s=Math.min(a,n),c;if(a<1)return;var o=d();o?c=h(l("general.withTitle"),{title:o}):c=l("general.withoutTitle");var u=[],v=a>1?"series.multiple.prefix":"series.single.prefix";c+=h(l(v),{seriesCount:a}),t.eachSeries(function(m,g){if(g<s){var p,y=m.get("name"),_="series."+(a>1?"multiple":"single")+".";p=l(y?_+"withName":_+"withoutName"),p=h(p,{seriesId:m.seriesIndex,seriesName:m.get("name"),seriesType:f(m.subType)});var w=m.getData();window.data=w,w.count()>i?p+=h(l("data.partialData"),{displayCnt:i}):p+=l("data.allData");for(var S=[],A=0;A<w.count();A++)if(A<i){var x=w.getName(A),b=YV(w,A);S.push(h(l(x?"data.withName":"data.withoutName"),{name:x,value:b}))}p+=S.join(l("data.separator.middle"))+l("data.separator.end"),u.push(p)}}),c+=u.join(l("series.multiple.separator.middle"))+l("series.multiple.separator.end"),e.setAttribute("aria-label",c);function h(m,g){if(typeof m!="string")return m;var p=m;return WV.each(g,function(y,_){p=p.replace(new RegExp("\\{\\s*"+_+"\\s*\\}","g"),y)}),p}function l(m){var g=r.get(m);if(g==null){for(var p=m.split("."),y=Im.aria,_=0;_<p.length;++_)y=y[p[_]];return y}else return g}function d(){var m=t.getModel("title").option;return m&&m.length&&(m=m[0]),m&&m.text}function f(m){return Im.series.typeNames[m]||"自定义图"}}var KV=XV,QV=W,ao=fe,jV=Ue,io=Math.PI;function JV(e,t){t=t||{},QV.defaults(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new ao.Group,a=new ao.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(a);var i=t.fontSize+" sans-serif",n=new ao.Rect({style:{fill:"none",text:t.text,font:i,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(r.add(n),t.showSpinner){var s=new ao.Arc({shape:{startAngle:-io/2,endAngle:-io/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});s.animateShape(!0).when(1e3,{endAngle:io*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:io*3/2}).delay(300).start("circularInOut"),r.add(s)}return r.resize=function(){var c=jV.getWidth(t.text,i),o=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-o*2-(t.showSpinner&&c?10:0)-c)/2-(t.showSpinner?0:c/2),v=e.getHeight()/2;t.showSpinner&&s.setShape({cx:u,cy:v}),n.setShape({x:u-o,y:v-o,width:o*2,height:o*2}),a.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var eH=JV,wn=W,ig=wn.each,tH=wn.map,rH=wn.isFunction,cs=wn.createHashMap,aH=wn.noop,iH=us,ad=iH.createTask,nH=jr,oH=nH.getUID,sH=HC,lH=qC,uH=Ie,vH=uH.normalizeToArray;function ng(e,t,i,n){this.ecInstance=e,this.api=t,this.unfinished;var i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n),this._stageTaskMap=cs()}var Ut=ng.prototype;Ut.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var a=r.overallTask;a&&a.dirty()})};Ut.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),a=r.context,i=!t&&r.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>r.blockIndex,n=i?r.step:null,s=a&&a.modDataCount,c=s!=null?Math.ceil(s/n):null;return{step:n,modBy:c,modDataCount:s}}};Ut.getPipeline=function(e){return this._pipelineMap.get(e)};Ut.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),n=r.progressiveEnabled&&t.incrementalPrepareRender&&i>=r.threshold,s=e.get("large")&&i>=e.get("largeThreshold"),c=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=r.context={progressiveRender:n,modDataCount:c,large:s}};Ut.restorePipelines=function(e){var t=this,r=t._pipelineMap=cs();e.eachSeries(function(a){var i=a.getProgressive(),n=a.uid;r.set(n,{id:n,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),fs(t,a,a.dataTask)})};Ut.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),r=this.api;ig(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,[]);a.reset&&hH(this,a,i,t,r),a.overallReset&&cH(this,a,i,t,r)},this)};Ut.prepareView=function(e,t,r,a){var i=e.renderTask,n=i.context;n.model=t,n.ecModel=r,n.api=a,i.__block=!e.incrementalPrepareRender,fs(this,t,i)};Ut.performDataProcessorTasks=function(e,t){aM(this,this._dataProcessorHandlers,e,t,{block:!0})};Ut.performVisualTasks=function(e,t,r){aM(this,this._visualHandlers,e,t,r)};function aM(e,t,r,a,i){i=i||{};var n;ig(t,function(c,o){if(!(i.visualType&&i.visualType!==c.visualType)){var u=e._stageTaskMap.get(c.uid),v=u.seriesTaskMap,h=u.overallTask;if(h){var l,d=h.agentStubMap;d.each(function(m){s(i,m)&&(m.dirty(),l=!0)}),l&&h.dirty(),Rm(h,a);var f=e.getPerformArgs(h,i.block);d.each(function(m){m.perform(f)}),n|=h.perform(f)}else v&&v.each(function(m,g){s(i,m)&&m.dirty();var p=e.getPerformArgs(m,i.block);p.skip=!c.performRawSeries&&r.isSeriesFiltered(m.context.model),Rm(m,a),n|=m.perform(p)})}});function s(c,o){return c.setDirty&&(!c.dirtyMap||c.dirtyMap.get(o.__pipeline.id))}e.unfinished|=n}Ut.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t|=r.dataTask.perform()}),this.unfinished|=t};Ut.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var Rm=Ut.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};function hH(e,t,r,a,i){var n=r.seriesTaskMap||(r.seriesTaskMap=cs()),s=t.seriesType,c=t.getTargetSeries;t.createOnAllSeries?a.eachRawSeries(o):s?a.eachRawSeriesByType(s,o):c&&c(a,i).each(o);function o(v){var h=v.uid,l=n.get(h)||n.set(h,ad({plan:mH,reset:yH,count:xH}));l.context={model:v,ecModel:a,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},fs(e,v,l)}var u=e._pipelineMap;n.each(function(v,h){u.get(h)||(v.dispose(),n.removeKey(h))})}function cH(e,t,r,a,i){var n=r.overallTask=r.overallTask||ad({reset:fH});n.context={ecModel:a,api:i,overallReset:t.overallReset,scheduler:e};var s=n.agentStubMap=n.agentStubMap||cs(),c=t.seriesType,o=t.getTargetSeries,u=!0,v=t.modifyOutputEnd;c?a.eachRawSeriesByType(c,h):o?o(a,i).each(h):(u=!1,ig(a.getSeries(),h));function h(d){var f=d.uid,m=s.get(f);m||(m=s.set(f,ad({reset:dH,onDirty:pH})),n.dirty()),m.context={model:d,overallProgress:u,modifyOutputEnd:v},m.agent=n,m.__block=u,fs(e,d,m)}var l=e._pipelineMap;s.each(function(d,f){l.get(f)||(d.dispose(),n.dirty(),s.removeKey(f))})}function fH(e){e.overallReset(e.ecModel,e.api,e.payload)}function dH(e,t){return e.overallProgress&&gH}function gH(){this.agent.dirty(),this.getDownstream().dirty()}function pH(){this.agent&&this.agent.dirty()}function mH(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function yH(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=vH(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?tH(t,function(r,a){return iM(a)}):_H}var _H=iM(0);function iM(e){return function(t,r){var a=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var n=t.start;n<t.end;n++)i.dataEach(a,n);else i&&i.progress&&i.progress(t,a)}}function xH(e){return e.data.count()}function fs(e,t,r){var a=t.uid,i=e._pipelineMap.get(a);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i}ng.wrapStageHandler=function(e,t){return rH(e)&&(e={overallReset:e,seriesType:SH(e)}),e.uid=oH("stageHandler"),t&&(e.visualType=t),e};function SH(e){Ko=null;try{e(on,nM)}catch{}return Ko}var on={},nM={},Ko;oM(on,sH);oM(nM,lH);on.eachSeriesByType=on.eachRawSeriesByType=function(e){Ko=e};on.eachComponent=function(e){e.mainType==="series"&&e.subType&&(Ko=e.subType)};function oM(e,t){for(var r in t.prototype)e[r]=aH}var bH=ng,wH=bH,Em=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],AH={color:Em,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Em]},TH=AH,yt="#eee",no=function(){return{axisLine:{lineStyle:{color:yt}},axisTick:{lineStyle:{color:yt}},axisLabel:{textStyle:{color:yt}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:yt}}}},xl=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],sM={color:xl,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:yt},crossStyle:{color:yt},label:{color:"#000"}}},legend:{textStyle:{color:yt}},textStyle:{color:yt},title:{textStyle:{color:yt}},toolbox:{iconStyle:{normal:{borderColor:yt}}},dataZoom:{textStyle:{color:yt}},visualMap:{textStyle:{color:yt}},timeline:{lineStyle:{color:yt},itemStyle:{normal:{color:xl[1]}},label:{normal:{textStyle:{color:yt}}},controlStyle:{normal:{color:yt,borderColor:yt}}},timeAxis:no(),logAxis:no(),valueAxis:no(),categoryAxis:no(),line:{symbol:"circle"},graph:{color:xl},gauge:{title:{textStyle:{color:yt}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};sM.categoryAxis.splitLine.show=!1;var CH=sM,MH=CH,DH=ht,LH=hs,PH=xt,IH=PH.detectSourceFormat,RH=Bt,EH=RH.SERIES_LAYOUT_BY_COLUMN;DH.extend({type:"dataset",defaultOption:{seriesLayoutBy:EH,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){IH(this)}});LH.extend({type:"dataset"});var An={},kH=at,OH=kH.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var r=.5522848,a=t.cx,i=t.cy,n=t.rx,s=t.ry,c=n*r,o=s*r;e.moveTo(a-n,i),e.bezierCurveTo(a-n,i-o,a-c,i-s,a,i-s),e.bezierCurveTo(a+c,i-s,a+n,i-o,a+n,i),e.bezierCurveTo(a+n,i+o,a+c,i+s,a,i+s),e.bezierCurveTo(a-c,i+s,a-n,i+o,a-n,i),e.closePath()}}),zH=OH,Xi=_a,BH=ui,NH=xa,VH=WT,lM=Od,HH=zH,qH=KT,GH=at,FH=YT,$H=XT,UH=zd,WH=hd,oo=Je,ZH=mn,YH=ZH.createFromString,Tn=W,XH=Tn.isString,KH=Tn.extend,QH=Tn.defaults,Ir=Tn.trim,km=Tn.each,Ur=/[\s,]+/;function uM(e){if(XH(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}function ds(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}ds.prototype.parse=function(e,t){t=t||{};var r=uM(e);if(!r)throw new Error("Illegal svg");var a=new Xi;this._root=a;var i=r.getAttribute("viewBox")||"",n=parseFloat(r.getAttribute("width")||t.width),s=parseFloat(r.getAttribute("height")||t.height);isNaN(n)&&(n=null),isNaN(s)&&(s=null),Ot(r,a,null,!0);for(var c=r.firstChild;c;)this._parseNode(c,a),c=c.nextSibling;var o,u;if(i){var v=Ir(i).split(Ur);v.length>=4&&(o={x:parseFloat(v[0]||0),y:parseFloat(v[1]||0),width:parseFloat(v[2]),height:parseFloat(v[3])})}if(o&&n!=null&&s!=null&&(u=vM(o,n,s),!t.ignoreViewBox)){var h=a;a=new Xi,a.add(h),h.scale=u.scale.slice(),h.position=u.position.slice()}return!t.ignoreRootClip&&n!=null&&s!=null&&a.setClipPath(new lM({shape:{x:0,y:0,width:n,height:s}})),{root:a,width:n,height:s,viewBoxRect:o,viewBoxTransform:u}};ds.prototype._parseNode=function(e,t){var r=e.nodeName.toLowerCase();r==="defs"?this._isDefine=!0:r==="text"&&(this._isText=!0);var a;if(this._isDefine){var i=JH[r];if(i){var n=i.call(this,e),s=e.getAttribute("id");s&&(this._defs[s]=n)}}else{var i=jH[r];i&&(a=i.call(this,e,t),t.add(a))}for(var c=e.firstChild;c;)c.nodeType===1&&this._parseNode(c,a),c.nodeType===3&&this._isText&&this._parseText(c,a),c=c.nextSibling;r==="defs"?this._isDefine=!1:r==="text"&&(this._isText=!1)};ds.prototype._parseText=function(e,t){if(e.nodeType===1){var r=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(a)}var i=new NH({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});qt(t,i),Ot(e,i,this._defs);var n=i.style.fontSize;n&&n<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=n/9,i.scale[1]*=n/9);var s=i.getBoundingRect();return this._textX+=s.width,t.add(i),i};var jH={g:function(e,t){var r=new Xi;return qt(t,r),Ot(e,r,this._defs),r},rect:function(e,t){var r=new lM;return qt(t,r),Ot(e,r,this._defs),r.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),r},circle:function(e,t){var r=new VH;return qt(t,r),Ot(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),r},line:function(e,t){var r=new qH;return qt(t,r),Ot(e,r,this._defs),r.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),r},ellipse:function(e,t){var r=new HH;return qt(t,r),Ot(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),r},polygon:function(e,t){var r=e.getAttribute("points");r&&(r=Om(r));var a=new FH({shape:{points:r||[]}});return qt(t,a),Ot(e,a,this._defs),a},polyline:function(e,t){var r=new GH;qt(t,r),Ot(e,r,this._defs);var a=e.getAttribute("points");a&&(a=Om(a));var i=new $H({shape:{points:a||[]}});return i},image:function(e,t){var r=new BH;return qt(t,r),Ot(e,r,this._defs),r.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),r},text:function(e,t){var r=e.getAttribute("x")||0,a=e.getAttribute("y")||0,i=e.getAttribute("dx")||0,n=e.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(n);var s=new Xi;return qt(t,s),Ot(e,s,this._defs),s},tspan:function(e,t){var r=e.getAttribute("x"),a=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),a!=null&&(this._textY=parseFloat(a));var i=e.getAttribute("dx")||0,n=e.getAttribute("dy")||0,s=new Xi;return qt(t,s),Ot(e,s,this._defs),this._textX+=i,this._textY+=n,s},path:function(e,t){var r=e.getAttribute("d")||"",a=YH(r);return qt(t,a),Ot(e,a,this._defs),a}},JH={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),r=parseInt(e.getAttribute("y1")||0,10),a=parseInt(e.getAttribute("x2")||10,10),i=parseInt(e.getAttribute("y2")||0,10),n=new UH(t,r,a,i);return e5(e,n),n},radialgradient:function(e){}};function e5(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1){var a=r.getAttribute("offset");a.indexOf("%")>0?a=parseInt(a,10)/100:a?a=parseFloat(a):a=0;var i=r.getAttribute("stop-color")||"#000000";t.addColorStop(a,i)}r=r.nextSibling}}function qt(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),QH(t.__inheritedStyle,e.__inheritedStyle))}function Om(e){for(var t=Ir(e).split(Ur),r=[],a=0;a<t.length;a+=2){var i=parseFloat(t[a]),n=parseFloat(t[a+1]);r.push([i,n])}return r}var Xa={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Ot(e,t,r,a){var i=t.__inheritedStyle||{},n=t.type==="text";if(e.nodeType===1&&(a5(e,t),KH(i,i5(e)),!a)){for(var s in Xa)if(Xa.hasOwnProperty(s)){var c=e.getAttribute(s);c!=null&&(i[Xa[s]]=c)}}var o=n?"textFill":"fill",u=n?"textStroke":"stroke";t.style=t.style||new WH;var v=t.style;i.fill!=null&&v.set(o,zm(i.fill,r)),i.stroke!=null&&v.set(u,zm(i.stroke,r)),km(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){var l=h==="lineWidth"&&n?"textStrokeWidth":h;i[h]!=null&&v.set(l,parseFloat(i[h]))}),(!i.textBaseline||i.textBaseline==="auto")&&(i.textBaseline="alphabetic"),i.textBaseline==="alphabetic"&&(i.textBaseline="bottom"),i.textAlign==="start"&&(i.textAlign="left"),i.textAlign==="end"&&(i.textAlign="right"),km(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(h){i[h]!=null&&v.set(h,i[h])}),i.lineDash&&(t.style.lineDash=Ir(i.lineDash).split(Ur)),v[u]&&v[u]!=="none"&&(t[u]=!0),t.__inheritedStyle=i}var t5=/url\(\s*#(.*?)\)/;function zm(e,t){var r=t&&e&&e.match(t5);if(r){var a=Ir(r[1]),i=t[a];return i}return e}var r5=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function a5(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var a=null,i=[];r.replace(r5,function(o,u,v){i.push(u,v)});for(var n=i.length-1;n>0;n-=2){var s=i[n],c=i[n-1];switch(a=a||oo.create(),c){case"translate":s=Ir(s).split(Ur),oo.translate(a,a,[parseFloat(s[0]),parseFloat(s[1]||0)]);break;case"scale":s=Ir(s).split(Ur),oo.scale(a,a,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":s=Ir(s).split(Ur),oo.rotate(a,a,parseFloat(s[0]));break;case"skew":s=Ir(s).split(Ur),console.warn("Skew transform is not supported yet");break;case"matrix":var s=Ir(s).split(Ur);a[0]=parseFloat(s[0]),a[1]=parseFloat(s[1]),a[2]=parseFloat(s[2]),a[3]=parseFloat(s[3]),a[4]=parseFloat(s[4]),a[5]=parseFloat(s[5]);break}}t.setLocalTransform(a)}}var Bm=/([^\s:;]+)\s*:\s*([^:;]+)/g;function i5(e){var t=e.getAttribute("style"),r={};if(!t)return r;var a={};Bm.lastIndex=0;for(var i;(i=Bm.exec(t))!=null;)a[i[1]]=i[2];for(var n in Xa)Xa.hasOwnProperty(n)&&a[n]!=null&&(r[Xa[n]]=a[n]);return r}function vM(e,t,r){var a=t/e.width,i=r/e.height,n=Math.min(a,i),s=[n,n],c=[-(e.x+e.width/2)*n+t/2,-(e.y+e.height/2)*n+r/2];return{scale:s,position:c}}function n5(e,t){var r=new ds;return r.parse(e,t)}An.parseXML=uM;An.makeViewBoxTransform=vM;An.parseSVG=n5;var Cn=W,o5=Cn.createHashMap,s5=Cn.isString,l5=Cn.isArray,u5=Cn.each;Cn.assert;var v5=An,h5=v5.parseXML,Nm=o5(),c5={registerMap:function(e,t,r){var a;return l5(t)?a=t:t.svg?a=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(r=t.specialAreas,t=t.geoJson),a=[{type:"geoJSON",source:t,specialAreas:r}]),u5(a,function(i){var n=i.type;n==="geoJson"&&(n=i.type="geoJSON");var s=f5[n];s(i)}),Nm.set(e,a)},retrieveMap:function(e){return Nm.get(e)}},f5={geoJSON:function(e){var t=e.source;e.geoJSON=s5(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=h5(e.source)}},og=c5,gt={},vr={},Sl,Vm;function wa(){if(Vm)return Sl;Vm=1;function e(i){return i}function t(i,n,s,c,o){this._old=i,this._new=n,this._oldKeyGetter=s||e,this._newKeyGetter=c||e,this.context=o}t.prototype={constructor:t,add:function(i){return this._add=i,this},update:function(i){return this._update=i,this},remove:function(i){return this._remove=i,this},execute:function(){var i=this._old,n=this._new,s={},c={},o=[],u=[],v;for(r(i,s,o,"_oldKeyGetter",this),r(n,c,u,"_newKeyGetter",this),v=0;v<i.length;v++){var h=o[v],l=c[h];if(l!=null){var d=l.length;d?(d===1&&(c[h]=null),l=l.shift()):c[h]=null,this._update&&this._update(l,v)}else this._remove&&this._remove(v)}for(var v=0;v<u.length;v++){var h=u[v];if(c.hasOwnProperty(h)){var l=c[h];if(l==null)continue;if(!l.length)this._add&&this._add(l);else for(var f=0,d=l.length;f<d;f++)this._add&&this._add(l[f])}}}};function r(i,n,s,c,o){for(var u=0;u<i.length;u++){var v="_ec_"+o[c](i[u],u),h=n[v];h==null?(s.push(v),n[v]=u):(h.length||(n[v]=h=[h]),h.push(u))}}var a=t;return Sl=a,Sl}var ki={},Hm;function Mn(){if(Hm)return ki;Hm=1;var e=W,t=e.each,r=e.createHashMap;e.assert;var a=r(["tooltip","label","itemName","itemId","seriesName"]);function i(o){var u={},v=u.encode={},h=r(),l=[],d=[],f=u.userOutput={dimensionNames:o.dimensions.slice(),encode:{}};t(o.dimensions,function(_){var w=o.getDimensionInfo(_),S=w.coordDim;if(S){var A=w.coordDimIndex;n(v,S)[A]=_,w.isExtraCoord||(h.set(S,1),c(w.type)&&(l[0]=_),n(f.encode,S)[A]=w.index),w.defaultTooltip&&d.push(_)}a.each(function(x,b){var T=n(v,b),M=w.otherDims[b];M!=null&&M!==!1&&(T[M]=w.name)})});var m=[],g={};h.each(function(_,w){var S=v[w];g[w]=S[0],m=m.concat(S)}),u.dataDimsOnCoord=m,u.encodeFirstDimNotExtra=g;var p=v.label;p&&p.length&&(l=p.slice());var y=v.tooltip;return y&&y.length?d=y.slice():d.length||(d=l.slice()),v.defaultedLabel=l,v.defaultedTooltip=d,u}function n(o,u){return o.hasOwnProperty(u)||(o[u]=[]),o[u]}function s(o){return o==="category"?"ordinal":o==="time"?"time":"float"}function c(o){return!(o==="ordinal"||o==="time")}return ki.OTHER_DIMENSIONS=a,ki.summarizeDimensions=i,ki.getDimensionTypeByAxis=s,ki}var bl,qm;function hM(){if(qm)return bl;qm=1;var e=W;function t(a){a!=null&&e.extend(this,a),this.otherDims={}}var r=t;return bl=r,bl}var wl,Gm;function Wt(){if(Gm)return wl;Gm=1;var e=W,t=ot,r=wa(),a=Sn,i=ar,n=i.defaultDimValueGetters,s=i.DefaultDataProvider,c=Mn(),o=c.summarizeDimensions,u=hM(),v=e.isObject,h="undefined",l=-1,d="e\0\0",f={float:typeof Float64Array===h?Array:Float64Array,int:typeof Int32Array===h?Array:Int32Array,ordinal:Array,number:Array,time:Array},m=typeof Uint32Array===h?Array:Uint32Array,g=typeof Int32Array===h?Array:Int32Array,p=typeof Uint16Array===h?Array:Uint16Array;function y(R){return R._rawCount>65535?m:p}function _(R){var z=R.constructor;return z===Array?R.slice():new z(R)}var w=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],S=["_extent","_approximateExtent","_rawExtent"];function A(R,z){e.each(w.concat(z.__wrappedMethods||[]),function(k){z.hasOwnProperty(k)&&(R[k]=z[k])}),R.__wrappedMethods=z.__wrappedMethods,e.each(S,function(k){R[k]=e.clone(z[k])}),R._calculationInfo=e.extend(z._calculationInfo)}var x=function(R,z){R=R||["x","y"];for(var k={},N=[],G={},H=0;H<R.length;H++){var F=R[H];e.isString(F)?F=new u({name:F}):F instanceof u||(F=new u(F));var $=F.name;F.type=F.type||"float",F.coordDim||(F.coordDim=$,F.coordDimIndex=0),F.otherDims=F.otherDims||{},N.push($),k[$]=F,F.index=H,F.createInvertedIndices&&(G[$]=[])}this.dimensions=N,this._dimensionInfos=k,this.hostModel=z,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=o(this),this._invertedIndicesMap=G,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},b=x.prototype;b.type="list",b.hasItemOption=!0,b.getDimension=function(R){return(typeof R=="number"||!isNaN(R)&&!this._dimensionInfos.hasOwnProperty(R))&&(R=this.dimensions[R]),R},b.getDimensionInfo=function(R){return this._dimensionInfos[this.getDimension(R)]},b.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},b.mapDimension=function(R,z){var k=this._dimensionsSummary;if(z==null)return k.encodeFirstDimNotExtra[R];var N=k.encode[R];return z===!0?(N||[]).slice():N&&N[z]},b.initData=function(R,z,k){var N=a.isInstance(R)||e.isArrayLike(R);N&&(R=new s(R,this.dimensions.length)),this._rawData=R,this._storage={},this._indices=null,this._nameList=z||[],this._idList=[],this._nameRepeatCount={},k||(this.hasItemOption=!1),this.defaultDimValueGetter=n[this._rawData.getSource().sourceFormat],this._dimValueGetter=k=k||this.defaultDimValueGetter,this._dimValueGetterArrayRows=n.arrayRows,this._rawExtent={},this._initDataFromProvider(0,R.count()),R.pure&&(this.hasItemOption=!1)},b.getProvider=function(){return this._rawData},b.appendData=function(R){var z=this._rawData,k=this.count();z.appendData(R);var N=z.count();z.persistent||(N+=k),this._initDataFromProvider(k,N)},b.appendValues=function(R,z){for(var k=this._chunkSize,N=this._storage,G=this.dimensions,H=G.length,F=this._rawExtent,$=this.count(),U=$+Math.max(R.length,z?z.length:0),X=this._chunkCount,Q=0;Q<H;Q++){var j=G[Q];F[j]||(F[j]=B()),N[j]||(N[j]=[]),T(N,this._dimensionInfos[j],k,X,U),this._chunkCount=N[j].length}for(var ee=new Array(H),re=$;re<U;re++){for(var te=re-$,ne=Math.floor(re/k),Se=re%k,le=0;le<H;le++){var j=G[le],pe=this._dimValueGetterArrayRows(R[te]||ee,j,te,le);N[j][ne][Se]=pe;var de=F[j];pe<de[0]&&(de[0]=pe),pe>de[1]&&(de[1]=pe)}z&&(this._nameList[re]=z[te])}this._rawCount=this._count=U,this._extent={},M(this)},b._initDataFromProvider=function(R,z){if(!(R>=z)){for(var k=this._chunkSize,N=this._rawData,G=this._storage,H=this.dimensions,F=H.length,$=this._dimensionInfos,U=this._nameList,X=this._idList,Q=this._rawExtent,j=this._nameRepeatCount={},ee,re=this._chunkCount,te=0;te<F;te++){var ne=H[te];Q[ne]||(Q[ne]=B());var Se=$[ne];Se.otherDims.itemName===0&&(ee=this._nameDimIdx=te),Se.otherDims.itemId===0&&(this._idDimIdx=te),G[ne]||(G[ne]=[]),T(G,Se,k,re,z),this._chunkCount=G[ne].length}for(var le=new Array(F),pe=R;pe<z;pe++){le=N.getItem(pe,le);for(var de=Math.floor(pe/k),ie=pe%k,oe=0;oe<F;oe++){var ne=H[oe],ge=G[ne][de],Z=this._dimValueGetter(le,ne,pe,oe);ge[ie]=Z;var K=Q[ne];Z<K[0]&&(K[0]=Z),Z>K[1]&&(K[1]=Z)}if(!N.pure){var J=U[pe];if(le&&J==null){if(le.name!=null)U[pe]=J=le.name;else if(ee!=null){var se=H[ee],ue=G[se][de];if(ue){J=ue[ie];var ve=$[se].ordinalMeta;ve&&ve.categories.length&&(J=ve.categories[J])}}}var he=le==null?null:le.id;he==null&&J!=null&&(j[J]=j[J]||0,he=J,j[J]>0&&(he+="__ec__"+j[J]),j[J]++),he!=null&&(X[pe]=he)}}!N.persistent&&N.clean&&N.clean(),this._rawCount=this._count=z,this._extent={},M(this)}};function T(R,z,k,N,G){var H=f[z.type],F=N-1,$=z.name,U=R[$][F];if(U&&U.length<k){for(var X=new H(Math.min(G-F*k,k)),Q=0;Q<U.length;Q++)X[Q]=U[Q];R[$][F]=X}for(var j=N*k;j<G;j+=k)R[$].push(new H(Math.min(G-j,k)))}function M(R){var z=R._invertedIndicesMap;e.each(z,function(k,N){var G=R._dimensionInfos[N],H=G.ordinalMeta;if(H){k=z[N]=new g(H.categories.length);for(var F=0;F<k.length;F++)k[F]=l;for(var F=0;F<R._count;F++)k[R.get(N,F)]=F}})}function C(R,z,k){var N;if(z!=null){var G=R._chunkSize,H=Math.floor(k/G),F=k%G,$=R.dimensions[z],U=R._storage[$][H];if(U){N=U[F];var X=R._dimensionInfos[$].ordinalMeta;X&&X.categories.length&&(N=X.categories[N])}}return N}b.count=function(){return this._count},b.getIndices=function(){var R,z=this._indices;if(z){var k=z.constructor,N=this._count;if(k===Array){R=new k(N);for(var G=0;G<N;G++)R[G]=z[G]}else R=new k(z.buffer,0,N)}else for(var k=y(this),R=new k(this.count()),G=0;G<R.length;G++)R[G]=G;return R},b.get=function(R,z){if(!(z>=0&&z<this._count))return NaN;var k=this._storage;if(!k[R])return NaN;z=this.getRawIndex(z);var N=Math.floor(z/this._chunkSize),G=z%this._chunkSize,H=k[R][N],F=H[G];return F},b.getByRawIndex=function(R,z){if(!(z>=0&&z<this._rawCount))return NaN;var k=this._storage[R];if(!k)return NaN;var N=Math.floor(z/this._chunkSize),G=z%this._chunkSize,H=k[N];return H[G]},b._getFast=function(R,z){var k=Math.floor(z/this._chunkSize),N=z%this._chunkSize,G=this._storage[R][k];return G[N]},b.getValues=function(R,z){var k=[];e.isArray(R)||(z=R,R=this.dimensions);for(var N=0,G=R.length;N<G;N++)k.push(this.get(R[N],z));return k},b.hasValue=function(R){for(var z=this._dimensionsSummary.dataDimsOnCoord,k=0,N=z.length;k<N;k++)if(isNaN(this.get(z[k],R)))return!1;return!0},b.getDataExtent=function(R){R=this.getDimension(R);var z=this._storage[R],k=B();if(!z)return k;var N=this.count(),G=!this._indices,H;if(G)return this._rawExtent[R].slice();if(H=this._extent[R],H)return H.slice();H=k;for(var F=H[0],$=H[1],U=0;U<N;U++){var X=this._getFast(R,this.getRawIndex(U));X<F&&(F=X),X>$&&($=X)}return H=[F,$],this._extent[R]=H,H},b.getApproximateExtent=function(R){return R=this.getDimension(R),this._approximateExtent[R]||this.getDataExtent(R)},b.setApproximateExtent=function(R,z){z=this.getDimension(z),this._approximateExtent[z]=R.slice()},b.getCalculationInfo=function(R){return this._calculationInfo[R]},b.setCalculationInfo=function(R,z){v(R)?e.extend(this._calculationInfo,R):this._calculationInfo[R]=z},b.getSum=function(R){var z=this._storage[R],k=0;if(z)for(var N=0,G=this.count();N<G;N++){var H=this.get(R,N);isNaN(H)||(k+=H)}return k},b.getMedian=function(R){var z=[];this.each(R,function(G,H){isNaN(G)||z.push(G)});var k=[].concat(z).sort(function(G,H){return G-H}),N=this.count();return N===0?0:N%2===1?k[(N-1)/2]:(k[N/2]+k[N/2-1])/2},b.rawIndexOf=function(R,z){var k=R&&this._invertedIndicesMap[R],N=k[z];return N==null||isNaN(N)?l:N},b.indexOfName=function(R){for(var z=0,k=this.count();z<k;z++)if(this.getName(z)===R)return z;return-1},b.indexOfRawIndex=function(R){if(R>=this._rawCount||R<0)return-1;if(!this._indices)return R;var z=this._indices,k=z[R];if(k!=null&&k<this._count&&k===R)return R;for(var N=0,G=this._count-1;N<=G;){var H=(N+G)/2|0;if(z[H]<R)N=H+1;else if(z[H]>R)G=H-1;else return H}return-1},b.indicesOfNearest=function(R,z,k){var N=this._storage,G=N[R],H=[];if(!G)return H;k==null&&(k=1/0);for(var F=1/0,$=-1,U=0,X=0,Q=this.count();X<Q;X++){var j=z-this.get(R,X),ee=Math.abs(j);ee<=k&&((ee<F||ee===F&&j>=0&&$<0)&&(F=ee,$=j,U=0),j===$&&(H[U++]=X))}return H.length=U,H},b.getRawIndex=D;function D(R){return R}function L(R){return R<this._count&&R>=0?this._indices[R]:-1}b.getRawDataItem=function(R){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(R));for(var z=[],k=0;k<this.dimensions.length;k++){var N=this.dimensions[k];z.push(this.get(N,R))}return z},b.getName=function(R){var z=this.getRawIndex(R);return this._nameList[z]||C(this,this._nameDimIdx,z)||""},b.getId=function(R){return P(this,this.getRawIndex(R))};function P(R,z){var k=R._idList[z];return k==null&&(k=C(R,R._idDimIdx,z)),k==null&&(k=d+z),k}function I(R){return e.isArray(R)||(R=[R]),R}b.each=function(R,z,k,N){if(this._count){typeof R=="function"&&(N=k,k=z,z=R,R=[]),k=k||N||this,R=e.map(I(R),this.getDimension,this);for(var G=R.length,H=0;H<this.count();H++)switch(G){case 0:z.call(k,H);break;case 1:z.call(k,this.get(R[0],H),H);break;case 2:z.call(k,this.get(R[0],H),this.get(R[1],H),H);break;default:for(var F=0,$=[];F<G;F++)$[F]=this.get(R[F],H);$[F]=H,z.apply(k,$)}}},b.filterSelf=function(R,z,k,N){if(this._count){typeof R=="function"&&(N=k,k=z,z=R,R=[]),k=k||N||this,R=e.map(I(R),this.getDimension,this);for(var G=this.count(),H=y(this),F=new H(G),$=[],U=R.length,X=0,Q=R[0],j=0;j<G;j++){var ee,re=this.getRawIndex(j);if(U===0)ee=z.call(k,j);else if(U===1){var te=this._getFast(Q,re);ee=z.call(k,te,j)}else{for(var ne=0;ne<U;ne++)$[ne]=this._getFast(Q,re);$[ne]=j,ee=z.apply(k,$)}ee&&(F[X++]=re)}return X<G&&(this._indices=F),this._count=X,this._extent={},this.getRawIndex=this._indices?L:D,this}},b.selectRange=function(R){if(this._count){var z=[];for(var k in R)R.hasOwnProperty(k)&&z.push(k);var N=z.length;if(N){var G=this.count(),H=y(this),F=new H(G),$=0,U=z[0],X=R[U][0],Q=R[U][1],j=!1;if(!this._indices){var ee=0;if(N===1){for(var re=this._storage[z[0]],te=0;te<this._chunkCount;te++)for(var ne=re[te],Se=Math.min(this._count-te*this._chunkSize,this._chunkSize),le=0;le<Se;le++){var pe=ne[le];(pe>=X&&pe<=Q||isNaN(pe))&&(F[$++]=ee),ee++}j=!0}else if(N===2){for(var re=this._storage[U],de=this._storage[z[1]],ie=R[z[1]][0],oe=R[z[1]][1],te=0;te<this._chunkCount;te++)for(var ne=re[te],ge=de[te],Se=Math.min(this._count-te*this._chunkSize,this._chunkSize),le=0;le<Se;le++){var pe=ne[le],Z=ge[le];(pe>=X&&pe<=Q||isNaN(pe))&&(Z>=ie&&Z<=oe||isNaN(Z))&&(F[$++]=ee),ee++}j=!0}}if(!j)if(N===1)for(var le=0;le<G;le++){var K=this.getRawIndex(le),pe=this._getFast(U,K);(pe>=X&&pe<=Q||isNaN(pe))&&(F[$++]=K)}else for(var le=0;le<G;le++){for(var J=!0,K=this.getRawIndex(le),te=0;te<N;te++){var se=z[te],pe=this._getFast(k,K);(pe<R[se][0]||pe>R[se][1])&&(J=!1)}J&&(F[$++]=this.getRawIndex(le))}return $<G&&(this._indices=F),this._count=$,this._extent={},this.getRawIndex=this._indices?L:D,this}}},b.mapArray=function(R,z,k,N){typeof R=="function"&&(N=k,k=z,z=R,R=[]),k=k||N||this;var G=[];return this.each(R,function(){G.push(z&&z.apply(this,arguments))},k),G};function E(R,z){var k=R.dimensions,N=new x(e.map(k,R.getDimensionInfo,R),R.hostModel);A(N,R);for(var G=N._storage={},H=R._storage,F=0;F<k.length;F++){var $=k[F];H[$]&&(e.indexOf(z,$)>=0?(G[$]=O(H[$]),N._rawExtent[$]=B(),N._extent[$]=null):G[$]=H[$])}return N}function O(R){for(var z=new Array(R.length),k=0;k<R.length;k++)z[k]=_(R[k]);return z}function B(){return[1/0,-1/0]}b.map=function(R,z,k,N){k=k||N||this,R=e.map(I(R),this.getDimension,this);var G=E(this,R);G._indices=this._indices,G.getRawIndex=G._indices?L:D;for(var H=G._storage,F=[],$=this._chunkSize,U=R.length,X=this.count(),Q=[],j=G._rawExtent,ee=0;ee<X;ee++){for(var re=0;re<U;re++)Q[re]=this.get(R[re],ee);Q[U]=ee;var te=z&&z.apply(k,Q);if(te!=null){typeof te!="object"&&(F[0]=te,te=F);for(var ne=this.getRawIndex(ee),Se=Math.floor(ne/$),le=ne%$,pe=0;pe<te.length;pe++){var de=R[pe],ie=te[pe],oe=j[de],ge=H[de];ge&&(ge[Se][le]=ie),ie<oe[0]&&(oe[0]=ie),ie>oe[1]&&(oe[1]=ie)}}}return G},b.downSample=function(R,z,k,N){for(var G=E(this,[R]),H=G._storage,F=[],$=Math.floor(1/z),U=H[R],X=this.count(),Q=this._chunkSize,j=G._rawExtent[R],ee=new(y(this))(X),re=0,te=0;te<X;te+=$){$>X-te&&($=X-te,F.length=$);for(var ne=0;ne<$;ne++){var Se=this.getRawIndex(te+ne),le=Math.floor(Se/Q),pe=Se%Q;F[ne]=U[le][pe]}var de=k(F),ie=this.getRawIndex(Math.min(te+N(F,de)||0,X-1)),oe=Math.floor(ie/Q),ge=ie%Q;U[oe][ge]=de,de<j[0]&&(j[0]=de),de>j[1]&&(j[1]=de),ee[re++]=ie}return G._count=re,G._indices=ee,G.getRawIndex=L,G},b.getItemModel=function(R){var z=this.hostModel;return new t(this.getRawDataItem(R),z,z&&z.ecModel)},b.diff=function(R){var z=this;return new r(R?R.getIndices():[],this.getIndices(),function(k){return P(R,k)},function(k){return P(z,k)})},b.getVisual=function(R){var z=this._visual;return z&&z[R]},b.setVisual=function(R,z){if(v(R)){for(var k in R)R.hasOwnProperty(k)&&this.setVisual(k,R[k]);return}this._visual=this._visual||{},this._visual[R]=z},b.setLayout=function(R,z){if(v(R)){for(var k in R)R.hasOwnProperty(k)&&this.setLayout(k,R[k]);return}this._layout[R]=z},b.getLayout=function(R){return this._layout[R]},b.getItemLayout=function(R){return this._itemLayouts[R]},b.setItemLayout=function(R,z,k){this._itemLayouts[R]=k?e.extend(this._itemLayouts[R]||{},z):z},b.clearItemLayouts=function(){this._itemLayouts.length=0},b.getItemVisual=function(R,z,k){var N=this._itemVisuals[R],G=N&&N[z];return G==null&&!k?this.getVisual(z):G},b.setItemVisual=function(R,z,k){var N=this._itemVisuals[R]||{},G=this.hasItemVisual;if(this._itemVisuals[R]=N,v(z)){for(var H in z)z.hasOwnProperty(H)&&(N[H]=z[H],G[H]=!0);return}N[z]=k,G[z]=!0},b.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var q=function(R){R.seriesIndex=this.seriesIndex,R.dataIndex=this.dataIndex,R.dataType=this.dataType};b.setItemGraphicEl=function(R,z){var k=this.hostModel;z&&(z.dataIndex=R,z.dataType=this.dataType,z.seriesIndex=k&&k.seriesIndex,z.type==="group"&&z.traverse(q,z)),this._graphicEls[R]=z},b.getItemGraphicEl=function(R){return this._graphicEls[R]},b.eachItemGraphicEl=function(R,z){e.each(this._graphicEls,function(k,N){k&&R&&R.call(z,k,N)})},b.cloneShallow=function(R){if(!R){var z=e.map(this.dimensions,this.getDimensionInfo,this);R=new x(z,this.hostModel)}if(R._storage=this._storage,A(R,this),this._indices){var k=this._indices.constructor;R._indices=new k(this._indices)}else R._indices=null;return R.getRawIndex=R._indices?L:D,R},b.wrapMethod=function(R,z){var k=this[R];typeof k=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(R),this[R]=function(){var N=k.apply(this,arguments);return z.apply(this,[N].concat(e.slice(arguments)))})},b.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],b.CHANGABLE_METHODS=["filterSelf","selectRange"];var V=x;return wl=V,wl}var Al,Fm;function cM(){if(Fm)return Al;Fm=1;var e=W,t=e.createHashMap,r=e.each,a=e.isString,i=e.defaults,n=e.extend,s=e.isObject,c=e.clone,o=Ie,u=o.normalizeToArray,v=xt,h=v.guessOrdinal,l=v.BE_ORDINAL,d=Sn,f=Mn(),m=f.OTHER_DIMENSIONS,g=hM();function p(S,A,x){d.isInstance(A)||(A=d.seriesDataToSource(A)),x=x||{},S=(S||[]).slice();for(var b=(x.dimsDef||[]).slice(),T=t(),M=t(),C=[],D=y(A,S,b,x.dimCount),L=0;L<D;L++){var P=b[L]=n({},s(b[L])?b[L]:{name:b[L]}),I=P.name,E=C[L]=new g;I!=null&&T.get(I)==null&&(E.name=E.displayName=I,T.set(I,L)),P.type!=null&&(E.type=P.type),P.displayName!=null&&(E.displayName=P.displayName)}var O=x.encodeDef;!O&&x.encodeDefaulter&&(O=x.encodeDefaulter(A,D)),O=t(O),O.each(function(H,F){if(H=u(H).slice(),H.length===1&&!a(H[0])&&H[0]<0){O.set(F,!1);return}var $=O.set(F,[]);r(H,function(U,X){a(U)&&(U=T.get(U)),U!=null&&U<D&&($[X]=U,q(C[U],F,X))})});var B=0;r(S,function(U,F){var $,U,X,Q;if(a(U))$=U,U={};else{$=U.name;var j=U.ordinalMeta;U.ordinalMeta=null,U=c(U),U.ordinalMeta=j,X=U.dimsDef,Q=U.otherDims,U.name=U.coordDim=U.coordDimIndex=U.dimsDef=U.otherDims=null}var ee=O.get($);if(ee!==!1){var ee=u(ee);if(!ee.length)for(var re=0;re<(X&&X.length||1);re++){for(;B<C.length&&C[B].coordDim!=null;)B++;B<C.length&&ee.push(B++)}r(ee,function(te,ne){var Se=C[te];if(q(i(Se,U),$,ne),Se.name==null&&X){var le=X[ne];!s(le)&&(le={name:le}),Se.name=Se.displayName=le.name,Se.defaultTooltip=le.defaultTooltip}Q&&i(Se.otherDims,Q)})}});function q(H,F,$){m.get(F)!=null?H.otherDims[F]=$:(H.coordDim=F,H.coordDimIndex=$,M.set(F,!0))}var V=x.generateCoord,R=x.generateCoordCount,z=R!=null;R=V?R||1:0;for(var k=V||"value",N=0;N<D;N++){var E=C[N]=C[N]||new g,G=E.coordDim;G==null&&(E.coordDim=_(k,M,z),E.coordDimIndex=0,(!V||R<=0)&&(E.isExtraCoord=!0),R--),E.name==null&&(E.name=_(E.coordDim,T)),E.type==null&&(h(A,N,E.name)===l.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type="ordinal")}return C}function y(S,A,x,b){var T=Math.max(S.dimensionsDetectCount||1,A.length,x.length,b||0);return r(A,function(M){var C=M.dimsDef;C&&(T=Math.max(T,C.length))}),T}function _(S,A,x){if(x||A.get(S)!=null){for(var b=0;A.get(S+b)!=null;)b++;S+=b}return A.set(S,!0),S}var w=p;return Al=w,Al}var Tl,$m;function mi(){if($m)return Tl;$m=1;var e=cM();function t(r,a){return a=a||{},e(a.coordDimensions||[],r,{dimsDef:a.dimensionsDefine||r.dimensionsDefine,encodeDef:a.encodeDefine||r.encodeDefine,dimCount:a.dimensionsCount,encodeDefaulter:a.encodeDefaulter,generateCoord:a.generateCoord,generateCoordCount:a.generateCoordCount})}return Tl=t,Tl}var Cl={},Um;function d5(){if(Um)return Cl;Um=1;var e=W,t=e.createHashMap;e.retrieve;var r=e.each;function a(c){this.coordSysName=c,this.coordSysDims=[],this.axisMap=t(),this.categoryAxisMap=t(),this.firstCategoryDimIndex=null}function i(c){var o=c.get("coordinateSystem"),u=new a(o),v=n[o];if(v)return v(c,u,u.axisMap,u.categoryAxisMap),u}var n={cartesian2d:function(c,o,u,v){var h=c.getReferringComponents("xAxis")[0],l=c.getReferringComponents("yAxis")[0];o.coordSysDims=["x","y"],u.set("x",h),u.set("y",l),s(h)&&(v.set("x",h),o.firstCategoryDimIndex=0),s(l)&&(v.set("y",l),o.firstCategoryDimIndex==null&(o.firstCategoryDimIndex=1))},singleAxis:function(c,o,u,v){var h=c.getReferringComponents("singleAxis")[0];o.coordSysDims=["single"],u.set("single",h),s(h)&&(v.set("single",h),o.firstCategoryDimIndex=0)},polar:function(c,o,u,v){var h=c.getReferringComponents("polar")[0],l=h.findAxisModel("radiusAxis"),d=h.findAxisModel("angleAxis");o.coordSysDims=["radius","angle"],u.set("radius",l),u.set("angle",d),s(l)&&(v.set("radius",l),o.firstCategoryDimIndex=0),s(d)&&(v.set("angle",d),o.firstCategoryDimIndex==null&&(o.firstCategoryDimIndex=1))},geo:function(c,o,u,v){o.coordSysDims=["lng","lat"]},parallel:function(c,o,u,v){var h=c.ecModel,l=h.getComponent("parallel",c.get("parallelIndex")),d=o.coordSysDims=l.dimensions.slice();r(l.parallelAxisIndex,function(f,m){var g=h.getComponent("parallelAxis",f),p=d[m];u.set(p,g),s(g)&&o.firstCategoryDimIndex==null&&(v.set(p,g),o.firstCategoryDimIndex=m)})}};function s(c){return c.get("type")==="category"}return Cl.getCoordSysInfoBySeries=i,Cl}var Oi={},Wm;function br(){if(Wm)return Oi;Wm=1;var e=W,t=e.each,r=e.isString;function a(s,c,o){o=o||{};var u=o.byIndex,v=o.stackedCoordDimension,h=!!(s&&s.get("stack")),l,d,f,m;if(t(c,function(_,w){r(_)&&(c[w]=_={name:_}),h&&!_.isExtraCoord&&(!u&&!l&&_.ordinalMeta&&(l=_),!d&&_.type!=="ordinal"&&_.type!=="time"&&(!v||v===_.coordDim)&&(d=_))}),d&&!u&&!l&&(u=!0),d){f="__\0ecstackresult",m="__\0ecstackedover",l&&(l.createInvertedIndices=!0);var g=d.coordDim,p=d.type,y=0;t(c,function(_){_.coordDim===g&&y++}),c.push({name:f,coordDim:g,coordDimIndex:y,type:p,isExtraCoord:!0,isCalculationCoord:!0}),y++,c.push({name:m,coordDim:m,coordDimIndex:y,type:p,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:d&&d.name,stackedByDimension:l&&l.name,isStackedByIndex:u,stackedOverDimension:m,stackResultDimension:f}}function i(s,c){return!!c&&c===s.getCalculationInfo("stackedDimension")}function n(s,c){return i(s,c)?s.getCalculationInfo("stackResultDimension"):c}return Oi.enableDataStack=a,Oi.isDimensionStacked=i,Oi.getStackedDimension=n,Oi}var Ml,Zm;function Or(){if(Zm)return Ml;Zm=1;var e=W,t=Wt(),r=mi(),a=Bt,i=a.SOURCE_FORMAT_ORIGINAL,n=Mn(),s=n.getDimensionTypeByAxis,c=Ie,o=c.getDataItemValue,u=xr,v=d5(),h=v.getCoordSysInfoBySeries,l=Sn,d=br(),f=d.enableDataStack,m=xt,g=m.makeSeriesEncodeForAxisCoordSys;function p(S,A,x){x=x||{},l.isInstance(S)||(S=l.seriesDataToSource(S));var b=A.get("coordinateSystem"),T=u.get(b),M=h(A),C;M&&(C=e.map(M.coordSysDims,function(B){var q={name:B},V=M.axisMap.get(B);if(V){var R=V.get("type");q.type=s(R)}return q})),C||(C=T&&(T.getDimensionsInfo?T.getDimensionsInfo():T.dimensions.slice())||["x","y"]);var D=r(S,{coordDimensions:C,generateCoord:x.generateCoord,encodeDefaulter:x.useEncodeDefaulter?e.curry(g,C,A):null}),L,P;M&&e.each(D,function(B,q){var V=B.coordDim,R=M.categoryAxisMap.get(V);R&&(L==null&&(L=q),B.ordinalMeta=R.getOrdinalMeta()),B.otherDims.itemName!=null&&(P=!0)}),!P&&L!=null&&(D[L].otherDims.itemName=0);var I=f(A,D),E=new t(D,A);E.setCalculationInfo(I);var O=L!=null&&y(S)?function(B,q,V,R){return R===L?V:this.defaultDimValueGetter(B,q,V,R)}:null;return E.hasItemOption=!1,E.initData(S,null,O),E}function y(S){if(S.sourceFormat===i){var A=_(S.data||[]);return A!=null&&!e.isArray(o(A))}}function _(S){for(var A=0;A<S.length&&S[A]==null;)A++;return S[A]}var w=p;return Ml=w,Ml}var Xt={},Dl,Ym;function gs(){if(Ym)return Dl;Ym=1;var e=Et;function t(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}t.prototype.parse=function(a){return a},t.prototype.getSetting=function(a){return this._setting[a]},t.prototype.contain=function(a){var i=this._extent;return a>=i[0]&&a<=i[1]},t.prototype.normalize=function(a){var i=this._extent;return i[1]===i[0]?.5:(a-i[0])/(i[1]-i[0])},t.prototype.scale=function(a){var i=this._extent;return a*(i[1]-i[0])+i[0]},t.prototype.unionExtent=function(a){var i=this._extent;a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])},t.prototype.unionExtentFromData=function(a,i){this.unionExtent(a.getApproximateExtent(i))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(a,i){var n=this._extent;isNaN(a)||(n[0]=a),isNaN(i)||(n[1]=i)},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(a){this._isBlank=a},t.prototype.getLabel=null,e.enableClassExtend(t),e.enableClassManagement(t,{registerWhenExtend:!0});var r=t;return Dl=r,Dl}var Ll,Xm;function fM(){if(Xm)return Ll;Xm=1;var e=W,t=e.createHashMap,r=e.isObject,a=e.map;function i(u){this.categories=u.categories||[],this._needCollect=u.needCollect,this._deduplication=u.deduplication,this._map}i.createByAxisModel=function(u){var v=u.option,h=v.data,l=h&&a(h,c);return new i({categories:l,needCollect:!l,deduplication:v.dedplication!==!1})};var n=i.prototype;n.getOrdinal=function(u){return s(this).get(u)},n.parseAndCollect=function(u){var v,h=this._needCollect;if(typeof u!="string"&&!h)return u;if(h&&!this._deduplication)return v=this.categories.length,this.categories[v]=u,v;var l=s(this);return v=l.get(u),v==null&&(h?(v=this.categories.length,this.categories[v]=u,l.set(u,v)):v=NaN),v};function s(u){return u._map||(u._map=t(u.categories))}function c(u){return r(u)&&u.value!=null?u.value:u+""}var o=i;return Ll=o,Ll}var Pl,Km;function g5(){if(Km)return Pl;Km=1;var e=W,t=gs(),r=fM(),a=t.prototype,i=t.extend({type:"ordinal",init:function(s,c){(!s||e.isArray(s))&&(s=new r({categories:s})),this._ordinalMeta=s,this._extent=c||[0,s.categories.length-1]},parse:function(s){return typeof s=="string"?this._ordinalMeta.getOrdinal(s):Math.round(s)},contain:function(s){return s=this.parse(s),a.contain.call(this,s)&&this._ordinalMeta.categories[s]!=null},normalize:function(s){return a.normalize.call(this,this.parse(s))},scale:function(s){return Math.round(a.scale.call(this,s))},getTicks:function(){for(var s=[],c=this._extent,o=c[0];o<=c[1];)s.push(o),o++;return s},getLabel:function(s){if(!this.isBlank())return this._ordinalMeta.categories[s]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(s,c){this.unionExtent(s.getApproximateExtent(c))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:e.noop,niceExtent:e.noop});i.create=function(){return new i};var n=i;return Pl=n,Pl}var zi={},Qm;function dM(){if(Qm)return zi;Qm=1;var e=Le,t=e.round;function r(s,c,o,u){var v={},h=s[1]-s[0],l=v.interval=e.nice(h/c,!0);o!=null&&l<o&&(l=v.interval=o),u!=null&&l>u&&(l=v.interval=u);var d=v.intervalPrecision=a(l),f=v.niceTickExtent=[t(Math.ceil(s[0]/l)*l,d),t(Math.floor(s[1]/l)*l,d)];return n(f,s),v}function a(s){return e.getPrecisionSafe(s)+2}function i(s,c,o){s[c]=Math.max(Math.min(s[c],o[1]),o[0])}function n(s,c){!isFinite(s[0])&&(s[0]=c[0]),!isFinite(s[1])&&(s[1]=c[1]),i(s,0,c),i(s,1,c),s[0]>s[1]&&(s[0]=s[1])}return zi.intervalScaleNiceTicks=r,zi.getIntervalPrecision=a,zi.fixExtent=n,zi}var Il,jm;function ps(){if(jm)return Il;jm=1;var e=Le,t=Ne,r=gs(),a=dM(),i=e.round,n=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(c,o){var u=this._extent;isNaN(c)||(u[0]=parseFloat(c)),isNaN(o)||(u[1]=parseFloat(o))},unionExtent:function(c){var o=this._extent;c[0]<o[0]&&(o[0]=c[0]),c[1]>o[1]&&(o[1]=c[1]),n.prototype.setExtent.call(this,o[0],o[1])},getInterval:function(){return this._interval},setInterval:function(c){this._interval=c,this._niceExtent=this._extent.slice(),this._intervalPrecision=a.getIntervalPrecision(c)},getTicks:function(c){var o=this._interval,u=this._extent,v=this._niceExtent,h=this._intervalPrecision,l=[];if(!o)return l;var d=1e4;u[0]<v[0]&&(c?l.push(i(v[0]-o,h)):l.push(u[0]));for(var f=v[0];f<=v[1]&&(l.push(f),f=i(f+o,h),f!==l[l.length-1]);)if(l.length>d)return[];var m=l.length?l[l.length-1]:v[1];return u[1]>m&&(c?l.push(i(m+o,h)):l.push(u[1])),l},getMinorTicks:function(c){for(var o=this.getTicks(!0),u=[],v=this.getExtent(),h=1;h<o.length;h++){for(var l=o[h],d=o[h-1],f=0,m=[],g=l-d,p=g/c;f<c-1;){var y=e.round(d+(f+1)*p);y>v[0]&&y<v[1]&&m.push(y),f++}u.push(m)}return u},getLabel:function(c,o){if(c==null)return"";var u=o&&o.precision;return u==null?u=e.getPrecisionSafe(c)||0:u==="auto"&&(u=this._intervalPrecision),c=i(c,u,!0),t.addCommas(c)},niceTicks:function(c,o,u){c=c||5;var v=this._extent,h=v[1]-v[0];if(isFinite(h)){h<0&&(h=-h,v.reverse());var l=a.intervalScaleNiceTicks(v,c,o,u);this._intervalPrecision=l.intervalPrecision,this._interval=l.interval,this._niceExtent=l.niceTickExtent}},niceExtent:function(c){var o=this._extent;if(o[0]===o[1])if(o[0]!==0){var u=o[0];c.fixMax||(o[1]+=u/2),o[0]-=u/2}else o[1]=1;var v=o[1]-o[0];isFinite(v)||(o[0]=0,o[1]=1),this.niceTicks(c.splitNumber,c.minInterval,c.maxInterval);var h=this._interval;c.fixMin||(o[0]=i(Math.floor(o[0]/h)*h)),c.fixMax||(o[1]=i(Math.ceil(o[1]/h)*h))}});n.create=function(){return new n};var s=n;return Il=s,Il}var qr={},Jm;function ms(){if(Jm)return qr;Jm=1;var e=W,t=Le,r=t.parsePercent,a=br(),i=a.isDimensionStacked,n=gi,s="__ec_stack_",c=.5,o=typeof Float32Array<"u"?Float32Array:Array;function u(A){return A.get("stack")||s+A.seriesIndex}function v(A){return A.dim+A.index}function h(A){var x=[],b=A.axis,T="axis0";if(b.type==="category"){for(var M=b.getBandWidth(),C=0;C<A.count;C++)x.push(e.defaults({bandWidth:M,axisKey:T,stackId:s+C},A));for(var D=m(x),L=[],C=0;C<A.count;C++){var P=D[T][s+C];P.offsetCenter=P.offset+P.width/2,L.push(P)}return L}}function l(A,x){var b=[];return x.eachSeriesByType(A,function(T){_(T)&&!w(T)&&b.push(T)}),b}function d(A){var x={};e.each(A,function(P){var I=P.coordinateSystem,E=I.getBaseAxis();if(!(E.type!=="time"&&E.type!=="value"))for(var O=P.getData(),B=E.dim+"_"+E.index,q=O.mapDimension(E.dim),V=0,R=O.count();V<R;++V){var z=O.get(q,V);x[B]?x[B].push(z):x[B]=[z]}});var b=[];for(var T in x)if(x.hasOwnProperty(T)){var M=x[T];if(M){M.sort(function(P,I){return P-I});for(var C=null,D=1;D<M.length;++D){var L=M[D]-M[D-1];L>0&&(C=C===null?L:Math.min(C,L))}b[T]=C}}return b}function f(A){var x=d(A),b=[];return e.each(A,function(T){var M=T.coordinateSystem,C=M.getBaseAxis(),D=C.getExtent(),L;if(C.type==="category")L=C.getBandWidth();else if(C.type==="value"||C.type==="time"){var P=C.dim+"_"+C.index,I=x[P],E=Math.abs(D[1]-D[0]),O=C.scale.getExtent(),B=Math.abs(O[1]-O[0]);L=I?E/B*I:E}else{var q=T.getData();L=Math.abs(D[1]-D[0])/q.count()}var V=r(T.get("barWidth"),L),R=r(T.get("barMaxWidth"),L),z=r(T.get("barMinWidth")||1,L),k=T.get("barGap"),N=T.get("barCategoryGap");b.push({bandWidth:L,barWidth:V,barMaxWidth:R,barMinWidth:z,barGap:k,barCategoryGap:N,axisKey:v(C),stackId:u(T)})}),m(b)}function m(A){var x={};e.each(A,function(T,M){var C=T.axisKey,D=T.bandWidth,L=x[C]||{bandWidth:D,remainedWidth:D,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},P=L.stacks;x[C]=L;var I=T.stackId;P[I]||L.autoWidthCount++,P[I]=P[I]||{width:0,maxWidth:0};var E=T.barWidth;E&&!P[I].width&&(P[I].width=E,E=Math.min(L.remainedWidth,E),L.remainedWidth-=E);var O=T.barMaxWidth;O&&(P[I].maxWidth=O);var B=T.barMinWidth;B&&(P[I].minWidth=B);var q=T.barGap;q!=null&&(L.gap=q);var V=T.barCategoryGap;V!=null&&(L.categoryGap=V)});var b={};return e.each(x,function(T,M){b[M]={};var C=T.stacks,D=T.bandWidth,L=r(T.categoryGap,D),P=r(T.gap,1),I=T.remainedWidth,E=T.autoWidthCount,O=(I-L)/(E+(E-1)*P);O=Math.max(O,0),e.each(C,function(R){var z=R.maxWidth,k=R.minWidth;if(R.width){var N=R.width;z&&(N=Math.min(N,z)),k&&(N=Math.max(N,k)),R.width=N,I-=N+P*N,E--}else{var N=O;z&&z<N&&(N=Math.min(z,I)),k&&k>N&&(N=k),N!==O&&(R.width=N,I-=N+P*N,E--)}}),O=(I-L)/(E+(E-1)*P),O=Math.max(O,0);var B=0,q;e.each(C,function(R,z){R.width||(R.width=O),q=R,B+=R.width*(1+P)}),q&&(B-=q.width*P);var V=-B/2;e.each(C,function(R,z){b[M][z]=b[M][z]||{bandWidth:D,offset:V,width:R.width},V+=R.width*(1+P)})}),b}function g(A,x,b){if(A&&x){var T=A[v(x)];return T!=null&&b!=null&&(T=T[u(b)]),T}}function p(A,x){var b=l(A,x),T=f(b),M={};e.each(b,function(C){var D=C.getData(),L=C.coordinateSystem,P=L.getBaseAxis(),I=u(C),E=T[v(P)][I],O=E.offset,B=E.width,q=L.getOtherAxis(P),V=C.get("barMinHeight")||0;M[I]=M[I]||[],D.setLayout({bandWidth:E.bandWidth,offset:O,size:B});for(var R=D.mapDimension(q.dim),z=D.mapDimension(P.dim),k=i(D,R),N=q.isHorizontal(),G=S(P,q),H=0,F=D.count();H<F;H++){var $=D.get(R,H),U=D.get(z,H),X=$>=0?"p":"n",Q=G;k&&(M[I][U]||(M[I][U]={p:G,n:G}),Q=M[I][U][X]);var j,ee,re,te;if(N){var ne=L.dataToPoint([$,U]);j=Q,ee=ne[1]+O,re=ne[0]-G,te=B,Math.abs(re)<V&&(re=(re<0?-1:1)*V),isNaN(re)||k&&(M[I][U][X]+=re)}else{var ne=L.dataToPoint([U,$]);j=ne[0]+O,ee=Q,re=B,te=ne[1]-G,Math.abs(te)<V&&(te=(te<=0?-1:1)*V),isNaN(te)||k&&(M[I][U][X]+=te)}D.setItemLayout(H,{x:j,y:ee,width:re,height:te})}},this)}var y={seriesType:"bar",plan:n(),reset:function(A){if(!_(A)||!w(A))return;var x=A.getData(),b=A.coordinateSystem,T=b.grid.getRect(),M=b.getBaseAxis(),C=b.getOtherAxis(M),D=x.mapDimension(C.dim),L=x.mapDimension(M.dim),P=C.isHorizontal(),I=P?0:1,E=g(f([A]),M,A).width;return E>c||(E=c),{progress:O};function O(B,q){for(var V=B.count,R=new o(V*2),z=new o(V*2),k=new o(V),N,G=[],H=[],F=0,$=0;(N=B.next())!=null;)H[I]=q.get(D,N),H[1-I]=q.get(L,N),G=b.dataToPoint(H,null,G),z[F]=P?T.x+T.width:G[0],R[F++]=G[0],z[F]=P?G[1]:T.y+T.height,R[F++]=G[1],k[$++]=N;q.setLayout({largePoints:R,largeDataIndices:k,largeBackgroundPoints:z,barWidth:E,valueAxisStart:S(M,C),backgroundStart:P?T.x:T.y,valueAxisHorizontal:P})}}};function _(A){return A.coordinateSystem&&A.coordinateSystem.type==="cartesian2d"}function w(A){return A.pipelineContext&&A.pipelineContext.large}function S(A,x,b){return x.toGlobalCoord(x.dataToCoord(x.type==="log"?1:0))}return qr.getLayoutOnAxis=h,qr.prepareLayoutBarSeries=l,qr.makeColumnLayout=f,qr.retrieveColumnLayout=g,qr.layout=p,qr.largeLayout=y,qr}var Rl,ey;function p5(){if(ey)return Rl;ey=1;var e=W,t=Le,r=Ne,a=dM(),i=ps(),n=i.prototype,s=Math.ceil,c=Math.floor,o=1e3,u=o*60,v=u*60,h=v*24,l=function(g,p,y,_){for(;y<_;){var w=y+_>>>1;g[w][1]<p?y=w+1:_=w}return y},d=i.extend({type:"time",getLabel:function(g){var p=this._stepLvl,y=new Date(g);return r.formatTime(p[0],y,this.getSetting("useUTC"))},niceExtent:function(g){var p=this._extent;if(p[0]===p[1]&&(p[0]-=h,p[1]+=h),p[1]===-1/0&&p[0]===1/0){var y=new Date;p[1]=+new Date(y.getFullYear(),y.getMonth(),y.getDate()),p[0]=p[1]-h}this.niceTicks(g.splitNumber,g.minInterval,g.maxInterval);var _=this._interval;g.fixMin||(p[0]=t.round(c(p[0]/_)*_)),g.fixMax||(p[1]=t.round(s(p[1]/_)*_))},niceTicks:function(g,p,y){g=g||10;var _=this._extent,w=_[1]-_[0],S=w/g;p!=null&&S<p&&(S=p),y!=null&&S>y&&(S=y);var A=f.length,x=l(f,S,0,A),b=f[Math.min(x,A-1)],T=b[1];if(b[0]==="year"){var M=w/T,C=t.nice(M/g,!0);T*=C}var D=this.getSetting("useUTC")?0:new Date(+_[0]||+_[1]).getTimezoneOffset()*60*1e3,L=[Math.round(s((_[0]-D)/T)*T+D),Math.round(c((_[1]-D)/T)*T+D)];a.fixExtent(L,_),this._stepLvl=b,this._interval=T,this._niceExtent=L},parse:function(g){return+t.parseDate(g)}});e.each(["contain","normalize"],function(g){d.prototype[g]=function(p){return n[g].call(this,this.parse(p))}});var f=[["hh:mm:ss",o],["hh:mm:ss",o*5],["hh:mm:ss",o*10],["hh:mm:ss",o*15],["hh:mm:ss",o*30],[`hh:mm
MM-dd`,u],[`hh:mm
MM-dd`,u*5],[`hh:mm
MM-dd`,u*10],[`hh:mm
MM-dd`,u*15],[`hh:mm
MM-dd`,u*30],[`hh:mm
MM-dd`,v],[`hh:mm
MM-dd`,v*2],[`hh:mm
MM-dd`,v*6],[`hh:mm
MM-dd`,v*12],[`MM-dd
yyyy`,h],[`MM-dd
yyyy`,h*2],[`MM-dd
yyyy`,h*3],[`MM-dd
yyyy`,h*4],[`MM-dd
yyyy`,h*5],[`MM-dd
yyyy`,h*6],["week",h*7],[`MM-dd
yyyy`,h*10],["week",h*14],["week",h*21],["month",h*31],["week",h*42],["month",h*62],["week",h*70],["quarter",h*95],["month",h*31*4],["month",h*31*5],["half-year",h*380/2],["month",h*31*8],["month",h*31*10],["year",h*380]];d.create=function(g){return new d({useUTC:g.ecModel.get("useUTC")})};var m=d;return Rl=m,Rl}var El,ty;function gM(){if(ty)return El;ty=1;var e=W,t=gs(),r=Le,a=ps(),i=t.prototype,n=a.prototype,s=r.getPrecisionSafe,c=r.round,o=Math.floor,u=Math.ceil,v=Math.pow,h=Math.log,l=t.extend({type:"log",base:10,$constructor:function(){t.apply(this,arguments),this._originalScale=new a},getTicks:function(m){var g=this._originalScale,p=this._extent,y=g.getExtent();return e.map(n.getTicks.call(this,m),function(_){var w=r.round(v(this.base,_));return w=_===p[0]&&g.__fixMin?d(w,y[0]):w,w=_===p[1]&&g.__fixMax?d(w,y[1]):w,w},this)},getMinorTicks:n.getMinorTicks,getLabel:n.getLabel,scale:function(m){return m=i.scale.call(this,m),v(this.base,m)},setExtent:function(m,g){var p=this.base;m=h(m)/h(p),g=h(g)/h(p),n.setExtent.call(this,m,g)},getExtent:function(){var m=this.base,g=i.getExtent.call(this);g[0]=v(m,g[0]),g[1]=v(m,g[1]);var p=this._originalScale,y=p.getExtent();return p.__fixMin&&(g[0]=d(g[0],y[0])),p.__fixMax&&(g[1]=d(g[1],y[1])),g},unionExtent:function(m){this._originalScale.unionExtent(m);var g=this.base;m[0]=h(m[0])/h(g),m[1]=h(m[1])/h(g),i.unionExtent.call(this,m)},unionExtentFromData:function(m,g){this.unionExtent(m.getApproximateExtent(g))},niceTicks:function(m){m=m||10;var g=this._extent,p=g[1]-g[0];if(!(p===1/0||p<=0)){var y=r.quantity(p),_=m/p*y;for(_<=.5&&(y*=10);!isNaN(y)&&Math.abs(y)<1&&Math.abs(y)>0;)y*=10;var w=[r.round(u(g[0]/y)*y),r.round(o(g[1]/y)*y)];this._interval=y,this._niceExtent=w}},niceExtent:function(m){n.niceExtent.call(this,m);var g=this._originalScale;g.__fixMin=m.fixMin,g.__fixMax=m.fixMax}});e.each(["contain","normalize"],function(m){l.prototype[m]=function(g){return g=h(g)/h(this.base),i[m].call(this,g)}}),l.create=function(){return new l};function d(m,g){return c(m,s(g))}var f=l;return El=f,El}var ry;function nr(){if(ry)return Xt;ry=1;var e=W,t=g5(),r=ps(),a=gs(),i=Le,n=ms(),s=n.prepareLayoutBarSeries,c=n.makeColumnLayout,o=n.retrieveColumnLayout,u=Xe;p5(),gM();function v(S,A){var x=S.type,b=A.getMin(),T=A.getMax(),M=S.getExtent(),C,D,L;x==="ordinal"?C=A.getCategories().length:(D=A.get("boundaryGap"),e.isArray(D)||(D=[D||0,D||0]),typeof D[0]=="boolean"&&(D=[0,0]),D[0]=i.parsePercent(D[0],1),D[1]=i.parsePercent(D[1],1),L=M[1]-M[0]||Math.abs(M[0])),b==="dataMin"?b=M[0]:typeof b=="function"&&(b=b({min:M[0],max:M[1]})),T==="dataMax"?T=M[1]:typeof T=="function"&&(T=T({min:M[0],max:M[1]}));var P=b!=null,I=T!=null;b==null&&(b=x==="ordinal"?C?0:NaN:M[0]-D[0]*L),T==null&&(T=x==="ordinal"?C?C-1:NaN:M[1]+D[1]*L),(b==null||!isFinite(b))&&(b=NaN),(T==null||!isFinite(T))&&(T=NaN),S.setBlank(e.eqNaN(b)||e.eqNaN(T)||x==="ordinal"&&!S.getOrdinalMeta().categories.length),A.getNeedCrossZero()&&(b>0&&T>0&&!P&&(b=0),b<0&&T<0&&!I&&(T=0));var E=A.ecModel;if(E&&x==="time"){var O=s("bar",E),B;if(e.each(O,function(R){B|=R.getBaseAxis()===A.axis}),B){var q=c(O),V=h(b,T,A,q);b=V.min,T=V.max}}return{extent:[b,T],fixMin:P,fixMax:I}}function h(S,A,x,b){var T=x.axis.getExtent(),M=T[1]-T[0],C=o(b,x.axis);if(C===void 0)return{min:S,max:A};var D=1/0;e.each(C,function(B){D=Math.min(B.offset,D)});var L=-1/0;e.each(C,function(B){L=Math.max(B.offset+B.width,L)}),D=Math.abs(D),L=Math.abs(L);var P=D+L,I=A-S,E=1-(D+L)/M,O=I/E-I;return A+=O*(L/P),S-=O*(D/P),{min:S,max:A}}function l(S,A){var x=v(S,A),b=x.extent,T=A.get("splitNumber");S.type==="log"&&(S.base=A.get("logBase"));var M=S.type;S.setExtent(b[0],b[1]),S.niceExtent({splitNumber:T,fixMin:x.fixMin,fixMax:x.fixMax,minInterval:M==="interval"||M==="time"?A.get("minInterval"):null,maxInterval:M==="interval"||M==="time"?A.get("maxInterval"):null});var C=A.get("interval");C!=null&&S.setInterval&&S.setInterval(C)}function d(S,A){if(A=A||S.get("type"),A)switch(A){case"category":return new t(S.getOrdinalMeta?S.getOrdinalMeta():S.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(a.getClass(A)||r).create(S)}}function f(S){var A=S.scale.getExtent(),x=A[0],b=A[1];return!(x>0&&b>0||x<0&&b<0)}function m(S){var A=S.getLabelModel().get("formatter"),x=S.type==="category"?S.scale.getExtent()[0]:null;return typeof A=="string"?(A=function(b){return function(T){return T=S.scale.getLabel(T),b.replace("{value}",T??"")}}(A),A):typeof A=="function"?function(b,T){return x!=null&&(T=b-x),A(g(S,b),T)}:function(b){return S.scale.getLabel(b)}}function g(S,A){return S.type==="category"?S.scale.getLabel(A):A}function p(S){var A=S.model,x=S.scale;if(!(!A.get("axisLabel.show")||x.isBlank())){var b=S.type==="category",T,M,C=x.getExtent();b?M=x.count():(T=x.getTicks(),M=T.length);var D=S.getLabelModel(),L=m(S),P,I=1;M>40&&(I=Math.ceil(M/40));for(var E=0;E<M;E+=I){var O=T?T[E]:C[0]+E,B=L(O),q=D.getTextRect(B),V=y(q,D.get("rotate")||0);P?P.union(V):P=V}return P}}function y(S,A){var x=A*Math.PI/180,b=S.plain(),T=b.width,M=b.height,C=T*Math.cos(x)+M*Math.sin(x),D=T*Math.sin(x)+M*Math.cos(x),L=new u(b.x,b.y,C,D);return L}function _(S){var A=S.get("interval");return A??"auto"}function w(S){return S.type==="category"&&_(S.getLabelModel())===0}return Xt.getScaleExtent=v,Xt.niceScaleExtent=l,Xt.createScaleByModel=d,Xt.ifAxisCrossZero=f,Xt.makeLabelFormatter=m,Xt.getAxisRawValue=g,Xt.estimateLabelUnionRect=p,Xt.getOptionCategoryInterval=_,Xt.shouldShowAllLabels=w,Xt}var kl,ay;function yi(){if(ay)return kl;ay=1;var e=W,t={getMin:function(r){var a=this.option,i=!r&&a.rangeStart!=null?a.rangeStart:a.min;return this.axis&&i!=null&&i!=="dataMin"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(r){var a=this.option,i=!r&&a.rangeEnd!=null?a.rangeEnd:a.max;return this.axis&&i!=null&&i!=="dataMax"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var r=this.option;return r.rangeStart!=null||r.rangeEnd!=null?!1:!r.scale},getCoordSysModel:e.noop,setRange:function(r,a){this.option.rangeStart=r,this.option.rangeEnd=a},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};return kl=t,kl}var Ol={},iy;function Zt(){if(iy)return Ol;iy=1;var e=W,t=fe,r=Xe,a=Ue,i=a.calculateTextPosition,n=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,g){var p=g.cx,y=g.cy,_=g.width/2,w=g.height/2;m.moveTo(p,y-w),m.lineTo(p+_,y+w),m.lineTo(p-_,y+w),m.closePath()}}),s=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,g){var p=g.cx,y=g.cy,_=g.width/2,w=g.height/2;m.moveTo(p,y-w),m.lineTo(p+_,y),m.lineTo(p,y+w),m.lineTo(p-_,y),m.closePath()}}),c=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,g){var p=g.x,y=g.y,_=g.width/5*3,w=Math.max(_,g.height),S=_/2,A=S*S/(w-S),x=y-w+S+A,b=Math.asin(A/S),T=Math.cos(b)*S,M=Math.sin(b),C=Math.cos(b),D=S*.6,L=S*.7;m.moveTo(p-T,x+A),m.arc(p,x,S,Math.PI-b,Math.PI*2+b),m.bezierCurveTo(p+T-M*D,x+A+C*D,p,y-L,p,y),m.bezierCurveTo(p,y-L,p-T+M*D,x+A+C*D,p-T,x+A),m.closePath()}}),o=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,g){var p=g.height,y=g.width,_=g.x,w=g.y,S=y/3*2;m.moveTo(_,w),m.lineTo(_+S,w+p),m.lineTo(_,w+p/4*3),m.lineTo(_-S,w+p),m.lineTo(_,w),m.closePath()}}),u={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:s,pin:c,arrow:o,triangle:n},v={line:function(m,g,p,y,_){_.x1=m,_.y1=g+y/2,_.x2=m+p,_.y2=g+y/2},rect:function(m,g,p,y,_){_.x=m,_.y=g,_.width=p,_.height=y},roundRect:function(m,g,p,y,_){_.x=m,_.y=g,_.width=p,_.height=y,_.r=Math.min(p,y)/4},square:function(m,g,p,y,_){var w=Math.min(p,y);_.x=m,_.y=g,_.width=w,_.height=w},circle:function(m,g,p,y,_){_.cx=m+p/2,_.cy=g+y/2,_.r=Math.min(p,y)/2},diamond:function(m,g,p,y,_){_.cx=m+p/2,_.cy=g+y/2,_.width=p,_.height=y},pin:function(m,g,p,y,_){_.x=m+p/2,_.y=g+y/2,_.width=p,_.height=y},arrow:function(m,g,p,y,_){_.x=m+p/2,_.y=g+y/2,_.width=p,_.height=y},triangle:function(m,g,p,y,_){_.cx=m+p/2,_.cy=g+y/2,_.width=p,_.height=y}},h={};e.each(u,function(m,g){h[g]=new m});var l=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(m,g,p){var y=i(m,g,p),_=this.shape;return _&&_.symbolType==="pin"&&g.textPosition==="inside"&&(y.y=p.y+p.height*.4),y},buildPath:function(m,g,p){var y=g.symbolType;if(y!=="none"){var _=h[y];_||(y="rect",_=h[y]),v[y](g.x,g.y,g.width,g.height,_.shape),_.buildPath(m,_.shape,p)}}});function d(m,g){if(this.type!=="image"){var p=this.style,y=this.shape;y&&y.symbolType==="line"?p.stroke=m:this.__isEmptyBrush?(p.stroke=m,p.fill=g||"#fff"):(p.fill&&(p.fill=m),p.stroke&&(p.stroke=m)),this.dirty(!1)}}function f(m,g,p,y,_,w,S){var A=m.indexOf("empty")===0;A&&(m=m.substr(5,1).toLowerCase()+m.substr(6));var x;return m.indexOf("image://")===0?x=t.makeImage(m.slice(8),new r(g,p,y,_),S?"center":"cover"):m.indexOf("path://")===0?x=t.makePath(m.slice(7),{},new r(g,p,y,_),S?"center":"cover"):x=new l({shape:{symbolType:m,x:g,y:p,width:y,height:_}}),x.__isEmptyBrush=A,x.setColor=d,x.setColor(w),x}return Ol.createSymbol=f,Ol}var ny;function m5(){if(ny)return vr;ny=1;var e=W,t=Or(),r=nr(),a=yi(),i=ot,n=Be;n.getLayoutRect,vr.getLayoutRect=n.getLayoutRect;var s=br(),c=s.enableDataStack,o=s.isDimensionStacked,u=s.getStackedDimension,v=cM();vr.completeDimensions=v;var h=mi();vr.createDimensions=h;var l=Zt();vr.createSymbol=l.createSymbol;function d(p){return t(p.getSource(),p)}var f={isDimensionStacked:o,enableDataStack:c,getStackedDimension:u};function m(p,y){var _=y;i.isInstance(y)||(_=new i(y),e.mixin(_,a));var w=r.createScaleByModel(_);return w.setExtent(p[0],p[1]),r.niceScaleExtent(w,_),w}function g(p){e.mixin(p,a)}return vr.createList=d,vr.dataStack=f,vr.createScale=m,vr.mixinAxisModelCommonMethods=g,vr}var zl={},oy;function pM(){if(oy)return zl;oy=1;var e=GT,t=1e-8;function r(i,n){return Math.abs(i-n)<t}function a(i,n,s){var c=0,o=i[0];if(!o)return!1;for(var u=1;u<i.length;u++){var v=i[u];c+=e(o[0],o[1],v[0],v[1],n,s),o=v}var h=i[0];return(!r(o[0],h[0])||!r(o[1],h[1]))&&(c+=e(o[0],o[1],h[0],h[1],n,s)),c!==0}return zl.contain=a,zl}var Bl,sy;function mM(){if(sy)return Bl;sy=1;var e=Xe,t=yn(),r=Ee,a=pM();function i(s,c,o){if(this.name=s,this.geometries=c,o)o=[o[0],o[1]];else{var u=this.getBoundingRect();o=[u.x+u.width/2,u.y+u.height/2]}this.center=o}i.prototype={constructor:i,properties:null,getBoundingRect:function(){var s=this._rect;if(s)return s;for(var c=Number.MAX_VALUE,o=[c,c],u=[-c,-c],v=[],h=[],l=this.geometries,d=0;d<l.length;d++)if(l[d].type==="polygon"){var f=l[d].exterior;t.fromPoints(f,v,h),r.min(o,o,v),r.max(u,u,h)}return d===0&&(o[0]=o[1]=u[0]=u[1]=0),this._rect=new e(o[0],o[1],u[0]-o[0],u[1]-o[1])},contain:function(s){var c=this.getBoundingRect(),o=this.geometries;if(!c.contain(s[0],s[1]))return!1;e:for(var u=0,v=o.length;u<v;u++)if(o[u].type==="polygon"){var h=o[u].exterior,l=o[u].interiors;if(a.contain(h,s[0],s[1])){for(var d=0;d<(l?l.length:0);d++)if(a.contain(l[d]))continue e;return!0}}return!1},transformTo:function(s,c,o,u){var v=this.getBoundingRect(),h=v.width/v.height;o?u||(u=o/h):o=h*u;for(var l=new e(s,c,o,u),d=v.calculateTransform(l),f=this.geometries,m=0;m<f.length;m++)if(f[m].type==="polygon"){for(var g=f[m].exterior,p=f[m].interiors,y=0;y<g.length;y++)r.applyTransform(g[y],g[y],d);for(var _=0;_<(p?p.length:0);_++)for(var y=0;y<p[_].length;y++)r.applyTransform(p[_][y],p[_][y],d)}v=this._rect,v.copy(l),this.center=[v.x+v.width/2,v.y+v.height/2]},cloneShallow:function(s){s==null&&(s=this.name);var c=new i(s,this.geometries,this.center);return c._rect=this._rect,c.transformTo=null,c}};var n=i;return Bl=n,Bl}var Nl,ly;function yM(){if(ly)return Nl;ly=1;var e=W,t=mM();function r(n){if(!n.UTF8Encoding)return n;var s=n.UTF8Scale;s==null&&(s=1024);for(var c=n.features,o=0;o<c.length;o++)for(var u=c[o],v=u.geometry,h=v.coordinates,l=v.encodeOffsets,d=0;d<h.length;d++){var f=h[d];if(v.type==="Polygon")h[d]=a(f,l[d],s);else if(v.type==="MultiPolygon")for(var m=0;m<f.length;m++){var g=f[m];f[m]=a(g,l[d][m],s)}}return n.UTF8Encoding=!1,n}function a(n,s,c){for(var o=[],u=s[0],v=s[1],h=0;h<n.length;h+=2){var l=n.charCodeAt(h)-64,d=n.charCodeAt(h+1)-64;l=l>>1^-(l&1),d=d>>1^-(d&1),l+=u,d+=v,u=l,v=d,o.push([l/c,d/c])}return o}function i(n,s){return r(n),e.map(e.filter(n.features,function(c){return c.geometry&&c.properties&&c.geometry.coordinates.length>0}),function(c){var o=c.properties,u=c.geometry,v=u.coordinates,h=[];u.type==="Polygon"&&h.push({type:"polygon",exterior:v[0],interiors:v.slice(1)}),u.type==="MultiPolygon"&&e.each(v,function(d){d[0]&&h.push({type:"polygon",exterior:d[0],interiors:d.slice(1)})});var l=new t(o[s||"name"],h,o.cp);return l.properties=o,l})}return Nl=i,Nl}var Bi={},uy;function y5(){if(uy)return Bi;uy=1;var e=W,t=Ue,r=Ie,a=r.makeInner,i=nr(),n=i.makeLabelFormatter,s=i.getOptionCategoryInterval,c=i.shouldShowAllLabels,o=a();function u(x){return x.type==="category"?h(x):f(x)}function v(x,b){return x.type==="category"?d(x,b):{ticks:x.scale.getTicks()}}function h(x){var b=x.getLabelModel(),T=l(x,b);return!b.get("show")||x.scale.isBlank()?{labels:[],labelCategoryInterval:T.labelCategoryInterval}:T}function l(x,b){var T=m(x,"labels"),M=s(b),C=g(T,M);if(C)return C;var D,L;return e.isFunction(M)?D=A(x,M):(L=M==="auto"?y(x):M,D=S(x,L)),p(T,M,{labels:D,labelCategoryInterval:L})}function d(x,b){var T=m(x,"ticks"),M=s(b),C=g(T,M);if(C)return C;var D,L;if((!b.get("show")||x.scale.isBlank())&&(D=[]),e.isFunction(M))D=A(x,M,!0);else if(M==="auto"){var P=l(x,x.getLabelModel());L=P.labelCategoryInterval,D=e.map(P.labels,function(I){return I.tickValue})}else L=M,D=S(x,L,!0);return p(T,M,{ticks:D,tickCategoryInterval:L})}function f(x){var b=x.scale.getTicks(),T=n(x);return{labels:e.map(b,function(M,C){return{formattedLabel:T(M,C),rawLabel:x.scale.getLabel(M),tickValue:M}})}}function m(x,b){return o(x)[b]||(o(x)[b]=[])}function g(x,b){for(var T=0;T<x.length;T++)if(x[T].key===b)return x[T].value}function p(x,b,T){return x.push({key:b,value:T}),T}function y(x){var b=o(x).autoInterval;return b??(o(x).autoInterval=x.calculateCategoryInterval())}function _(x){var b=w(x),T=n(x),M=(b.axisRotate-b.labelRotate)/180*Math.PI,C=x.scale,D=C.getExtent(),L=C.count();if(D[1]-D[0]<1)return 0;var P=1;L>40&&(P=Math.max(1,Math.floor(L/40)));for(var I=D[0],E=x.dataToCoord(I+1)-x.dataToCoord(I),O=Math.abs(E*Math.cos(M)),B=Math.abs(E*Math.sin(M)),q=0,V=0;I<=D[1];I+=P){var R=0,z=0,k=t.getBoundingRect(T(I),b.font,"center","top");R=k.width*1.3,z=k.height*1.3,q=Math.max(q,R,7),V=Math.max(V,z,7)}var N=q/O,G=V/B;isNaN(N)&&(N=1/0),isNaN(G)&&(G=1/0);var H=Math.max(0,Math.floor(Math.min(N,G))),F=o(x.model),$=x.getExtent(),U=F.lastAutoInterval,X=F.lastTickCount;return U!=null&&X!=null&&Math.abs(U-H)<=1&&Math.abs(X-L)<=1&&U>H&&F.axisExtend0===$[0]&&F.axisExtend1===$[1]?H=U:(F.lastTickCount=L,F.lastAutoInterval=H,F.axisExtend0=$[0],F.axisExtend1=$[1]),H}function w(x){var b=x.getLabelModel();return{axisRotate:x.getRotate?x.getRotate():x.isHorizontal&&!x.isHorizontal()?90:0,labelRotate:b.get("rotate")||0,font:b.getFont()}}function S(x,b,T){var M=n(x),C=x.scale,D=C.getExtent(),L=x.getLabelModel(),P=[],I=Math.max((b||0)+1,1),E=D[0],O=C.count();E!==0&&I>1&&O/I>2&&(E=Math.round(Math.ceil(E/I)*I));var B=c(x),q=L.get("showMinLabel")||B,V=L.get("showMaxLabel")||B;q&&E!==D[0]&&z(D[0]);for(var R=E;R<=D[1];R+=I)z(R);V&&R-I!==D[1]&&z(D[1]);function z(k){P.push(T?k:{formattedLabel:M(k),rawLabel:C.getLabel(k),tickValue:k})}return P}function A(x,b,T){var M=x.scale,C=n(x),D=[];return e.each(M.getTicks(),function(L){var P=M.getLabel(L);b(L,P)&&D.push(T?L:{formattedLabel:C(L),rawLabel:P,tickValue:L})}),D}return Bi.createAxisLabels=u,Bi.createAxisTicks=v,Bi.calculateCategoryInterval=_,Bi}var Vl,vy;function ta(){if(vy)return Vl;vy=1;var e=W,t=e.each,r=e.map,a=Le,i=a.linearMap,n=a.getPixelPrecision,s=a.round,c=y5(),o=c.createAxisTicks,u=c.createAxisLabels,v=c.calculateCategoryInterval,h=[0,1],l=function(g,p,y){this.dim=g,this.scale=p,this._extent=y||[0,0],this.inverse=!1,this.onBand=!1};l.prototype={constructor:l,contain:function(g){var p=this._extent,y=Math.min(p[0],p[1]),_=Math.max(p[0],p[1]);return g>=y&&g<=_},containData:function(g){return this.scale.contain(g)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(g){return n(g||this.scale.getExtent(),this._extent)},setExtent:function(g,p){var y=this._extent;y[0]=g,y[1]=p},dataToCoord:function(g,p){var y=this._extent,_=this.scale;return g=_.normalize(g),this.onBand&&_.type==="ordinal"&&(y=y.slice(),d(y,_.count())),i(g,h,y,p)},coordToData:function(g,p){var y=this._extent,_=this.scale;this.onBand&&_.type==="ordinal"&&(y=y.slice(),d(y,_.count()));var w=i(g,y,h,p);return this.scale.scale(w)},pointToData:function(g,p){},getTicksCoords:function(g){g=g||{};var p=g.tickModel||this.getTickModel(),y=o(this,p),_=y.ticks,w=r(_,function(A){return{coord:this.dataToCoord(A),tickValue:A}},this),S=p.get("alignWithLabel");return f(this,w,S,g.clamp),w},getMinorTicksCoords:function(){if(this.scale.type==="ordinal")return[];var g=this.model.getModel("minorTick"),p=g.get("splitNumber");p>0&&p<100||(p=5);var y=this.scale.getMinorTicks(p),_=r(y,function(w){return r(w,function(S){return{coord:this.dataToCoord(S),tickValue:S}},this)},this);return _},getViewLabels:function(){return u(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var g=this._extent,p=this.scale.getExtent(),y=p[1]-p[0]+(this.onBand?1:0);y===0&&(y=1);var _=Math.abs(g[1]-g[0]);return Math.abs(_)/y},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return v(this)}};function d(g,p){var y=g[1]-g[0],_=p,w=y/_/2;g[0]+=w,g[1]-=w}function f(g,p,y,_){var w=p.length;if(!g.onBand||y||!w)return;var S=g.getExtent(),A,x;if(w===1)p[0].coord=S[0],A=p[1]={coord:S[0]};else{var b=p[w-1].tickValue-p[0].tickValue,T=(p[w-1].coord-p[0].coord)/b;t(p,function(L){L.coord-=T/2});var M=g.scale.getExtent();x=1+M[1]-p[w-1].tickValue,A={coord:p[w-1].coord+T*x},p.push(A)}var C=S[0]>S[1];D(p[0].coord,S[0])&&(_?p[0].coord=S[0]:p.shift()),_&&D(S[0],p[0].coord)&&p.unshift({coord:S[0]}),D(S[1],A.coord)&&(_?A.coord=S[1]:p.pop()),_&&D(A.coord,S[1])&&p.push({coord:S[1]});function D(L,P){return L=s(L),P=s(P),C?L>P:L<P}}var m=l;return Vl=m,Vl}var hy;function _M(){if(hy)return gt;hy=1;var e=kr;gt.zrender=e;var t=Je;gt.matrix=t;var r=Ee;gt.vector=r;var a=W,i=lt;gt.color=i;var n=fe,s=Le;gt.number=s;var c=Ne;gt.format=c;var o=ir;o.throttle,gt.throttle=o.throttle;var u=m5();gt.helper=u;var v=yM();gt.parseGeoJSON=v;var h=Wt();gt.List=h;var l=ot;gt.Model=l;var d=ta();gt.Axis=d;var f=nt;gt.env=f;var m=v,g={};a.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(y){g[y]=a[y]});var p={};return a.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(y){p[y]=n[y]}),gt.parseGeoJson=m,gt.util=g,gt.graphic=p,gt}(function(e){var t=kr,r=W,a=lt,i=nt,n=vd,s=ya,c=HC,o=qC,u=xr,v=pN,h=PN,l=ON,d=ht,f=ct,m=hs,g=Sr,p=fe,y=Ie,_=ir,w=_.throttle,S=$V,A=KV,x=eH,b=wH,T=TH,M=MH,C=og,D=r.assert,L=r.each,P=r.isFunction,I=r.isObject,E=d.parseClassType,O="4.8.0",B={zrender:"4.3.1"},q=1,V=1e3,R=800,z=900,k=5e3,N=1e3,G=1100,H=2e3,F=3e3,$=3500,U=4e3,X=5e3,Q={PROCESSOR:{FILTER:V,SERIES_FILTER:R,STATISTIC:k},VISUAL:{LAYOUT:N,PROGRESSIVE_LAYOUT:G,GLOBAL:H,CHART:F,POST_CHART_LAYOUT:$,COMPONENT:U,BRUSH:X}},j="__flagInMainProcess",ee="__optionUpdated",re=/^[a-zA-Z0-9_]+$/;function te(Y,ae){return function(ce,ye,be){if(!ae&&this._disposed){this.id;return}ce=ce&&ce.toLowerCase(),s.prototype[Y].call(this,ce,ye,be)}}function ne(){s.call(this)}ne.prototype.on=te("on",!0),ne.prototype.off=te("off",!0),ne.prototype.one=te("one",!0),r.mixin(ne,s);function Se(Y,we,ce){ce=ce||{},typeof we=="string"&&(we=et[we]),this.id,this.group,this._dom=Y;var ye="canvas",be=this._zr=t.init(Y,{renderer:ce.renderer||ye,devicePixelRatio:ce.devicePixelRatio,width:ce.width,height:ce.height});this._throttledZrFlush=w(r.bind(be.flush,be),17);var we=r.clone(we);we&&h(we,!0),this._theme=we,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new u;var Te=this._api=Ge(this);function Pe(De,ke){return De.__prio-ke.__prio}n($e,Pe),n(Fe,Pe),this._scheduler=new b(this,Te,Fe,$e),s.call(this,this._ecEventProcessor=new Ze),this._messageCenter=new ne,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],be.animation.on("frame",this._onframe,this),se(be,this),r.setAsPrimitive(this)}var le=Se.prototype;le._onframe=function(){if(!this._disposed){var Y=this._scheduler;if(this[ee]){var ae=this[ee].silent;this[j]=!0,ie(this),de.update.call(this),this[j]=!1,this[ee]=!1,K.call(this,ae),J.call(this,ae)}else if(Y.unfinished){var ce=q,ye=this._model,be=this._api;Y.unfinished=!1;do{var we=+new Date;Y.performSeriesTasks(ye),Y.performDataProcessorTasks(ye),ge(this,ye),Y.performVisualTasks(ye),xe(this,this._model,be,"remain"),ce-=+new Date-we}while(ce>0&&Y.unfinished);Y.unfinished||this._zr.flush()}}},le.getDom=function(){return this._dom},le.getZr=function(){return this._zr},le.setOption=function(Y,ae,ce){if(this._disposed){this.id;return}var ye;if(I(ae)&&(ce=ae.lazyUpdate,ye=ae.silent,ae=ae.notMerge),this[j]=!0,!this._model||ae){var be=new v(this._api),we=this._theme,Te=this._model=new c;Te.scheduler=this._scheduler,Te.init(null,null,we,be)}this._model.setOption(Y,He),ce?(this[ee]={silent:ye},this[j]=!1):(ie(this),de.update.call(this),this._zr.flush(),this[ee]=!1,this[j]=!1,K.call(this,ye),J.call(this,ye))},le.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},le.getModel=function(){return this._model},le.getOption=function(){return this._model&&this._model.getOption()},le.getWidth=function(){return this._zr.getWidth()},le.getHeight=function(){return this._zr.getHeight()},le.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},le.getRenderedCanvas=function(Y){if(i.canvasSupported){Y=Y||{},Y.pixelRatio=Y.pixelRatio||1,Y.backgroundColor=Y.backgroundColor||this._model.get("backgroundColor");var ae=this._zr;return ae.painter.getRenderedCanvas(Y)}},le.getSvgDataURL=function(){if(i.svgSupported){var Y=this._zr,ae=Y.storage.getDisplayList();return r.each(ae,function(ce){ce.stopAnimation(!0)}),Y.painter.toDataURL()}},le.getDataURL=function(Y){if(this._disposed){this.id;return}Y=Y||{};var ae=Y.excludeComponents,ce=this._model,ye=[],be=this;L(ae,function(Te){ce.eachComponent({mainType:Te},function(Pe){var De=be._componentsMap[Pe.__viewId];De.group.ignore||(ye.push(De),De.group.ignore=!0)})});var we=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(Y).toDataURL("image/"+(Y&&Y.type||"png"));return L(ye,function(Te){Te.group.ignore=!1}),we},le.getConnectedDataURL=function(Y){if(this._disposed){this.id;return}if(i.canvasSupported){var ae=Y.type==="svg",ce=this.group,ye=Math.min,be=Math.max,we=1/0;if(kt[ce]){var Te=we,Pe=we,De=-we,ke=-we,Oe=[],ze=Y&&Y.pixelRatio||1;r.each(St,function(Ht,Bn){if(Ht.group===ce){var Ps=ae?Ht.getZr().painter.getSvgDom().innerHTML:Ht.getRenderedCanvas(r.clone(Y)),La=Ht.getDom().getBoundingClientRect();Te=ye(La.left,Te),Pe=ye(La.top,Pe),De=be(La.right,De),ke=be(La.bottom,ke),Oe.push({dom:Ps,left:La.left,top:La.top})}}),Te*=ze,Pe*=ze,De*=ze,ke*=ze;var tt=De-Te,Ye=ke-Pe,wt=r.createCanvas(),Vt=t.init(wt,{renderer:ae?"svg":"canvas"});if(Vt.resize({width:tt,height:Ye}),ae){var zn="";return L(Oe,function(Ht){var Bn=Ht.left-Te,Ps=Ht.top-Pe;zn+='<g transform="translate('+Bn+","+Ps+')">'+Ht.dom+"</g>"}),Vt.painter.getSvgRoot().innerHTML=zn,Y.connectedBackgroundColor&&Vt.painter.setBackgroundColor(Y.connectedBackgroundColor),Vt.refreshImmediately(),Vt.painter.toDataURL()}else return Y.connectedBackgroundColor&&Vt.add(new p.Rect({shape:{x:0,y:0,width:tt,height:Ye},style:{fill:Y.connectedBackgroundColor}})),L(Oe,function(Ht){var Bn=new p.Image({style:{x:Ht.left*ze-Te,y:Ht.top*ze-Pe,image:Ht.dom}});Vt.add(Bn)}),Vt.refreshImmediately(),wt.toDataURL("image/"+(Y&&Y.type||"png"))}else return this.getDataURL(Y)}},le.convertToPixel=r.curry(pe,"convertToPixel"),le.convertFromPixel=r.curry(pe,"convertFromPixel");function pe(Y,ae,ce){if(this._disposed){this.id;return}var ye=this._model,be=this._coordSysMgr.getCoordinateSystems(),we;ae=y.parseFinder(ye,ae);for(var Te=0;Te<be.length;Te++){var Pe=be[Te];if(Pe[Y]&&(we=Pe[Y](ye,ae,ce))!=null)return we}}le.containPixel=function(Y,ae){if(this._disposed){this.id;return}var ce=this._model,ye;return Y=y.parseFinder(ce,Y),r.each(Y,function(be,we){we.indexOf("Models")>=0&&r.each(be,function(Te){var Pe=Te.coordinateSystem;if(Pe&&Pe.containPoint)ye|=!!Pe.containPoint(ae);else if(we==="seriesModels"){var De=this._chartsMap[Te.__viewId];De&&De.containPoint&&(ye|=De.containPoint(ae,Te))}},this)},this),!!ye},le.getVisual=function(Y,ae){var ce=this._model;Y=y.parseFinder(ce,Y,{defaultMainType:"series"});var ye=Y.seriesModel,be=ye.getData(),we=Y.hasOwnProperty("dataIndexInside")?Y.dataIndexInside:Y.hasOwnProperty("dataIndex")?be.indexOfRawIndex(Y.dataIndex):null;return we!=null?be.getItemVisual(we,ae):be.getVisual(ae)},le.getViewOfComponentModel=function(Y){return this._componentsMap[Y.__viewId]},le.getViewOfSeriesModel=function(Y){return this._chartsMap[Y.__viewId]};var de={prepareAndUpdate:function(Y){ie(this),de.update.call(this,Y)},update:function(Y){var ae=this._model,ce=this._api,ye=this._zr,be=this._coordSysMgr,we=this._scheduler;if(ae){we.restoreData(ae,Y),we.performSeriesTasks(ae),be.create(ae,ce),we.performDataProcessorTasks(ae,Y),ge(this,ae),be.update(ae,ce),ve(ae),we.performVisualTasks(ae,Y),he(this,ae,ce,Y);var Te=ae.get("backgroundColor")||"transparent";if(i.canvasSupported)ye.setBackgroundColor(Te);else{var Pe=a.parse(Te);Te=a.stringify(Pe,"rgb"),Pe[3]===0&&(Te="transparent")}Ce(ae,ce)}},updateTransform:function(Y){var ae=this._model,ce=this,ye=this._api;if(ae){var be=[];ae.eachComponent(function(Te,Pe){var De=ce.getViewOfComponentModel(Pe);if(De&&De.__alive)if(De.updateTransform){var ke=De.updateTransform(Pe,ae,ye,Y);ke&&ke.update&&be.push(De)}else be.push(De)});var we=r.createHashMap();ae.eachSeries(function(Te){var Pe=ce._chartsMap[Te.__viewId];if(Pe.updateTransform){var De=Pe.updateTransform(Te,ae,ye,Y);De&&De.update&&we.set(Te.uid,1)}else we.set(Te.uid,1)}),ve(ae),this._scheduler.performVisualTasks(ae,Y,{setDirty:!0,dirtyMap:we}),xe(ce,ae,ye,Y,we),Ce(ae,this._api)}},updateView:function(Y){var ae=this._model;ae&&(g.markUpdateMethod(Y,"updateView"),ve(ae),this._scheduler.performVisualTasks(ae,Y,{setDirty:!0}),he(this,this._model,this._api,Y),Ce(ae,this._api))},updateVisual:function(Y){de.update.call(this,Y)},updateLayout:function(Y){de.update.call(this,Y)}};function ie(Y){var ae=Y._model,ce=Y._scheduler;ce.restorePipelines(ae),ce.prepareStageTasks(),ue(Y,"component",ae,ce),ue(Y,"chart",ae,ce),ce.plan()}function oe(Y,ae,ce,ye,be){var we=Y._model;if(!ye){L(Y._componentsViews.concat(Y._chartsViews),ke);return}var Te={};Te[ye+"Id"]=ce[ye+"Id"],Te[ye+"Index"]=ce[ye+"Index"],Te[ye+"Name"]=ce[ye+"Name"];var Pe={mainType:ye,query:Te};be&&(Pe.subType=be);var De=ce.excludeSeriesId;De!=null&&(De=r.createHashMap(y.normalizeToArray(De))),we&&we.eachComponent(Pe,function(Oe){(!De||De.get(Oe.id)==null)&&ke(Y[ye==="series"?"_chartsMap":"_componentsMap"][Oe.__viewId])},Y);function ke(Oe){Oe&&Oe.__alive&&Oe[ae]&&Oe[ae](Oe.__model,we,Y._api,ce)}}le.resize=function(Y){if(this._disposed){this.id;return}this._zr.resize(Y);var ae=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!ae){var ce=ae.resetOption("media"),ye=Y&&Y.silent;this[j]=!0,ce&&ie(this),de.update.call(this),this[j]=!1,K.call(this,ye),J.call(this,ye)}};function ge(Y,ae){var ce=Y._chartsMap,ye=Y._scheduler;ae.eachSeries(function(be){ye.updateStreamModes(be,ce[be.__viewId])})}le.showLoading=function(Y,ae){if(this._disposed){this.id;return}if(I(Y)&&(ae=Y,Y=""),Y=Y||"default",this.hideLoading(),!!pt[Y]){var ce=pt[Y](this._api,ae),ye=this._zr;this._loadingFX=ce,ye.add(ce)}},le.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},le.makeActionFromEvent=function(Y){var ae=r.extend({},Y);return ae.type=Re[Y.type],ae},le.dispatchAction=function(Y,ae){if(this._disposed){this.id;return}if(I(ae)||(ae={silent:!!ae}),!!Ke[Y.type]&&this._model){if(this[j]){this._pendingActions.push(Y);return}Z.call(this,Y,ae.silent),ae.flush?this._zr.flush(!0):ae.flush!==!1&&i.browser.weChat&&this._throttledZrFlush(),K.call(this,ae.silent),J.call(this,ae.silent)}};function Z(Y,ae){var ce=Y.type,ye=Y.escapeConnect,be=Ke[ce],we=be.actionInfo,Te=(we.update||"update").split(":"),Pe=Te.pop();Te=Te[0]!=null&&E(Te[0]),this[j]=!0;var De=[Y],ke=!1;Y.batch&&(ke=!0,De=r.map(Y.batch,function(Ye){return Ye=r.defaults(r.extend({},Ye),Y),Ye.batch=null,Ye}));var Oe=[],ze,tt=ce==="highlight"||ce==="downplay";L(De,function(Ye){ze=be.action(Ye,this._model,this._api),ze=ze||r.extend({},Ye),ze.type=we.event||ze.type,Oe.push(ze),tt?oe(this,Pe,Ye,"series"):Te&&oe(this,Pe,Ye,Te.main,Te.sub)},this),Pe!=="none"&&!tt&&!Te&&(this[ee]?(ie(this),de.update.call(this,Y),this[ee]=!1):de[Pe].call(this,Y)),ke?ze={type:we.event||ce,escapeConnect:ye,batch:Oe}:ze=Oe[0],this[j]=!1,!ae&&this._messageCenter.trigger(ze.type,ze)}function K(Y){for(var ae=this._pendingActions;ae.length;){var ce=ae.shift();Z.call(this,ce,Y)}}function J(Y){!Y&&this.trigger("updated")}function se(Y,ae){Y.on("rendered",function(){ae.trigger("rendered"),Y.animation.isFinished()&&!ae[ee]&&!ae._scheduler.unfinished&&!ae._pendingActions.length&&ae.trigger("finished")})}le.appendData=function(Y){if(this._disposed){this.id;return}var ae=Y.seriesIndex,ce=this.getModel(),ye=ce.getSeriesByIndex(ae);ye.appendData(Y),this._scheduler.unfinished=!0},le.on=te("on",!1),le.off=te("off",!1),le.one=te("one",!1);function ue(Y,ae,ce,ye){for(var be=ae==="component",we=be?Y._componentsViews:Y._chartsViews,Te=be?Y._componentsMap:Y._chartsMap,Pe=Y._zr,De=Y._api,ke=0;ke<we.length;ke++)we[ke].__alive=!1;be?ce.eachComponent(function(tt,Ye){tt!=="series"&&Oe(Ye)}):ce.eachSeries(Oe);function Oe(tt){var Ye="_ec_"+tt.id+"_"+tt.type,wt=Te[Ye];if(!wt){var Vt=E(tt.type),zn=be?m.getClass(Vt.main,Vt.sub):g.getClass(Vt.sub);wt=new zn,wt.init(ce,De),Te[Ye]=wt,we.push(wt),Pe.add(wt.group)}tt.__viewId=wt.__id=Ye,wt.__alive=!0,wt.__model=tt,wt.group.__ecComponentInfo={mainType:tt.mainType,index:tt.componentIndex},!be&&ye.prepareView(wt,tt,ce,De)}for(var ke=0;ke<we.length;){var ze=we[ke];ze.__alive?ke++:(!be&&ze.renderTask.dispose(),Pe.remove(ze.group),ze.dispose(ce,De),we.splice(ke,1),delete Te[ze.__id],ze.__id=ze.group.__ecComponentInfo=null)}}function ve(Y){Y.clearColorPalette(),Y.eachSeries(function(ae){ae.clearColorPalette()})}function he(Y,ae,ce,ye){me(Y,ae,ce,ye),L(Y._chartsViews,function(be){be.__alive=!1}),xe(Y,ae,ce,ye),L(Y._chartsViews,function(be){be.__alive||be.remove(ae,ce)})}function me(Y,ae,ce,ye,be){L(be||Y._componentsViews,function(we){var Te=we.__model;we.render(Te,ae,ce,ye),We(Te,we)})}function xe(Y,ae,ce,ye,be){var we=Y._scheduler,Te;ae.eachSeries(function(Pe){var De=Y._chartsMap[Pe.__viewId];De.__alive=!0;var ke=De.renderTask;we.updatePayload(ke,ye),be&&be.get(Pe.uid)&&ke.dirty(),Te|=ke.perform(we.getPerformArgs(ke)),De.group.silent=!!Pe.get("silent"),We(Pe,De),qe(Pe,De)}),we.unfinished|=Te,Ve(Y,ae),A(Y._zr.dom,ae)}function Ce(Y,ae){L(Qe,function(ce){ce(Y,ae)})}var Me=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];le._initEvents=function(){L(Me,function(Y){var ae=function(ce){var ye=this.getModel(),be=ce.target,we,Te=Y==="globalout";if(Te)we={};else if(be&&be.dataIndex!=null){var Pe=be.dataModel||ye.getSeriesByIndex(be.seriesIndex);we=Pe&&Pe.getDataParams(be.dataIndex,be.dataType,be)||{}}else be&&be.eventData&&(we=r.extend({},be.eventData));if(we){var De=we.componentType,ke=we.componentIndex;(De==="markLine"||De==="markPoint"||De==="markArea")&&(De="series",ke=we.seriesIndex);var Oe=De&&ke!=null&&ye.getComponent(De,ke),ze=Oe&&this[Oe.mainType==="series"?"_chartsMap":"_componentsMap"][Oe.__viewId];we.event=ce,we.type=Y,this._ecEventProcessor.eventInfo={targetEl:be,packedEvent:we,model:Oe,view:ze},this.trigger(Y,we)}};ae.zrEventfulCallAtLast=!0,this._zr.on(Y,ae,this)},this),L(Re,function(Y,ae){this._messageCenter.on(ae,function(ce){this.trigger(ae,ce)},this)},this)},le.isDisposed=function(){return this._disposed},le.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},le.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,y.setAttribute(this.getDom(),je,"");var Y=this._api,ae=this._model;L(this._componentsViews,function(ce){ce.dispose(ae,Y)}),L(this._chartsViews,function(ce){ce.dispose(ae,Y)}),this._zr.dispose(),delete St[this.id]},r.mixin(Se,s);function Ae(Y){}function Ve(Y,ae){var ce=Y._zr,ye=ce.storage,be=0;ye.traverse(function(we){be++}),be>ae.get("hoverLayerThreshold")&&!i.node&&ae.eachSeries(function(we){if(!we.preventUsingHoverLayer){var Te=Y._chartsMap[we.__viewId];Te.__alive&&Te.group.traverse(function(Pe){Pe.useHoverLayer=!0})}})}function qe(Y,ae){var ce=Y.get("blendMode")||null;ae.group.traverse(function(ye){ye.isGroup||ye.style.blend!==ce&&ye.setStyle("blend",ce),ye.eachPendingDisplayable&&ye.eachPendingDisplayable(function(be){be.setStyle("blend",ce)})})}function We(Y,ae){var ce=Y.get("z"),ye=Y.get("zlevel");ae.group.traverse(function(be){be.type!=="group"&&(ce!=null&&(be.z=ce),ye!=null&&(be.zlevel=ye))})}function Ge(Y){var ae=Y._coordSysMgr;return r.extend(new o(Y),{getCoordinateSystems:r.bind(ae.getCoordinateSystems,ae),getComponentByElement:function(ce){for(;ce;){var ye=ce.__ecComponentInfo;if(ye!=null)return Y._model.getComponent(ye.mainType,ye.index);ce=ce.parent}}})}function Ze(){this.eventInfo}Ze.prototype={constructor:Ze,normalizeQuery:function(Y){var ae={},ce={},ye={};if(r.isString(Y)){var be=E(Y);ae.mainType=be.main||null,ae.subType=be.sub||null}else{var we=["Index","Name","Id"],Te={name:1,dataIndex:1,dataType:1};r.each(Y,function(Pe,De){for(var ke=!1,Oe=0;Oe<we.length;Oe++){var ze=we[Oe],tt=De.lastIndexOf(ze);if(tt>0&&tt===De.length-ze.length){var Ye=De.slice(0,tt);Ye!=="data"&&(ae.mainType=Ye,ae[ze.toLowerCase()]=Pe,ke=!0)}}Te.hasOwnProperty(De)&&(ce[De]=Pe,ke=!0),ke||(ye[De]=Pe)})}return{cptQuery:ae,dataQuery:ce,otherQuery:ye}},filter:function(Y,ae,ce){var ye=this.eventInfo;if(!ye)return!0;var be=ye.targetEl,we=ye.packedEvent,Te=ye.model,Pe=ye.view;if(!Te||!Pe)return!0;var De=ae.cptQuery,ke=ae.dataQuery;return Oe(De,Te,"mainType")&&Oe(De,Te,"subType")&&Oe(De,Te,"index","componentIndex")&&Oe(De,Te,"name")&&Oe(De,Te,"id")&&Oe(ke,we,"name")&&Oe(ke,we,"dataIndex")&&Oe(ke,we,"dataType")&&(!Pe.filterForExposedEvent||Pe.filterForExposedEvent(Y,ae.otherQuery,be,we));function Oe(ze,tt,Ye,wt){return ze[Ye]==null||tt[wt||Ye]===ze[Ye]}},afterTrigger:function(){this.eventInfo=null}};var Ke={},Re={},Fe=[],He=[],Qe=[],$e=[],et={},pt={},St={},kt={},or=new Date-0,ft=new Date-0,je="_echarts_instance_";function bt(Y){var ae=0,ce=1,ye=2,be="__connectUpdateStatus";function we(Te,Pe){for(var De=0;De<Te.length;De++){var ke=Te[De];ke[be]=Pe}}L(Re,function(Te,Pe){Y._messageCenter.on(Pe,function(De){if(kt[Y.group]&&Y[be]!==ae){if(De&&De.escapeConnect)return;var ke=Y.makeActionFromEvent(De),Oe=[];L(St,function(ze){ze!==Y&&ze.group===Y.group&&Oe.push(ze)}),we(Oe,ae),L(Oe,function(ze){ze[be]!==ce&&ze.dispatchAction(ke)}),we(Oe,ye)}})})}function dt(Y,ae,ce){var ye=Br(Y);if(ye)return ye;var be=new Se(Y,ae,ce);return be.id="ec_"+or++,St[be.id]=be,y.setAttribute(Y,je,be.id),bt(be),be}function Ct(Y){if(r.isArray(Y)){var ae=Y;Y=null,L(ae,function(ce){ce.group!=null&&(Y=ce.group)}),Y=Y||"g_"+ft++,L(ae,function(ce){ce.group=Y})}return kt[Y]=!0,Y}function zr(Y){kt[Y]=!1}var st=zr;function mt(Y){typeof Y=="string"?Y=St[Y]:Y instanceof Se||(Y=Br(Y)),Y instanceof Se&&!Y.isDisposed()&&Y.dispose()}function Br(Y){return St[y.getAttribute(Y,je)]}function Da(Y){return St[Y]}function Cs(Y,ae){et[Y]=ae}function Ig(Y){He.push(Y)}function Rg(Y,ae){Ds(Fe,Y,ae,V)}function pD(Y){Qe.push(Y)}function Ms(Y,ae,ce){typeof ae=="function"&&(ce=ae,ae="");var ye=I(Y)?Y.type:[Y,Y={event:ae}][0];Y.event=(Y.event||ye).toLowerCase(),ae=Y.event,D(re.test(ye)&&re.test(ae)),Ke[ye]||(Ke[ye]={action:ce,actionInfo:Y}),Re[ae]=ye}function mD(Y,ae){u.register(Y,ae)}function yD(Y){var ae=u.get(Y);if(ae)return ae.getDimensionsInfo?ae.getDimensionsInfo():ae.dimensions.slice()}function _D(Y,ae){Ds($e,Y,ae,N,"layout")}function Eg(Y,ae){Ds($e,Y,ae,F,"visual")}function Ds(Y,ae,ce,ye,be){(P(ae)||I(ae))&&(ce=ae,ae=ye);var we=b.wrapStageHandler(ce,be);return we.__prio=ae,we.__raw=ce,Y.push(we),we}function kg(Y,ae){pt[Y]=ae}function xD(Y){return d.extend(Y)}function SD(Y){return m.extend(Y)}function bD(Y){return f.extend(Y)}function wD(Y){return g.extend(Y)}function AD(Y){r.$override("createCanvas",Y)}function TD(Y,ae,ce){C.registerMap(Y,ae,ce)}function CD(Y){var ae=C.retrieveMap(Y);return ae&&ae[0]&&{geoJson:ae[0].geoJSON,specialAreas:ae[0].specialAreas}}Eg(H,S),Ig(h),Rg(z,l),kg("default",x),Ms({type:"highlight",event:"highlight",update:"highlight"},r.noop),Ms({type:"downplay",event:"downplay",update:"downplay"},r.noop),Cs("light",T),Cs("dark",M);var MD={};e.version=O,e.dependencies=B,e.PRIORITY=Q,e.init=dt,e.connect=Ct,e.disConnect=zr,e.disconnect=st,e.dispose=mt,e.getInstanceByDom=Br,e.getInstanceById=Da,e.registerTheme=Cs,e.registerPreprocessor=Ig,e.registerProcessor=Rg,e.registerPostUpdate=pD,e.registerAction=Ms,e.registerCoordinateSystem=mD,e.getCoordinateSystemDimensions=yD,e.registerLayout=_D,e.registerVisual=Eg,e.registerLoading=kg,e.extendComponentModel=xD,e.extendComponentView=SD,e.extendSeriesModel=bD,e.extendChartView=wD,e.setCanvasCreator=AD,e.registerMap=TD,e.getMap=CD,e.dataTool=MD;var Ls=_M();(function(){for(var Y in Ls)Ls.hasOwnProperty(Y)&&(e[Y]=Ls[Y])})()})(_e);var cy={},Hl,fy;function _5(){if(fy)return Hl;fy=1;var e=Or(),t=ct,r=t.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});return Hl=r,Hl}var ql={},dy;function sg(){if(dy)return ql;dy=1;var e=ar,t=e.retrieveRawValue;function r(a,i){var n=a.mapDimension("defaultedLabel",!0),s=n.length;if(s===1)return t(a,i,n[0]);if(s){for(var c=[],o=0;o<n.length;o++){var u=t(a,i,n[o]);c.push(u)}return c.join(" ")}}return ql.getDefaultLabel=r,ql}var Gl,gy;function ys(){if(gy)return Gl;gy=1;var e=W,t=Zt(),r=t.createSymbol,a=fe,i=Le,n=i.parsePercent,s=sg(),c=s.getDefaultLabel;function o(_,w,S){a.Group.call(this),this.updateData(_,w,S)}var u=o.prototype,v=o.getSymbolSize=function(_,w){var S=_.getItemVisual(w,"symbolSize");return S instanceof Array?S.slice():[+S,+S]};function h(_){return[_[0]/2,_[1]/2]}function l(_,w){this.parent.drift(_,w)}u._createSymbol=function(_,w,S,A,x){this.removeAll();var b=w.getItemVisual(S,"color"),T=r(_,-1,-1,2,2,b,x);T.attr({z2:100,culling:!0,scale:h(A)}),T.drift=l,this._symbolType=_,this.add(T)},u.stopSymbolAnimation=function(_){this.childAt(0).stopAnimation(_)},u.getSymbolPath=function(){return this.childAt(0)},u.getScale=function(){return this.childAt(0).scale},u.highlight=function(){this.childAt(0).trigger("emphasis")},u.downplay=function(){this.childAt(0).trigger("normal")},u.setZ=function(_,w){var S=this.childAt(0);S.zlevel=_,S.z=w},u.setDraggable=function(_){var w=this.childAt(0);w.draggable=_,w.cursor=_?"move":w.cursor},u.updateData=function(_,w,S){this.silent=!1;var A=_.getItemVisual(w,"symbol")||"circle",x=_.hostModel,b=v(_,w),T=A!==this._symbolType;if(T){var M=_.getItemVisual(w,"symbolKeepAspect");this._createSymbol(A,_,w,b,M)}else{var C=this.childAt(0);C.silent=!1,a.updateProps(C,{scale:h(b)},x,w)}if(this._updateCommon(_,w,b,S),T){var C=this.childAt(0),D=S&&S.fadeIn,L={scale:C.scale.slice()};D&&(L.style={opacity:C.style.opacity}),C.scale=[0,0],D&&(C.style.opacity=0),a.initProps(C,L,x,w)}this._seriesModel=x};var d=["itemStyle"],f=["emphasis","itemStyle"],m=["label"],g=["emphasis","label"];u._updateCommon=function(_,w,S,A){var x=this.childAt(0),b=_.hostModel,T=_.getItemVisual(w,"color");x.type!=="image"?x.useStyle({strokeNoScale:!0}):x.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var M=A&&A.itemStyle,C=A&&A.hoverItemStyle,D=A&&A.symbolOffset,L=A&&A.labelModel,P=A&&A.hoverLabelModel,I=A&&A.hoverAnimation,E=A&&A.cursorStyle;if(!A||_.hasItemOption){var O=A&&A.itemModel?A.itemModel:_.getItemModel(w);M=O.getModel(d).getItemStyle(["color"]),C=O.getModel(f).getItemStyle(),D=O.getShallow("symbolOffset"),L=O.getModel(m),P=O.getModel(g),I=O.getShallow("hoverAnimation"),E=O.getShallow("cursor")}else C=e.extend({},C);var B=x.style,q=_.getItemVisual(w,"symbolRotate");x.attr("rotation",(q||0)*Math.PI/180||0),D&&x.attr("position",[n(D[0],S[0]),n(D[1],S[1])]),E&&x.attr("cursor",E),x.setColor(T,A&&A.symbolInnerColor),x.setStyle(M);var V=_.getItemVisual(w,"opacity");V!=null&&(B.opacity=V);var R=_.getItemVisual(w,"liftZ"),z=x.__z2Origin;R!=null?z==null&&(x.__z2Origin=x.z2,x.z2+=R):z!=null&&(x.z2=z,x.__z2Origin=null);var k=A&&A.useNameLabel;a.setLabelStyle(B,C,L,P,{labelFetcher:b,labelDataIndex:w,defaultText:N,isRectText:!0,autoColor:T});function N(G,H){return k?_.getName(G):c(_,G)}x.__symbolOriginalScale=h(S),x.hoverStyle=C,x.highDownOnUpdate=I&&b.isAnimationEnabled()?p:null,a.setHoverStyle(x)};function p(_,w){if(!(this.incremental||this.useHoverLayer))if(w==="emphasis"){var S=this.__symbolOriginalScale,A=S[1]/S[0],x={scale:[Math.max(S[0]*1.1,S[0]+3),Math.max(S[1]*1.1,S[1]+3*A)]};this.animateTo(x,400,"elasticOut")}else w==="normal"&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}u.fadeOut=function(_,w){var S=this.childAt(0);this.silent=S.silent=!0,!(w&&w.keepLabel)&&(S.style.text=null),a.updateProps(S,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,_)},e.inherits(o,a.Group);var y=o;return Gl=y,Gl}var Fl,py;function Dn(){if(py)return Fl;py=1;var e=fe,t=ys(),r=W,a=r.isObject;function i(v){this.group=new e.Group,this._symbolCtor=v||t}var n=i.prototype;function s(v,h,l,d){return h&&!isNaN(h[0])&&!isNaN(h[1])&&!(d.isIgnore&&d.isIgnore(l))&&!(d.clipShape&&!d.clipShape.contain(h[0],h[1]))&&v.getItemVisual(l,"symbol")!=="none"}n.updateData=function(v,h){h=c(h);var l=this.group,d=v.hostModel,f=this._data,m=this._symbolCtor,g=o(v);f||l.removeAll(),v.diff(f).add(function(p){var y=v.getItemLayout(p);if(s(v,y,p,h)){var _=new m(v,p,g);_.attr("position",y),v.setItemGraphicEl(p,_),l.add(_)}}).update(function(p,y){var _=f.getItemGraphicEl(y),w=v.getItemLayout(p);if(!s(v,w,p,h)){l.remove(_);return}_?(_.updateData(v,p,g),e.updateProps(_,{position:w},d)):(_=new m(v,p),_.attr("position",w)),l.add(_),v.setItemGraphicEl(p,_)}).remove(function(p){var y=f.getItemGraphicEl(p);y&&y.fadeOut(function(){l.remove(y)})}).execute(),this._data=v},n.isPersistent=function(){return!0},n.updateLayout=function(){var v=this._data;v&&v.eachItemGraphicEl(function(h,l){var d=v.getItemLayout(l);h.attr("position",d)})},n.incrementalPrepareUpdate=function(v){this._seriesScope=o(v),this._data=null,this.group.removeAll()},n.incrementalUpdate=function(v,h,l){l=c(l);function d(p){p.isGroup||(p.incremental=p.useHoverLayer=!0)}for(var f=v.start;f<v.end;f++){var m=h.getItemLayout(f);if(s(h,m,f,l)){var g=new this._symbolCtor(h,f,this._seriesScope);g.traverse(d),g.attr("position",m),this.group.add(g),h.setItemGraphicEl(f,g)}}};function c(v){return v!=null&&!a(v)&&(v={isIgnore:v}),v||{}}n.remove=function(v){var h=this.group,l=this._data;l&&v?l.eachItemGraphicEl(function(d){d.fadeOut(function(){h.remove(d)})}):h.removeAll()};function o(v){var h=v.hostModel;return{itemStyle:h.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:h.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:h.get("symbolRotate"),symbolOffset:h.get("symbolOffset"),hoverAnimation:h.get("hoverAnimation"),labelModel:h.getModel("label"),hoverLabelModel:h.getModel("emphasis.label"),cursorStyle:h.get("cursor")}}var u=i;return Fl=u,Fl}var so={},my;function xM(){if(my)return so;my=1;var e=br(),t=e.isDimensionStacked,r=W,a=r.map;function i(c,o,u){var v=c.getBaseAxis(),h=c.getOtherAxis(v),l=n(h,u),d=v.dim,f=h.dim,m=o.mapDimension(f),g=o.mapDimension(d),p=f==="x"||f==="radius"?1:0,y=a(c.dimensions,function(S){return o.mapDimension(S)}),_,w=o.getCalculationInfo("stackResultDimension");return(_|=t(o,y[0]))&&(y[0]=w),(_|=t(o,y[1]))&&(y[1]=w),{dataDimsForPoint:y,valueStart:l,valueAxisDim:f,baseAxisDim:d,stacked:!!_,valueDim:m,baseDim:g,baseDataOffset:p,stackedOverDimension:o.getCalculationInfo("stackedOverDimension")}}function n(c,o){var u=0,v=c.scale.getExtent();return o==="start"?u=v[0]:o==="end"?u=v[1]:v[0]>0?u=v[0]:v[1]<0&&(u=v[1]),u}function s(c,o,u,v){var h=NaN;c.stacked&&(h=u.get(u.getCalculationInfo("stackedOverDimension"),v)),isNaN(h)&&(h=c.valueStart);var l=c.baseDataOffset,d=[];return d[l]=u.get(c.baseDim,v),d[1-l]=h,o.dataToPoint(d)}return so.prepareDataCoordInfo=i,so.getStackedOnPoint=s,so}var $l,yy;function x5(){if(yy)return $l;yy=1;var e=xM(),t=e.prepareDataCoordInfo,r=e.getStackedOnPoint;function a(n,s){var c=[];return s.diff(n).add(function(o){c.push({cmd:"+",idx:o})}).update(function(o,u){c.push({cmd:"=",idx:u,idx1:o})}).remove(function(o){c.push({cmd:"-",idx:o})}).execute(),c}function i(n,s,c,o,u,v,h,l){for(var d=a(n,s),f=[],m=[],g=[],p=[],y=[],_=[],w=[],S=t(u,s,h),A=t(v,n,l),x=0;x<d.length;x++){var b=d[x],T=!0;switch(b.cmd){case"=":var M=n.getItemLayout(b.idx),C=s.getItemLayout(b.idx1);(isNaN(M[0])||isNaN(M[1]))&&(M=C.slice()),f.push(M),m.push(C),g.push(c[b.idx]),p.push(o[b.idx1]),w.push(s.getRawIndex(b.idx1));break;case"+":var D=b.idx;f.push(u.dataToPoint([s.get(S.dataDimsForPoint[0],D),s.get(S.dataDimsForPoint[1],D)])),m.push(s.getItemLayout(D).slice()),g.push(r(S,u,s,D)),p.push(o[D]),w.push(s.getRawIndex(D));break;case"-":var D=b.idx,L=n.getRawIndex(D);L!==D?(f.push(n.getItemLayout(D)),m.push(v.dataToPoint([n.get(A.dataDimsForPoint[0],D),n.get(A.dataDimsForPoint[1],D)])),g.push(c[D]),p.push(r(A,v,n,D)),w.push(L)):T=!1}T&&(y.push(b),_.push(_.length))}_.sort(function(q,V){return w[q]-w[V]});for(var P=[],I=[],E=[],O=[],B=[],x=0;x<_.length;x++){var D=_[x];P[x]=f[D],I[x]=m[D],E[x]=g[D],O[x]=p[D],B[x]=y[D]}return{current:P,next:I,stackedOnCurrent:E,stackedOnNext:O,status:B}}return $l=i,$l}var lo={},_y;function SM(){if(_y)return lo;_y=1;var e=at,t=Ee,r=ZT,a=t.min,i=t.max,n=t.scaleAndAdd,s=t.copy,c=[],o=[],u=[];function v(p){return isNaN(p[0])||isNaN(p[1])}function h(p,y,_,w,S,A,x,b,T,M,C){return M==="none"||!M?d.apply(this,arguments):l.apply(this,arguments)}function l(p,y,_,w,S,A,x,b,T,M,C){for(var D=0,L=_,P=0;P<w;P++){var I=y[L];if(L>=S||L<0)break;if(v(I)){if(C){L+=A;continue}break}if(L===_)p[A>0?"moveTo":"lineTo"](I[0],I[1]);else if(T>0){var E=y[D],O=M==="y"?1:0,B=(I[O]-E[O])*T;s(o,E),o[O]=E[O]+B,s(u,I),u[O]=I[O]-B,p.bezierCurveTo(o[0],o[1],u[0],u[1],I[0],I[1])}else p.lineTo(I[0],I[1]);D=L,L+=A}return P}function d(p,y,_,w,S,A,x,b,T,M,C){for(var D=0,L=_,P=0;P<w;P++){var I=y[L];if(L>=S||L<0)break;if(v(I)){if(C){L+=A;continue}break}if(L===_)p[A>0?"moveTo":"lineTo"](I[0],I[1]),s(o,I);else if(T>0){var E=L+A,q=y[E];if(C)for(;q&&v(y[E]);)E+=A,q=y[E];var O=.5,B=y[D],q=y[E];if(!q||v(q))s(u,I);else{v(q)&&!C&&(q=I),t.sub(c,q,B);var V,R;if(M==="x"||M==="y"){var z=M==="x"?0:1;V=Math.abs(I[z]-B[z]),R=Math.abs(I[z]-q[z])}else V=t.dist(I,B),R=t.dist(I,q);O=R/(R+V),n(u,I,c,-T*(1-O))}a(o,o,b),i(o,o,x),a(u,u,b),i(u,u,x),p.bezierCurveTo(o[0],o[1],u[0],u[1],I[0],I[1]),n(o,I,c,T*O)}else p.lineTo(I[0],I[1]);D=L,L+=A}return P}function f(p,y){var _=[1/0,1/0],w=[-1/0,-1/0];if(y)for(var S=0;S<p.length;S++){var A=p[S];A[0]<_[0]&&(_[0]=A[0]),A[1]<_[1]&&(_[1]=A[1]),A[0]>w[0]&&(w[0]=A[0]),A[1]>w[1]&&(w[1]=A[1])}return{min:y?_:w,max:y?w:_}}var m=e.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(e.prototype.brush),buildPath:function(p,y){var _=y.points,w=0,S=_.length,A=f(_,y.smoothConstraint);if(y.connectNulls){for(;S>0&&v(_[S-1]);S--);for(;w<S&&v(_[w]);w++);}for(;w<S;)w+=h(p,_,w,S,S,1,A.min,A.max,y.smooth,y.smoothMonotone,y.connectNulls)+1}}),g=e.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(e.prototype.brush),buildPath:function(p,y){var _=y.points,w=y.stackedOnPoints,S=0,A=_.length,x=y.smoothMonotone,b=f(_,y.smoothConstraint),T=f(w,y.smoothConstraint);if(y.connectNulls){for(;A>0&&v(_[A-1]);A--);for(;S<A&&v(_[S]);S++);}for(;S<A;){var M=h(p,_,S,A,A,1,b.min,b.max,y.smooth,x,y.connectNulls);h(p,w,S+M-1,M,A,-1,T.min,T.max,y.stackedOnSmooth,x,y.connectNulls),S+=M+1,p.closePath()}}});return lo.Polyline=m,lo.Polygon=g,lo}var Ni={},xy;function Ln(){if(xy)return Ni;xy=1;var e=fe,t=Le,r=t.round;function a(s,c,o){var u=s.getArea(),v=s.getBaseAxis().isHorizontal(),h=u.x,l=u.y,d=u.width,f=u.height,m=o.get("lineStyle.width")||2;h-=m/2,l-=m/2,d+=m,f+=m,h=Math.floor(h),d=Math.round(d);var g=new e.Rect({shape:{x:h,y:l,width:d,height:f}});return c&&(g.shape[v?"width":"height"]=0,e.initProps(g,{shape:{width:d,height:f}},o)),g}function i(s,c,o){var u=s.getArea(),v=new e.Sector({shape:{cx:r(s.cx,1),cy:r(s.cy,1),r0:r(u.r0,1),r:r(u.r,1),startAngle:u.startAngle,endAngle:u.endAngle,clockwise:u.clockwise}});return c&&(v.shape.endAngle=u.startAngle,e.initProps(v,{shape:{endAngle:u.endAngle}},o)),v}function n(s,c,o){if(s){if(s.type==="polar")return i(s,c,o);if(s.type==="cartesian2d")return a(s,c,o)}else return null;return null}return Ni.createGridClipPath=a,Ni.createPolarClipPath=i,Ni.createClipPath=n,Ni}var Ul,Sy;function S5(){if(Sy)return Ul;Sy=1;var e=W,t=yn(),r=t.fromPoints,a=Dn(),i=ys(),n=x5(),s=fe,c=Ie,o=SM(),u=o.Polyline,v=o.Polygon,h=Sr,l=xM(),d=l.prepareDataCoordInfo,f=l.getStackedOnPoint,m=Ln(),g=m.createGridClipPath,p=m.createPolarClipPath;function y(D,L){if(D.length===L.length){for(var P=0;P<D.length;P++){var I=D[P],E=L[P];if(I[0]!==E[0]||I[1]!==E[1])return}return!0}}function _(D,L){var P=[],I=[],E=[],O=[];return r(D,P,I),r(L,E,O),Math.max(Math.abs(P[0]-E[0]),Math.abs(P[1]-E[1]),Math.abs(I[0]-O[0]),Math.abs(I[1]-O[1]))}function w(D){return typeof D=="number"?D:D?.5:0}function S(D,L,P){if(!P.valueDim)return[];for(var I=[],E=0,O=L.count();E<O;E++)I.push(f(P,D,L,E));return I}function A(D,L,P){for(var I=L.getBaseAxis(),E=I.dim==="x"||I.dim==="radius"?0:1,O=[],B=0;B<D.length-1;B++){var q=D[B+1],V=D[B];O.push(V);var R=[];switch(P){case"end":R[E]=q[E],R[1-E]=V[1-E],O.push(R);break;case"middle":var z=(V[E]+q[E])/2,k=[];R[E]=k[E]=z,R[1-E]=V[1-E],k[1-E]=q[1-E],O.push(R),O.push(k);break;default:R[E]=V[E],R[1-E]=q[1-E],O.push(R)}}return D[B]&&O.push(D[B]),O}function x(D,L){var P=D.getVisual("visualMeta");if(!(!P||!P.length||!D.count())&&L.type==="cartesian2d"){for(var I,E,O=P.length-1;O>=0;O--){var B=P[O].dimension,q=D.dimensions[B],V=D.getDimensionInfo(q);if(I=V&&V.coordDim,I==="x"||I==="y"){E=P[O];break}}if(E){var R=L.getAxis(I),z=e.map(E.stops,function(X){return{coord:R.toGlobalCoord(R.dataToCoord(X.value)),color:X.color}}),k=z.length,N=E.outerColors.slice();k&&z[0].coord>z[k-1].coord&&(z.reverse(),N.reverse());var G=10,H=z[0].coord-G,F=z[k-1].coord+G,$=F-H;if($<.001)return"transparent";e.each(z,function(X){X.offset=(X.coord-H)/$}),z.push({offset:k?z[k-1].offset:.5,color:N[1]||"transparent"}),z.unshift({offset:k?z[0].offset:.5,color:N[0]||"transparent"});var U=new s.LinearGradient(0,0,0,0,z,!0);return U[I]=H,U[I+"2"]=F,U}}}function b(D,L,P){var I=D.get("showAllSymbol"),E=I==="auto";if(!(I&&!E)){var O=P.getAxesByScale("ordinal")[0];if(O&&!(E&&T(O,L))){var B=L.mapDimension(O.dim),q={};return e.each(O.getViewLabels(),function(V){q[V.tickValue]=1}),function(V){return!q.hasOwnProperty(L.get(B,V))}}}}function T(D,L){var P=D.getExtent(),I=Math.abs(P[1]-P[0])/D.scale.count();isNaN(I)&&(I=0);for(var E=L.count(),O=Math.max(1,Math.round(E/5)),B=0;B<E;B+=O)if(i.getSymbolSize(L,B)[D.isHorizontal()?1:0]*1.5>I)return!1;return!0}function M(D,L,P){if(D.type==="cartesian2d"){var I=D.getBaseAxis().isHorizontal(),E=g(D,L,P);if(!P.get("clip",!0)){var O=E.shape,B=Math.max(O.width,O.height);I?(O.y-=B,O.height+=B*2):(O.x-=B,O.width+=B*2)}return E}else return p(D,L,P)}var C=h.extend({type:"line",init:function(){var D=new s.Group,L=new a;this.group.add(L.group),this._symbolDraw=L,this._lineGroup=D},render:function(D,L,P){var I=D.coordinateSystem,E=this.group,O=D.getData(),B=D.getModel("lineStyle"),q=D.getModel("areaStyle"),V=O.mapArray(O.getItemLayout),R=I.type==="polar",z=this._coordSys,k=this._symbolDraw,N=this._polyline,G=this._polygon,H=this._lineGroup,F=D.get("animation"),$=!q.isEmpty(),U=q.get("origin"),X=d(I,O,U),Q=S(I,O,X),j=D.get("showSymbol"),ee=j&&!R&&b(D,O,I),re=this._data;re&&re.eachItemGraphicEl(function(ie,oe){ie.__temp&&(E.remove(ie),re.setItemGraphicEl(oe,null))}),j||k.remove(),E.add(H);var te=!R&&D.get("step"),ne;I&&I.getArea&&D.get("clip",!0)&&(ne=I.getArea(),ne.width!=null?(ne.x-=.1,ne.y-=.1,ne.width+=.2,ne.height+=.2):ne.r0&&(ne.r0-=.5,ne.r1+=.5)),this._clipShapeForSymbol=ne,N&&z.type===I.type&&te===this._step?($&&!G?G=this._newPolygon(V,Q,I,F):G&&!$&&(H.remove(G),G=this._polygon=null),H.setClipPath(M(I,!1,D)),j&&k.updateData(O,{isIgnore:ee,clipShape:ne}),O.eachItemGraphicEl(function(ie){ie.stopAnimation(!0)}),(!y(this._stackedOnPoints,Q)||!y(this._points,V))&&(F?this._updateAnimation(O,Q,I,P,te,U):(te&&(V=A(V,I,te),Q=A(Q,I,te)),N.setShape({points:V}),G&&G.setShape({points:V,stackedOnPoints:Q})))):(j&&k.updateData(O,{isIgnore:ee,clipShape:ne}),te&&(V=A(V,I,te),Q=A(Q,I,te)),N=this._newPolyline(V,I,F),$&&(G=this._newPolygon(V,Q,I,F)),H.setClipPath(M(I,!0,D)));var Se=x(O,I)||O.getVisual("color");N.useStyle(e.defaults(B.getLineStyle(),{fill:"none",stroke:Se,lineJoin:"bevel"}));var le=D.get("smooth");if(le=w(D.get("smooth")),N.setShape({smooth:le,smoothMonotone:D.get("smoothMonotone"),connectNulls:D.get("connectNulls")}),G){var pe=O.getCalculationInfo("stackedOnSeries"),de=0;G.useStyle(e.defaults(q.getAreaStyle(),{fill:Se,opacity:.7,lineJoin:"bevel"})),pe&&(de=w(pe.get("smooth"))),G.setShape({smooth:le,stackedOnSmooth:de,smoothMonotone:D.get("smoothMonotone"),connectNulls:D.get("connectNulls")})}this._data=O,this._coordSys=I,this._stackedOnPoints=Q,this._points=V,this._step=te,this._valueOrigin=U},dispose:function(){},highlight:function(D,L,P,I){var E=D.getData(),O=c.queryDataIndex(E,I);if(!(O instanceof Array)&&O!=null&&O>=0){var B=E.getItemGraphicEl(O);if(!B){var q=E.getItemLayout(O);if(!q||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(q[0],q[1]))return;B=new i(E,O),B.position=q,B.setZ(D.get("zlevel"),D.get("z")),B.ignore=isNaN(q[0])||isNaN(q[1]),B.__temp=!0,E.setItemGraphicEl(O,B),B.stopSymbolAnimation(!0),this.group.add(B)}B.highlight()}else h.prototype.highlight.call(this,D,L,P,I)},downplay:function(D,L,P,I){var E=D.getData(),O=c.queryDataIndex(E,I);if(O!=null&&O>=0){var B=E.getItemGraphicEl(O);B&&(B.__temp?(E.setItemGraphicEl(O,null),this.group.remove(B)):B.downplay())}else h.prototype.downplay.call(this,D,L,P,I)},_newPolyline:function(D){var L=this._polyline;return L&&this._lineGroup.remove(L),L=new u({shape:{points:D},silent:!0,z2:10}),this._lineGroup.add(L),this._polyline=L,L},_newPolygon:function(D,L){var P=this._polygon;return P&&this._lineGroup.remove(P),P=new v({shape:{points:D,stackedOnPoints:L},silent:!0}),this._lineGroup.add(P),this._polygon=P,P},_updateAnimation:function(D,L,P,I,E,O){var B=this._polyline,q=this._polygon,V=D.hostModel,R=n(this._data,D,this._stackedOnPoints,L,this._coordSys,P,this._valueOrigin,O),z=R.current,k=R.stackedOnCurrent,N=R.next,G=R.stackedOnNext;if(E&&(z=A(R.current,P,E),k=A(R.stackedOnCurrent,P,E),N=A(R.next,P,E),G=A(R.stackedOnNext,P,E)),_(z,N)>3e3||q&&_(k,G)>3e3){B.setShape({points:N}),q&&q.setShape({points:N,stackedOnPoints:G});return}B.shape.__points=R.current,B.shape.points=z,s.updateProps(B,{shape:{points:N}},V),q&&(q.setShape({points:z,stackedOnPoints:k}),s.updateProps(q,{shape:{points:N,stackedOnPoints:G}},V));for(var H=[],F=R.status,$=0;$<F.length;$++){var U=F[$].cmd;if(U==="="){var X=D.getItemGraphicEl(F[$].idx1);X&&H.push({el:X,ptIdx:$})}}B.animators&&B.animators.length&&B.animators[0].during(function(){for(var Q=0;Q<H.length;Q++){var j=H[Q].el;j.attr("position",B.shape.__points[H[Q].ptIdx])}})},remove:function(D){var L=this.group,P=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),P&&P.eachItemGraphicEl(function(I,E){I.__temp&&(L.remove(I),P.setItemGraphicEl(E,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});return Ul=C,Ul}var Wl,by;function Aa(){if(by)return Wl;by=1;var e=W,t=e.isFunction;function r(a,i,n){return{seriesType:a,performRawSeries:!0,reset:function(s,c,o){var u=s.getData(),v=s.get("symbol"),h=s.get("symbolSize"),l=s.get("symbolKeepAspect"),d=s.get("symbolRotate"),f=t(v),m=t(h),g=t(d),p=f||m||g,y=!f&&v?v:i,_=m?null:h;if(u.setVisual({legendSymbol:n||y,symbol:y,symbolSize:_,symbolKeepAspect:l,symbolRotate:d}),c.isSeriesFiltered(s))return;function w(S,A){if(p){var x=s.getRawValue(A),b=s.getDataParams(A);f&&S.setItemVisual(A,"symbol",v(x,b)),m&&S.setItemVisual(A,"symbolSize",h(x,b)),g&&S.setItemVisual(A,"symbolRotate",d(x,b))}if(S.hasItemOption){var T=S.getItemModel(A),M=T.getShallow("symbol",!0),C=T.getShallow("symbolSize",!0),D=T.getShallow("symbolRotate",!0),L=T.getShallow("symbolKeepAspect",!0);M!=null&&S.setItemVisual(A,"symbol",M),C!=null&&S.setItemVisual(A,"symbolSize",C),D!=null&&S.setItemVisual(A,"symbolRotate",D),L!=null&&S.setItemVisual(A,"symbolKeepAspect",L)}}return{dataEach:u.hasItemOption||p?w:null}}}}return Wl=r,Wl}var Zl,wy;function Pn(){if(wy)return Zl;wy=1;var e=W,t=e.map,r=gi,a=br(),i=a.isDimensionStacked;function n(s){return{seriesType:s,plan:r(),reset:function(c){var o=c.getData(),u=c.coordinateSystem,v=c.pipelineContext,h=v.large;if(!u)return;var l=t(u.dimensions,function(g){return o.mapDimension(g)}).slice(0,2),d=l.length,f=o.getCalculationInfo("stackResultDimension");i(o,l[0])&&(l[0]=f),i(o,l[1])&&(l[1]=f);function m(g,p){for(var y=g.end-g.start,_=h&&new Float32Array(y*d),w=g.start,S=0,A=[],x=[];w<g.end;w++){var b;if(d===1){var T=p.get(l[0],w);b=!isNaN(T)&&u.dataToPoint(T,null,x)}else{var T=A[0]=p.get(l[0],w),M=A[1]=p.get(l[1],w);b=!isNaN(T)&&!isNaN(M)&&u.dataToPoint(A,null,x)}h?(_[S++]=b?b[0]:NaN,_[S++]=b?b[1]:NaN):p.setItemLayout(w,b&&b.slice()||[NaN,NaN])}h&&p.setLayout("symbolPoints",_)}return d&&{progress:m}}}}return Zl=n,Zl}var Yl,Ay;function b5(){if(Ay)return Yl;Ay=1;var e={average:function(a){for(var i=0,n=0,s=0;s<a.length;s++)isNaN(a[s])||(i+=a[s],n++);return n===0?NaN:i/n},sum:function(a){for(var i=0,n=0;n<a.length;n++)i+=a[n]||0;return i},max:function(a){for(var i=-1/0,n=0;n<a.length;n++)a[n]>i&&(i=a[n]);return isFinite(i)?i:NaN},min:function(a){for(var i=1/0,n=0;n<a.length;n++)a[n]<i&&(i=a[n]);return isFinite(i)?i:NaN},nearest:function(a){return a[0]}},t=function(a,i){return Math.round(a.length/2)};function r(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(i,n,s){var c=i.getData(),o=i.get("sampling"),u=i.coordinateSystem;if(u.type==="cartesian2d"&&o){var v=u.getBaseAxis(),h=u.getOtherAxis(v),l=v.getExtent(),d=l[1]-l[0],f=Math.round(c.count()/d);if(f>1){var m;typeof o=="string"?m=e[o]:typeof o=="function"&&(m=o),m&&i.setData(c.downSample(c.mapDimension(h.dim),1/f,m,t))}}}}}return Yl=r,Yl}var Ty={},Xl,Cy;function w5(){if(Cy)return Xl;Cy=1;var e=W;function t(i){return this._axes[i]}var r=function(i){this._axes={},this._dimList=[],this.name=i||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(i){return this._axes[i]},getAxes:function(){return e.map(this._dimList,t,this)},getAxesByScale:function(i){return i=i.toLowerCase(),e.filter(this.getAxes(),function(n){return n.scale.type===i})},addAxis:function(i){var n=i.dim;this._axes[n]=i,this._dimList.push(n)},dataToCoord:function(i){return this._dataCoordConvert(i,"dataToCoord")},coordToData:function(i){return this._dataCoordConvert(i,"coordToData")},_dataCoordConvert:function(i,n){for(var s=this._dimList,c=i instanceof Array?[]:{},o=0;o<s.length;o++){var u=s[o],v=this._axes[u];c[u]=v[n](i[u])}return c}};var a=r;return Xl=a,Xl}var Kl,My;function A5(){if(My)return Kl;My=1;var e=W,t=Xe,r=w5();function a(n){r.call(this,n)}a.prototype={constructor:a,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(n){var s=this.getAxis("x"),c=this.getAxis("y");return s.contain(s.toLocalCoord(n[0]))&&c.contain(c.toLocalCoord(n[1]))},containData:function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},dataToPoint:function(n,s,c){var o=this.getAxis("x"),u=this.getAxis("y");return c=c||[],c[0]=o.toGlobalCoord(o.dataToCoord(n[0])),c[1]=u.toGlobalCoord(u.dataToCoord(n[1])),c},clampData:function(n,s){var c=this.getAxis("x").scale,o=this.getAxis("y").scale,u=c.getExtent(),v=o.getExtent(),h=c.parse(n[0]),l=o.parse(n[1]);return s=s||[],s[0]=Math.min(Math.max(Math.min(u[0],u[1]),h),Math.max(u[0],u[1])),s[1]=Math.min(Math.max(Math.min(v[0],v[1]),l),Math.max(v[0],v[1])),s},pointToData:function(n,s){var c=this.getAxis("x"),o=this.getAxis("y");return s=s||[],s[0]=c.coordToData(c.toLocalCoord(n[0])),s[1]=o.coordToData(o.toLocalCoord(n[1])),s},getOtherAxis:function(n){return this.getAxis(n.dim==="x"?"y":"x")},getArea:function(){var n=this.getAxis("x").getGlobalExtent(),s=this.getAxis("y").getGlobalExtent(),c=Math.min(n[0],n[1]),o=Math.min(s[0],s[1]),u=Math.max(n[0],n[1])-c,v=Math.max(s[0],s[1])-o,h=new t(c,o,u,v);return h}},e.inherits(a,r);var i=a;return Kl=i,Kl}var Ql,Dy;function T5(){if(Dy)return Ql;Dy=1;var e=W,t=ta(),r=function(i,n,s,c,o){t.call(this,i,n,s),this.type=c||"value",this.position=o||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},getGlobalExtent:function(i){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),i&&n[0]>n[1]&&n.reverse(),n},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(i,n){return this.coordToData(this.toLocalCoord(i[this.dim==="x"?0:1]),n)},toLocalCoord:null,toGlobalCoord:null},e.inherits(r,t);var a=r;return Ql=a,Ql}var jl,Ly;function bM(){if(Ly)return jl;Ly=1;var e=W,t={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=e.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},t),r.valueAxis=e.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},t),r.timeAxis=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=e.defaults({scale:!0,logBase:10},r.valueAxis);var a=r;return jl=a,jl}var Jl,Py;function _s(){if(Py)return Jl;Py=1;var e=W,t=bM(),r=ht,a=Be,i=a.getLayoutParams,n=a.mergeLayoutParam,s=fM(),c=["value","category","time","log"];function o(u,v,h,l){e.each(c,function(d){v.extend({type:u+"Axis."+d,mergeDefaultAndTheme:function(f,m){var g=this.layoutMode,p=g?i(f):{},y=m.getTheme();e.merge(f,y.get(d+"Axis")),e.merge(f,this.getDefaultOption()),f.type=h(u,f),g&&n(f,p,g)},optionUpdated:function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=s.createByAxisModel(this))},getCategories:function(f){var m=this.option;if(m.type==="category")return f?m.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:e.mergeAll([{},t[d+"Axis"],l],!0)})}),r.registerSubTypeDefaulter(u+"Axis",e.curry(h,u))}return Jl=o,Jl}var eu,Iy;function wM(){if(Iy)return eu;Iy=1;var e=W,t=ht,r=_s(),a=yi(),i=t.extend({type:"cartesian2dAxis",axis:null,init:function(){i.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){i.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){i.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function n(o,u){return u.type||(u.data?"category":"value")}e.merge(i.prototype,a);var s={offset:0};r("x",i,n,s),r("y",i,n,s);var c=i;return eu=c,eu}var tu,Ry;function C5(){if(Ry)return tu;Ry=1,wM();var e=ht,t=e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});return tu=t,tu}var ru,Ey;function lg(){if(Ey)return ru;Ey=1;var e=W,t=e.isObject,r=e.each,a=e.map,i=e.indexOf;e.retrieve;var n=Be,s=n.getLayoutRect,c=nr(),o=c.createScaleByModel,u=c.ifAxisCrossZero,v=c.niceScaleExtent,h=c.estimateLabelUnionRect,l=A5(),d=T5(),f=xr,m=br(),g=m.getStackedDimension;C5();function p(C,D,L){return C.getCoordSysModel()===D}function y(C,D,L){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(C,D,L),this.model=C}var _=y.prototype;_.type="grid",_.axisPointerEnabled=!0,_.getRect=function(){return this._rect},_.update=function(C,D){var L=this._axesMap;this._updateScale(C,this.model),r(L.x,function(I){v(I.scale,I.model)}),r(L.y,function(I){v(I.scale,I.model)});var P={};r(L.x,function(I){w(L,"y",I,P)}),r(L.y,function(I){w(L,"x",I,P)}),this.resize(this.model,D)};function w(C,D,L,P){L.getAxesOnZeroOf=function(){return E?[E]:[]};var I=C[D],E,O=L.model,B=O.get("axisLine.onZero"),q=O.get("axisLine.onZeroAxisIndex");if(!B)return;if(q!=null)S(I[q])&&(E=I[q]);else for(var V in I)if(I.hasOwnProperty(V)&&S(I[V])&&!P[R(I[V])]){E=I[V];break}E&&(P[R(E)]=!0);function R(z){return z.dim+"_"+z.index}}function S(C){return C&&C.type!=="category"&&C.type!=="time"&&u(C)}_.resize=function(C,D,L){var P=s(C.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()});this._rect=P;var I=this._axesList;E(),!L&&C.get("containLabel")&&(r(I,function(O){if(!O.model.get("axisLabel.inside")){var B=h(O);if(B){var q=O.isHorizontal()?"height":"width",V=O.model.get("axisLabel.margin");P[q]-=B[q]+V,O.position==="top"?P.y+=B.height+V:O.position==="left"&&(P.x+=B.width+V)}}}),E());function E(){r(I,function(O){var B=O.isHorizontal(),q=B?[0,P.width]:[0,P.height],V=O.inverse?1:0;O.setExtent(q[V],q[1-V]),A(O,B?P.x:P.y)})}},_.getAxis=function(C,D){var L=this._axesMap[C];if(L!=null){if(D==null){for(var P in L)if(L.hasOwnProperty(P))return L[P]}return L[D]}},_.getAxes=function(){return this._axesList.slice()},_.getCartesian=function(C,D){if(C!=null&&D!=null){var L="x"+C+"y"+D;return this._coordsMap[L]}t(C)&&(D=C.yAxisIndex,C=C.xAxisIndex);for(var P=0,I=this._coordsList;P<I.length;P++)if(I[P].getAxis("x").index===C||I[P].getAxis("y").index===D)return I[P]},_.getCartesians=function(){return this._coordsList.slice()},_.convertToPixel=function(C,D,L){var P=this._findConvertTarget(C,D);return P.cartesian?P.cartesian.dataToPoint(L):P.axis?P.axis.toGlobalCoord(P.axis.dataToCoord(L)):null},_.convertFromPixel=function(C,D,L){var P=this._findConvertTarget(C,D);return P.cartesian?P.cartesian.pointToData(L):P.axis?P.axis.coordToData(P.axis.toLocalCoord(L)):null},_._findConvertTarget=function(C,D){var L=D.seriesModel,P=D.xAxisModel||L&&L.getReferringComponents("xAxis")[0],I=D.yAxisModel||L&&L.getReferringComponents("yAxis")[0],E=D.gridModel,O=this._coordsList,B,q;if(L)B=L.coordinateSystem,i(O,B)<0&&(B=null);else if(P&&I)B=this.getCartesian(P.componentIndex,I.componentIndex);else if(P)q=this.getAxis("x",P.componentIndex);else if(I)q=this.getAxis("y",I.componentIndex);else if(E){var V=E.coordinateSystem;V===this&&(B=this._coordsList[0])}return{cartesian:B,axis:q}},_.containPoint=function(C){var D=this._coordsList[0];if(D)return D.containPoint(C)},_._initCartesian=function(C,D,L){var P={left:!1,right:!1,top:!1,bottom:!1},I={x:{},y:{}},E={x:0,y:0};if(D.eachComponent("xAxis",O("x"),this),D.eachComponent("yAxis",O("y"),this),!E.x||!E.y){this._axesMap={},this._axesList=[];return}this._axesMap=I,r(I.x,function(B,q){r(I.y,function(V,R){var z="x"+q+"y"+R,k=new l(z);k.grid=this,k.model=C,this._coordsMap[z]=k,this._coordsList.push(k),k.addAxis(B),k.addAxis(V)},this)},this);function O(B){return function(q,V){if(p(q,C)){var R=q.get("position");B==="x"?R!=="top"&&R!=="bottom"&&(R=P.bottom?"top":"bottom"):R!=="left"&&R!=="right"&&(R=P.left?"right":"left"),P[R]=!0;var z=new d(B,o(q),[0,0],q.get("type"),R),k=z.type==="category";z.onBand=k&&q.get("boundaryGap"),z.inverse=q.get("inverse"),q.axis=z,z.model=q,z.grid=this,z.index=V,this._axesList.push(z),I[B][V]=z,E[B]++}}}},_._updateScale=function(C,D){r(this._axesList,function(P){P.scale.setExtent(1/0,-1/0)}),C.eachSeries(function(P){if(T(P)){var I=b(P),E=I[0],O=I[1];if(!p(E,D)||!p(O,D))return;var B=this.getCartesian(E.componentIndex,O.componentIndex),q=P.getData(),V=B.getAxis("x"),R=B.getAxis("y");q.type==="list"&&(L(q,V),L(q,R))}},this);function L(P,I,E){r(P.mapDimension(I.dim,!0),function(O){I.scale.unionExtentFromData(P,g(P,O))})}},_.getTooltipAxes=function(C){var D=[],L=[];return r(this.getCartesians(),function(P){var I=C!=null&&C!=="auto"?P.getAxis(C):P.getBaseAxis(),E=P.getOtherAxis(I);i(D,I)<0&&D.push(I),i(L,E)<0&&L.push(E)}),{baseAxes:D,otherAxes:L}};function A(C,D){var L=C.getExtent(),P=L[0]+L[1];C.toGlobalCoord=C.dim==="x"?function(I){return I+D}:function(I){return P-I+D},C.toLocalCoord=C.dim==="x"?function(I){return I-D}:function(I){return P-I+D}}var x=["xAxis","yAxis"];function b(C,D){return a(x,function(L){var P=C.getReferringComponents(L)[0];return P})}function T(C){return C.get("coordinateSystem")==="cartesian2d"}y.create=function(C,D){var L=[];return C.eachComponent("grid",function(P,I){var E=new y(P,C,D);E.name="grid_"+I,E.resize(P,D,!0),P.coordinateSystem=E,L.push(E)}),C.eachSeries(function(P){if(T(P)){var I=b(P),E=I[0],O=I[1],B=E.getCoordSysModel(),q=B.coordinateSystem;P.coordinateSystem=q.getCartesian(E.componentIndex,O.componentIndex)}}),L},y.dimensions=y.prototype.dimensions=l.prototype.dimensions,f.register("cartesian2d",y);var M=y;return ru=M,ru}var ky={},Oy={},au,zy;function ra(){if(zy)return au;zy=1;var e=W,t=e.retrieve,r=e.defaults,a=e.extend,i=e.each,n=Ne,s=fe,c=ot,o=Le,u=o.isRadianAroundZero,v=o.remRadian,h=Zt(),l=h.createSymbol,d=Je,f=Ee,m=f.applyTransform,g=nr(),p=g.shouldShowAllLabels,y=Math.PI,_=function(B,q){this.opt=q,this.axisModel=B,r(q,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new s.Group;var V=new s.Group({position:q.position.slice(),rotation:q.rotation});V.updateTransform(),this._transform=V.transform,this._dumbGroup=V};_.prototype={constructor:_,hasBuilder:function(B){return!!w[B]},add:function(B){w[B].call(this)},getGroup:function(){return this.group}};var w={axisLine:function(){var B=this.opt,q=this.axisModel;if(q.get("axisLine.show")){var V=this.axisModel.axis.getExtent(),R=this._transform,z=[V[0],0],k=[V[1],0];R&&(m(z,z,R),m(k,k,R));var N=a({lineCap:"round"},q.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new s.Line({anid:"line",subPixelOptimize:!0,shape:{x1:z[0],y1:z[1],x2:k[0],y2:k[1]},style:N,strokeContainThreshold:B.strokeContainThreshold||5,silent:!0,z2:1}));var G=q.get("axisLine.symbol"),H=q.get("axisLine.symbolSize"),F=q.get("axisLine.symbolOffset")||0;if(typeof F=="number"&&(F=[F,F]),G!=null){typeof G=="string"&&(G=[G,G]),(typeof H=="string"||typeof H=="number")&&(H=[H,H]);var $=H[0],U=H[1];i([{rotate:B.rotation+Math.PI/2,offset:F[0],r:0},{rotate:B.rotation-Math.PI/2,offset:F[1],r:Math.sqrt((z[0]-k[0])*(z[0]-k[0])+(z[1]-k[1])*(z[1]-k[1]))}],function(X,Q){if(G[Q]!=="none"&&G[Q]!=null){var j=l(G[Q],-$/2,-U/2,$,U,N.stroke,!0),ee=X.r+X.offset,re=[z[0]+ee*Math.cos(B.rotation),z[1]-ee*Math.sin(B.rotation)];j.attr({rotation:X.rotate,position:re,silent:!0,z2:11}),this.group.add(j)}},this)}}},axisTickLabel:function(){var B=this.axisModel,q=this.opt,V=P(this,B,q),R=E(this,B,q);T(B,R,V),I(this,B,q)},axisName:function(){var B=this.opt,q=this.axisModel,V=t(B.axisName,q.get("name"));if(V){var R=q.get("nameLocation"),z=B.nameDirection,k=q.getModel("nameTextStyle"),N=q.get("nameGap")||0,G=this.axisModel.axis.getExtent(),H=G[0]>G[1]?-1:1,F=[R==="start"?G[0]-H*N:R==="end"?G[1]+H*N:(G[0]+G[1])/2,D(R)?B.labelOffset+z*N:0],$,U=q.get("nameRotate");U!=null&&(U=U*y/180);var X;D(R)?$=A(B.rotation,U??B.rotation,z):($=x(B,R,U||0,G),X=B.axisNameAvailableWidth,X!=null&&(X=Math.abs(X/Math.sin($.rotation)),!isFinite(X)&&(X=null)));var Q=k.getFont(),j=q.get("nameTruncate",!0)||{},ee=j.ellipsis,re=t(B.nameTruncateMaxWidth,j.maxWidth,X),te=ee!=null&&re!=null?n.truncateText(V,re,Q,ee,{minChar:2,placeholder:j.placeholder}):V,ne=q.get("tooltip",!0),Se=q.mainType,le={componentType:Se,name:V,$vars:["name"]};le[Se+"Index"]=q.componentIndex;var pe=new s.Text({anid:"name",__fullText:V,__truncatedText:te,position:F,rotation:$.rotation,silent:b(q),z2:1,tooltip:ne&&ne.show?a({content:V,formatter:function(){return V},formatterParams:le},ne):null});s.setTextStyle(pe.style,k,{text:te,textFont:Q,textFill:k.getTextColor()||q.get("axisLine.lineStyle.color"),textAlign:k.get("align")||$.textAlign,textVerticalAlign:k.get("verticalAlign")||$.textVerticalAlign}),q.get("triggerEvent")&&(pe.eventData=S(q),pe.eventData.targetType="axisName",pe.eventData.name=V),this._dumbGroup.add(pe),pe.updateTransform(),this.group.add(pe),pe.decomposeTransform()}}},S=_.makeAxisEventDataBase=function(B){var q={componentType:B.mainType,componentIndex:B.componentIndex};return q[B.mainType+"Index"]=B.componentIndex,q},A=_.innerTextLayout=function(B,q,V){var R=v(q-B),z,k;return u(R)?(k=V>0?"top":"bottom",z="center"):u(R-y)?(k=V>0?"bottom":"top",z="center"):(k="middle",R>0&&R<y?z=V>0?"right":"left":z=V>0?"left":"right"),{rotation:R,textAlign:z,textVerticalAlign:k}};function x(B,q,V,R){var z=v(V-B.rotation),k,N,G=R[0]>R[1],H=q==="start"&&!G||q!=="start"&&G;return u(z-y/2)?(N=H?"bottom":"top",k="center"):u(z-y*1.5)?(N=H?"top":"bottom",k="center"):(N="middle",z<y*1.5&&z>y/2?k=H?"left":"right":k=H?"right":"left"),{rotation:z,textAlign:k,textVerticalAlign:N}}var b=_.isLabelSilent=function(B){var q=B.get("tooltip");return B.get("silent")||!(B.get("triggerEvent")||q&&q.show)};function T(B,q,V){if(!p(B.axis)){var R=B.get("axisLabel.showMinLabel"),z=B.get("axisLabel.showMaxLabel");q=q||[],V=V||[];var k=q[0],N=q[1],G=q[q.length-1],H=q[q.length-2],F=V[0],$=V[1],U=V[V.length-1],X=V[V.length-2];R===!1?(M(k),M(F)):C(k,N)&&(R?(M(N),M($)):(M(k),M(F))),z===!1?(M(G),M(U)):C(H,G)&&(z?(M(H),M(X)):(M(G),M(U)))}}function M(B){B&&(B.ignore=!0)}function C(B,q,V){var R=B&&B.getBoundingRect().clone(),z=q&&q.getBoundingRect().clone();if(!(!R||!z)){var k=d.identity([]);return d.rotate(k,k,-B.rotation),R.applyTransform(d.mul([],k,B.getLocalTransform())),z.applyTransform(d.mul([],k,q.getLocalTransform())),R.intersect(z)}}function D(B){return B==="middle"||B==="center"}function L(B,q,V,R,z){for(var k=[],N=[],G=[],H=0;H<B.length;H++){var F=B[H].coord;N[0]=F,N[1]=0,G[0]=F,G[1]=V,q&&(m(N,N,q),m(G,G,q));var $=new s.Line({anid:z+"_"+B[H].tickValue,subPixelOptimize:!0,shape:{x1:N[0],y1:N[1],x2:G[0],y2:G[1]},style:R,z2:2,silent:!0});k.push($)}return k}function P(B,q,V){var R=q.axis,z=q.getModel("axisTick");if(!(!z.get("show")||R.scale.isBlank())){for(var k=z.getModel("lineStyle"),N=V.tickDirection*z.get("length"),G=R.getTicksCoords(),H=L(G,B._transform,N,r(k.getLineStyle(),{stroke:q.get("axisLine.lineStyle.color")}),"ticks"),F=0;F<H.length;F++)B.group.add(H[F]);return H}}function I(B,q,V){var R=q.axis,z=q.getModel("minorTick");if(!(!z.get("show")||R.scale.isBlank())){var k=R.getMinorTicksCoords();if(k.length)for(var N=z.getModel("lineStyle"),G=V.tickDirection*z.get("length"),H=r(N.getLineStyle(),r(q.getModel("axisTick").getLineStyle(),{stroke:q.get("axisLine.lineStyle.color")})),F=0;F<k.length;F++)for(var $=L(k[F],B._transform,G,H,"minorticks_"+F),U=0;U<$.length;U++)B.group.add($[U])}}function E(B,q,V){var R=q.axis,z=t(V.axisLabelShow,q.get("axisLabel.show"));if(!(!z||R.scale.isBlank())){var k=q.getModel("axisLabel"),N=k.get("margin"),G=R.getViewLabels(),H=(t(V.labelRotate,k.get("rotate"))||0)*y/180,F=A(V.rotation,H,V.labelDirection),$=q.getCategories&&q.getCategories(!0),U=[],X=b(q),Q=q.get("triggerEvent");return i(G,function(j,ee){var re=j.tickValue,te=j.formattedLabel,ne=j.rawLabel,Se=k;$&&$[re]&&$[re].textStyle&&(Se=new c($[re].textStyle,k,q.ecModel));var le=Se.getTextColor()||q.get("axisLine.lineStyle.color"),pe=R.dataToCoord(re),de=[pe,V.labelOffset+V.labelDirection*N],ie=new s.Text({anid:"label_"+re,position:de,rotation:F.rotation,silent:X,z2:10});s.setTextStyle(ie.style,Se,{text:te,textAlign:Se.getShallow("align",!0)||F.textAlign,textVerticalAlign:Se.getShallow("verticalAlign",!0)||Se.getShallow("baseline",!0)||F.textVerticalAlign,textFill:typeof le=="function"?le(R.type==="category"?ne:R.type==="value"?re+"":re,ee):le}),Q&&(ie.eventData=S(q),ie.eventData.targetType="axisLabel",ie.eventData.value=ne),B._dumbGroup.add(ie),ie.updateTransform(),U.push(ie),B.group.add(ie),ie.decomposeTransform()}),U}}var O=_;return au=O,au}var va={},By;function xs(){if(By)return va;By=1;var e=W,t=ot,r=e.each,a=e.curry;function i(m,g){var p={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return n(p,m,g),p.seriesInvolved&&c(p,m),p}function n(m,g,p){var y=g.getComponent("tooltip"),_=g.getComponent("axisPointer"),w=_.get("link",!0)||[],S=[];r(p.getCoordinateSystems(),function(A){if(!A.axisPointerEnabled)return;var x=f(A.model),b=m.coordSysAxesInfo[x]={};m.coordSysMap[x]=A;var T=A.model,M=T.getModel("tooltip",y);if(r(A.getAxes(),a(P,!1,null)),A.getTooltipAxes&&y&&M.get("show")){var C=M.get("trigger")==="axis",D=M.get("axisPointer.type")==="cross",L=A.getTooltipAxes(M.get("axisPointer.axis"));(C||D)&&r(L.baseAxes,a(P,D?"cross":!0,C)),D&&r(L.otherAxes,a(P,"cross",!1))}function P(I,E,O){var B=O.model.getModel("axisPointer",_),q=B.get("show");if(!(!q||q==="auto"&&!I&&!d(B))){E==null&&(E=B.get("triggerTooltip")),B=I?s(O,M,_,g,I,E):B;var V=B.get("snap"),R=f(O.model),z=E||V||O.type==="category",k=m.axesInfo[R]={key:R,axis:O,coordSys:A,axisPointerModel:B,triggerTooltip:E,involveSeries:z,snap:V,useHandle:d(B),seriesModels:[]};b[R]=k,m.seriesInvolved|=z;var N=o(w,O);if(N!=null){var G=S[N]||(S[N]={axesInfo:{}});G.axesInfo[R]=k,G.mapper=w[N].mapper,k.linkGroup=G}}}})}function s(m,g,p,y,_,w){var S=g.getModel("axisPointer"),A={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(M){A[M]=e.clone(S.get(M))}),A.snap=m.type!=="category"&&!!w,S.get("type")==="cross"&&(A.type="line");var x=A.label||(A.label={});if(x.show==null&&(x.show=!1),_==="cross"){var b=S.get("label.show");if(x.show=b??!0,!w){var T=A.lineStyle=S.get("crossStyle");T&&e.defaults(x,T.textStyle)}}return m.model.getModel("axisPointer",new t(A,p,y))}function c(m,g){g.eachSeries(function(p){var y=p.coordinateSystem,_=p.get("tooltip.trigger",!0),w=p.get("tooltip.show",!0);!y||_==="none"||_===!1||_==="item"||w===!1||p.get("axisPointer.show",!0)===!1||r(m.coordSysAxesInfo[f(y.model)],function(S){var A=S.axis;y.getAxis(A.dim)===A&&(S.seriesModels.push(p),S.seriesDataCount==null&&(S.seriesDataCount=0),S.seriesDataCount+=p.getData().count())})},this)}function o(m,g){for(var p=g.model,y=g.dim,_=0;_<m.length;_++){var w=m[_]||{};if(u(w[y+"AxisId"],p.id)||u(w[y+"AxisIndex"],p.componentIndex)||u(w[y+"AxisName"],p.name))return _}}function u(m,g){return m==="all"||e.isArray(m)&&e.indexOf(m,g)>=0||m===g}function v(m){var g=h(m);if(g){var p=g.axisPointerModel,y=g.axis.scale,_=p.option,w=p.get("status"),S=p.get("value");S!=null&&(S=y.parse(S));var A=d(p);w==null&&(_.status=A?"show":"hide");var x=y.getExtent().slice();x[0]>x[1]&&x.reverse(),(S==null||S>x[1])&&(S=x[1]),S<x[0]&&(S=x[0]),_.value=S,A&&(_.status=g.axis.scale.isBlank()?"hide":"show")}}function h(m){var g=(m.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return g&&g.axesInfo[f(m)]}function l(m){var g=h(m);return g&&g.axisPointerModel}function d(m){return!!m.get("handle.show")}function f(m){return m.type+"||"+m.id}return va.collect=i,va.fixValue=v,va.getAxisInfo=h,va.getAxisPointerModel=l,va.makeKey=f,va}var iu,Ny;function Ta(){if(Ny)return iu;Ny=1;var e=_e,t=xs(),r=e.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(c,o,u,v){this.axisPointerClass&&t.fixValue(c),r.superApply(this,"render",arguments),a(this,c,o,u,v,!0)},updateAxisPointer:function(c,o,u,v,h){a(this,c,o,u,v,!1)},remove:function(c,o){var u=this._axisPointer;u&&u.remove(o),r.superApply(this,"remove",arguments)},dispose:function(c,o){i(this,o),r.superApply(this,"dispose",arguments)}});function a(c,o,u,v,h,l){var d=r.getAxisPointerClass(c.axisPointerClass);if(d){var f=t.getAxisPointerModel(o);f?(c._axisPointer||(c._axisPointer=new d)).render(o,f,v,l):i(c,v)}}function i(c,o,u){var v=c._axisPointer;v&&v.dispose(o,u),c._axisPointer=null}var n=[];r.registerAxisPointerClass=function(c,o){n[c]=o},r.getAxisPointerClass=function(c){return c&&n[c]};var s=r;return iu=s,iu}var nu={},Vy;function AM(){if(Vy)return nu;Vy=1;var e=W;function t(r,a,i){i=i||{};var n=r.coordinateSystem,s=a.axis,c={},o=s.getAxesOnZeroOf()[0],u=s.position,v=o?"onZero":u,h=s.dim,l=n.getRect(),d=[l.x,l.x+l.width,l.y,l.y+l.height],f={left:0,right:1,top:0,bottom:1,onZero:2},m=a.get("offset")||0,g=h==="x"?[d[2]-m,d[3]+m]:[d[0]-m,d[1]+m];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));g[f.onZero]=Math.max(Math.min(p,g[1]),g[0])}c.position=[h==="y"?g[f[v]]:d[0],h==="x"?g[f[v]]:d[3]],c.rotation=Math.PI/2*(h==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};c.labelDirection=c.tickDirection=c.nameDirection=y[u],c.labelOffset=o?g[f[u]]-g[f.onZero]:0,a.get("axisTick.inside")&&(c.tickDirection=-c.tickDirection),e.retrieve(i.labelInside,a.get("axisLabel.inside"))&&(c.labelDirection=-c.labelDirection);var _=a.get("axisLabel.rotate");return c.labelRotate=v==="top"?-_:_,c.z2=1,c}return nu.layout=t,nu}var uo={},Hy;function TM(){if(Hy)return uo;Hy=1;var e=W,t=fe;function r(i,n,s,c){var o=s.axis;if(!o.scale.isBlank()){var u=s.getModel("splitArea"),v=u.getModel("areaStyle"),h=v.get("color"),l=c.coordinateSystem.getRect(),d=o.getTicksCoords({tickModel:u,clamp:!0});if(d.length){var f=h.length,m=i.__splitAreaColors,g=e.createHashMap(),p=0;if(m)for(var y=0;y<d.length;y++){var _=m.get(d[y].tickValue);if(_!=null){p=(_+(f-1)*y)%f;break}}var w=o.toGlobalCoord(d[0].coord),S=v.getAreaStyle();h=e.isArray(h)?h:[h];for(var y=1;y<d.length;y++){var A=o.toGlobalCoord(d[y].coord),x,b,T,M;o.isHorizontal()?(x=w,b=l.y,T=A-x,M=l.height,w=x+T):(x=l.x,b=w,T=l.width,M=A-b,w=b+M);var C=d[y-1].tickValue;C!=null&&g.set(C,p),n.add(new t.Rect({anid:C!=null?"area_"+C:null,shape:{x,y:b,width:T,height:M},style:e.defaults({fill:h[p]},S),silent:!0})),p=(p+1)%f}i.__splitAreaColors=g}}}function a(i){i.__splitAreaColors=null}return uo.rectCoordAxisBuildSplitArea=r,uo.rectCoordAxisHandleRemove=a,uo}var qy;function M5(){if(qy)return Oy;qy=1;var e=W,t=fe,r=ra(),a=Ta(),i=AM(),n=TM(),s=n.rectCoordAxisBuildSplitArea,c=n.rectCoordAxisHandleRemove,o=["axisLine","axisTickLabel","axisName"],u=["splitArea","splitLine","minorSplitLine"],v=a.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(h,l,d,f){this.group.removeAll();var m=this._axisGroup;if(this._axisGroup=new t.Group,this.group.add(this._axisGroup),!!h.get("show")){var g=h.getCoordSysModel(),p=i.layout(g,h),y=new r(h,p);e.each(o,y.add,y),this._axisGroup.add(y.getGroup()),e.each(u,function(_){h.get(_+".show")&&this["_"+_](h,g)},this),t.groupTransition(m,this._axisGroup,h),v.superCall(this,"render",h,l,d,f)}},remove:function(){c(this)},_splitLine:function(h,l){var d=h.axis;if(!d.scale.isBlank()){var f=h.getModel("splitLine"),m=f.getModel("lineStyle"),g=m.get("color");g=e.isArray(g)?g:[g];for(var p=l.coordinateSystem.getRect(),y=d.isHorizontal(),_=0,w=d.getTicksCoords({tickModel:f}),S=[],A=[],x=m.getLineStyle(),b=0;b<w.length;b++){var T=d.toGlobalCoord(w[b].coord);y?(S[0]=T,S[1]=p.y,A[0]=T,A[1]=p.y+p.height):(S[0]=p.x,S[1]=T,A[0]=p.x+p.width,A[1]=T);var M=_++%g.length,C=w[b].tickValue;this._axisGroup.add(new t.Line({anid:C!=null?"line_"+w[b].tickValue:null,subPixelOptimize:!0,shape:{x1:S[0],y1:S[1],x2:A[0],y2:A[1]},style:e.defaults({stroke:g[M]},x),silent:!0}))}}},_minorSplitLine:function(h,l){var d=h.axis,f=h.getModel("minorSplitLine"),m=f.getModel("lineStyle"),g=l.coordinateSystem.getRect(),p=d.isHorizontal(),y=d.getMinorTicksCoords();if(y.length)for(var _=[],w=[],S=m.getLineStyle(),A=0;A<y.length;A++)for(var x=0;x<y[A].length;x++){var b=d.toGlobalCoord(y[A][x].coord);p?(_[0]=b,_[1]=g.y,w[0]=b,w[1]=g.y+g.height):(_[0]=g.x,_[1]=b,w[0]=g.x+g.width,w[1]=b),this._axisGroup.add(new t.Line({anid:"minor_line_"+y[A][x].tickValue,subPixelOptimize:!0,shape:{x1:_[0],y1:_[1],x2:w[0],y2:w[1]},style:S,silent:!0}))}},_splitArea:function(h,l){s(this,this._axisGroup,h,l)}});return v.extend({type:"xAxis"}),v.extend({type:"yAxis"}),Oy}var Gy;function D5(){return Gy||(Gy=1,wM(),M5()),ky}var Fy;function In(){if(Fy)return Ty;Fy=1;var e=_e,t=W,r=fe;return lg(),D5(),e.extendComponentView({type:"grid",render:function(a,i){this.group.removeAll(),a.get("show")&&this.group.add(new r.Rect({shape:a.coordinateSystem.getRect(),style:t.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),e.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),Ty}var $y;function L5(){if($y)return cy;$y=1;var e=_e;_5(),S5();var t=Aa(),r=Pn(),a=b5();return In(),e.registerVisual(t("line","circle","line")),e.registerLayout(r("line")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a("line")),cy}var Uy={},ou,Wy;function CM(){if(Wy)return ou;Wy=1;var e=ct,t=Or(),r=e.extend({type:"series.__base_bar__",getInitialData:function(a,i){return t(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(a){var i=this.coordinateSystem;if(i){var n=i.dataToPoint(i.clampData(a)),s=this.getData(),c=s.getLayout("offset"),o=s.getLayout("size"),u=i.getBaseAxis().isHorizontal()?0:1;return n[u]+=c+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});return ou=r,ou}var su,Zy;function P5(){if(Zy)return su;Zy=1;var e=CM(),t=e.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var r=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>r&&(r=a),r},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});return su=t,su}var lu={},Yy;function MM(){if(Yy)return lu;Yy=1;var e=fe,t=sg(),r=t.getDefaultLabel;function a(n,s,c,o,u,v,h){var l=c.getModel("label"),d=c.getModel("emphasis.label");e.setLabelStyle(n,s,l,d,{labelFetcher:u,labelDataIndex:v,defaultText:r(u.getData(),v),isRectText:!0,autoColor:o}),i(n),i(s)}function i(n,s){n.textPosition==="outside"&&(n.textPosition=s)}return lu.setLabel=a,lu}var uu,Xy;function I5(){if(Xy)return uu;Xy=1;var e=vi,t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(a){var i=t(this,a);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(i.lineDash=n)}return i}};return uu=r,uu}var vu,Ky;function R5(){if(Ky)return vu;Ky=1;var e=fe,t=e.extendShape,r=t({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},buildPath:function(a,i){var n=i.cx,s=i.cy,c=Math.max(i.r0||0,0),o=Math.max(i.r,0),u=(o-c)*.5,v=c+u,h=i.startAngle,l=i.endAngle,d=i.clockwise,f=Math.cos(h),m=Math.sin(h),g=Math.cos(l),p=Math.sin(l),y=d?l-h<Math.PI*2:h-l<Math.PI*2;y&&(a.moveTo(f*c+n,m*c+s),a.arc(f*v+n,m*v+s,u,-Math.PI+h,h,!d)),a.arc(n,s,o,h,l,!d),a.moveTo(g*o+n,p*o+s),a.arc(g*v+n,p*v+s,u,l-Math.PI*2,l-Math.PI,!d),c!==0&&(a.arc(n,s,c,l,h,d),a.moveTo(f*c+n,p*c+s)),a.closePath()}});return vu=r,vu}var hu,Qy;function E5(){if(Qy)return hu;Qy=1;var e=_e,t=W,r=fe,a=MM(),i=a.setLabel,n=ot,s=I5(),c=at,o=_a,u=ir,v=u.throttle,h=Ln(),l=h.createClipPath,d=R5(),f=["itemStyle","barBorderWidth"],m=[0,0];t.extend(n.prototype,s);function g(V,R){var z=V.getArea&&V.getArea();if(V.type==="cartesian2d"){var k=V.getBaseAxis();if(k.type!=="category"||!k.onBand){var N=R.getLayout("bandWidth");k.isHorizontal()?(z.x-=N,z.width+=N*2):(z.y-=N,z.height+=N*2)}}return z}var p=e.extendChartView({type:"bar",render:function(V,R,z){this._updateDrawMode(V);var k=V.get("coordinateSystem");return(k==="cartesian2d"||k==="polar")&&(this._isLargeDraw?this._renderLarge(V,R,z):this._renderNormal(V,R,z)),this.group},incrementalPrepareRender:function(V,R,z){this._clear(),this._updateDrawMode(V)},incrementalRender:function(V,R,z,k){this._incrementalRenderLarge(V,R)},_updateDrawMode:function(V){var R=V.pipelineContext.large;(this._isLargeDraw==null||R^this._isLargeDraw)&&(this._isLargeDraw=R,this._clear())},_renderNormal:function(V,R,z){var k=this.group,N=V.getData(),G=this._data,H=V.coordinateSystem,F=H.getBaseAxis(),$;H.type==="cartesian2d"?$=F.isHorizontal():H.type==="polar"&&($=F.dim==="angle");var U=V.isAnimationEnabled()?V:null,X=V.get("clip",!0),Q=g(H,N);k.removeClipPath();var j=V.get("roundCap",!0),ee=V.get("showBackground",!0),re=V.getModel("backgroundStyle"),te=re.get("barBorderRadius")||0,ne=[],Se=this._backgroundEls||[];N.diff(G).add(function(de){var ie=N.getItemModel(de),oe=b[H.type](N,de,ie);if(ee){var ge=b[H.type](N,de),Z=q(H,$,ge);Z.useStyle(re.getBarItemStyle()),H.type==="cartesian2d"&&Z.setShape("r",te),ne[de]=Z}if(N.hasValue(de)){if(X){var K=w[H.type](Q,oe);if(K){k.remove(J);return}}var J=S[H.type](de,oe,$,U,!1,j);N.setItemGraphicEl(de,J),k.add(J),M(J,N,de,ie,oe,V,$,H.type==="polar")}}).update(function(de,ie){var oe=N.getItemModel(de),ge=b[H.type](N,de,oe);if(ee){var Z=Se[ie];Z.useStyle(re.getBarItemStyle()),H.type==="cartesian2d"&&Z.setShape("r",te),ne[de]=Z;var K=b[H.type](N,de),J=B($,K,H);r.updateProps(Z,{shape:J},U,de)}var se=G.getItemGraphicEl(ie);if(!N.hasValue(de)){k.remove(se);return}if(X){var ue=w[H.type](Q,ge);if(ue){k.remove(se);return}}se?r.updateProps(se,{shape:ge},U,de):se=S[H.type](de,ge,$,U,!0,j),N.setItemGraphicEl(de,se),k.add(se),M(se,N,de,oe,ge,V,$,H.type==="polar")}).remove(function(de){var ie=G.getItemGraphicEl(de);H.type==="cartesian2d"?ie&&A(de,U,ie):ie&&x(de,U,ie)}).execute();var le=this._backgroundGroup||(this._backgroundGroup=new o);le.removeAll();for(var pe=0;pe<ne.length;++pe)le.add(ne[pe]);k.add(le),this._backgroundEls=ne,this._data=N},_renderLarge:function(V,R,z){this._clear(),L(V,this.group);var k=V.get("clip",!0)?l(V.coordinateSystem,!1,V):null;k?this.group.setClipPath(k):this.group.removeClipPath()},_incrementalRenderLarge:function(V,R){this._removeBackground(),L(R,this.group,!0)},dispose:t.noop,remove:function(V){this._clear(V)},_clear:function(V){var R=this.group,z=this._data;V&&V.get("animation")&&z&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],z.eachItemGraphicEl(function(k){k.type==="sector"?x(k.dataIndex,V,k):A(k.dataIndex,V,k)})):R.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),y=Math.max,_=Math.min,w={cartesian2d:function(V,R){var z=R.width<0?-1:1,k=R.height<0?-1:1;z<0&&(R.x+=R.width,R.width=-R.width),k<0&&(R.y+=R.height,R.height=-R.height);var N=y(R.x,V.x),G=_(R.x+R.width,V.x+V.width),H=y(R.y,V.y),F=_(R.y+R.height,V.y+V.height);R.x=N,R.y=H,R.width=G-N,R.height=F-H;var $=R.width<0||R.height<0;return z<0&&(R.x+=R.width,R.width=-R.width),k<0&&(R.y+=R.height,R.height=-R.height),$},polar:function(V){return!1}},S={cartesian2d:function(V,R,z,k,N){var G=new r.Rect({shape:t.extend({},R),z2:1});if(G.name="item",k){var H=G.shape,F=z?"height":"width",$={};H[F]=0,$[F]=R[F],r[N?"updateProps":"initProps"](G,{shape:$},k,V)}return G},polar:function(V,R,z,k,N,G){var H=R.startAngle<R.endAngle,F=!z&&G?d:r.Sector,$=new F({shape:t.defaults({clockwise:H},R),z2:1});if($.name="item",k){var U=$.shape,X=z?"r":"endAngle",Q={};U[X]=z?0:R.startAngle,Q[X]=R[X],r[N?"updateProps":"initProps"]($,{shape:Q},k,V)}return $}};function A(V,R,z){z.style.text=null,r.updateProps(z,{shape:{width:0}},R,V,function(){z.parent&&z.parent.remove(z)})}function x(V,R,z){z.style.text=null,r.updateProps(z,{shape:{r:z.shape.r0}},R,V,function(){z.parent&&z.parent.remove(z)})}var b={cartesian2d:function(V,R,z){var k=V.getItemLayout(R),N=z?C(z,k):0,G=k.width>0?1:-1,H=k.height>0?1:-1;return{x:k.x+G*N/2,y:k.y+H*N/2,width:k.width-G*N,height:k.height-H*N}},polar:function(V,R,z){var k=V.getItemLayout(R);return{cx:k.cx,cy:k.cy,r0:k.r0,r:k.r,startAngle:k.startAngle,endAngle:k.endAngle}}};function T(V){return V.startAngle!=null&&V.endAngle!=null&&V.startAngle===V.endAngle}function M(V,R,z,k,N,G,H,F){var $=R.getItemVisual(z,"color"),U=R.getItemVisual(z,"opacity"),X=R.getVisual("borderColor"),Q=k.getModel("itemStyle"),j=k.getModel("emphasis.itemStyle").getBarItemStyle();F||V.setShape("r",Q.get("barBorderRadius")||0),V.useStyle(t.defaults({stroke:T(N)?"none":X,fill:T(N)?"none":$,opacity:U},Q.getBarItemStyle()));var ee=k.getShallow("cursor");ee&&V.attr("cursor",ee);var re=H?N.height>0?"bottom":"top":N.width>0?"left":"right";F||i(V.style,j,k,$,G,z,re),T(N)&&(j.fill=j.stroke="none"),r.setHoverStyle(V,j)}function C(V,R){var z=V.get(f)||0,k=isNaN(R.width)?Number.MAX_VALUE:Math.abs(R.width),N=isNaN(R.height)?Number.MAX_VALUE:Math.abs(R.height);return Math.min(z,k,N)}var D=c.extend({type:"largeBar",shape:{points:[]},buildPath:function(V,R){for(var z=R.points,k=this.__startPoint,N=this.__baseDimIdx,G=0;G<z.length;G+=2)k[N]=z[G+N],V.moveTo(k[0],k[1]),V.lineTo(z[G],z[G+1])}});function L(V,R,z){var k=V.getData(),N=[],G=k.getLayout("valueAxisHorizontal")?1:0;N[1-G]=k.getLayout("valueAxisStart");var H=k.getLayout("largeDataIndices"),F=k.getLayout("barWidth"),$=V.getModel("backgroundStyle"),U=V.get("showBackground",!0);if(U){var X=k.getLayout("largeBackgroundPoints"),Q=[];Q[1-G]=k.getLayout("backgroundStart");var j=new D({shape:{points:X},incremental:!!z,__startPoint:Q,__baseDimIdx:G,__largeDataIndices:H,__barWidth:F,silent:!0,z2:0});O(j,$,k),R.add(j)}var ee=new D({shape:{points:k.getLayout("largePoints")},incremental:!!z,__startPoint:N,__baseDimIdx:G,__largeDataIndices:H,__barWidth:F});R.add(ee),E(ee,V,k),ee.seriesIndex=V.seriesIndex,V.get("silent")||(ee.on("mousedown",P),ee.on("mousemove",P))}var P=v(function(V){var R=this,z=I(R,V.offsetX,V.offsetY);R.dataIndex=z>=0?z:null},30,!1);function I(V,R,z){var k=V.__baseDimIdx,N=1-k,G=V.shape.points,H=V.__largeDataIndices,F=Math.abs(V.__barWidth/2),$=V.__startPoint[N];m[0]=R,m[1]=z;for(var U=m[k],X=m[1-k],Q=U-F,j=U+F,ee=0,re=G.length/2;ee<re;ee++){var te=ee*2,ne=G[te+k],Se=G[te+N];if(ne>=Q&&ne<=j&&($<=Se?X>=$&&X<=Se:X>=Se&&X<=$))return H[ee]}return-1}function E(V,R,z){var k=z.getVisual("borderColor")||z.getVisual("color"),N=R.getModel("itemStyle").getItemStyle(["color","borderColor"]);V.useStyle(N),V.style.fill=null,V.style.stroke=k,V.style.lineWidth=z.getLayout("barWidth")}function O(V,R,z){var k=R.get("borderColor")||R.get("color"),N=R.getItemStyle(["color","borderColor"]);V.useStyle(N),V.style.fill=null,V.style.stroke=k,V.style.lineWidth=z.getLayout("barWidth")}function B(V,R,z){var k,N=z.type==="polar";return N?k=z.getArea():k=z.grid.getRect(),N?{cx:k.cx,cy:k.cy,r0:V?k.r0:R.r0,r:V?k.r:R.r,startAngle:V?R.startAngle:0,endAngle:V?R.endAngle:Math.PI*2}:{x:V?R.x:k.x,y:V?k.y:R.y,width:V?R.width:k.width,height:V?k.height:R.height}}function q(V,R,z){var k=V.type==="polar"?r.Sector:r.Rect;return new k({shape:B(R,z,V),silent:!0,z2:0})}return hu=p,hu}var jy;function k5(){if(jy)return Uy;jy=1;var e=_e,t=W,r=ms(),a=r.layout,i=r.largeLayout;return lg(),P5(),E5(),In(),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,t.curry(a,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,i),e.registerVisual({seriesType:"bar",reset:function(n){n.getData().setVisual("legendSymbol","roundRect")}}),Uy}var Jy={},cu,e0;function _i(){if(e0)return cu;e0=1;var e=mi(),t=Wt(),r=W,a=r.extend,i=r.isArray;function n(s,c,o){c=i(c)&&{coordDimensions:c}||a({},c);var u=s.getSource(),v=e(u,c),h=new t(v,s);return h.initData(u,o),h}return cu=n,cu}var fu,t0;function ug(){if(t0)return fu;t0=1;var e=W,t={updateSelectedMap:function(r){this._targetList=e.isArray(r)?r.slice():[],this._selectTargetMap=e.reduce(r||[],function(a,i){return a.set(i.name,i),a},e.createHashMap())},select:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r),n=this.get("selectedMode");n==="single"&&this._selectTargetMap.each(function(s){s.selected=!1}),i&&(i.selected=!0)},unSelect:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);i&&(i.selected=!1)},toggleSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);if(i!=null)return this[i.selected?"unSelect":"select"](r,a),i.selected},isSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);return i&&i.selected}};return fu=t,fu}var du,r0;function Rn(){if(r0)return du;r0=1;function e(r,a){this.getAllNames=function(){var i=a();return i.mapArray(i.getName)},this.containName=function(i){var n=a();return n.indexOfName(i)>=0},this.indexOfName=function(i){var n=r();return n.indexOfName(i)},this.getItemVisual=function(i,n){var s=r();return s.getItemVisual(i,n)}}var t=e;return du=t,du}var gu,a0;function O5(){if(a0)return gu;a0=1;var e=_e,t=_i(),r=W,a=Ie,i=Le,n=i.getPercentWithPrecision,s=ug(),c=ar,o=c.retrieveRawAttr,u=xt,v=u.makeSeriesEncodeForNameBased,h=Rn(),l=e.extendSeriesModel({type:"series.pie",init:function(f){l.superApply(this,"init",arguments),this.legendVisualProvider=new h(r.bind(this.getData,this),r.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(f)},mergeOption:function(f){l.superCall(this,"mergeOption",f),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(f,m){return t(this,{coordDimensions:["value"],encodeDefaulter:r.curry(v,this)})},_createSelectableList:function(){for(var f=this.getRawData(),m=f.mapDimension("value"),g=[],p=0,y=f.count();p<y;p++)g.push({name:f.getName(p),value:f.get(m,p),selected:o(f,p,"selected")});return g},getDataParams:function(f){var m=this.getData(),g=l.superCall(this,"getDataParams",f),p=[];return m.each(m.mapDimension("value"),function(y){p.push(y)}),g.percent=n(p,f,m.hostModel.get("percentPrecision")),g.$vars.push("percent"),g},_defaultLabelLine:function(f){a.defaultEmphasis(f,"labelLine",["show"]);var m=f.labelLine,g=f.emphasis.labelLine;m.show=m.show&&f.label.show,g.show=g.show&&f.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(l,s);var d=l;return gu=d,gu}var pu,i0;function z5(){if(i0)return pu;i0=1;var e=W,t=fe,r=Sr;function a(u,v,h,l){var d=v.getData(),f=this.dataIndex,m=d.getName(f),g=v.get("selectedOffset");l.dispatchAction({type:"pieToggleSelect",from:u,name:m,seriesId:v.id}),d.each(function(p){i(d.getItemGraphicEl(p),d.getItemLayout(p),v.isSelected(d.getName(p)),g,h)})}function i(u,v,h,l,d){var f=(v.startAngle+v.endAngle)/2,m=Math.cos(f),g=Math.sin(f),p=h?l:0,y=[m*p,g*p];d?u.animate().when(200,{position:y}).start("bounceOut"):u.attr("position",y)}function n(u,v){t.Group.call(this);var h=new t.Sector({z2:2}),l=new t.Polyline,d=new t.Text;this.add(h),this.add(l),this.add(d),this.updateData(u,v,!0)}var s=n.prototype;s.updateData=function(u,v,h){var l=this.childAt(0),d=this.childAt(1),f=this.childAt(2),m=u.hostModel,g=u.getItemModel(v),p=u.getItemLayout(v),y=e.extend({},p);y.label=null;var _=m.getShallow("animationTypeUpdate");if(h){l.setShape(y);var w=m.getShallow("animationType");w==="scale"?(l.shape.r=p.r0,t.initProps(l,{shape:{r:p.r}},m,v)):(l.shape.endAngle=p.startAngle,t.updateProps(l,{shape:{endAngle:p.endAngle}},m,v))}else _==="expansion"?l.setShape(y):t.updateProps(l,{shape:y},m,v);var S=u.getItemVisual(v,"color");l.useStyle(e.defaults({lineJoin:"bevel",fill:S},g.getModel("itemStyle").getItemStyle())),l.hoverStyle=g.getModel("emphasis.itemStyle").getItemStyle();var A=g.getShallow("cursor");A&&l.attr("cursor",A),i(this,u.getItemLayout(v),m.isSelected(u.getName(v)),m.get("selectedOffset"),m.get("animation"));var x=!h&&_==="transition";this._updateLabel(u,v,x),this.highDownOnUpdate=m.get("silent")?null:function(b,T){var M=m.isAnimationEnabled()&&g.get("hoverAnimation");T==="emphasis"?(d.ignore=d.hoverIgnore,f.ignore=f.hoverIgnore,M&&(l.stopAnimation(!0),l.animateTo({shape:{r:p.r+m.get("hoverOffset")}},300,"elasticOut"))):(d.ignore=d.normalIgnore,f.ignore=f.normalIgnore,M&&(l.stopAnimation(!0),l.animateTo({shape:{r:p.r}},300,"elasticOut")))},t.setHoverStyle(this)},s._updateLabel=function(u,v,h){var l=this.childAt(1),d=this.childAt(2),f=u.hostModel,m=u.getItemModel(v),g=u.getItemLayout(v),p=g.label,b=u.getItemVisual(v,"color");if(!p||isNaN(p.x)||isNaN(p.y)){d.ignore=d.normalIgnore=d.hoverIgnore=l.ignore=l.normalIgnore=l.hoverIgnore=!0;return}var y={points:p.linePoints||[[p.x,p.y],[p.x,p.y],[p.x,p.y]]},_={x:p.x,y:p.y};h?(t.updateProps(l,{shape:y},f,v),t.updateProps(d,{style:_},f,v)):(l.attr({shape:y}),d.attr({style:_})),d.attr({rotation:p.rotation,origin:[p.x,p.y],z2:10});var w=m.getModel("label"),S=m.getModel("emphasis.label"),A=m.getModel("labelLine"),x=m.getModel("emphasis.labelLine"),b=u.getItemVisual(v,"color");t.setLabelStyle(d.style,d.hoverStyle={},w,S,{labelFetcher:u.hostModel,labelDataIndex:v,defaultText:p.text,autoColor:b,useInsideStyle:!!p.inside},{textAlign:p.textAlign,textVerticalAlign:p.verticalAlign,opacity:u.getItemVisual(v,"opacity")}),d.ignore=d.normalIgnore=!w.get("show"),d.hoverIgnore=!S.get("show"),l.ignore=l.normalIgnore=!A.get("show"),l.hoverIgnore=!x.get("show"),l.setStyle({stroke:b,opacity:u.getItemVisual(v,"opacity")}),l.setStyle(A.getModel("lineStyle").getLineStyle()),l.hoverStyle=x.getModel("lineStyle").getLineStyle();var T=A.get("smooth");T&&T===!0&&(T=.4),l.setShape({smooth:T})},e.inherits(n,t.Group);var c=r.extend({type:"pie",init:function(){var u=new t.Group;this._sectorGroup=u},render:function(u,v,h,l){if(!(l&&l.from===this.uid)){var d=u.getData(),f=this._data,m=this.group,g=v.get("animation"),p=!f,y=u.get("animationType"),_=u.get("animationTypeUpdate"),w=e.curry(a,this.uid,u,g,h),S=u.get("selectedMode");if(d.diff(f).add(function(M){var C=new n(d,M);p&&y!=="scale"&&C.eachChild(function(D){D.stopAnimation(!0)}),S&&C.on("click",w),d.setItemGraphicEl(M,C),m.add(C)}).update(function(M,C){var D=f.getItemGraphicEl(C);!p&&_!=="transition"&&D.eachChild(function(L){L.stopAnimation(!0)}),D.updateData(d,M),D.off("click"),S&&D.on("click",w),m.add(D),d.setItemGraphicEl(M,D)}).remove(function(M){var C=f.getItemGraphicEl(M);m.remove(C)}).execute(),g&&d.count()>0&&(p?y!=="scale":_!=="transition")){for(var A=d.getItemLayout(0),x=1;isNaN(A.startAngle)&&x<d.count();++x)A=d.getItemLayout(x);var b=Math.max(h.getWidth(),h.getHeight())/2,T=e.bind(m.removeClipPath,m);m.setClipPath(this._createClipPath(A.cx,A.cy,b,A.startAngle,A.clockwise,T,u,p))}else m.removeClipPath();this._data=d}},dispose:function(){},_createClipPath:function(u,v,h,l,d,f,m,g){var p=new t.Sector({shape:{cx:u,cy:v,r0:0,r:h,startAngle:l,endAngle:l,clockwise:d}}),y=g?t.initProps:t.updateProps;return y(p,{shape:{endAngle:l+(d?1:-1)*Math.PI*2}},m,f),p},containPoint:function(u,v){var h=v.getData(),l=h.getItemLayout(0);if(l){var d=u[0]-l.cx,f=u[1]-l.cy,m=Math.sqrt(d*d+f*f);return m<=l.r&&m>=l.r0}}}),o=c;return pu=o,pu}var mu,n0;function DM(){if(n0)return mu;n0=1;var e=_e,t=W;function r(a,i){t.each(i,function(n){n.update="updateView",e.registerAction(n,function(s,c){var o={};return c.eachComponent({mainType:"series",subType:a,query:s},function(u){u[n.method]&&u[n.method](s.name,s.dataIndex);var v=u.getData();v.each(function(h){var l=v.getName(h);o[l]=u.isSelected(l)||!1})}),{name:s.name,selected:o,seriesId:s.seriesId}})})}return mu=r,mu}var yu,o0;function Ss(){if(o0)return yu;o0=1;var e=W,t=e.createHashMap;function r(a){return{getTargetSeries:function(i){var n={},s=t();return i.eachSeriesByType(a,function(c){c.__paletteScope=n,s.set(c.uid,c)}),s},reset:function(i,n){var s=i.getRawData(),c={},o=i.getData();o.each(function(u){var v=o.getRawIndex(u);c[v]=u}),s.each(function(u){var v=c[u],h=v!=null&&o.getItemVisual(v,"color",!0),l=v!=null&&o.getItemVisual(v,"borderColor",!0),d;if((!h||!l)&&(d=s.getItemModel(u)),!h){var f=d.get("itemStyle.color")||i.getColorFromPalette(s.getName(u)||u+"",i.__paletteScope,s.count());v!=null&&o.setItemVisual(v,"color",f)}if(!l){var m=d.get("itemStyle.borderColor");v!=null&&o.setItemVisual(v,"borderColor",m)}})}}}return yu=r,yu}var _u,s0;function B5(){if(s0)return _u;s0=1;var e=Ue,t=Le,r=t.parsePercent,a=Math.PI/180;function i(o,u,v,h,l,d,f,m,g,p){o.sort(function(D,L){return D.y-L.y});function y(D,L,P,I){for(var E=D;E<L&&!(o[E].y+P>g+f);E++)if(o[E].y+=P,E>D&&E+1<L&&o[E+1].y>o[E].y+o[E].height){_(E,P/2);return}_(L-1,P/2)}function _(D,L){for(var P=D;P>=0&&!(o[P].y-L<g||(o[P].y-=L,P>0&&o[P].y>o[P-1].y+o[P-1].height));P--);}function w(D,L,P,I,E,O){for(var B=(O>0,L?Number.MAX_VALUE:0),q=0,V=D.length;q<V;q++)if(D[q].labelAlignTo==="none"){var R=Math.abs(D[q].y-I),z=D[q].len,k=D[q].len2,N=R<E+z?Math.sqrt((E+z+k)*(E+z+k)-R*R):Math.abs(D[q].x-P);L&&N>=B&&(N=B-10),!L&&N<=B&&(N=B+10),D[q].x=P+N*O,B=N}}for(var S=0,A,x=o.length,b=[],T=[],M=0;M<x;M++){if(o[M].position==="outer"&&o[M].labelAlignTo==="labelLine"){var C=o[M].x-p;o[M].linePoints[1][0]+=C,o[M].x=p}A=o[M].y-S,A<0&&y(M,x,-A),S=o[M].y+o[M].height}f-S<0&&_(x-1,S-f);for(var M=0;M<x;M++)o[M].y>=v?T.push(o[M]):b.push(o[M]);w(b,!1,u,v,h,l),w(T,!0,u,v,h,l)}function n(o,u,v,h,l,d,f,m){for(var g=[],p=[],y=Number.MAX_VALUE,_=-Number.MAX_VALUE,w=0;w<o.length;w++)s(o[w])||(o[w].x<u?(y=Math.min(y,o[w].x),g.push(o[w])):(_=Math.max(_,o[w].x),p.push(o[w])));i(p,u,v,h,1,l,d,f,m,_),i(g,u,v,h,-1,l,d,f,m,y);for(var w=0;w<o.length;w++){var S=o[w];if(!s(S)){var A=S.linePoints;if(A){var x=S.labelAlignTo==="edge",b=S.textRect.width,T;x?S.x<u?T=A[2][0]-S.labelDistance-f-S.labelMargin:T=f+l-S.labelMargin-A[2][0]-S.labelDistance:S.x<u?T=S.x-f-S.bleedMargin:T=f+l-S.x-S.bleedMargin,T<S.textRect.width&&(S.text=e.truncateText(S.text,T,S.font),S.labelAlignTo==="edge"&&(b=e.getWidth(S.text,S.font)));var M=A[1][0]-A[2][0];x?S.x<u?A[2][0]=f+S.labelMargin+b+S.labelDistance:A[2][0]=f+l-S.labelMargin-b-S.labelDistance:(S.x<u?A[2][0]=S.x+S.labelDistance:A[2][0]=S.x-S.labelDistance,A[1][0]=A[2][0]+M),A[1][1]=A[2][1]=S.y}}}}function s(o){return o.position==="center"}function c(o,u,v,h,l,d){var f=o.getData(),m=[],g,p,y=!1,_=(o.get("minShowLabelAngle")||0)*a;f.each(function(w){var S=f.getItemLayout(w),A=f.getItemModel(w),x=A.getModel("label"),b=x.get("position")||A.get("emphasis.label.position"),T=x.get("distanceToLabelLine"),M=x.get("alignTo"),C=r(x.get("margin"),v),D=x.get("bleedMargin"),L=x.getFont(),P=A.getModel("labelLine"),I=P.get("length");I=r(I,v);var E=P.get("length2");if(E=r(E,v),!(S.angle<_)){var O=(S.startAngle+S.endAngle)/2,B=Math.cos(O),q=Math.sin(O),V,R,z,k;g=S.cx,p=S.cy;var N=o.getFormattedLabel(w,"normal")||f.getName(w),G=e.getBoundingRect(N,L,k,"top"),H=b==="inside"||b==="inner";if(b==="center")V=S.cx,R=S.cy,k="center";else{var F=(H?(S.r+S.r0)/2*B:S.r*B)+g,$=(H?(S.r+S.r0)/2*q:S.r*q)+p;if(V=F+B*3,R=$+q*3,!H){var U=F+B*(I+u-S.r),X=$+q*(I+u-S.r),Q=U+(B<0?-1:1)*E,j=X;M==="edge"?V=B<0?l+C:l+v-C:V=Q+(B<0?-T:T),R=j,z=[[F,$],[U,X],[Q,j]]}k=H?"center":M==="edge"?B>0?"right":"left":B>0?"left":"right"}var ee,re=x.get("rotate");typeof re=="number"?ee=re*(Math.PI/180):ee=re?B<0?-O+Math.PI:-O:0,y=!!ee,S.label={x:V,y:R,position:b,height:G.height,len:I,len2:E,linePoints:z,textAlign:k,verticalAlign:"middle",rotation:ee,inside:H,labelDistance:T,labelAlignTo:M,labelMargin:C,bleedMargin:D,textRect:G,text:N,font:L},H||m.push(S.label)}}),!y&&o.get("avoidLabelOverlap")&&n(m,g,p,u,v,h,l,d)}return _u=c,_u}var xu,l0;function N5(){if(l0)return xu;l0=1;var e=Le,t=e.parsePercent,r=e.linearMap,a=Be,i=B5(),n=W,s=Math.PI*2,c=Math.PI/180;function o(v,h){return a.getLayoutRect(v.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})}function u(v,h,l,d){h.eachSeriesByType(v,function(f){var m=f.getData(),g=m.mapDimension("value"),p=o(f,l),y=f.get("center"),_=f.get("radius");n.isArray(_)||(_=[0,_]),n.isArray(y)||(y=[y,y]);var w=t(p.width,l.getWidth()),S=t(p.height,l.getHeight()),A=Math.min(w,S),x=t(y[0],w)+p.x,b=t(y[1],S)+p.y,T=t(_[0],A/2),M=t(_[1],A/2),C=-f.get("startAngle")*c,D=f.get("minAngle")*c,L=0;m.each(g,function(G){!isNaN(G)&&L++});var P=m.getSum(g),I=Math.PI/(P||L)*2,E=f.get("clockwise"),O=f.get("roseType"),B=f.get("stillShowZeroSum"),q=m.getDataExtent(g);q[0]=0;var V=s,R=0,z=C,k=E?1:-1;if(m.each(g,function(G,H){var F;if(isNaN(G)){m.setItemLayout(H,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:E,cx:x,cy:b,r0:T,r:O?NaN:M,viewRect:p});return}O!=="area"?F=P===0&&B?I:G*I:F=s/L,F<D?(F=D,V-=D):R+=G;var $=z+k*F;m.setItemLayout(H,{angle:F,startAngle:z,endAngle:$,clockwise:E,cx:x,cy:b,r0:T,r:O?r(G,q,[T,M]):M,viewRect:p}),z=$}),V<s&&L)if(V<=.001){var N=s/L;m.each(g,function(G,H){if(!isNaN(G)){var F=m.getItemLayout(H);F.angle=N,F.startAngle=C+k*H*N,F.endAngle=C+k*(H+1)*N}})}else I=V/R,z=C,m.each(g,function(G,H){if(!isNaN(G)){var F=m.getItemLayout(H),$=F.angle===D?D:G*I;F.startAngle=z,F.endAngle=z+k*$,z+=k*$}});i(f,M,p.width,p.height,p.x,p.y)})}return xu=u,xu}var Su,u0;function En(){if(u0)return Su;u0=1;function e(t){return{seriesType:t,reset:function(r,a){var i=a.findComponents({mainType:"legend"});if(!(!i||!i.length)){var n=r.getData();n.filterSelf(function(s){for(var c=n.getName(s),o=0;o<i.length;o++)if(!i[o].isSelected(c))return!1;return!0})}}}}return Su=e,Su}var v0;function V5(){if(v0)return Jy;v0=1;var e=_e,t=W;O5(),z5();var r=DM(),a=Ss(),i=N5(),n=En();return r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(a("pie")),e.registerLayout(t.curry(i,"pie")),e.registerProcessor(n("pie")),Jy}var h0={},bu,c0;function H5(){if(c0)return bu;c0=1;var e=Or(),t=ct,r=t.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return a??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return a??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});return bu=r,bu}var f0={},wu,d0;function q5(){if(d0)return wu;d0=1;var e=fe,t=Zt(),r=t.createSymbol,a=Bd,i=4,n=e.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(u,v){var h=v.points,l=v.size,d=this.symbolProxy,f=d.shape,m=u.getContext?u.getContext():u,g=m&&l[0]<i;if(!g)for(var p=0;p<h.length;){var y=h[p++],_=h[p++];isNaN(y)||isNaN(_)||this.softClipShape&&!this.softClipShape.contain(y,_)||(f.x=y-l[0]/2,f.y=_-l[1]/2,f.width=l[0],f.height=l[1],d.buildPath(u,f,!0))}},afterBrush:function(u){var v=this.shape,h=v.points,l=v.size,d=l[0]<i;if(d){this.setTransform(u);for(var f=0;f<h.length;){var m=h[f++],g=h[f++];isNaN(m)||isNaN(g)||this.softClipShape&&!this.softClipShape.contain(m,g)||u.fillRect(m-l[0]/2,g-l[1]/2,l[0],l[1])}this.restoreTransform(u)}},findDataIndex:function(u,v){for(var h=this.shape,l=h.points,d=h.size,f=Math.max(d[0],4),m=Math.max(d[1],4),g=l.length/2-1;g>=0;g--){var p=g*2,y=l[p]-f/2,_=l[p+1]-m/2;if(u>=y&&v>=_&&u<=y+f&&v<=_+m)return g}return-1}});function s(){this.group=new e.Group}var c=s.prototype;c.isPersistent=function(){return!this._incremental},c.updateData=function(u,v){this.group.removeAll();var h=new n({rectHover:!0,cursor:"default"});h.setShape({points:u.getLayout("symbolPoints")}),this._setCommon(h,u,!1,v),this.group.add(h),this._incremental=null},c.updateLayout=function(u){if(!this._incremental){var v=u.getLayout("symbolPoints");this.group.eachChild(function(h){if(h.startIndex!=null){var l=(h.endIndex-h.startIndex)*2,d=h.startIndex*4*2;v=new Float32Array(v.buffer,d,l)}h.setShape("points",v)})}},c.incrementalPrepareUpdate=function(u){this.group.removeAll(),this._clearIncremental(),u.count()>2e6?(this._incremental||(this._incremental=new a({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.incrementalUpdate=function(u,v,h){var l;this._incremental?(l=new n,this._incremental.addDisplayable(l,!0)):(l=new n({rectHover:!0,cursor:"default",startIndex:u.start,endIndex:u.end}),l.incremental=!0,this.group.add(l)),l.setShape({points:v.getLayout("symbolPoints")}),this._setCommon(l,v,!!this._incremental,h)},c._setCommon=function(u,v,h,l){var d=v.hostModel;l=l||{};var f=v.getVisual("symbolSize");u.setShape("size",f instanceof Array?f:[f,f]),u.softClipShape=l.clipShape||null,u.symbolProxy=r(v.getVisual("symbol"),0,0,0,0),u.setColor=u.symbolProxy.setColor;var m=u.shape.size[0]<i;u.useStyle(d.getModel("itemStyle").getItemStyle(m?["color","shadowBlur","shadowColor"]:["color"]));var g=v.getVisual("color");g&&u.setColor(g),h||(u.seriesIndex=d.seriesIndex,u.on("mousemove",function(p){u.dataIndex=null;var y=u.findDataIndex(p.offsetX,p.offsetY);y>=0&&(u.dataIndex=y+(u.startIndex||0))}))},c.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c._clearIncremental=function(){var u=this._incremental;u&&u.clearDisplaybles()};var o=s;return wu=o,wu}var g0;function G5(){if(g0)return f0;g0=1;var e=_e,t=Dn(),r=q5(),a=Pn();return e.extendChartView({type:"scatter",render:function(i,n,s){var c=i.getData(),o=this._updateSymbolDraw(c,i);o.updateData(c,{clipShape:this._getClipShape(i)}),this._finished=!0},incrementalPrepareRender:function(i,n,s){var c=i.getData(),o=this._updateSymbolDraw(c,i);o.incrementalPrepareUpdate(c),this._finished=!1},incrementalRender:function(i,n,s){this._symbolDraw.incrementalUpdate(i,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=i.end===n.getData().count()},updateTransform:function(i,n,s){var c=i.getData();if(this.group.dirty(),!this._finished||c.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=a().reset(i);o.progress&&o.progress({start:0,end:c.count()},c),this._symbolDraw.updateLayout(c)},_getClipShape:function(i){var n=i.coordinateSystem,s=n&&n.getArea&&n.getArea();return i.get("clip",!0)?s:null},_updateSymbolDraw:function(i,n){var s=this._symbolDraw,c=n.pipelineContext,o=c.large;return(!s||o!==this._isLargeDraw)&&(s&&s.remove(),s=this._symbolDraw=o?new r:new t,this._isLargeDraw=o,this.group.removeAll()),this.group.add(s.group),s},remove:function(i,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),f0}var p0;function F5(){if(p0)return h0;p0=1;var e=_e;H5(),G5();var t=Aa(),r=Pn();return In(),e.registerVisual(t("scatter","circle")),e.registerLayout(r("scatter")),h0}var m0={},y0={},Au,_0;function $5(){if(_0)return Au;_0=1;var e=W,t=ta();function r(i,n,s){t.call(this,i,n,s),this.type="value",this.angle=0,this.name="",this.model}e.inherits(r,t);var a=r;return Au=a,Au}var Tu,x0;function U5(){if(x0)return Tu;x0=1;var e=W,t=$5(),r=ps(),a=Le,i=nr(),n=i.getScaleExtent,s=i.niceScaleExtent,c=xr,o=gM();function u(h,l,d){this._model=h,this.dimensions=[],this._indicatorAxes=e.map(h.getIndicatorModels(),function(f,m){var g="indicator_"+m,p=new t(g,f.get("axisType")==="log"?new o:new r);return p.name=f.get("name"),p.model=f,f.axis=p,this.dimensions.push(g),p},this),this.resize(h,d),this.cx,this.cy,this.r,this.r0,this.startAngle}u.prototype.getIndicatorAxes=function(){return this._indicatorAxes},u.prototype.dataToPoint=function(h,l){var d=this._indicatorAxes[l];return this.coordToPoint(d.dataToCoord(h),l)},u.prototype.coordToPoint=function(h,l){var d=this._indicatorAxes[l],f=d.angle,m=this.cx+h*Math.cos(f),g=this.cy-h*Math.sin(f);return[m,g]},u.prototype.pointToData=function(h){var l=h[0]-this.cx,d=h[1]-this.cy,f=Math.sqrt(l*l+d*d);l/=f,d/=f;for(var m=Math.atan2(-d,l),g=1/0,p,y=-1,_=0;_<this._indicatorAxes.length;_++){var w=this._indicatorAxes[_],S=Math.abs(m-w.angle);S<g&&(p=w,y=_,g=S)}return[y,+(p&&p.coordToData(f))]},u.prototype.resize=function(h,l){var d=h.get("center"),f=l.getWidth(),m=l.getHeight(),g=Math.min(f,m)/2;this.cx=a.parsePercent(d[0],f),this.cy=a.parsePercent(d[1],m),this.startAngle=h.get("startAngle")*Math.PI/180;var p=h.get("radius");(typeof p=="string"||typeof p=="number")&&(p=[0,p]),this.r0=a.parsePercent(p[0],g),this.r=a.parsePercent(p[1],g),e.each(this._indicatorAxes,function(y,_){y.setExtent(this.r0,this.r);var w=this.startAngle+_*Math.PI*2/this._indicatorAxes.length;w=Math.atan2(Math.sin(w),Math.cos(w)),y.angle=w},this)},u.prototype.update=function(h,l){var d=this._indicatorAxes,f=this._model;e.each(d,function(p){p.scale.setExtent(1/0,-1/0)}),h.eachSeriesByType("radar",function(p,y){if(!(p.get("coordinateSystem")!=="radar"||h.getComponent("radar",p.get("radarIndex"))!==f)){var _=p.getData();e.each(d,function(w){w.scale.unionExtentFromData(_,_.mapDimension(w.dim))})}},this);var m=f.get("splitNumber");function g(p){var y=Math.pow(10,Math.floor(Math.log(p)/Math.LN10)),_=p/y;return _===2?_=5:_*=2,_*y}e.each(d,function(p,y){var _=n(p.scale,p.model).extent;s(p.scale,p.model);var w=p.model,S=p.scale,A=w.getMin(),x=w.getMax(),b=S.getInterval();if(A!=null&&x!=null)S.setExtent(+A,+x),S.setInterval((x-A)/m);else if(A!=null){var T;do T=A+b*m,S.setExtent(+A,T),S.setInterval(b),b=g(b);while(T<_[1]&&isFinite(T)&&isFinite(_[1]))}else if(x!=null){var M;do M=x-b*m,S.setExtent(M,+x),S.setInterval(b),b=g(b);while(M>_[0]&&isFinite(M)&&isFinite(_[0]))}else{var C=S.getTicks().length-1;C>m&&(b=g(b));var T=Math.ceil(_[1]/b)*b,M=a.round(T-b*m);S.setExtent(M,T),S.setInterval(b)}})},u.dimensions=[],u.create=function(h,l){var d=[];return h.eachComponent("radar",function(f){var m=new u(f,h,l);d.push(m),f.coordinateSystem=m}),h.eachSeriesByType("radar",function(f){f.get("coordinateSystem")==="radar"&&(f.coordinateSystem=d[f.get("radarIndex")||0])}),d},c.register("radar",u);var v=u;return Tu=v,Tu}var Cu,S0;function W5(){if(S0)return Cu;S0=1;var e=_e,t=W,r=bM(),a=ot,i=yi(),n=r.valueAxis;function s(u,v){return t.defaults({show:v},u)}var c=e.extendComponentModel({type:"radar",optionUpdated:function(){var u=this.get("boundaryGap"),v=this.get("splitNumber"),h=this.get("scale"),l=this.get("axisLine"),d=this.get("axisTick"),f=this.get("axisType"),m=this.get("axisLabel"),g=this.get("name"),p=this.get("name.show"),y=this.get("name.formatter"),_=this.get("nameGap"),w=this.get("triggerEvent"),S=t.map(this.get("indicator")||[],function(A){A.max!=null&&A.max>0&&!A.min?A.min=0:A.min!=null&&A.min<0&&!A.max&&(A.max=0);var x=g;if(A.color!=null&&(x=t.defaults({color:A.color},g)),A=t.merge(t.clone(A),{boundaryGap:u,splitNumber:v,scale:h,axisLine:l,axisTick:d,axisType:f,axisLabel:m,name:A.text,nameLocation:"end",nameGap:_,nameTextStyle:x,triggerEvent:w},!1),p||(A.name=""),typeof y=="string"){var b=A.name;A.name=y.replace("{value}",b??"")}else typeof y=="function"&&(A.name=y(A.name,A));var T=t.extend(new a(A,null,this.ecModel),i);return T.mainType="radar",T.componentIndex=this.componentIndex,T},this);this.getIndicatorModels=function(){return S}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:t.merge({lineStyle:{color:"#bbb"}},n.axisLine),axisLabel:s(n.axisLabel,!1),axisTick:s(n.axisTick,!1),axisType:"interval",splitLine:s(n.splitLine,!0),splitArea:s(n.splitArea,!0),indicator:[]}}),o=c;return Cu=o,Cu}var Mu,b0;function Z5(){if(b0)return Mu;b0=1;var e=_e,t=W,r=ra(),a=fe,i=["axisLine","axisTickLabel","axisName"],n=e.extendComponentView({type:"radar",render:function(s,c,o){var u=this.group;u.removeAll(),this._buildAxes(s),this._buildSplitLineAndArea(s)},_buildAxes:function(s){var c=s.coordinateSystem,o=c.getIndicatorAxes(),u=t.map(o,function(v){var h=new r(v.model,{position:[c.cx,c.cy],rotation:v.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return h});t.each(u,function(v){t.each(i,v.add,v),this.group.add(v.getGroup())},this)},_buildSplitLineAndArea:function(s){var c=s.coordinateSystem,o=c.getIndicatorAxes();if(!o.length)return;var u=s.get("shape"),v=s.getModel("splitLine"),h=s.getModel("splitArea"),l=v.getModel("lineStyle"),d=h.getModel("areaStyle"),f=v.get("show"),m=h.get("show"),g=l.get("color"),p=d.get("color");g=t.isArray(g)?g:[g],p=t.isArray(p)?p:[p];var y=[],_=[];function w(O,B,q){var V=q%B.length;return O[V]=O[V]||[],V}if(u==="circle")for(var S=o[0].getTicksCoords(),A=c.cx,x=c.cy,b=0;b<S.length;b++){if(f){var T=w(y,g,b);y[T].push(new a.Circle({shape:{cx:A,cy:x,r:S[b].coord}}))}if(m&&b<S.length-1){var T=w(_,p,b);_[T].push(new a.Ring({shape:{cx:A,cy:x,r0:S[b].coord,r:S[b+1].coord}}))}}else for(var M,C=t.map(o,function(O,B){var q=O.getTicksCoords();return M=M==null?q.length-1:Math.min(q.length-1,M),t.map(q,function(V){return c.coordToPoint(V.coord,B)})}),D=[],b=0;b<=M;b++){for(var L=[],P=0;P<o.length;P++)L.push(C[P][b]);if(L[0]&&L.push(L[0].slice()),f){var T=w(y,g,b);y[T].push(new a.Polyline({shape:{points:L}}))}if(m&&D){var T=w(_,p,b-1);_[T].push(new a.Polygon({shape:{points:L.concat(D)}}))}D=L.slice().reverse()}var I=l.getLineStyle(),E=d.getAreaStyle();t.each(_,function(O,B){this.group.add(a.mergePath(O,{style:t.defaults({stroke:"none",fill:p[B%p.length]},E),silent:!0}))},this),t.each(y,function(O,B){this.group.add(a.mergePath(O,{style:t.defaults({fill:"none",stroke:g[B%g.length]},I),silent:!0}))},this)}});return Mu=n,Mu}var w0;function Y5(){return w0||(w0=1,U5(),W5(),Z5()),y0}var Du,A0;function X5(){if(A0)return Du;A0=1;var e=ct,t=_i(),r=W,a=Ne,i=a.encodeHTML,n=Rn(),s=e.extend({type:"series.radar",dependencies:["radar"],init:function(o){s.superApply(this,"init",arguments),this.legendVisualProvider=new n(r.bind(this.getData,this),r.bind(this.getRawData,this))},getInitialData:function(o,u){return t(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(o){var u=this.getData(),v=this.coordinateSystem,h=v.getIndicatorAxes(),l=this.getData().getName(o);return i(l===""?this.name:l)+"<br/>"+r.map(h,function(d,f){var m=u.get(u.mapDimension(d.dim),o);return i(d.name+" : "+m)}).join("<br />")},getTooltipPosition:function(o){if(o!=null){for(var u=this.getData(),v=this.coordinateSystem,h=u.getValues(r.map(v.dimensions,function(m){return u.mapDimension(m)}),o,!0),l=0,d=h.length;l<d;l++)if(!isNaN(h[l])){var f=v.getIndicatorAxes();return v.coordToPoint(f[l].dataToCoord(h[l]),l)}}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),c=s;return Du=c,Du}var Lu,T0;function K5(){if(T0)return Lu;T0=1;var e=_e,t=fe,r=W,a=Zt();function i(s){return r.isArray(s)||(s=[+s,+s]),s}var n=e.extendChartView({type:"radar",render:function(s,c,o){var u=s.coordinateSystem,v=this.group,h=s.getData(),l=this._data;function d(g,p){var y=g.getItemVisual(p,"symbol")||"circle",_=g.getItemVisual(p,"color");if(y!=="none"){var w=i(g.getItemVisual(p,"symbolSize")),S=a.createSymbol(y,-1,-1,2,2,_);return S.attr({style:{strokeNoScale:!0},z2:100,scale:[w[0]/2,w[1]/2]}),S}}function f(g,p,y,_,w,S){y.removeAll();for(var A=0;A<p.length-1;A++){var x=d(_,w);x&&(x.__dimIdx=A,g[A]?(x.attr("position",g[A]),t[S?"initProps":"updateProps"](x,{position:p[A]},s,w)):x.attr("position",p[A]),y.add(x))}}function m(g){return r.map(g,function(p){return[u.cx,u.cy]})}h.diff(l).add(function(g){var p=h.getItemLayout(g);if(p){var y=new t.Polygon,_=new t.Polyline,w={shape:{points:p}};y.shape.points=m(p),_.shape.points=m(p),t.initProps(y,w,s,g),t.initProps(_,w,s,g);var S=new t.Group,A=new t.Group;S.add(_),S.add(y),S.add(A),f(_.shape.points,p,A,h,g,!0),h.setItemGraphicEl(g,S)}}).update(function(g,p){var y=l.getItemGraphicEl(p),_=y.childAt(0),w=y.childAt(1),S=y.childAt(2),A={shape:{points:h.getItemLayout(g)}};A.shape.points&&(f(_.shape.points,A.shape.points,S,h,g,!1),t.updateProps(_,A,s),t.updateProps(w,A,s),h.setItemGraphicEl(g,y))}).remove(function(g){v.remove(l.getItemGraphicEl(g))}).execute(),h.eachItemGraphicEl(function(g,p){var y=h.getItemModel(p),_=g.childAt(0),w=g.childAt(1),S=g.childAt(2),A=h.getItemVisual(p,"color");v.add(g),_.useStyle(r.defaults(y.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:A})),_.hoverStyle=y.getModel("emphasis.lineStyle").getLineStyle();var x=y.getModel("areaStyle"),b=y.getModel("emphasis.areaStyle"),T=x.isEmpty()&&x.parentModel.isEmpty(),M=b.isEmpty()&&b.parentModel.isEmpty();M=M&&T,w.ignore=T,w.useStyle(r.defaults(x.getAreaStyle(),{fill:A,opacity:.7})),w.hoverStyle=b.getAreaStyle();var C=y.getModel("itemStyle").getItemStyle(["color"]),D=y.getModel("emphasis.itemStyle").getItemStyle(),L=y.getModel("label"),P=y.getModel("emphasis.label");S.eachChild(function(I){I.setStyle(C),I.hoverStyle=r.clone(D);var E=h.get(h.dimensions[I.__dimIdx],p);(E==null||isNaN(E))&&(E=""),t.setLabelStyle(I.style,I.hoverStyle,L,P,{labelFetcher:h.hostModel,labelDataIndex:p,labelDimIndex:I.__dimIdx,defaultText:E,autoColor:A,isRectText:!0})}),g.highDownOnUpdate=function(I,E){w.attr("ignore",E==="emphasis"?M:T)},t.setHoverStyle(g)}),this._data=h},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});return Lu=n,Lu}var Pu,C0;function Q5(){if(C0)return Pu;C0=1;var e=W;function t(i){i.eachSeriesByType("radar",function(n){var s=n.getData(),c=[],o=n.coordinateSystem;if(o){var u=o.getIndicatorAxes();e.each(u,function(v,h){s.each(s.mapDimension(u[h].dim),function(l,d){c[d]=c[d]||[];var f=o.dataToPoint(l,h);c[d][h]=r(f)?f:a(o)})}),s.each(function(v){var h=e.find(c[v],function(l){return r(l)})||a(o);c[v].push(h.slice()),s.setItemLayout(v,c[v])})}})}function r(i){return!isNaN(i[0])&&!isNaN(i[1])}function a(i){return[i.cx,i.cy]}return Pu=t,Pu}var Iu,M0;function j5(){if(M0)return Iu;M0=1;var e=W;function t(r){var a=r.polar;if(a){e.isArray(a)||(a=[a]);var i=[];e.each(a,function(n,s){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],e.isArray(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):i.push(n)}),r.polar=i}e.each(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}return Iu=t,Iu}var D0;function J5(){if(D0)return m0;D0=1;var e=_e;Y5(),X5(),K5();var t=Ss(),r=Aa(),a=Q5(),i=En(),n=j5();return e.registerVisual(t("radar")),e.registerVisual(r("radar","circle")),e.registerLayout(a),e.registerProcessor(i("radar")),e.registerPreprocessor(n),m0}var L0={},Ru,P0;function eq(){if(P0)return Ru;P0=1;for(var e=W,t=mM(),r=[126,25],a=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<a.length;i++)for(var n=0;n<a[i].length;n++)a[i][n][0]/=10.5,a[i][n][1]/=-10.5/.75,a[i][n][0]+=r[0],a[i][n][1]+=r[1];function s(c,o){c==="china"&&o.push(new t("南海诸岛",e.map(a,function(u){return{type:"polygon",exterior:u}}),r))}return Ru=s,Ru}var Eu,I0;function tq(){if(I0)return Eu;I0=1;var e={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function t(r,a){if(r==="china"){var i=e[a.name];if(i){var n=a.center;n[0]+=i[0]/10.5,n[1]+=-i[1]/(10.5/.75)}}}return Eu=t,Eu}var ku,R0;function rq(){if(R0)return ku;R0=1;var e={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function t(r,a){if(r==="world"){var i=e[a.name];if(i){var n=a.center;n[0]=i[0],n[1]=i[1]}}}return ku=t,ku}var Ou,E0;function aq(){if(E0)return Ou;E0=1;var e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function t(r,a){r==="china"&&a.name==="台湾"&&a.geometries.push({type:"polygon",exterior:e[0]})}return Ou=t,Ou}var zu,k0;function iq(){if(k0)return zu;k0=1;var e=W,t=e.each,r=yM(),a=Ie,i=a.makeInner,n=eq(),s=tq(),c=rq(),o=aq(),u=i(),v={load:function(l,d,f){var m=u(d).parsed;if(m)return m;var g=d.specialAreas||{},p=d.geoJSON,y;try{y=p?r(p,f):[]}catch(_){throw new Error(`Invalid geoJson format
`+_.message)}return n(l,y),t(y,function(_){var w=_.name;s(l,_),c(l,_),o(l,_);var S=g[w];S&&_.transformTo(S.left,S.top,S.width,S.height)}),u(d).parsed={regions:y,boundingRect:h(y)}}};function h(l){for(var d,f=0;f<l.length;f++){var m=l[f].getBoundingRect();d=d||m.clone(),d.union(m)}return d}return zu=v,zu}var Bu,O0;function nq(){if(O0)return Bu;O0=1;var e=An,t=e.parseSVG,r=e.makeViewBoxTransform,a=_a,i=Od,n=W,s=n.assert,c=n.createHashMap,o=Xe,u=Ie,v=u.makeInner,h=v(),l={load:function(f,m){var g=h(m).originRoot;if(g)return{root:g,boundingRect:h(m).boundingRect};var p=d(m);return h(m).originRoot=p.root,h(m).boundingRect=p.boundingRect,p},makeGraphic:function(f,m,g){var p=h(m),y=p.rootMap||(p.rootMap=c()),_=y.get(g);if(_)return _;var w=p.originRoot,S=p.boundingRect;return p.originRootHostKey?_=d(m,S).root:(p.originRootHostKey=g,_=w),y.set(g,_)},removeGraphic:function(f,m,g){var p=h(m),y=p.rootMap;y&&y.removeKey(g),g===p.originRootHostKey&&(p.originRootHostKey=null)}};function d(f,m){var g=f.svgXML,p,y;try{p=g&&t(g,{ignoreViewBox:!0,ignoreRootClip:!0})||{},y=p.root,s(y!=null)}catch(b){throw new Error(`Invalid svg format
`+b.message)}var _=p.width,w=p.height,S=p.viewBoxRect;if(m||(m=_==null||w==null?y.getBoundingRect():new o(0,0,0,0),_!=null&&(m.width=_),w!=null&&(m.height=w)),S){var A=r(S,m.width,m.height),x=y;y=new a,y.add(x),x.scale=A.scale,x.position=A.position}return y.setClipPath(new i({shape:m.plain()})),{root:y,boundingRect:m}}return Bu=l,Bu}var Nu,z0;function bs(){if(z0)return Nu;z0=1;var e=W,t=e.each,r=e.createHashMap,a=og,i=iq(),n=nq(),s=Xe,c={geoJSON:i,svg:n},o={load:function(h,l,d){var f=[],m=r(),g=r(),p,y=v(h);return t(y,function(_){var w=c[_.type].load(h,_,d);t(w.regions,function(A){var x=A.name;l&&l.hasOwnProperty(x)&&(A=A.cloneShallow(x=l[x])),f.push(A),m.set(x,A),g.set(x,A.center)});var S=w.boundingRect;S&&(p?p.union(S):p=S.clone())}),{regions:f,regionsMap:m,nameCoordMap:g,boundingRect:p||new s(0,0,0,0)}},makeGraphic:u("makeGraphic"),removeGraphic:u("removeGraphic")};function u(h){return function(l,d){var f=v(l),m=[];return t(f,function(g){var p=c[g.type][h];p&&m.push(p(l,g,d))}),m}}function v(h){var l=a.retrieveMap(h)||[];return l}return Nu=o,Nu}var Vu,B0;function oq(){if(B0)return Vu;B0=1;var e=W,t=_i(),r=ct,a=Ne,i=a.encodeHTML,n=a.addCommas,s=ug(),c=ar,o=c.retrieveRawAttr,u=bs(),v=xt,h=v.makeSeriesEncodeForNameBased,l=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(f){for(var m=t(this,{coordDimensions:["value"],encodeDefaulter:e.curry(h,this)}),g=m.mapDimension("value"),p=e.createHashMap(),y=[],_=[],w=0,S=m.count();w<S;w++){var A=m.getName(w);p.set(A,!0),y.push({name:A,value:m.get(g,w),selected:o(m,w,"selected")})}var x=u.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return e.each(x.regions,function(b){var T=b.name;p.get(T)||(y.push({name:T}),_.push(T))}),this.updateSelectedMap(y),m.appendValues([],_),m},getHostGeoModel:function(){var f=this.option.geoIndex;return f!=null?this.dependentModels.geo[f]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(f){var m=this.getData();return m.get(m.mapDimension("value"),f)},getRegionModel:function(f){var m=this.getData();return m.getItemModel(m.indexOfName(f))},formatTooltip:function(f){for(var m=this.getData(),g=n(this.getRawValue(f)),p=m.getName(f),y=this.seriesGroup,_=[],w=0;w<y.length;w++){var S=y[w].originalData.indexOfName(p),A=m.mapDimension("value");isNaN(y[w].originalData.get(A,S))||_.push(i(y[w].name))}return _.join(", ")+"<br />"+i(p+" : "+g)},getTooltipPosition:function(f){if(f!=null){var m=this.getData().getName(f),g=this.coordinateSystem,p=g.getRegion(m);return p&&g.dataToPoint(p.center)}},setZoom:function(f){this.option.zoom=f},setCenter:function(f){this.option.center=f},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});e.mixin(l,s);var d=l;return Vu=d,Vu}var Vi={},N0;function LM(){if(N0)return Vi;N0=1;var e=_e,t="\0_ec_interaction_mutex";function r(s,c,o){var u=n(s);u[c]=o}function a(s,c,o){var u=n(s),v=u[c];v===o&&(u[c]=null)}function i(s,c){return!!n(s)[c]}function n(s){return s[t]||(s[t]={})}return e.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),Vi.take=r,Vi.release=a,Vi.isTaken=i,Vi}var Hu,V0;function kn(){if(V0)return Hu;V0=1;var e=W,t=ya,r=vt,a=LM();function i(f){this.pointerChecker,this._zr=f,this._opt={};var m=e.bind,g=m(n,this),p=m(s,this),y=m(c,this),_=m(o,this),w=m(u,this);t.call(this),this.setPointerChecker=function(S){this.pointerChecker=S},this.enable=function(S,A){this.disable(),this._opt=e.defaults(e.clone(A)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),S==null&&(S=!0),(S===!0||S==="move"||S==="pan")&&(f.on("mousedown",g),f.on("mousemove",p),f.on("mouseup",y)),(S===!0||S==="scale"||S==="zoom")&&(f.on("mousewheel",_),f.on("pinch",w))},this.disable=function(){f.off("mousedown",g),f.off("mousemove",p),f.off("mouseup",y),f.off("mousewheel",_),f.off("pinch",w)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}e.mixin(i,t);function n(f){if(!(r.isMiddleOrRightButtonOnMouseUpDown(f)||f.target&&f.target.draggable)){var m=f.offsetX,g=f.offsetY;this.pointerChecker&&this.pointerChecker(f,m,g)&&(this._x=m,this._y=g,this._dragging=!0)}}function s(f){if(!(!this._dragging||!l("moveOnMouseMove",f,this._opt)||f.gestureEvent==="pinch"||a.isTaken(this._zr,"globalPan"))){var m=f.offsetX,g=f.offsetY,p=this._x,y=this._y,_=m-p,w=g-y;this._x=m,this._y=g,this._opt.preventDefaultMouseMove&&r.stop(f.event),h(this,"pan","moveOnMouseMove",f,{dx:_,dy:w,oldX:p,oldY:y,newX:m,newY:g})}}function c(f){r.isMiddleOrRightButtonOnMouseUpDown(f)||(this._dragging=!1)}function o(f){var m=l("zoomOnMouseWheel",f,this._opt),g=l("moveOnMouseWheel",f,this._opt),p=f.wheelDelta,y=Math.abs(p),_=f.offsetX,w=f.offsetY;if(!(p===0||!m&&!g)){if(m){var S=y>3?1.4:y>1?1.2:1.1,A=p>0?S:1/S;v(this,"zoom","zoomOnMouseWheel",f,{scale:A,originX:_,originY:w})}if(g){var x=Math.abs(p),b=(p>0?1:-1)*(x>3?.4:x>1?.15:.05);v(this,"scrollMove","moveOnMouseWheel",f,{scrollDelta:b,originX:_,originY:w})}}}function u(f){if(!a.isTaken(this._zr,"globalPan")){var m=f.pinchScale>1?1.1:1/1.1;v(this,"zoom",null,f,{scale:m,originX:f.pinchX,originY:f.pinchY})}}function v(f,m,g,p,y){f.pointerChecker&&f.pointerChecker(p,y.originX,y.originY)&&(r.stop(p.event),h(f,m,g,p,y))}function h(f,m,g,p,y){y.isAvailableBehavior=e.bind(l,null,g,p),f.trigger(m,y)}function l(f,m,g){var p=g[f];return!f||p&&(!e.isString(p)||m.event[p+"Key"])}var d=i;return Hu=d,Hu}var vo={},H0;function vg(){if(H0)return vo;H0=1;function e(r,a,i){var n=r.target,s=n.position;s[0]+=a,s[1]+=i,n.dirty()}function t(r,a,i,n){var s=r.target,c=r.zoomLimit,o=s.position,u=s.scale,v=r.zoom=r.zoom||1;if(v*=a,c){var h=c.min||0,l=c.max||1/0;v=Math.max(Math.min(l,v),h)}var d=v/r.zoom;r.zoom=v,o[0]-=(i-o[0])*(d-1),o[1]-=(n-o[1])*(d-1),u[0]*=d,u[1]*=d,s.dirty()}return vo.updateViewOnPan=e,vo.updateViewOnZoom=t,vo}var qu={},q0;function ws(){if(q0)return qu;q0=1;var e={axisPointer:1,tooltip:1,brush:1};function t(r,a,i){var n=a.getComponentByElement(r.topTarget),s=n&&n.coordinateSystem;return n&&n!==i&&!e[n.mainType]&&s&&s.model!==i}return qu.onIrrelevantElement=t,qu}var Gu,G0;function PM(){if(G0)return Gu;G0=1;var e=W,t=kn(),r=vg(),a=ws(),i=a.onIrrelevantElement,n=fe,s=bs(),c=jr,o=c.getUID,u=Jo;function v(m){var g=m.getItemStyle(),p=m.get("areaColor");return p!=null&&(g.fill=p),g}function h(m,g,p,y,_){p.off("click"),p.off("mousedown"),g.get("selectedMode")&&(p.on("mousedown",function(){m._mouseDownFlag=!0}),p.on("click",function(w){if(m._mouseDownFlag){m._mouseDownFlag=!1;for(var S=w.target;!S.__regions;)S=S.parent;if(S){var A={type:(g.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:e.map(S.__regions,function(x){return{name:x.name,from:_.uid}})};A[g.mainType+"Id"]=g.id,y.dispatchAction(A),l(g,p)}}}))}function l(m,g){g.eachChild(function(p){e.each(p.__regions,function(y){p.trigger(m.isSelected(y.name)?"emphasis":"normal")})})}function d(m,g){var p=new n.Group;this.uid=o("ec_map_draw"),this._controller=new t(m.getZr()),this._controllerHost={target:g?p:null},this.group=p,this._updateGroup=g,this._mouseDownFlag,this._mapName,this._initialized,p.add(this._regionsGroup=new n.Group),p.add(this._backgroundGroup=new n.Group)}d.prototype={constructor:d,draw:function(m,g,p,y,_){var w=m.mainType==="geo",S=m.getData&&m.getData();w&&g.eachComponent({mainType:"series",subType:"map"},function(R){!S&&R.getHostGeoModel()===m&&(S=R.getData())});var A=m.coordinateSystem;this._updateBackground(A);var x=this._regionsGroup,b=this.group,T=A.getTransformInfo(),M=!x.childAt(0)||_,C;if(M)b.transform=T.roamTransform,b.decomposeTransform(),b.dirty();else{var D=new u;D.transform=T.roamTransform,D.decomposeTransform();var L={scale:D.scale,position:D.position};C=D.scale,n.updateProps(b,L,m)}var P=T.rawScale,I=T.rawPosition;x.removeAll();var E=["itemStyle"],O=["emphasis","itemStyle"],B=["label"],q=["emphasis","label"],V=e.createHashMap();e.each(A.regions,function(R){var z=V.get(R.name)||V.set(R.name,new n.Group),k=new n.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});z.add(k);var N=m.getRegionModel(R.name)||m,G=N.getModel(E),H=N.getModel(O),F=v(G),$=v(H),U=N.getModel(B),X=N.getModel(q),Q;if(S){Q=S.indexOfName(R.name);var j=S.getItemVisual(Q,"color",!0);j&&(F.fill=j)}var ee=function(ge){return[ge[0]*P[0]+I[0],ge[1]*P[1]+I[1]]};e.each(R.geometries,function(ge){if(ge.type==="polygon"){for(var Z=[],K=0;K<ge.exterior.length;++K)Z.push(ee(ge.exterior[K]));k.shape.paths.push(new n.Polygon({segmentIgnoreThreshold:1,shape:{points:Z}}));for(var K=0;K<(ge.interiors?ge.interiors.length:0);++K){for(var J=ge.interiors[K],Z=[],se=0;se<J.length;++se)Z.push(ee(J[se]));k.shape.paths.push(new n.Polygon({segmentIgnoreThreshold:1,shape:{points:Z}}))}}}),k.setStyle(F),k.style.strokeNoScale=!0,k.culling=!0;var re=U.get("show"),te=X.get("show"),ne=S&&isNaN(S.get(S.mapDimension("value"),Q)),Se=S&&S.getItemLayout(Q);if(w||ne&&(re||te)||Se&&Se.showLabel){var le=w?R.name:Q,pe;(!S||Q>=0)&&(pe=m);var de=new n.Text({position:ee(R.center.slice()),scale:[1/b.scale[0],1/b.scale[1]],z2:10,silent:!0});if(n.setLabelStyle(de.style,de.hoverStyle={},U,X,{labelFetcher:pe,labelDataIndex:le,defaultText:R.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!M){var ie=[1/C[0],1/C[1]];n.updateProps(de,{scale:ie},m)}z.add(de)}if(S)S.setItemGraphicEl(Q,z);else{var N=m.getRegionModel(R.name);k.eventData={componentType:"geo",componentIndex:m.componentIndex,geoIndex:m.componentIndex,name:R.name,region:N&&N.option||{}}}var oe=z.__regions||(z.__regions=[]);oe.push(R),z.highDownSilentOnTouch=!!m.get("selectedMode"),n.setHoverStyle(z,$),x.add(z)}),this._updateController(m,g,p),h(this,m,x,p,y),l(m,x)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&s.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(m){var g=m.map;this._mapName!==g&&e.each(s.makeGraphic(g,this.uid),function(p){this._backgroundGroup.add(p)},this),this._mapName=g},_updateController:function(m,g,p){var y=m.coordinateSystem,_=this._controller,w=this._controllerHost;w.zoomLimit=m.get("scaleLimit"),w.zoom=y.getZoom(),_.enable(m.get("roam")||!1);var S=m.mainType;function A(){var x={type:"geoRoam",componentType:S};return x[S+"Id"]=m.id,x}_.off("pan").on("pan",function(x){this._mouseDownFlag=!1,r.updateViewOnPan(w,x.dx,x.dy),p.dispatchAction(e.extend(A(),{dx:x.dx,dy:x.dy}))},this),_.off("zoom").on("zoom",function(x){if(this._mouseDownFlag=!1,r.updateViewOnZoom(w,x.scale,x.originX,x.originY),p.dispatchAction(e.extend(A(),{zoom:x.scale,originX:x.originX,originY:x.originY})),this._updateGroup){var b=this.group.scale;this._regionsGroup.traverse(function(T){T.type==="text"&&T.attr("scale",[1/b[0],1/b[1]])})}},this),_.setPointerChecker(function(x,b,T){return y.getViewRectAfterRoam().contain(b,T)&&!i(x,p,m)})}};var f=d;return Gu=f,Gu}var Fu,F0;function sq(){if(F0)return Fu;F0=1;var e=_e,t=W,r=fe,a=PM(),i="__seriesMapHighDown",n="__seriesMapCallKey",s=e.extendChartView({type:"map",render:function(u,v,h,l){if(!(l&&l.type==="mapToggleSelect"&&l.from===this.uid)){var d=this.group;if(d.removeAll(),!u.getHostGeoModel()){if(l&&l.type==="geoRoam"&&l.componentType==="series"&&l.seriesId===u.id){var f=this._mapDraw;f&&d.add(f.group)}else if(u.needsDrawMap){var f=this._mapDraw||new a(h,!0);d.add(f.group),f.draw(u,v,h,this,l),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;u.get("showLegendSymbol")&&v.getComponent("legend")&&this._renderSymbols(u,v,h)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(u,v,h){var l=u.originalData,d=this.group;l.each(l.mapDimension("value"),function(f,m){if(!isNaN(f)){var g=l.getItemLayout(m);if(!(!g||!g.point)){var p=g.point,y=g.offset,_=new r.Circle({style:{fill:u.getData().getVisual("color")},shape:{cx:p[0]+y*9,cy:p[1],r:3},silent:!0,z2:8+(y?0:r.Z2_EMPHASIS_LIFT+1)});if(!y){var w=u.mainSeries.getData(),S=l.getName(m),A=w.indexOfName(S),x=l.getItemModel(m),b=x.getModel("label"),T=x.getModel("emphasis.label"),M=w.getItemGraphicEl(A),C=t.retrieve2(u.getFormattedLabel(A,"normal"),S),D=t.retrieve2(u.getFormattedLabel(A,"emphasis"),C),L=M[i],P=Math.random();if(!L){L=M[i]={};var I=t.curry(c,!0),E=t.curry(c,!1);M.on("mouseover",I).on("mouseout",E).on("emphasis",I).on("normal",E)}M[n]=P,t.extend(L,{recordVersion:P,circle:_,labelModel:b,hoverLabelModel:T,emphasisText:D,normalText:C}),o(L,!1)}d.add(_)}}})}});function c(u){var v=this[i];v&&v.recordVersion===this[n]&&o(v,u)}function o(u,v){var h=u.circle,l=u.labelModel,d=u.hoverLabelModel,f=u.emphasisText,m=u.normalText;v?(h.style.extendFrom(r.setTextStyle({},d,{text:d.get("show")?f:null},{isRectText:!0,useInsideStyle:!1},!0)),h.__mapOriginalZ2=h.z2,h.z2+=r.Z2_EMPHASIS_LIFT):(r.setTextStyle(h.style,l,{text:l.get("show")?m:null,textPosition:l.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),h.dirty(!1),h.__mapOriginalZ2!=null&&(h.z2=h.__mapOriginalZ2,h.__mapOriginalZ2=null))}return Fu=s,Fu}var $0={},$u={},U0;function hg(){if(U0)return $u;U0=1;function e(t,r,a){var i=t.getZoom(),n=t.getCenter(),s=r.zoom,c=t.dataToPoint(n);if(r.dx!=null&&r.dy!=null){c[0]-=r.dx,c[1]-=r.dy;var n=t.pointToData(c);t.setCenter(n)}if(s!=null){if(a){var o=a.min||0,u=a.max||1/0;s=Math.max(Math.min(i*s,u),o)/i}t.scale[0]*=s,t.scale[1]*=s;var v=t.position,h=(r.originX-v[0])*(s-1),l=(r.originY-v[1])*(s-1);v[0]-=h,v[1]-=l,t.updateTransform();var n=t.pointToData(c);t.setCenter(n),t.setZoom(s*i)}return{center:t.getCenter(),zoom:t.getZoom()}}return $u.updateCenterAndZoom=e,$u}var W0;function IM(){if(W0)return $0;W0=1;var e=_e,t=W,r=hg(),a=r.updateCenterAndZoom;return e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(i,n){var s=i.componentType||"series";n.eachComponent({mainType:s,query:i},function(c){var o=c.coordinateSystem;if(o.type==="geo"){var u=a(o,i,c.get("scaleLimit"));c.setCenter&&c.setCenter(u.center),c.setZoom&&c.setZoom(u.zoom),s==="series"&&t.each(c.seriesGroup,function(v){v.setCenter(u.center),v.setZoom(u.zoom)})}})}),$0}var Uu,Z0;function cg(){if(Z0)return Uu;Z0=1;var e=W,t=Ee,r=Je,a=Xe,i=Jo,n=t.applyTransform;function s(){i.call(this)}e.mixin(s,i);function c(v){this.name=v,this.zoomLimit,i.call(this),this._roamTransformable=new s,this._rawTransformable=new s,this._center,this._zoom}c.prototype={constructor:c,type:"view",dimensions:["x","y"],setBoundingRect:function(v,h,l,d){return this._rect=new a(v,h,l,d),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(v,h,l,d){this.transformTo(v,h,l,d),this._viewRect=new a(v,h,l,d)},transformTo:function(v,h,l,d){var f=this.getBoundingRect(),m=this._rawTransformable;m.transform=f.calculateTransform(new a(v,h,l,d)),m.decomposeTransform(),this._updateTransform()},setCenter:function(v){v&&(this._center=v,this._updateCenterAndZoom())},setZoom:function(v){v=v||1;var h=this.zoomLimit;h&&(h.max!=null&&(v=Math.min(h.max,v)),h.min!=null&&(v=Math.max(h.min,v))),this._zoom=v,this._updateCenterAndZoom()},getDefaultCenter:function(){var v=this.getBoundingRect(),h=v.x+v.width/2,l=v.y+v.height/2;return[h,l]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var v=this._rawTransformable.getLocalTransform(),h=this._roamTransformable,l=this.getDefaultCenter(),d=this.getCenter(),f=this.getZoom();d=t.applyTransform([],d,v),l=t.applyTransform([],l,v),h.origin=d,h.position=[l[0]-d[0],l[1]-d[1]],h.scale=[f,f],this._updateTransform()},_updateTransform:function(){var v=this._roamTransformable,h=this._rawTransformable;h.parent=v,v.updateTransform(),h.updateTransform(),r.copy(this.transform||(this.transform=[]),h.transform||r.create()),this._rawTransform=h.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var v=this._roamTransformable.transform,h=this._rawTransformable;return{roamTransform:v?e.slice(v):r.create(),rawScale:e.slice(h.scale),rawPosition:e.slice(h.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var v=this.getBoundingRect().clone();return v.applyTransform(this.transform),v},dataToPoint:function(v,h,l){var d=h?this._rawTransform:this.transform;return l=l||[],d?n(l,v,d):t.copy(l,v)},pointToData:function(v){var h=this.invTransform;return h?n([],v,h):[v[0],v[1]]},convertToPixel:e.curry(o,"dataToPoint"),convertFromPixel:e.curry(o,"pointToData"),containPoint:function(v){return this.getViewRectAfterRoam().contain(v[0],v[1])}},e.mixin(c,i);function o(v,h,l,d){var f=l.seriesModel,m=f?f.coordinateSystem:null;return m===this?m[v](d):null}var u=c;return Uu=u,Uu}var Wu,Y0;function lq(){if(Y0)return Wu;Y0=1;var e=W,t=Xe,r=cg(),a=bs();function i(c,o,u,v){r.call(this,c),this.map=o;var h=a.load(o,u);this._nameCoordMap=h.nameCoordMap,this._regionsMap=h.regionsMap,this._invertLongitute=v??!0,this.regions=h.regions,this._rect=h.boundingRect}i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(c){for(var o=this.regions,u=0;u<o.length;u++)if(o[u].contain(c))return!0;return!1},transformTo:function(c,o,u,v){var h=this.getBoundingRect(),l=this._invertLongitute;h=h.clone(),l&&(h.y=-h.y-h.height);var d=this._rawTransformable;if(d.transform=h.calculateTransform(new t(c,o,u,v)),d.decomposeTransform(),l){var f=d.scale;f[1]=-f[1]}d.updateTransform(),this._updateTransform()},getRegion:function(c){return this._regionsMap.get(c)},getRegionByCoord:function(c){for(var o=this.regions,u=0;u<o.length;u++)if(o[u].contain(c))return o[u]},addGeoCoord:function(c,o){this._nameCoordMap.set(c,o)},getGeoCoord:function(c){return this._nameCoordMap.get(c)},getBoundingRect:function(){return this._rect},dataToPoint:function(c,o,u){if(typeof c=="string"&&(c=this.getGeoCoord(c)),c)return r.prototype.dataToPoint.call(this,c,o,u)},convertToPixel:e.curry(n,"dataToPoint"),convertFromPixel:e.curry(n,"pointToData")},e.mixin(i,r);function n(c,o,u,v){var h=u.geoModel,l=u.seriesModel,d=h?h.coordinateSystem:l?l.coordinateSystem||(l.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return d===this?d[c](v):null}var s=i;return Wu=s,Wu}var Zu,X0;function fg(){if(X0)return Zu;X0=1;var e=_e,t=W,r=lq(),a=Be,i=Le,n=bs(),s=og;function c(h,l){var d=h.get("boundingCoords");if(d!=null){var f=d[0],m=d[1];isNaN(f[0])||isNaN(f[1])||isNaN(m[0])||isNaN(m[1])||this.setBoundingRect(f[0],f[1],m[0]-f[0],m[1]-f[1])}var g=this.getBoundingRect(),p,y=h.get("layoutCenter"),_=h.get("layoutSize"),w=l.getWidth(),S=l.getHeight(),A=g.width/g.height*this.aspectScale,x=!1;y&&_&&(y=[i.parsePercent(y[0],w),i.parsePercent(y[1],S)],_=i.parsePercent(_,Math.min(w,S)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(_)&&(x=!0));var b;if(x){var b={};A>1?(b.width=_,b.height=_/A):(b.height=_,b.width=_*A),b.y=y[1]-b.height/2,b.x=y[0]-b.width/2}else p=h.getBoxLayoutParams(),p.aspect=A,b=a.getLayoutRect(p,{width:w,height:S});this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(h.get("center")),this.setZoom(h.get("zoom"))}function o(h,l){t.each(l.get("geoCoord"),function(d,f){h.addGeoCoord(f,d)})}var u={dimensions:r.prototype.dimensions,create:function(h,l){var d=[];h.eachComponent("geo",function(m,g){var p=m.get("map"),y=m.get("aspectScale"),_=!0,w=s.retrieveMap(p);w&&w[0]&&w[0].type==="svg"?(y==null&&(y=1),_=!1):y==null&&(y=.75);var S=new r(p+g,p,m.get("nameMap"),_);S.aspectScale=y,S.zoomLimit=m.get("scaleLimit"),d.push(S),o(S,m),m.coordinateSystem=S,S.model=m,S.resize=c,S.resize(m,l)}),h.eachSeries(function(m){var g=m.get("coordinateSystem");if(g==="geo"){var p=m.get("geoIndex")||0;m.coordinateSystem=d[p]}});var f={};return h.eachSeriesByType("map",function(m){if(!m.getHostGeoModel()){var g=m.getMapType();f[g]=f[g]||[],f[g].push(m)}}),t.each(f,function(m,g){var p=t.map(m,function(_){return _.get("nameMap")}),y=new r(g,g,t.mergeAll(p));y.zoomLimit=t.retrieve.apply(null,t.map(m,function(_){return _.get("scaleLimit")})),d.push(y),y.resize=c,y.aspectScale=m[0].get("aspectScale"),y.resize(m[0],l),t.each(m,function(_){_.coordinateSystem=y,o(y,_)})}),d},getFilledRegions:function(h,l,d){for(var f=(h||[]).slice(),m=t.createHashMap(),g=0;g<f.length;g++)m.set(f[g].name,f[g]);var p=n.load(l,d);return t.each(p.regions,function(y){var _=y.name;!m.get(_)&&f.push({name:_})}),f}};e.registerCoordinateSystem("geo",u);var v=u;return Zu=v,Zu}var Yu,K0;function uq(){if(K0)return Yu;K0=1;var e=W;function t(r){var a={};r.eachSeriesByType("map",function(i){var n=i.getMapType();if(!(i.getHostGeoModel()||a[n])){var s={};e.each(i.seriesGroup,function(o){var u=o.coordinateSystem,v=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&v.each(v.mapDimension("value"),function(h,l){var d=v.getName(l),f=u.getRegion(d);if(!(!f||isNaN(h))){var m=s[d]||0,g=u.dataToPoint(f.center);s[d]=m+1,v.setItemLayout(l,{point:g,offset:m})}})});var c=i.getData();c.each(function(o){var u=c.getName(o),v=c.getItemLayout(o)||{};v.showLabel=!s[u],c.setItemLayout(o,v)}),a[n]=!0}})}return Yu=t,Yu}var Xu,Q0;function vq(){if(Q0)return Xu;Q0=1;function e(t){t.eachSeriesByType("map",function(r){var a=r.get("color"),i=r.getModel("itemStyle"),n=i.get("areaColor"),s=i.get("color")||a[r.seriesIndex%a.length];r.getData().setVisual({areaColor:n,color:s})})}return Xu=e,Xu}var Ku,j0;function hq(){if(j0)return Ku;j0=1;var e=W;function t(a,i){var n={};return e.each(a,function(s){s.each(s.mapDimension("value"),function(c,o){var u="ec-"+s.getName(o);n[u]=n[u]||[],isNaN(c)||n[u].push(c)})}),a[0].map(a[0].mapDimension("value"),function(s,c){for(var o="ec-"+a[0].getName(c),u=0,v=1/0,h=-1/0,l=n[o].length,d=0;d<l;d++)v=Math.min(v,n[o][d]),h=Math.max(h,n[o][d]),u+=n[o][d];var f;return i==="min"?f=v:i==="max"?f=h:i==="average"?f=u/l:f=u,l===0?NaN:f})}function r(a){var i={};a.eachSeriesByType("map",function(n){var s=n.getHostGeoModel(),c=s?"o"+s.id:"i"+n.getMapType();(i[c]=i[c]||[]).push(n)}),e.each(i,function(n,s){for(var c=t(e.map(n,function(u){return u.getData()}),n[0].get("mapValueCalculation")),o=0;o<n.length;o++)n[o].originalData=n[o].getData();for(var o=0;o<n.length;o++)n[o].seriesGroup=n,n[o].needsDrawMap=o===0&&!n[o].getHostGeoModel(),n[o].setData(c.cloneShallow()),n[o].mainSeries=n[0]})}return Ku=r,Ku}var Qu,J0;function cq(){if(J0)return Qu;J0=1;var e=W;function t(r){e.each(r.series,function(a){a&&a.type==="map"&&(a.map=a.map||a.mapType,e.defaults(a,a.mapLocation))})}return Qu=t,Qu}var e_;function fq(){if(e_)return L0;e_=1;var e=_e;oq(),sq(),IM(),fg();var t=uq(),r=vq(),a=hq(),i=cq(),n=DM();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a),e.registerPreprocessor(i),n("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]),L0}var t_={},ju,r_;function RM(){if(r_)return ju;r_=1;var e=W,t=e.each,r="\0__link_datas",a="\0__link_mainData";function i(d){var f=d.mainData,m=d.datas;m||(m={main:f},d.datasAttr={main:"data"}),d.datas=d.mainData=null,v(f,m,d),t(m,function(g){t(f.TRANSFERABLE_METHODS,function(p){g.wrapMethod(p,e.curry(n,d))})}),f.wrapMethod("cloneShallow",e.curry(c,d)),t(f.CHANGABLE_METHODS,function(g){f.wrapMethod(g,e.curry(s,d))}),e.assert(m[f.dataType]===f)}function n(d,f){if(u(this)){var m=e.extend({},this[r]);m[this.dataType]=f,v(f,m,d)}else h(f,this.dataType,this[a],d);return f}function s(d,f){return d.struct&&d.struct.update(this),f}function c(d,f){return t(f[r],function(m,g){m!==f&&h(m.cloneShallow(),g,f,d)}),f}function o(d){var f=this[a];return d==null||f==null?f:f[r][d]}function u(d){return d[a]===d}function v(d,f,m){d[r]={},t(f,function(g,p){h(g,p,d,m)})}function h(d,f,m,g){m[r][f]=d,d[a]=m,d.dataType=f,g.struct&&(d[g.structAttr]=g.struct,g.struct[g.datasAttr[f]]=d),d.getLinkedData=o}var l=i;return ju=l,ju}var Ju,a_;function dg(){if(a_)return Ju;a_=1;var e=W,t=ot,r=RM(),a=Wt(),i=mi(),n=function(u,v){this.name=u||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=v};n.prototype={constructor:n,isRemoved:function(){return this.dataIndex<0},eachNode:function(u,v,h){typeof u=="function"&&(h=v,v=u,u=null),u=u||{},e.isString(u)&&(u={order:u});var l=u.order||"preorder",d=this[u.attr||"children"],f;l==="preorder"&&(f=v.call(h,this));for(var m=0;!f&&m<d.length;m++)d[m].eachNode(u,v,h);l==="postorder"&&v.call(h,this)},updateDepthAndHeight:function(u){var v=0;this.depth=u;for(var h=0;h<this.children.length;h++){var l=this.children[h];l.updateDepthAndHeight(u+1),l.height>v&&(v=l.height)}this.height=v+1},getNodeById:function(u){if(this.getId()===u)return this;for(var v=0,h=this.children,l=h.length;v<l;v++){var d=h[v].getNodeById(u);if(d)return d}},contains:function(u){if(u===this)return!0;for(var v=0,h=this.children,l=h.length;v<l;v++){var d=h[v].contains(u);if(d)return d}},getAncestors:function(u){for(var v=[],h=u?this:this.parentNode;h;)v.push(h),h=h.parentNode;return v.reverse(),v},getValue:function(u){var v=this.hostTree.data;return v.get(v.getDimension(u||"value"),this.dataIndex)},setLayout:function(u,v){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,u,v)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(u){if(!(this.dataIndex<0)){var v=this.hostTree,h=v.data.getItemModel(this.dataIndex),l=this.getLevelModel();return l?h.getModel(u,l.getModel(u)):h.getModel(u)}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(u,v){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,u,v)},getVisual:function(u,v){return this.hostTree.data.getItemVisual(this.dataIndex,u,v)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(u){for(var v=u.parentNode;v;){if(v===this)return!0;v=v.parentNode}return!1},isDescendantOf:function(u){return u!==this&&u.isAncestorOf(this)}};function s(u,v){this.root,this.data,this._nodes=[],this.hostModel=u,this.levelModels=e.map(v||[],function(h){return new t(h,u,u.ecModel)})}s.prototype={constructor:s,type:"tree",eachNode:function(u,v,h){this.root.eachNode(u,v,h)},getNodeByDataIndex:function(u){var v=this.data.getRawIndex(u);return this._nodes[v]},getNodeByName:function(u){return this.root.getNodeByName(u)},update:function(){for(var u=this.data,v=this._nodes,h=0,l=v.length;h<l;h++)v[h].dataIndex=-1;for(var h=0,l=u.count();h<l;h++)v[u.getRawIndex(h)].dataIndex=h},clearLayouts:function(){this.data.clearItemLayouts()}},s.createTree=function(u,v,h,l){var d=new s(v,h&&h.levels),f=[],m=1;g(u);function g(_,w){var S=_.value;m=Math.max(m,e.isArray(S)?S.length:1),f.push(_);var A=new n(_.name,d);w?c(A,w):d.root=A,d._nodes.push(A);var x=_.children;if(x)for(var b=0;b<x.length;b++)g(x[b],A)}d.root.updateDepthAndHeight(0);var p=i(f,{coordDimensions:["value"],dimensionsCount:m}),y=new a(p,v);return y.initData(f),l&&l(y),r({mainData:y,struct:d,structAttr:"tree"}),d.update(),d};function c(u,v){var h=v.children;u.parentNode!==v&&(h.push(u),u.parentNode=v)}var o=s;return Ju=o,Ju}var ev,i_;function dq(){if(i_)return ev;i_=1;var e=ct,t=dg(),r=Ne,a=r.encodeHTML,i=ot,n=e.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(s){var c={name:s.name,children:s.data},o=s.leaves||{},u=new i(o,this,this.ecModel),v=t.createTree(c,this,{},h);function h(m){m.wrapMethod("getItemModel",function(g,p){var y=v.getNodeByDataIndex(p);return(!y.children.length||!y.isExpand)&&(g.parentModel=u),g})}var l=0;v.eachNode("preorder",function(m){m.depth>l&&(l=m.depth)});var d=s.expandAndCollapse,f=d&&s.initialTreeDepth>=0?s.initialTreeDepth:l;return v.root.eachNode("preorder",function(m){var g=m.hostTree.data.getRawDataItem(m.dataIndex);m.isExpand=g&&g.collapsed!=null?!g.collapsed:m.depth<=f}),v.data},getOrient:function(){var s=this.get("orient");return s==="horizontal"?s="LR":s==="vertical"&&(s="TB"),s},setZoom:function(s){this.option.zoom=s},setCenter:function(s){this.option.center=s},formatTooltip:function(s){for(var c=this.getData().tree,o=c.root.children[0],u=c.getNodeByDataIndex(s),v=u.getValue(),h=u.name;u&&u!==o;)h=u.parentNode.name+"."+h,u=u.parentNode;return a(h+(isNaN(v)||v==null?"":" : "+v))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});return ev=n,ev}var Gr={},n_;function EM(){if(n_)return Gr;n_=1;var e=Be;function t(f){f.hierNode={defaultAncestor:null,ancestor:f,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var m=[f],g,p;g=m.pop();)if(p=g.children,g.isExpand&&p.length)for(var y=p.length,_=y-1;_>=0;_--){var w=p[_];w.hierNode={defaultAncestor:null,ancestor:w,prelim:0,modifier:0,change:0,shift:0,i:_,thread:null},m.push(w)}}function r(f,m){var g=f.isExpand?f.children:[],p=f.parentNode.children,y=f.hierNode.i?p[f.hierNode.i-1]:null;if(g.length){c(f);var _=(g[0].hierNode.prelim+g[g.length-1].hierNode.prelim)/2;y?(f.hierNode.prelim=y.hierNode.prelim+m(f,y),f.hierNode.modifier=f.hierNode.prelim-_):f.hierNode.prelim=_}else y&&(f.hierNode.prelim=y.hierNode.prelim+m(f,y));f.parentNode.hierNode.defaultAncestor=o(f,y,f.parentNode.hierNode.defaultAncestor||p[0],m)}function a(f){var m=f.hierNode.prelim+f.parentNode.hierNode.modifier;f.setLayout({x:m},!0),f.hierNode.modifier+=f.parentNode.hierNode.modifier}function i(f){return arguments.length?f:d}function n(f,m){var g={};return f-=Math.PI/2,g.x=m*Math.cos(f),g.y=m*Math.sin(f),g}function s(f,m){return e.getLayoutRect(f.getBoxLayoutParams(),{width:m.getWidth(),height:m.getHeight()})}function c(f){for(var m=f.children,g=m.length,p=0,y=0;--g>=0;){var _=m[g];_.hierNode.prelim+=p,_.hierNode.modifier+=p,y+=_.hierNode.change,p+=_.hierNode.shift+y}}function o(f,m,g,p){if(m){for(var y=f,_=f,w=_.parentNode.children[0],S=m,A=y.hierNode.modifier,x=_.hierNode.modifier,b=w.hierNode.modifier,T=S.hierNode.modifier;S=u(S),_=v(_),S&&_;){y=u(y),w=v(w),y.hierNode.ancestor=f;var M=S.hierNode.prelim+T-_.hierNode.prelim-x+p(S,_);M>0&&(l(h(S,f,g),f,M),x+=M,A+=M),T+=S.hierNode.modifier,x+=_.hierNode.modifier,A+=y.hierNode.modifier,b+=w.hierNode.modifier}S&&!u(y)&&(y.hierNode.thread=S,y.hierNode.modifier+=T-A),_&&!v(w)&&(w.hierNode.thread=_,w.hierNode.modifier+=x-b,g=f)}return g}function u(f){var m=f.children;return m.length&&f.isExpand?m[m.length-1]:f.hierNode.thread}function v(f){var m=f.children;return m.length&&f.isExpand?m[0]:f.hierNode.thread}function h(f,m,g){return f.hierNode.ancestor.parentNode===m.parentNode?f.hierNode.ancestor:g}function l(f,m,g){var p=g/(m.hierNode.i-f.hierNode.i);m.hierNode.change-=p,m.hierNode.shift+=g,m.hierNode.modifier+=g,m.hierNode.prelim+=g,f.hierNode.change+=p}function d(f,m){return f.parentNode===m.parentNode?1:2}return Gr.init=t,Gr.firstWalk=r,Gr.secondWalk=a,Gr.separation=i,Gr.radialCoordinate=n,Gr.getViewRect=s,Gr}var tv,o_;function gq(){if(o_)return tv;o_=1;var e=W,t=fe,r=ys(),a=EM(),i=a.radialCoordinate,n=_e,s=yn(),c=cg(),o=vg(),u=kn(),v=ws(),h=v.onIrrelevantElement,l=Le,d=l.parsePercent,f=t.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(A,x){var b=x.childPoints,T=b.length,M=x.parentPoint,C=b[0],D=b[T-1];if(T===1){A.moveTo(M[0],M[1]),A.lineTo(C[0],C[1]);return}var L=x.orient,P=L==="TB"||L==="BT"?0:1,I=1-P,E=d(x.forkPosition,1),O=[];O[P]=M[P],O[I]=M[I]+(D[I]-M[I])*E,A.moveTo(M[0],M[1]),A.lineTo(O[0],O[1]),A.moveTo(C[0],C[1]),O[P]=C[P],A.lineTo(O[0],O[1]),O[P]=D[P],A.lineTo(O[0],O[1]),A.lineTo(D[0],D[1]);for(var B=1;B<T-1;B++){var q=b[B];A.moveTo(q[0],q[1]),O[P]=q[P],A.lineTo(O[0],O[1])}}}),m=n.extendChartView({type:"tree",init:function(A,x){this._oldTree,this._mainGroup=new t.Group,this._controller=new u(x.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(A,x,b,T){var M=A.getData(),C=A.layoutInfo,D=this._mainGroup,L=A.get("layout");L==="radial"?D.attr("position",[C.x+C.width/2,C.y+C.height/2]):D.attr("position",[C.x,C.y]),this._updateViewCoordSys(A,C,L),this._updateController(A,x,b);var P=this._data,I={expandAndCollapse:A.get("expandAndCollapse"),layout:L,edgeShape:A.get("edgeShape"),edgeForkPosition:A.get("edgeForkPosition"),orient:A.getOrient(),curvature:A.get("lineStyle.curveness"),symbolRotate:A.get("symbolRotate"),symbolOffset:A.get("symbolOffset"),hoverAnimation:A.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};M.diff(P).add(function(E){g(M,E)&&y(M,E,null,D,A,I)}).update(function(E,O){var B=P.getItemGraphicEl(O);if(!g(M,E)){B&&w(P,O,B,D,A,I);return}y(M,E,B,D,A,I)}).remove(function(E){var O=P.getItemGraphicEl(E);O&&w(P,E,O,D,A,I)}).execute(),this._nodeScaleRatio=A.get("nodeScaleRatio"),this._updateNodeAndLinkScale(A),I.expandAndCollapse===!0&&M.eachItemGraphicEl(function(E,O){E.off("click").on("click",function(){b.dispatchAction({type:"treeExpandAndCollapse",seriesId:A.id,dataIndex:O})})}),this._data=M},_updateViewCoordSys:function(A){var x=A.getData(),b=[];x.each(function(P){var I=x.getItemLayout(P);I&&!isNaN(I.x)&&!isNaN(I.y)&&b.push([+I.x,+I.y])});var T=[],M=[];s.fromPoints(b,T,M);var C=this._min,D=this._max;M[0]-T[0]===0&&(T[0]=C?C[0]:T[0]-1,M[0]=D?D[0]:M[0]+1),M[1]-T[1]===0&&(T[1]=C?C[1]:T[1]-1,M[1]=D?D[1]:M[1]+1);var L=A.coordinateSystem=new c;L.zoomLimit=A.get("scaleLimit"),L.setBoundingRect(T[0],T[1],M[0]-T[0],M[1]-T[1]),L.setCenter(A.get("center")),L.setZoom(A.get("zoom")),this.group.attr({position:L.position,scale:L.scale}),this._viewCoordSys=L,this._min=T,this._max=M},_updateController:function(A,x,b){var T=this._controller,M=this._controllerHost,C=this.group;T.setPointerChecker(function(D,L,P){var I=C.getBoundingRect();return I.applyTransform(C.transform),I.contain(L,P)&&!h(D,b,A)}),T.enable(A.get("roam")),M.zoomLimit=A.get("scaleLimit"),M.zoom=A.coordinateSystem.getZoom(),T.off("pan").off("zoom").on("pan",function(D){o.updateViewOnPan(M,D.dx,D.dy),b.dispatchAction({seriesId:A.id,type:"treeRoam",dx:D.dx,dy:D.dy})},this).on("zoom",function(D){o.updateViewOnZoom(M,D.scale,D.originX,D.originY),b.dispatchAction({seriesId:A.id,type:"treeRoam",zoom:D.scale,originX:D.originX,originY:D.originY}),this._updateNodeAndLinkScale(A)},this)},_updateNodeAndLinkScale:function(A){var x=A.getData(),b=this._getNodeGlobalScale(A),T=[b,b];x.eachItemGraphicEl(function(M,C){M.attr("scale",T)})},_getNodeGlobalScale:function(A){var x=A.coordinateSystem;if(x.type!=="view")return 1;var b=this._nodeScaleRatio,T=x.scale,M=T&&T[0]||1,C=x.getZoom(),D=(C-1)*b+1;return D/M},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function g(A,x){var b=A.getItemLayout(x);return b&&!isNaN(b.x)&&!isNaN(b.y)&&A.getItemVisual(x,"symbol")!=="none"}function p(A,x,b){return b.itemModel=x,b.itemStyle=x.getModel("itemStyle").getItemStyle(),b.hoverItemStyle=x.getModel("emphasis.itemStyle").getItemStyle(),b.lineStyle=x.getModel("lineStyle").getLineStyle(),b.labelModel=x.getModel("label"),b.hoverLabelModel=x.getModel("emphasis.label"),A.isExpand===!1&&A.children.length!==0?b.symbolInnerColor=b.itemStyle.fill:b.symbolInnerColor="#fff",b}function y(A,x,b,T,M,I){var D=!b,L=A.tree.getNodeByDataIndex(x),P=L.getModel(),I=p(L,P,I),E=A.tree.root,O=L.parentNode===E?L:L.parentNode||L,B=A.getItemGraphicEl(O.dataIndex),q=O.getLayout(),V=B?{x:B.position[0],y:B.position[1],rawX:B.__radialOldRawX,rawY:B.__radialOldRawY}:q,R=L.getLayout();D?(b=new r(A,x,I),b.attr("position",[V.x,V.y])):b.updateData(A,x,I),b.__radialOldRawX=b.__radialRawX,b.__radialOldRawY=b.__radialRawY,b.__radialRawX=R.rawX,b.__radialRawY=R.rawY,T.add(b),A.setItemGraphicEl(x,b),t.updateProps(b,{position:[R.x,R.y]},M);var z=b.getSymbolPath();if(I.layout==="radial"){var k=E.children[0],N=k.getLayout(),G=k.children.length,H,F;if(R.x===N.x&&L.isExpand===!0){var $={};$.x=(k.children[0].getLayout().x+k.children[G-1].getLayout().x)/2,$.y=(k.children[0].getLayout().y+k.children[G-1].getLayout().y)/2,H=Math.atan2($.y-N.y,$.x-N.x),H<0&&(H=Math.PI*2+H),F=$.x<N.x,F&&(H=H-Math.PI)}else H=Math.atan2(R.y-N.y,R.x-N.x),H<0&&(H=Math.PI*2+H),L.children.length===0||L.children.length!==0&&L.isExpand===!1?(F=R.x<N.x,F&&(H=H-Math.PI)):(F=R.x>N.x,F||(H=H-Math.PI));var U=F?"left":"right",X=I.labelModel.get("rotate"),Q=X*(Math.PI/180);z.setStyle({textPosition:I.labelModel.get("position")||U,textRotation:X==null?-H:Q,textOrigin:"center",verticalAlign:"middle"})}_(M,L,E,b,V,q,R,T,I)}function _(A,x,b,T,M,C,D,L,P){var I=P.edgeShape,E=T.__edge;if(I==="curve")x.parentNode&&x.parentNode!==b&&(E||(E=T.__edge=new t.BezierCurve({shape:S(P,M,M),style:e.defaults({opacity:0,strokeNoScale:!0},P.lineStyle)})),t.updateProps(E,{shape:S(P,C,D),style:{opacity:1}},A));else if(I==="polyline"&&P.layout==="orthogonal"&&x!==b&&x.children&&x.children.length!==0&&x.isExpand===!0){for(var O=x.children,B=[],q=0;q<O.length;q++){var V=O[q].getLayout();B.push([V.x,V.y])}E||(E=T.__edge=new f({shape:{parentPoint:[D.x,D.y],childPoints:[[D.x,D.y]],orient:P.orient,forkPosition:P.edgeForkPosition},style:e.defaults({opacity:0,strokeNoScale:!0},P.lineStyle)})),t.updateProps(E,{shape:{parentPoint:[D.x,D.y],childPoints:B},style:{opacity:1}},A)}L.add(E)}function w(A,x,b,T,M,I){for(var D=A.tree.getNodeByDataIndex(x),L=A.tree.root,P=D.getModel(),I=p(D,P,I),E=D.parentNode===L?D:D.parentNode||D,R=I.edgeShape,O;O=E.getLayout(),O==null;)E=E.parentNode===L?E:E.parentNode||E;t.updateProps(b,{position:[O.x+1,O.y+1]},M,function(){T.remove(b),A.setItemGraphicEl(x,null)}),b.fadeOut(null,{keepLabel:!0});var B=A.getItemGraphicEl(E.dataIndex),q=B.__edge,V=b.__edge||(E.isExpand===!1||E.children.length===1?q:void 0),R=I.edgeShape;V&&(R==="curve"?t.updateProps(V,{shape:S(I,O,O),style:{opacity:0}},M,function(){T.remove(V)}):R==="polyline"&&I.layout==="orthogonal"&&t.updateProps(V,{shape:{parentPoint:[O.x,O.y],childPoints:[[O.x,O.y]]},style:{opacity:0}},M,function(){T.remove(V)}))}function S(A,x,b){var T,M,C,D,L=A.orient,P,I,E,O;if(A.layout==="radial"){P=x.rawX,E=x.rawY,I=b.rawX,O=b.rawY;var B=i(P,E),q=i(P,E+(O-E)*A.curvature),V=i(I,O+(E-O)*A.curvature),R=i(I,O);return{x1:B.x,y1:B.y,x2:R.x,y2:R.y,cpx1:q.x,cpy1:q.y,cpx2:V.x,cpy2:V.y}}else P=x.x,E=x.y,I=b.x,O=b.y,(L==="LR"||L==="RL")&&(T=P+(I-P)*A.curvature,M=E,C=I+(P-I)*A.curvature,D=O),(L==="TB"||L==="BT")&&(T=P,M=E+(O-E)*A.curvature,C=I,D=O+(E-O)*A.curvature);return{x1:P,y1:E,x2:I,y2:O,cpx1:T,cpy1:M,cpx2:C,cpy2:D}}return tv=m,tv}var s_={},l_;function pq(){if(l_)return s_;l_=1;var e=_e,t=hg(),r=t.updateCenterAndZoom;return e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(n){var s=a.dataIndex,c=n.getData().tree,o=c.getNodeByDataIndex(s);o.isExpand=!o.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(n){var s=n.coordinateSystem,c=r(s,a);n.setCenter&&n.setCenter(c.center),n.setZoom&&n.setZoom(c.zoom)})}),s_}var ho={},u_;function mq(){if(u_)return ho;u_=1;function e(r,a,i){for(var n=[r],s=[],c;c=n.pop();)if(s.push(c),c.isExpand){var o=c.children;if(o.length)for(var u=0;u<o.length;u++)n.push(o[u])}for(;c=s.pop();)a(c,i)}function t(r,a){for(var i=[r],n;n=i.pop();)if(a(n),n.isExpand){var s=n.children;if(s.length)for(var c=s.length-1;c>=0;c--)i.push(s[c])}}return ho.eachAfter=e,ho.eachBefore=t,ho}var rv,v_;function yq(){if(v_)return rv;v_=1;var e=mq(),t=e.eachAfter,r=e.eachBefore,a=EM(),i=a.init,n=a.firstWalk,s=a.secondWalk,c=a.separation,o=a.radialCoordinate,u=a.getViewRect;function v(l,d){l.eachSeriesByType("tree",function(f){h(f,d)})}function h(l,d){var f=u(l,d);l.layoutInfo=f;var m=l.get("layout"),g=0,p=0,y=null;m==="radial"?(g=2*Math.PI,p=Math.min(f.height,f.width)/2,y=c(function(I,E){return(I.parentNode===E.parentNode?1:2)/I.depth})):(g=f.width,p=f.height,y=c());var _=l.getData().tree.root,w=_.children[0];if(w){i(_),t(w,n,y),_.hierNode.modifier=-w.hierNode.prelim,r(w,s);var S=w,A=w,x=w;r(w,function(I){var E=I.getLayout().x;E<S.getLayout().x&&(S=I),E>A.getLayout().x&&(A=I),I.depth>x.depth&&(x=I)});var b=S===A?1:y(S,A)/2,T=b-S.getLayout().x,M=0,C=0,D=0,L=0;if(m==="radial")M=g/(A.getLayout().x+b+T),C=p/(x.depth-1||1),r(w,function(I){D=(I.getLayout().x+T)*M,L=(I.depth-1)*C;var E=o(D,L);I.setLayout({x:E.x,y:E.y,rawX:D,rawY:L},!0)});else{var P=l.getOrient();P==="RL"||P==="LR"?(C=p/(A.getLayout().x+b+T),M=g/(x.depth-1||1),r(w,function(I){L=(I.getLayout().x+T)*C,D=P==="LR"?(I.depth-1)*M:g-(I.depth-1)*M,I.setLayout({x:D,y:L},!0)})):(P==="TB"||P==="BT")&&(M=g/(A.getLayout().x+b+T),C=p/(x.depth-1||1),r(w,function(I){D=(I.getLayout().x+T)*M,L=P==="TB"?(I.depth-1)*C:p-(I.depth-1)*C,I.setLayout({x:D,y:L},!0)}))}}}return rv=v,rv}var h_;function _q(){if(h_)return t_;h_=1;var e=_e;dq(),gq(),pq();var t=Aa(),r=yq();return e.registerVisual(t("tree","circle")),e.registerLayout(r),t_}var c_={},Na={},f_;function Ca(){if(f_)return Na;f_=1;var e=W;function t(n,s,c){if(n&&e.indexOf(s,n.type)>=0){var o=c.getData().tree.root,u=n.targetNode;if(typeof u=="string"&&(u=o.getNodeById(u)),u&&o.contains(u))return{node:u};var v=n.targetNodeId;if(v!=null&&(u=o.getNodeById(v)))return{node:u}}}function r(n){for(var s=[];n;)n=n.parentNode,n&&s.push(n);return s.reverse()}function a(n,s){var c=r(n);return e.indexOf(c,s)>=0}function i(n,s){for(var c=[];n;){var o=n.dataIndex;c.push({name:n.name,dataIndex:o,value:s.getRawValue(o)}),n=n.parentNode}return c.reverse(),c}return Na.retrieveTargetInfo=t,Na.getPathToRoot=r,Na.aboveViewRoot=a,Na.wrapTreePathInfo=i,Na}var av,d_;function xq(){if(d_)return av;d_=1;var e=W,t=ct,r=dg(),a=ot,i=Ne,n=i.encodeHTML,s=i.addCommas,c=Ca(),o=c.wrapTreePathInfo,u=t.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(l,d){var f={name:l.name,children:l.data};v(f);var m=l.levels||[];m=l.levels=h(m,d);var g=e.map(m||[],function(_){return new a(_,this,d)},this),p=r.createTree(f,this,null,y);function y(_){_.wrapMethod("getItemModel",function(w,S){var A=p.getNodeByDataIndex(S),x=g[A.depth];return x&&(w.parentModel=x),w})}return p.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(l){var d=this.getData(),f=this.getRawValue(l),m=e.isArray(f)?s(f[0]):s(f),g=d.getName(l);return n(g+": "+m)},getDataParams:function(l){var d=t.prototype.getDataParams.apply(this,arguments),f=this.getData().tree.getNodeByDataIndex(l);return d.treePathInfo=o(f,this),d},setLayoutInfo:function(l){this.layoutInfo=this.layoutInfo||{},e.extend(this.layoutInfo,l)},mapIdToIndex:function(l){var d=this._idIndexMap;d||(d=this._idIndexMap=e.createHashMap(),this._idIndexMapCount=0);var f=d.get(l);return f==null&&d.set(l,f=this._idIndexMapCount++),f},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(l){l?this._viewRoot=l:l=this._viewRoot;var d=this.getRawData().tree.root;(!l||l!==d&&!d.contains(l))&&(this._viewRoot=d)}});function v(l){var d=0;e.each(l.children,function(m){v(m);var g=m.value;e.isArray(g)&&(g=g[0]),d+=g});var f=l.value;e.isArray(f)&&(f=f[0]),(f==null||isNaN(f))&&(f=d),f<0&&(f=0),e.isArray(l.value)?l.value[0]=f:l.value=f}function h(l,d){var f=d.get("color");if(f){l=l||[];var m;if(e.each(l,function(p){var y=new a(p),_=y.get("color");(y.get("itemStyle.color")||_&&_!=="none")&&(m=!0)}),!m){var g=l[0]||(l[0]={});g.color=f.slice()}return l}}return av=u,av}var iv,g_;function Sq(){if(g_)return iv;g_=1;var e=fe,t=Be,r=W,a=Ca(),i=a.wrapTreePathInfo,n=8,s=8,c=5;function o(l){this.group=new e.Group,l.add(this.group)}o.prototype={constructor:o,render:function(l,d,f,m){var g=l.getModel("breadcrumb"),p=this.group;if(p.removeAll(),!(!g.get("show")||!f)){var y=g.getModel("itemStyle"),_=y.getModel("textStyle"),w={pos:{left:g.get("left"),right:g.get("right"),top:g.get("top"),bottom:g.get("bottom")},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:g.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(f,w,_),this._renderContent(l,w,y,_,m),t.positionElement(p,w.pos,w.box)}},_prepare:function(l,d,f){for(var m=l;m;m=m.parentNode){var g=m.getModel().get("name"),p=f.getTextRect(g),y=Math.max(p.width+n*2,d.emptyItemWidth);d.totalWidth+=y+s,d.renderList.push({node:m,text:g,width:y})}},_renderContent:function(l,d,f,m,g){for(var p=0,y=d.emptyItemWidth,_=l.get("breadcrumb.height"),w=t.getAvailableSize(d.pos,d.box),S=d.totalWidth,A=d.renderList,x=A.length-1;x>=0;x--){var b=A[x],T=b.node,M=b.width,C=b.text;S>w.width&&(S-=M-y,M=y,C=null);var D=new e.Polygon({shape:{points:u(p,0,M,_,x===A.length-1,x===0)},style:r.defaults(f.getItemStyle(),{lineJoin:"bevel",text:C,textFill:m.getTextColor(),textFont:m.getFont()}),z:10,onclick:r.curry(g,T)});this.group.add(D),v(D,l,T),p+=M+s}},remove:function(){this.group.removeAll()}};function u(l,d,f,m,g,p){var y=[[g?l:l-c,d],[l+f,d],[l+f,d+m],[g?l:l-c,d+m]];return!p&&y.splice(2,0,[l+f+c,d+m/2]),!g&&y.push([l,d+m/2]),y}function v(l,d,f){l.eventData={componentType:"series",componentSubType:"treemap",componentIndex:d.componentIndex,seriesIndex:d.componentIndex,seriesName:d.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:f&&f.dataIndex,name:f&&f.name},treePathInfo:f&&i(f,d)}}var h=o;return iv=h,iv}var nv={},p_;function bq(){if(p_)return nv;p_=1;var e=W;function t(){var r=[],a={},i;return{add:function(n,s,c,o,u){return e.isString(o)&&(u=o,o=0),a[n.id]?!1:(a[n.id]=1,r.push({el:n,target:s,time:c,delay:o,easing:u}),!0)},done:function(n){return i=n,this},start:function(){for(var n=r.length,s=0,c=r.length;s<c;s++){var o=r[s];o.el.animateTo(o.target,o.time,o.delay,o.easing,u)}return this;function u(){n--,n||(r.length=0,a={},i&&i())}}}}return nv.createWrap=t,nv}var ov,m_;function wq(){if(m_)return ov;m_=1;var e=_e,t=W,r=fe,a=wa(),i=Ca(),n=Sq(),s=kn(),c=Xe,o=Je,u=bq(),v=vi,h=Ne,l=h.windowOpen,d=t.bind,f=r.Group,m=r.Rect,g=t.each,p=3,y=["label"],_=["emphasis","label"],w=["upperLabel"],S=["emphasis","upperLabel"],A=10,x=1,b=2,T=v([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),M=function(I){var E=T(I);return E.stroke=E.fill=E.lineWidth=null,E},C=e.extendChartView({type:"treemap",init:function(I,E){this._containerGroup,this._storage=D(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(I,E,O,B){var q=E.findComponents({mainType:"series",subType:"treemap",query:B});if(!(t.indexOf(q,I)<0)){this.seriesModel=I,this.api=O,this.ecModel=E;var V=["treemapZoomToNode","treemapRootToNode"],R=i.retrieveTargetInfo(B,V,I),z=B&&B.type,k=I.layoutInfo,N=!this._oldTree,G=this._storage,H=z==="treemapRootToNode"&&R&&G?{rootNodeGroup:G.nodeGroup[R.node.getRawIndex()],direction:B.direction}:null,F=this._giveContainerGroup(k),$=this._doRender(F,I,H);!N&&(!z||z==="treemapZoomToNode"||z==="treemapRootToNode")?this._doAnimation(F,$,I,H):$.renderFinally(),this._resetController(O),this._renderBreadcrumb(I,O,R)}},_giveContainerGroup:function(I){var E=this._containerGroup;return E||(E=this._containerGroup=new f,this._initEvents(E),this.group.add(E)),E.attr("position",[I.x,I.y]),E},_doRender:function(I,E,O){var B=E.getData().tree,q=this._oldTree,V=D(),R=D(),z=this._storage,k=[],N=t.curry(L,E,R,z,O,V,k);H(B.root?[B.root]:[],q&&q.root?[q.root]:[],I,B===q||!q,0);var G=F(z);return this._oldTree=B,this._storage=R,{lastsForAnimation:V,willDeleteEls:G,renderFinally:$};function H(U,X,Q,j,ee){j?(X=U,g(U,function(ne,Se){!ne.isRemoved()&&te(Se,Se)})):new a(X,U,re,re).add(te).update(te).remove(t.curry(te,null)).execute();function re(ne){return ne.getId()}function te(ne,Se){var le=ne!=null?U[ne]:null,pe=Se!=null?X[Se]:null,de=N(le,pe,Q,ee);de&&H(le&&le.viewChildren||[],pe&&pe.viewChildren||[],de,j,ee+1)}}function F(U){var X=D();return U&&g(U,function(Q,j){var ee=X[j];g(Q,function(re){re&&(ee.push(re),re.__tmWillDelete=1)})}),X}function $(){g(G,function(U){g(U,function(X){X.parent&&X.parent.remove(X)})}),g(k,function(U){U.invisible=!0,U.dirty()})}},_doAnimation:function(I,E,O,B){if(O.get("animation")){var q=O.get("animationDurationUpdate"),V=O.get("animationEasing"),R=u.createWrap();g(E.willDeleteEls,function(z,k){g(z,function(N,G){if(!N.invisible){var H=N.parent,F;if(B&&B.direction==="drillDown")F=H===B.rootNodeGroup?{shape:{x:0,y:0,width:H.__tmNodeWidth,height:H.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var $=0,U=0;H.__tmWillDelete||($=H.__tmNodeWidth/2,U=H.__tmNodeHeight/2),F=k==="nodeGroup"?{position:[$,U],style:{opacity:0}}:{shape:{x:$,y:U,width:0,height:0},style:{opacity:0}}}F&&R.add(N,F,q,V)}})}),g(this._storage,function(z,k){g(z,function(N,G){var H=E.lastsForAnimation[k][G],F={};H&&(k==="nodeGroup"?H.old&&(F.position=N.position.slice(),N.attr("position",H.old)):(H.old&&(F.shape=t.extend({},N.shape),N.setShape(H.old)),H.fadein?(N.setStyle("opacity",0),F.style={opacity:1}):N.style.opacity!==1&&(F.style={opacity:1})),R.add(N,F,q,V))})},this),this._state="animating",R.done(d(function(){this._state="ready",E.renderFinally()},this)).start()}},_resetController:function(I){var E=this._controller;E||(E=this._controller=new s(I.getZr()),E.enable(this.seriesModel.get("roam")),E.on("pan",d(this._onPan,this)),E.on("zoom",d(this._onZoom,this)));var O=new c(0,0,I.getWidth(),I.getHeight());E.setPointerChecker(function(B,q,V){return O.contain(q,V)})},_clearController:function(){var I=this._controller;I&&(I.dispose(),I=null)},_onPan:function(I){if(this._state!=="animating"&&(Math.abs(I.dx)>p||Math.abs(I.dy)>p)){var E=this.seriesModel.getData().tree.root;if(!E)return;var O=E.getLayout();if(!O)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:O.x+I.dx,y:O.y+I.dy,width:O.width,height:O.height}})}},_onZoom:function(I){var E=I.originX,O=I.originY;if(this._state!=="animating"){var B=this.seriesModel.getData().tree.root;if(!B)return;var q=B.getLayout();if(!q)return;var V=new c(q.x,q.y,q.width,q.height),R=this.seriesModel.layoutInfo;E-=R.x,O-=R.y;var z=o.create();o.translate(z,z,[-E,-O]),o.scale(z,z,[I.scale,I.scale]),o.translate(z,z,[E,O]),V.applyTransform(z),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:V.x,y:V.y,width:V.width,height:V.height}})}},_initEvents:function(I){I.on("click",function(E){if(this._state==="ready"){var O=this.seriesModel.get("nodeClick",!0);if(O){var B=this.findTarget(E.offsetX,E.offsetY);if(B){var q=B.node;if(q.getLayout().isLeafRoot)this._rootToNode(B);else if(O==="zoomToNode")this._zoomToNode(B);else if(O==="link"){var V=q.hostTree.data.getItemModel(q.dataIndex),R=V.get("link",!0),z=V.get("target",!0)||"blank";R&&l(R,z)}}}}},this)},_renderBreadcrumb:function(I,E,O){O||(O=I.get("leafDepth",!0)!=null?{node:I.getViewRoot()}:this.findTarget(E.getWidth()/2,E.getHeight()/2),O||(O={node:I.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new n(this.group))).render(I,E,O.node,d(B,this));function B(q){this._state!=="animating"&&(i.aboveViewRoot(I.getViewRoot(),q)?this._rootToNode({node:q}):this._zoomToNode({node:q}))}},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=D(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(I){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:I.node})},_rootToNode:function(I){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:I.node})},findTarget:function(I,E){var O,B=this.seriesModel.getViewRoot();return B.eachNode({attr:"viewChildren",order:"preorder"},function(q){var V=this._storage.background[q.getRawIndex()];if(V){var R=V.transformCoordToLocal(I,E),z=V.shape;if(z.x<=R[0]&&R[0]<=z.x+z.width&&z.y<=R[1]&&R[1]<=z.y+z.height)O={node:q,offsetX:R[0],offsetY:R[1]};else return!1}},this),O}});function D(){return{nodeGroup:[],background:[],content:[]}}function L(I,E,O,B,q,V,R,z,k,N){if(!R)return;var G=R.getLayout(),H=I.getData();if(H.setItemGraphicEl(R.dataIndex,null),!G||!G.isInView)return;var F=G.width,$=G.height,U=G.borderWidth,X=G.invisible,Q=R.getRawIndex(),j=z&&z.getRawIndex(),ee=R.viewChildren,re=G.upperHeight,te=ee&&ee.length,ne=R.getModel("itemStyle"),Se=R.getModel("emphasis.itemStyle"),le=se("nodeGroup",f);if(!le)return;if(k.add(le),le.attr("position",[G.x||0,G.y||0]),le.__tmNodeWidth=F,le.__tmNodeHeight=$,G.isAboveViewRoot)return le;var pe=R.getModel(),de=se("background",m,N,x);if(de&&oe(le,de,te&&G.upperLabelHeight),te)r.isHighDownDispatcher(le)&&r.setAsHighDownDispatcher(le,!1),de&&(r.setAsHighDownDispatcher(de,!0),H.setItemGraphicEl(R.dataIndex,de));else{var ie=se("content",m,N,b);ie&&ge(le,ie),de&&r.isHighDownDispatcher(de)&&r.setAsHighDownDispatcher(de,!1),r.setAsHighDownDispatcher(le,!0),H.setItemGraphicEl(R.dataIndex,le)}return le;function oe(he,me,xe){if(me.dataIndex=R.dataIndex,me.seriesIndex=I.seriesIndex,me.setShape({x:0,y:0,width:F,height:$}),X)Z(me);else{me.invisible=!1;var Ce=R.getVisual("borderColor",!0),Me=Se.get("borderColor"),Ae=M(ne);Ae.fill=Ce;var Ve=T(Se);if(Ve.fill=Me,xe){var qe=F-2*U;K(Ae,Ve,Ce,qe,re,{x:U,y:0,width:qe,height:re})}else Ae.text=Ve.text=null;me.setStyle(Ae),r.setElementHoverStyle(me,Ve)}he.add(me)}function ge(he,me){me.dataIndex=R.dataIndex,me.seriesIndex=I.seriesIndex;var xe=Math.max(F-2*U,0),Ce=Math.max($-2*U,0);if(me.culling=!0,me.setShape({x:U,y:U,width:xe,height:Ce}),X)Z(me);else{me.invisible=!1;var Me=R.getVisual("color",!0),Ae=M(ne);Ae.fill=Me;var Ve=T(Se);K(Ae,Ve,Me,xe,Ce),me.setStyle(Ae),r.setElementHoverStyle(me,Ve)}he.add(me)}function Z(he){!he.invisible&&V.push(he)}function K(he,me,xe,Ce,Me,Ae){var Ve=pe.get("name"),qe=pe.getModel(Ae?w:y),We=pe.getModel(Ae?S:_),Ge=qe.getShallow("show");r.setLabelStyle(he,me,qe,We,{defaultText:Ge?Ve:null,autoColor:xe,isRectText:!0,labelFetcher:I,labelDataIndex:R.dataIndex,labelProp:Ae?"upperLabel":"label"}),J(he,Ae,G),J(me,Ae,G),Ae&&(he.textRect=t.clone(Ae)),he.truncate=Ge&&qe.get("ellipsis")?{outerWidth:Ce,outerHeight:Me,minChar:2}:null}function J(he,me,xe){var Ce=he.text;if(!me&&xe.isLeafRoot&&Ce!=null){var Me=I.get("drillDownIcon",!0);he.text=Me?Me+" "+Ce:Ce}}function se(he,me,xe,Ce){var Me=j!=null&&O[he][j],Ae=q[he];return Me?(O[he][j]=null,ue(Ae,Me,he)):X||(Me=new me({z:P(xe,Ce)}),Me.__tmDepth=xe,Me.__tmStorageName=he,ve(Ae,Me,he)),E[he][Q]=Me}function ue(he,me,xe){var Ce=he[Q]={};Ce.old=xe==="nodeGroup"?me.position.slice():t.extend({},me.shape)}function ve(he,me,xe){var Ce=he[Q]={},Me=R.parentNode;if(Me&&(!B||B.direction==="drillDown")){var Ae=0,Ve=0,qe=q.background[Me.getRawIndex()];!B&&qe&&qe.old&&(Ae=qe.old.width,Ve=qe.old.height),Ce.old=xe==="nodeGroup"?[0,Ve]:{x:Ae,y:Ve,width:0,height:0}}Ce.fadein=xe!=="nodeGroup"}}function P(I,E){var O=I*A+E;return(O-1)/O}return ov=C,ov}var y_={},__;function Aq(){if(__)return y_;__=1;for(var e=_e,t=Ca(),r=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<a.length;i++)e.registerAction({type:a[i],update:"updateView"},r);return e.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,s){s.eachComponent({mainType:"series",subType:"treemap",query:n},c);function c(o,u){var v=["treemapZoomToNode","treemapRootToNode"],h=t.retrieveTargetInfo(n,v,o);if(h){var l=o.getViewRoot();l&&(n.direction=t.aboveViewRoot(l,h.node)?"rollUp":"drillDown"),o.resetViewRoot(h.node)}}}),y_}var sv,x_;function Ma(){if(x_)return sv;x_=1;var e=W,t=lt,r=Le,a=r.linearMap,i=e.each,n=e.isObject,s=-1,c=function(x){var b=x.mappingMethod,T=x.type,M=this.option=e.clone(x);this.type=T,this.mappingMethod=b,this._normalizeData=w[b];var C=o[T];this.applyVisual=C.applyVisual,this.getColorMapper=C.getColorMapper,this._doMap=C._doMap[b],b==="piecewise"?(h(M),u(M)):b==="category"?M.categories?v(M):h(M,!0):(e.assert(b!=="linear"||M.dataExtent),h(M))};c.prototype={constructor:c,mapValueToVisual:function(x){var b=this._normalizeData(x);return this._doMap(b,x)},getNormalizer:function(){return e.bind(this._normalizeData,this)}};var o=c.visualHandlers={color:{applyVisual:f("color"),getColorMapper:function(){var x=this.option;return e.bind(x.mappingMethod==="category"?function(b,T){return!T&&(b=this._normalizeData(b)),m.call(this,b)}:function(b,T,M){var C=!!M;return!T&&(b=this._normalizeData(b)),M=t.fastLerp(b,x.parsedVisual,M),C?M:t.stringify(M,"rgba")},this)},_doMap:{linear:function(x){return t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")},category:m,piecewise:function(x,b){var T=y.call(this,b);return T==null&&(T=t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")),T},fixed:g}},colorHue:l(function(x,b){return t.modifyHSL(x,b)}),colorSaturation:l(function(x,b){return t.modifyHSL(x,null,b)}),colorLightness:l(function(x,b){return t.modifyHSL(x,null,null,b)}),colorAlpha:l(function(x,b){return t.modifyAlpha(x,b)}),opacity:{applyVisual:f("opacity"),_doMap:p([0,1])},liftZ:{applyVisual:f("liftZ"),_doMap:{linear:g,category:g,piecewise:g,fixed:g}},symbol:{applyVisual:function(x,b,T){var M=this.mapValueToVisual(x);if(e.isString(M))T("symbol",M);else if(n(M))for(var C in M)M.hasOwnProperty(C)&&T(C,M[C])},_doMap:{linear:d,category:m,piecewise:function(x,b){var T=y.call(this,b);return T==null&&(T=d.call(this,x)),T},fixed:g}},symbolSize:{applyVisual:f("symbolSize"),_doMap:p([0,1])}};function u(x){var b=x.pieceList;x.hasSpecialVisual=!1,e.each(b,function(T,M){T.originIndex=M,T.visual!=null&&(x.hasSpecialVisual=!0)})}function v(x){var b=x.categories,T=x.visual,M=x.categoryMap={};if(i(b,function(L,P){M[L]=P}),!e.isArray(T)){var C=[];e.isObject(T)?i(T,function(L,P){var I=M[P];C[I??s]=L}):C[s]=T,T=_(x,C)}for(var D=b.length-1;D>=0;D--)T[D]==null&&(delete M[b[D]],b.pop())}function h(x,b){var T=x.visual,M=[];e.isObject(T)?i(T,function(D){M.push(D)}):T!=null&&M.push(T);var C={color:1,symbol:1};!b&&M.length===1&&!C.hasOwnProperty(x.type)&&(M[1]=M[0]),_(x,M)}function l(x){return{applyVisual:function(b,T,M){b=this.mapValueToVisual(b),M("color",x(T("color"),b))},_doMap:p([0,1])}}function d(x){var b=this.option.visual;return b[Math.round(a(x,[0,1],[0,b.length-1],!0))]||{}}function f(x){return function(b,T,M){M(x,this.mapValueToVisual(b))}}function m(x){var b=this.option.visual;return b[this.option.loop&&x!==s?x%b.length:x]}function g(){return this.option.visual[0]}function p(x){return{linear:function(b){return a(b,x,this.option.visual,!0)},category:m,piecewise:function(b,T){var M=y.call(this,T);return M==null&&(M=a(b,x,this.option.visual,!0)),M},fixed:g}}function y(x){var b=this.option,T=b.pieceList;if(b.hasSpecialVisual){var M=c.findPieceIndex(x,T),C=T[M];if(C&&C.visual)return C.visual[this.type]}}function _(x,b){return x.visual=b,x.type==="color"&&(x.parsedVisual=e.map(b,function(T){return t.parse(T)})),b}var w={linear:function(x){return a(x,this.option.dataExtent,[0,1],!0)},piecewise:function(x){var b=this.option.pieceList,T=c.findPieceIndex(x,b,!0);if(T!=null)return a(T,[0,b.length-1],[0,1],!0)},category:function(x){var b=this.option.categories?this.option.categoryMap[x]:x;return b??s},fixed:e.noop};c.listVisualTypes=function(){var x=[];return e.each(o,function(b,T){x.push(T)}),x},c.addVisualHandler=function(x,b){o[x]=b},c.isValidType=function(x){return o.hasOwnProperty(x)},c.eachVisual=function(x,b,T){e.isObject(x)?e.each(x,b,T):b.call(T,x)},c.mapVisual=function(x,b,T){var M,C=e.isArray(x)?[]:e.isObject(x)?{}:(M=!0,null);return c.eachVisual(x,function(D,L){var P=b.call(T,D,L);M?C=P:C[L]=P}),C},c.retrieveVisuals=function(x){var b={},T;return x&&i(o,function(M,C){x.hasOwnProperty(C)&&(b[C]=x[C],T=!0)}),T?b:null},c.prepareVisualTypes=function(x){if(n(x)){var b=[];i(x,function(T,M){b.push(M)}),x=b}else if(e.isArray(x))x=x.slice();else return[];return x.sort(function(T,M){return M==="color"&&T!=="color"&&T.indexOf("color")===0?1:-1}),x},c.dependsOn=function(x,b){return b==="color"?!!(x&&x.indexOf(b)===0):x===b},c.findPieceIndex=function(x,b,T){for(var M,C=1/0,D=0,L=b.length;D<L;D++){var P=b[D].value;if(P!=null){if(P===x||typeof P=="string"&&P===x+"")return D;T&&B(P,D)}}for(var D=0,L=b.length;D<L;D++){var I=b[D],E=I.interval,O=I.close;if(E){if(E[0]===-1/0){if(S(O[1],x,E[1]))return D}else if(E[1]===1/0){if(S(O[0],E[0],x))return D}else if(S(O[0],E[0],x)&&S(O[1],x,E[1]))return D;T&&B(E[0],D),T&&B(E[1],D)}}if(T)return x===1/0?b.length-1:x===-1/0?0:M;function B(q,V){var R=Math.abs(q-x);R<C&&(C=R,M=V)}};function S(x,b,T){return x?b<=T:b<T}var A=c;return sv=A,sv}var lv,S_;function Tq(){if(S_)return lv;S_=1;var e=Ma(),t=lt,r=W,a=r.isArray,i="itemStyle",n={seriesType:"treemap",reset:function(f,m,g,p){var y=f.getData().tree,_=y.root,w=f.getModel(i);if(!_.isRemoved()){var S=r.map(y.levelModels,function(A){return A?A.get(i):null});s(_,{},S,w,f.getViewRoot().getAncestors(),f)}}};function s(f,m,g,p,y,_){var w=f.getModel(),S=f.getLayout();if(!(!S||S.invisible||!S.isInView)){var A=f.getModel(i),x=g[f.depth],b=c(A,m,x,p),T=A.get("borderColor"),M=A.get("borderColorSaturation"),C;M!=null&&(C=o(b),T=u(M,C)),f.setVisual("borderColor",T);var D=f.viewChildren;if(!D||!D.length)C=o(b),f.setVisual("color",C);else{var L=h(f,w,S,A,b,D);r.each(D,function(P,I){if(P.depth>=y.length||P===y[P.depth]){var E=d(w,b,P,I,L,_);s(P,E,g,p,y,_)}})}}}function c(f,m,g,p){var y=r.extend({},m);return r.each(["color","colorAlpha","colorSaturation"],function(_){var w=f.get(_,!0);w==null&&g&&(w=g[_]),w==null&&(w=m[_]),w==null&&(w=p.get(_)),w!=null&&(y[_]=w)}),y}function o(f){var m=v(f,"color");if(m){var g=v(f,"colorAlpha"),p=v(f,"colorSaturation");return p&&(m=t.modifyHSL(m,null,null,p)),g&&(m=t.modifyAlpha(m,g)),m}}function u(f,m){return m!=null?t.modifyHSL(m,null,null,f):null}function v(f,m){var g=f[m];if(g!=null&&g!=="none")return g}function h(f,m,g,p,y,_){if(!(!_||!_.length)){var w=l(m,"color")||y.color!=null&&y.color!=="none"&&(l(m,"colorAlpha")||l(m,"colorSaturation"));if(w){var S=m.get("visualMin"),A=m.get("visualMax"),x=g.dataExtent.slice();S!=null&&S<x[0]&&(x[0]=S),A!=null&&A>x[1]&&(x[1]=A);var b=m.get("colorMappingBy"),T={type:w.name,dataExtent:x,visual:w.range};T.type==="color"&&(b==="index"||b==="id")?(T.mappingMethod="category",T.loop=!0):T.mappingMethod="linear";var M=new e(T);return M.__drColorMappingBy=b,M}}}function l(f,m){var g=f.get(m);return a(g)&&g.length?{name:m,range:g}:null}function d(f,m,g,p,y,_){var w=r.extend({},m);if(y){var S=y.type,A=S==="color"&&y.__drColorMappingBy,x=A==="index"?p:A==="id"?_.mapIdToIndex(g.getId()):g.getValue(f.get("visualDimension"));w[S]=y.mapValueToVisual(x)}return w}return lv=n,lv}var uv,b_;function Cq(){if(b_)return uv;b_=1;var e=W,t=Xe,r=Le,a=r.parsePercent,i=r.MAX_SAFE_INTEGER,n=Be,s=Ca(),c=Math.max,o=Math.min,u=e.retrieve,v=e.each,h=["itemStyle","borderWidth"],l=["itemStyle","gapWidth"],d=["upperLabel","show"],f=["upperLabel","height"],m={seriesType:"treemap",reset:function(C,D,L,P){var I=L.getWidth(),E=L.getHeight(),O=C.option,B=n.getLayoutRect(C.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()}),q=O.size||[],V=a(u(B.width,q[0]),I),R=a(u(B.height,q[1]),E),z=P&&P.type,k=["treemapZoomToNode","treemapRootToNode"],N=s.retrieveTargetInfo(P,k,C),G=z==="treemapRender"||z==="treemapMove"?P.rootRect:null,H=C.getViewRoot(),F=s.getPathToRoot(H);if(z!=="treemapMove"){var $=z==="treemapZoomToNode"?x(C,N,H,V,R):G?[G.width,G.height]:[V,R],U=O.sort;U&&U!=="asc"&&U!=="desc"&&(U="desc");var X={squareRatio:O.squareRatio,sort:U,leafDepth:O.leafDepth};H.hostTree.clearLayouts();var Q={x:0,y:0,width:$[0],height:$[1],area:$[0]*$[1]};H.setLayout(Q),g(H,X,!1,0);var Q=H.getLayout();v(F,function(ee,re){var te=(F[re+1]||H).getValue();ee.setLayout(e.extend({dataExtent:[te,te],borderWidth:0,upperHeight:0},Q))})}var j=C.getData().tree.root;j.setLayout(b(B,G,N),!0),C.setLayoutInfo(B),T(j,new t(-B.x,-B.y,I,E),F,H,0)}};function g(C,D,L,P){var I,E;if(!C.isRemoved()){var O=C.getLayout();I=O.width,E=O.height;var N=C.getModel(),B=N.get(h),q=N.get(l)/2,V=M(N),R=Math.max(B,V),z=B-q,k=R-q,N=C.getModel();C.setLayout({borderWidth:B,upperHeight:R,upperLabelHeight:V},!0),I=c(I-2*z,0),E=c(E-z-k,0);var G=I*E,H=p(C,N,G,D,L,P);if(H.length){var F={x:z,y:k,width:I,height:E},$=o(I,E),U=1/0,X=[];X.area=0;for(var Q=0,j=H.length;Q<j;){var ee=H[Q];X.push(ee),X.area+=ee.getLayout().area;var re=S(X,$,D.squareRatio);re<=U?(Q++,U=re):(X.area-=X.pop().getLayout().area,A(X,$,F,q,!1),$=o(F.width,F.height),X.length=X.area=0,U=1/0)}if(X.length&&A(X,$,F,q,!0),!L){var te=N.get("childrenVisibleMin");te!=null&&G<te&&(L=!0)}for(var Q=0,j=H.length;Q<j;Q++)g(H[Q],D,L,P+1)}}}function p(C,D,L,P,I,E){var O=C.children||[],B=P.sort;B!=="asc"&&B!=="desc"&&(B=null);var q=P.leafDepth!=null&&P.leafDepth<=E;if(I&&!q)return C.viewChildren=[];O=e.filter(O,function(N){return!N.isRemoved()}),_(O,B);var V=w(D,O,B);if(V.sum===0)return C.viewChildren=[];if(V.sum=y(D,L,V.sum,B,O),V.sum===0)return C.viewChildren=[];for(var R=0,z=O.length;R<z;R++){var k=O[R].getValue()/V.sum*L;O[R].setLayout({area:k})}return q&&(O.length&&C.setLayout({isLeafRoot:!0},!0),O.length=0),C.viewChildren=O,C.setLayout({dataExtent:V.dataExtent},!0),O}function y(C,D,L,P,I){if(!P)return L;for(var E=C.get("visibleMin"),O=I.length,B=O,q=O-1;q>=0;q--){var V=I[P==="asc"?O-q-1:q].getValue();V/L*D<E&&(B=q,L-=V)}return P==="asc"?I.splice(0,O-B):I.splice(B,O-B),L}function _(C,D){return D&&C.sort(function(L,P){var I=D==="asc"?L.getValue()-P.getValue():P.getValue()-L.getValue();return I===0?D==="asc"?L.dataIndex-P.dataIndex:P.dataIndex-L.dataIndex:I}),C}function w(C,D,L){for(var P=0,I=0,E=D.length;I<E;I++)P+=D[I].getValue();var O=C.get("visualDimension"),B;if(!D||!D.length)B=[NaN,NaN];else if(O==="value"&&L)B=[D[D.length-1].getValue(),D[0].getValue()],L==="asc"&&B.reverse();else{var B=[1/0,-1/0];v(D,function(V){var R=V.getValue(O);R<B[0]&&(B[0]=R),R>B[1]&&(B[1]=R)})}return{sum:P,dataExtent:B}}function S(C,D,L){for(var P=0,I=1/0,E=0,O,B=C.length;E<B;E++)O=C[E].getLayout().area,O&&(O<I&&(I=O),O>P&&(P=O));var q=C.area*C.area,V=D*D*L;return q?c(V*P/q,q/(V*I)):1/0}function A(C,D,L,P,I){var E=D===L.width?0:1,O=1-E,B=["x","y"],q=["width","height"],V=L[B[E]],R=D?C.area/D:0;(I||R>L[q[O]])&&(R=L[q[O]]);for(var z=0,k=C.length;z<k;z++){var N=C[z],G={},H=R?N.getLayout().area/R:0,F=G[q[O]]=c(R-2*P,0),$=L[B[E]]+L[q[E]]-V,U=z===k-1||$<H?$:H,X=G[q[E]]=c(U-2*P,0);G[B[O]]=L[B[O]]+o(P,F/2),G[B[E]]=V+o(P,X/2),V+=U,N.setLayout(G,!0)}L[B[O]]+=R,L[q[O]]-=R}function x(C,D,L,P,I){var E=(D||{}).node,O=[P,I];if(!E||E===L)return O;for(var B,q=P*I,V=q*C.option.zoomToNodeRatio;B=E.parentNode;){for(var R=0,z=B.children,k=0,N=z.length;k<N;k++)R+=z[k].getValue();var G=E.getValue();if(G===0)return O;V*=R/G;var H=B.getModel(),F=H.get(h),$=Math.max(F,M(H));V+=4*F*F+(3*F+$)*Math.pow(V,.5),V>i&&(V=i),E=B}V<q&&(V=q);var U=Math.pow(V/q,.5);return[P*U,I*U]}function b(C,D,L){if(D)return{x:D.x,y:D.y};var P={x:0,y:0};if(!L)return P;var I=L.node,E=I.getLayout();if(!E)return P;for(var O=[E.width/2,E.height/2],B=I;B;){var q=B.getLayout();O[0]+=q.x,O[1]+=q.y,B=B.parentNode}return{x:C.width/2-O[0],y:C.height/2-O[1]}}function T(C,D,L,P,I){var E=C.getLayout(),O=L[I],B=O&&O===C;if(!(O&&!B||I===L.length&&C!==P)){C.setLayout({isInView:!0,invisible:!B&&!D.intersect(E),isAboveViewRoot:B},!0);var q=new t(D.x-E.x,D.y-E.y,D.width,D.height);v(C.viewChildren||[],function(V){T(V,q,L,P,I+1)})}}function M(C){return C.get(d)?C.get(f):0}return uv=m,uv}var w_;function Mq(){if(w_)return c_;w_=1;var e=_e;xq(),wq(),Aq();var t=Tq(),r=Cq();return e.registerVisual(t),e.registerLayout(r),c_}var A_={},vv,T_;function Dq(){if(T_)return vv;T_=1;var e=W,t=Et,r=t.enableClassCheck;function a(v){return"_EC_"+v}var i=function(v){this._directed=v||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},n=i.prototype;n.type="graph",n.isDirected=function(){return this._directed},n.addNode=function(v,h){v=v==null?""+h:""+v;var l=this._nodesMap;if(!l[a(v)]){var d=new s(v,h);return d.hostGraph=this,this.nodes.push(d),l[a(v)]=d,d}},n.getNodeByIndex=function(v){var h=this.data.getRawIndex(v);return this.nodes[h]},n.getNodeById=function(v){return this._nodesMap[a(v)]},n.addEdge=function(v,h,l){var d=this._nodesMap,f=this._edgesMap;if(typeof v=="number"&&(v=this.nodes[v]),typeof h=="number"&&(h=this.nodes[h]),s.isInstance(v)||(v=d[a(v)]),s.isInstance(h)||(h=d[a(h)]),!(!v||!h)){var m=v.id+"-"+h.id;if(!f[m]){var g=new c(v,h,l);return g.hostGraph=this,this._directed&&(v.outEdges.push(g),h.inEdges.push(g)),v.edges.push(g),v!==h&&h.edges.push(g),this.edges.push(g),f[m]=g,g}}},n.getEdgeByIndex=function(v){var h=this.edgeData.getRawIndex(v);return this.edges[h]},n.getEdge=function(v,h){s.isInstance(v)&&(v=v.id),s.isInstance(h)&&(h=h.id);var l=this._edgesMap;return this._directed?l[v+"-"+h]:l[v+"-"+h]||l[h+"-"+v]},n.eachNode=function(v,h){for(var l=this.nodes,d=l.length,f=0;f<d;f++)l[f].dataIndex>=0&&v.call(h,l[f],f)},n.eachEdge=function(v,h){for(var l=this.edges,d=l.length,f=0;f<d;f++)l[f].dataIndex>=0&&l[f].node1.dataIndex>=0&&l[f].node2.dataIndex>=0&&v.call(h,l[f],f)},n.breadthFirstTraverse=function(v,h,l,d){if(s.isInstance(h)||(h=this._nodesMap[a(h)]),!!h){for(var f=l==="out"?"outEdges":l==="in"?"inEdges":"edges",m=0;m<this.nodes.length;m++)this.nodes[m].__visited=!1;if(!v.call(d,h,null))for(var g=[h];g.length;)for(var p=g.shift(),y=p[f],m=0;m<y.length;m++){var _=y[m],w=_.node1===p?_.node2:_.node1;if(!w.__visited){if(v.call(d,w,p))return;g.push(w),w.__visited=!0}}}},n.update=function(){for(var v=this.data,h=this.edgeData,l=this.nodes,d=this.edges,f=0,m=l.length;f<m;f++)l[f].dataIndex=-1;for(var f=0,m=v.count();f<m;f++)l[v.getRawIndex(f)].dataIndex=f;h.filterSelf(function(g){var p=d[h.getRawIndex(g)];return p.node1.dataIndex>=0&&p.node2.dataIndex>=0});for(var f=0,m=d.length;f<m;f++)d[f].dataIndex=-1;for(var f=0,m=h.count();f<m;f++)d[h.getRawIndex(f)].dataIndex=f},n.clone=function(){for(var v=new i(this._directed),h=this.nodes,l=this.edges,d=0;d<h.length;d++)v.addNode(h[d].id,h[d].dataIndex);for(var d=0;d<l.length;d++){var f=l[d];v.addEdge(f.node1.id,f.node2.id,f.dataIndex)}return v};function s(v,h){this.id=v??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=h??-1}s.prototype={constructor:s,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(v){if(!(this.dataIndex<0)){var h=this.hostGraph,l=h.data.getItemModel(this.dataIndex);return l.getModel(v)}}};function c(v,h,l){this.node1=v,this.node2=h,this.dataIndex=l??-1}c.prototype.getModel=function(v){if(!(this.dataIndex<0)){var h=this.hostGraph,l=h.edgeData.getItemModel(this.dataIndex);return l.getModel(v)}};var o=function(v,h){return{getValue:function(l){var d=this[v][h];return d.get(d.getDimension(l||"value"),this.dataIndex)},setVisual:function(l,d){this.dataIndex>=0&&this[v][h].setItemVisual(this.dataIndex,l,d)},getVisual:function(l,d){return this[v][h].getItemVisual(this.dataIndex,l,d)},setLayout:function(l,d){this.dataIndex>=0&&this[v][h].setItemLayout(this.dataIndex,l,d)},getLayout:function(){return this[v][h].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[v][h].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[v][h].getRawIndex(this.dataIndex)}}};e.mixin(s,o("hostGraph","data")),e.mixin(c,o("hostGraph","edgeData")),i.Node=s,i.Edge=c,r(s),r(c);var u=i;return vv=u,vv}var hv,C_;function kM(){if(C_)return hv;C_=1;var e=W,t=Wt(),r=Dq(),a=RM(),i=mi(),n=xr,s=Or();function c(o,u,v,h,l){for(var d=new r(h),f=0;f<o.length;f++)d.addNode(e.retrieve(o[f].id,o[f].name,f),f);for(var m=[],g=[],p=0,f=0;f<u.length;f++){var y=u[f],_=y.source,w=y.target;d.addEdge(_,w,p)&&(g.push(y),m.push(e.retrieve(y.id,_+" > "+w)),p++)}var S=v.get("coordinateSystem"),A;if(S==="cartesian2d"||S==="polar")A=s(o,v);else{var x=n.get(S),b=x&&x.type!=="view"?x.dimensions||[]:[];e.indexOf(b,"value")<0&&b.concat(["value"]);var T=i(o,{coordDimensions:b});A=new t(T,v),A.initData(o)}var M=new t(["value"],v);return M.initData(g,m),l&&l(A,M),a({mainData:A,struct:d,structAttr:"graph",datas:{node:A,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}return hv=c,hv}var cv,M_;function Lq(){if(M_)return cv;M_=1;var e=_e,t=Wt(),r=W,a=Ie,i=a.defaultEmphasis,n=ot,s=Ne,c=s.encodeHTML,o=kM(),u=Rn(),v=e.extendSeriesModel({type:"series.graph",init:function(l){v.superApply(this,"init",arguments);var d=this;function f(){return d._categoriesData}this.legendVisualProvider=new u(f,f),this.fillDataTextStyle(l.edges||l.links),this._updateCategoriesData()},mergeOption:function(l){v.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(l.edges||l.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(l){v.superApply(this,"mergeDefaultAndTheme",arguments),i(l,["edgeLabel"],["show"])},getInitialData:function(l,d){var f=l.edges||l.links||[],m=l.data||l.nodes||[],g=this;if(m&&f)return o(m,f,this,!0,p).data;function p(y,_){y.wrapMethod("getItemModel",function(T){var M=g._categoriesModels,C=T.getShallow("category"),D=M[C];return D&&(D.parentModel=T.parentModel,T.parentModel=D),T});var w=g.getModel("edgeLabel"),S=new n({label:w.option},w.parentModel,d),A=g.getModel("emphasis.edgeLabel"),x=new n({emphasis:{label:A.option}},A.parentModel,d);_.wrapMethod("getItemModel",function(T){return T.customizeGetParent(b),T});function b(T){return T=this.parsePath(T),T&&T[0]==="label"?S:T&&T[0]==="emphasis"&&T[1]==="label"?x:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(l,d,f){if(f==="edge"){var m=this.getData(),g=this.getDataParams(l,f),p=m.graph.getEdgeByIndex(l),y=m.getName(p.node1.dataIndex),_=m.getName(p.node2.dataIndex),w=[];return y!=null&&w.push(y),_!=null&&w.push(_),w=c(w.join(" > ")),g.value&&(w+=" : "+c(g.value)),w}else return v.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var l=r.map(this.option.categories||[],function(f){return f.value!=null?f:r.extend({value:0},f)}),d=new t(["value"],this);d.initData(l),this._categoriesData=d,this._categoriesModels=d.mapArray(function(f){return d.getItemModel(f,!0)})},setZoom:function(l){this.option.zoom=l},setCenter:function(l){this.option.center=l},isAnimationEnabled:function(){return v.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),h=v;return cv=h,cv}var fv,D_;function Pq(){if(D_)return fv;D_=1;var e=fe,t=Ee,r=e.Line.prototype,a=e.BezierCurve.prototype;function i(s){return isNaN(+s.cpx1)||isNaN(+s.cpy1)}var n=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(s,c){this[i(c)?"_buildPathLine":"_buildPathCurve"](s,c)},_buildPathLine:r.buildPath,_buildPathCurve:a.buildPath,pointAt:function(s){return this[i(this.shape)?"_pointAtLine":"_pointAtCurve"](s)},_pointAtLine:r.pointAt,_pointAtCurve:a.pointAt,tangentAt:function(s){var c=this.shape,o=i(c)?[c.x2-c.x1,c.y2-c.y1]:this._tangentAtCurve(s);return t.normalize(o,o)},_tangentAtCurve:a.tangentAt});return fv=n,fv}var dv,L_;function gg(){if(L_)return dv;L_=1;var e=W,t=Ee,r=Zt(),a=Pq(),i=fe,n=Le,s=n.round,c=["fromSymbol","toSymbol"];function o(g){return"_"+g+"Type"}function u(g,p,y){var _=p.getItemVisual(y,"color"),w=p.getItemVisual(y,g),S=p.getItemVisual(y,g+"Size");if(!(!w||w==="none")){e.isArray(S)||(S=[S,S]);var A=r.createSymbol(w,-S[0]/2,-S[1]/2,S[0],S[1],_);return A.name=g,A}}function v(g){var p=new a({name:"line",subPixelOptimize:!0});return h(p.shape,g),p}function h(g,p){g.x1=p[0][0],g.y1=p[0][1],g.x2=p[1][0],g.y2=p[1][1],g.percent=1;var y=p[2];y?(g.cpx1=y[0],g.cpy1=y[1]):(g.cpx1=NaN,g.cpy1=NaN)}function l(){var g=this,p=g.childOfName("fromSymbol"),y=g.childOfName("toSymbol"),_=g.childOfName("label");if(!(!p&&!y&&_.ignore)){for(var w=1,S=this.parent;S;)S.scale&&(w/=S.scale[0]),S=S.parent;var A=g.childOfName("line");if(!(!this.__dirty&&!A.__dirty)){var x=A.shape.percent,b=A.pointAt(0),T=A.pointAt(x),M=t.sub([],T,b);if(t.normalize(M,M),p){p.attr("position",b);var C=A.tangentAt(0);p.attr("rotation",Math.PI/2-Math.atan2(C[1],C[0])),p.attr("scale",[w*x,w*x])}if(y){y.attr("position",T);var C=A.tangentAt(1);y.attr("rotation",-Math.PI/2-Math.atan2(C[1],C[0])),y.attr("scale",[w*x,w*x])}if(!_.ignore){_.attr("position",T);var D,L,P,I,E=_.__labelDistance,O=E[0]*w,B=E[1]*w,q=x/2,C=A.tangentAt(q),V=[C[1],-C[0]],R=A.pointAt(q);V[1]>0&&(V[0]=-V[0],V[1]=-V[1]);var z=C[0]<0?-1:1;if(_.__position!=="start"&&_.__position!=="end"){var k=-Math.atan2(C[1],C[0]);T[0]<b[0]&&(k=Math.PI+k),_.attr("rotation",k)}var N;switch(_.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":N=-B,P="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":N=B,P="top";break;default:N=0,P="middle"}switch(_.__position){case"end":D=[M[0]*O+T[0],M[1]*B+T[1]],L=M[0]>.8?"left":M[0]<-.8?"right":"center",P=M[1]>.8?"top":M[1]<-.8?"bottom":"middle";break;case"start":D=[-M[0]*O+b[0],-M[1]*B+b[1]],L=M[0]>.8?"right":M[0]<-.8?"left":"center",P=M[1]>.8?"bottom":M[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":D=[O*z+b[0],b[1]+N],L=C[0]<0?"right":"left",I=[-O*z,-N];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":D=[R[0],R[1]+N],L="center",I=[0,-N];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":D=[-O*z+T[0],T[1]+N],L=C[0]>=0?"right":"left",I=[O*z,-N];break}_.attr({style:{textVerticalAlign:_.__verticalAlign||P,textAlign:_.__textAlign||L},position:D,scale:[w,w],origin:I})}}}}function d(g,p,y){i.Group.call(this),this._createLine(g,p,y)}var f=d.prototype;f.beforeUpdate=l,f._createLine=function(g,p,y){var _=g.hostModel,w=g.getItemLayout(p),S=v(w);S.shape.percent=0,i.initProps(S,{shape:{percent:1}},_,p),this.add(S);var A=new i.Text({name:"label",lineLabelOriginalOpacity:1});this.add(A),e.each(c,function(x){var b=u(x,g,p);this.add(b),this[o(x)]=g.getItemVisual(p,x)},this),this._updateCommonStl(g,p,y)},f.updateData=function(g,p,y){var _=g.hostModel,w=this.childOfName("line"),S=g.getItemLayout(p),A={shape:{}};h(A.shape,S),i.updateProps(w,A,_,p),e.each(c,function(x){var b=g.getItemVisual(p,x),T=o(x);if(this[T]!==b){this.remove(this.childOfName(x));var M=u(x,g,p);this.add(M)}this[T]=b},this),this._updateCommonStl(g,p,y)},f._updateCommonStl=function(g,p,y){var _=g.hostModel,w=this.childOfName("line"),S=y&&y.lineStyle,A=y&&y.hoverLineStyle,x=y&&y.labelModel,b=y&&y.hoverLabelModel;if(!y||g.hasItemOption){var T=g.getItemModel(p);S=T.getModel("lineStyle").getLineStyle(),A=T.getModel("emphasis.lineStyle").getLineStyle(),x=T.getModel("label"),b=T.getModel("emphasis.label")}var M=g.getItemVisual(p,"color"),C=e.retrieve3(g.getItemVisual(p,"opacity"),S.opacity,1);w.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:M,opacity:C},S)),w.hoverStyle=A,e.each(c,function(z){var k=this.childOfName(z);k&&(k.setColor(M),k.setStyle({opacity:C}))},this);var D=x.getShallow("show"),L=b.getShallow("show"),P=this.childOfName("label"),I,E;if((D||L)&&(I=M||"#000",E=_.getFormattedLabel(p,"normal",g.dataType),E==null)){var O=_.getRawValue(p);E=O==null?g.getName(p):isFinite(O)?s(O):O}var B=D?E:null,q=L?e.retrieve2(_.getFormattedLabel(p,"emphasis",g.dataType),E):null,V=P.style;if(B!=null||q!=null){i.setTextStyle(P.style,x,{text:B},{autoColor:I}),P.__textAlign=V.textAlign,P.__verticalAlign=V.textVerticalAlign,P.__position=x.get("position")||"middle";var R=x.get("distance");e.isArray(R)||(R=[R,R]),P.__labelDistance=R}q!=null?P.hoverStyle={text:q,textFill:b.getTextColor(!0),fontStyle:b.getShallow("fontStyle"),fontWeight:b.getShallow("fontWeight"),fontSize:b.getShallow("fontSize"),fontFamily:b.getShallow("fontFamily")}:P.hoverStyle={text:null},P.ignore=!D&&!L,i.setHoverStyle(this)},f.highlight=function(){this.trigger("emphasis")},f.downplay=function(){this.trigger("normal")},f.updateLayout=function(g,p){this.setLinePoints(g.getItemLayout(p))},f.setLinePoints=function(g){var p=this.childOfName("line");h(p.shape,g),p.dirty()},e.inherits(d,i.Group);var m=d;return dv=m,dv}var gv,P_;function pg(){if(P_)return gv;P_=1;var e=fe,t=gg();function r(h){this._ctor=h||t,this.group=new e.Group}var a=r.prototype;a.isPersistent=function(){return!0},a.updateData=function(h){var l=this,d=l.group,f=l._lineData;l._lineData=h,f||d.removeAll();var m=c(h);h.diff(f).add(function(g){i(l,h,g,m)}).update(function(g,p){n(l,f,h,p,g,m)}).remove(function(g){d.remove(f.getItemGraphicEl(g))}).execute()};function i(h,l,d,f){var m=l.getItemLayout(d);if(u(m)){var g=new h._ctor(l,d,f);l.setItemGraphicEl(d,g),h.group.add(g)}}function n(h,l,d,f,m,g){var p=l.getItemGraphicEl(f);if(!u(d.getItemLayout(m))){h.group.remove(p);return}p?p.updateData(d,m,g):p=new h._ctor(d,m,g),d.setItemGraphicEl(m,p),h.group.add(p)}a.updateLayout=function(){var h=this._lineData;h&&h.eachItemGraphicEl(function(l,d){l.updateLayout(h,d)},this)},a.incrementalPrepareUpdate=function(h){this._seriesScope=c(h),this._lineData=null,this.group.removeAll()};function s(h){return h.animators&&h.animators.length>0}a.incrementalUpdate=function(h,l){function d(p){!p.isGroup&&!s(p)&&(p.incremental=p.useHoverLayer=!0)}for(var f=h.start;f<h.end;f++){var m=l.getItemLayout(f);if(u(m)){var g=new this._ctor(l,f,this._seriesScope);g.traverse(d),this.group.add(g),l.setItemGraphicEl(f,g)}}};function c(h){var l=h.hostModel;return{lineStyle:l.getModel("lineStyle").getLineStyle(),hoverLineStyle:l.getModel("emphasis.lineStyle").getLineStyle(),labelModel:l.getModel("label"),hoverLabelModel:l.getModel("emphasis.label")}}a.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},a._clearIncremental=function(){var h=this._incremental;h&&h.clearDisplaybles()};function o(h){return isNaN(h[0])||isNaN(h[1])}function u(h){return!o(h[0])&&!o(h[1])}var v=r;return gv=v,gv}var co={},I_;function mg(){if(I_)return co;I_=1;function e(r){var a=r.coordinateSystem;if(a.type!=="view")return 1;var i=r.option.nodeScaleRatio,n=a.scale,s=n&&n[0]||1,c=a.getZoom(),o=(c-1)*i+1;return o/s}function t(r){var a=r.getVisual("symbolSize");return a instanceof Array&&(a=(a[0]+a[1])/2),+a}return co.getNodeGlobalScale=e,co.getSymbolSize=t,co}var pv,R_;function Iq(){if(R_)return pv;R_=1;var e=ut,t=Ee,r=mg(),a=r.getSymbolSize,i=[],n=[],s=[],c=e.quadraticAt,o=t.distSquare,u=Math.abs;function v(l,d,f){for(var m=l[0],g=l[1],p=l[2],y=1/0,_,w=f*f,S=.1,A=.1;A<=.9;A+=.1){i[0]=c(m[0],g[0],p[0],A),i[1]=c(m[1],g[1],p[1],A);var x=u(o(i,d)-w);x<y&&(y=x,_=A)}for(var b=0;b<32;b++){var T=_+S;n[0]=c(m[0],g[0],p[0],_),n[1]=c(m[1],g[1],p[1],_),s[0]=c(m[0],g[0],p[0],T),s[1]=c(m[1],g[1],p[1],T);var x=o(n,d)-w;if(u(x)<.01)break;var M=o(s,d)-w;S/=2,x<0?M>=0?_=_+S:_=_-S:M>=0?_=_-S:_=_+S}return _}function h(l,d){var f=[],m=e.quadraticSubdivide,g=[[],[],[]],p=[[],[]],y=[];d/=2,l.eachEdge(function(_,w){var S=_.getLayout(),A=_.getVisual("fromSymbol"),x=_.getVisual("toSymbol");S.__original||(S.__original=[t.clone(S[0]),t.clone(S[1])],S[2]&&S.__original.push(t.clone(S[2])));var b=S.__original;if(S[2]!=null){if(t.copy(g[0],b[0]),t.copy(g[1],b[2]),t.copy(g[2],b[1]),A&&A!=="none"){var T=a(_.node1),M=v(g,b[0],T*d);m(g[0][0],g[1][0],g[2][0],M,f),g[0][0]=f[3],g[1][0]=f[4],m(g[0][1],g[1][1],g[2][1],M,f),g[0][1]=f[3],g[1][1]=f[4]}if(x&&x!=="none"){var T=a(_.node2),M=v(g,b[1],T*d);m(g[0][0],g[1][0],g[2][0],M,f),g[1][0]=f[1],g[2][0]=f[2],m(g[0][1],g[1][1],g[2][1],M,f),g[1][1]=f[1],g[2][1]=f[2]}t.copy(S[0],g[0]),t.copy(S[1],g[2]),t.copy(S[2],g[1])}else{if(t.copy(p[0],b[0]),t.copy(p[1],b[1]),t.sub(y,p[1],p[0]),t.normalize(y,y),A&&A!=="none"){var T=a(_.node1);t.scaleAndAdd(p[0],p[0],y,T*d)}if(x&&x!=="none"){var T=a(_.node2);t.scaleAndAdd(p[1],p[1],y,-T*d)}t.copy(S[0],p[0]),t.copy(S[1],p[1])}})}return pv=h,pv}var mv,E_;function Rq(){if(E_)return mv;E_=1;var e=_e,t=W,r=Dn(),a=pg(),i=kn(),n=vg(),s=ws(),c=s.onIrrelevantElement,o=fe,u=Iq(),v=mg(),h=v.getNodeGlobalScale,l="__focusNodeAdjacency",d="__unfocusNodeAdjacency",f=["itemStyle","opacity"],m=["lineStyle","opacity"];function g(w,S){var A=w.getVisual("opacity");return A??w.getModel().get(S)}function p(w,S,A){var x=w.getGraphicEl(),b=g(w,S);A!=null&&(b==null&&(b=1),b*=A),x.downplay&&x.downplay(),x.traverse(function(T){if(!T.isGroup){var M=T.lineLabelOriginalOpacity;(M==null||A!=null)&&(M=b),T.setStyle("opacity",M)}})}function y(w,S){var A=g(w,S),x=w.getGraphicEl();x.traverse(function(b){!b.isGroup&&b.setStyle("opacity",A)}),x.highlight&&x.highlight()}var _=e.extendChartView({type:"graph",init:function(w,S){var A=new r,x=new a,b=this.group;this._controller=new i(S.getZr()),this._controllerHost={target:b},b.add(A.group),b.add(x.group),this._symbolDraw=A,this._lineDraw=x,this._firstRender=!0},render:function(w,S,A){var x=this,b=w.coordinateSystem;this._model=w;var T=this._symbolDraw,M=this._lineDraw,C=this.group;if(b.type==="view"){var D={position:b.position,scale:b.scale};this._firstRender?C.attr(D):o.updateProps(C,D,w)}u(w.getGraph(),h(w));var L=w.getData();T.updateData(L);var P=w.getEdgeData();M.updateData(P),this._updateNodeAndLinkScale(),this._updateController(w,S,A),clearTimeout(this._layoutTimeout);var I=w.forceLayout,E=w.get("force.layoutAnimation");I&&this._startForceLayoutIteration(I,E),L.eachItemGraphicEl(function(V,R){var z=L.getItemModel(R);V.off("drag").off("dragend");var k=z.get("draggable");k&&V.on("drag",function(){I&&(I.warmUp(),!this._layouting&&this._startForceLayoutIteration(I,E),I.setFixed(R),L.setItemLayout(R,V.position))},this).on("dragend",function(){I&&I.setUnfixed(R)},this),V.setDraggable(k&&I),V[l]&&V.off("mouseover",V[l]),V[d]&&V.off("mouseout",V[d]),z.get("focusNodeAdjacency")&&(V.on("mouseover",V[l]=function(){x._clearTimer(),A.dispatchAction({type:"focusNodeAdjacency",seriesId:w.id,dataIndex:V.dataIndex})}),V.on("mouseout",V[d]=function(){x._dispatchUnfocus(A)}))},this),L.graph.eachEdge(function(V){var R=V.getGraphicEl();R[l]&&R.off("mouseover",R[l]),R[d]&&R.off("mouseout",R[d]),V.getModel().get("focusNodeAdjacency")&&(R.on("mouseover",R[l]=function(){x._clearTimer(),A.dispatchAction({type:"focusNodeAdjacency",seriesId:w.id,edgeDataIndex:V.dataIndex})}),R.on("mouseout",R[d]=function(){x._dispatchUnfocus(A)}))});var O=w.get("layout")==="circular"&&w.get("circular.rotateLabel"),B=L.getLayout("cx"),q=L.getLayout("cy");L.eachItemGraphicEl(function(V,R){var z=L.getItemModel(R),k=z.get("label.rotate")||0,N=V.getSymbolPath();if(O){var G=L.getItemLayout(R),H=Math.atan2(G[1]-q,G[0]-B);H<0&&(H=Math.PI*2+H);var F=G[0]<B;F&&(H=H-Math.PI);var $=F?"left":"right";o.modifyLabelStyle(N,{textRotation:-H,textPosition:$,textOrigin:"center"},{textPosition:$})}else o.modifyLabelStyle(N,{textRotation:k*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(w,S){var A=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){A._unfocusDelayTimer=null,w.dispatchAction({type:"unfocusNodeAdjacency",seriesId:A._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(w,S,A,x){var b=w.getData(),T=b.graph,M=x.dataIndex,C=x.edgeDataIndex,D=T.getNodeByIndex(M),L=T.getEdgeByIndex(C);!D&&!L||(T.eachNode(function(P){p(P,f,.1)}),T.eachEdge(function(P){p(P,m,.1)}),D&&(y(D,f),t.each(D.edges,function(P){P.dataIndex<0||(y(P,m),y(P.node1,f),y(P.node2,f))})),L&&(y(L,m),y(L.node1,f),y(L.node2,f)))},unfocusNodeAdjacency:function(w,S,A,x){var b=w.getData().graph;b.eachNode(function(T){p(T,f)}),b.eachEdge(function(T){p(T,m)})},_startForceLayoutIteration:function(w,S){var A=this;(function x(){w.step(function(b){A.updateLayout(A._model),(A._layouting=!b)&&(S?A._layoutTimeout=setTimeout(x,16):x())})})()},_updateController:function(w,S,A){var x=this._controller,b=this._controllerHost,T=this.group;if(x.setPointerChecker(function(M,C,D){var L=T.getBoundingRect();return L.applyTransform(T.transform),L.contain(C,D)&&!c(M,A,w)}),w.coordinateSystem.type!=="view"){x.disable();return}x.enable(w.get("roam")),b.zoomLimit=w.get("scaleLimit"),b.zoom=w.coordinateSystem.getZoom(),x.off("pan").off("zoom").on("pan",function(M){n.updateViewOnPan(b,M.dx,M.dy),A.dispatchAction({seriesId:w.id,type:"graphRoam",dx:M.dx,dy:M.dy})}).on("zoom",function(M){n.updateViewOnZoom(b,M.scale,M.originX,M.originY),A.dispatchAction({seriesId:w.id,type:"graphRoam",zoom:M.scale,originX:M.originX,originY:M.originY}),this._updateNodeAndLinkScale(),u(w.getGraph(),h(w)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var w=this._model,S=w.getData(),A=h(w),x=[A,A];S.eachItemGraphicEl(function(b,T){b.attr("scale",x)})},updateLayout:function(w){u(w.getGraph(),h(w)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(w,S){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});return mv=_,mv}var k_={},O_={},z_;function OM(){if(z_)return O_;z_=1;var e=_e;return e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),O_}var B_;function Eq(){if(B_)return k_;B_=1;var e=_e,t=hg(),r=t.updateCenterAndZoom;OM();var a={type:"graphRoam",event:"graphRoam",update:"none"};return e.registerAction(a,function(i,n){n.eachComponent({mainType:"series",query:i},function(s){var c=s.coordinateSystem,o=r(c,i);s.setCenter&&s.setCenter(o.center),s.setZoom&&s.setZoom(o.zoom)})}),k_}var yv,N_;function kq(){if(N_)return yv;N_=1;function e(t){var r=t.findComponents({mainType:"legend"});!r||!r.length||t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),n=a.getGraph(),s=n.data,c=i.mapArray(i.getName);s.filterSelf(function(o){var u=s.getItemModel(o),v=u.getShallow("category");if(v!=null){typeof v=="number"&&(v=c[v]);for(var h=0;h<r.length;h++)if(!r[h].isSelected(v))return!1}return!0})},this)}return yv=e,yv}var _v,V_;function Oq(){if(V_)return _v;V_=1;function e(t){var r={};t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),n=a.getData(),s={};i.each(function(c){var o=i.getName(c);s["ec-"+o]=c;var u=i.getItemModel(c),v=u.get("itemStyle.color")||a.getColorFromPalette(o,r);i.setItemVisual(c,"color",v);for(var h=["opacity","symbol","symbolSize","symbolKeepAspect"],l=0;l<h.length;l++){var d=u.getShallow(h[l],!0);d!=null&&i.setItemVisual(c,h[l],d)}}),i.count()&&n.each(function(c){var o=n.getItemModel(c),u=o.getShallow("category");if(u!=null){typeof u=="string"&&(u=s["ec-"+u]);for(var v=["color","opacity","symbol","symbolSize","symbolKeepAspect"],h=0;h<v.length;h++)n.getItemVisual(c,v[h],!0)==null&&n.setItemVisual(c,v[h],i.getItemVisual(u,v[h]))}})})}return _v=e,_v}var xv,H_;function zq(){if(H_)return xv;H_=1;function e(r){return r instanceof Array||(r=[r,r]),r}function t(r){r.eachSeriesByType("graph",function(a){var i=a.getGraph(),n=a.getEdgeData(),s=e(a.get("edgeSymbol")),c=e(a.get("edgeSymbolSize")),o="lineStyle.color".split("."),u="lineStyle.opacity".split(".");n.setVisual("fromSymbol",s&&s[0]),n.setVisual("toSymbol",s&&s[1]),n.setVisual("fromSymbolSize",c&&c[0]),n.setVisual("toSymbolSize",c&&c[1]),n.setVisual("color",a.get(o)),n.setVisual("opacity",a.get(u)),n.each(function(v){var h=n.getItemModel(v),l=i.getEdgeByIndex(v),d=e(h.getShallow("symbol",!0)),f=e(h.getShallow("symbolSize",!0)),m=h.get(o),g=h.get(u);switch(m){case"source":m=l.node1.getVisual("color");break;case"target":m=l.node2.getVisual("color");break}d[0]&&l.setVisual("fromSymbol",d[0]),d[1]&&l.setVisual("toSymbol",d[1]),f[0]&&l.setVisual("fromSymbolSize",f[0]),f[1]&&l.setVisual("toSymbolSize",f[1]),l.setVisual("color",m),l.setVisual("opacity",g)})})}return xv=t,xv}var fo={},q_;function zM(){if(q_)return fo;q_=1;var e=Ee;function t(a){var i=a.coordinateSystem;if(!(i&&i.type!=="view")){var n=a.getGraph();n.eachNode(function(s){var c=s.getModel();s.setLayout([+c.get("x"),+c.get("y")])}),r(n)}}function r(a){a.eachEdge(function(i){var n=i.getModel().get("lineStyle.curveness")||0,s=e.clone(i.node1.getLayout()),c=e.clone(i.node2.getLayout()),o=[s,c];+n&&o.push([(s[0]+c[0])/2-(s[1]-c[1])*n,(s[1]+c[1])/2-(c[0]-s[0])*n]),i.setLayout(o)})}return fo.simpleLayout=t,fo.simpleLayoutEdge=r,fo}var Sv,G_;function Bq(){if(G_)return Sv;G_=1;var e=W,t=e.each,r=zM(),a=r.simpleLayout,i=r.simpleLayoutEdge;function n(s,c){s.eachSeriesByType("graph",function(o){var u=o.get("layout"),v=o.coordinateSystem;if(v&&v.type!=="view"){var h=o.getData(),l=[];t(v.dimensions,function(y){l=l.concat(h.mapDimension(y,!0))});for(var d=0;d<h.count();d++){for(var f=[],m=!1,g=0;g<l.length;g++){var p=h.get(l[g],d);isNaN(p)||(m=!0),f.push(p)}m?h.setItemLayout(d,v.dataToPoint(f)):h.setItemLayout(d,[NaN,NaN])}i(h.graph)}else(!u||u==="none")&&a(o)})}return Sv=n,Sv}var bv={},F_;function BM(){if(F_)return bv;F_=1;var e=Ee,t=mg(),r=t.getSymbolSize,a=t.getNodeGlobalScale,i=Math.PI,n=[];function s(o,u){var v=o.coordinateSystem;if(!(v&&v.type!=="view")){var h=v.getBoundingRect(),l=o.getData(),d=l.graph,f=h.width/2+h.x,m=h.height/2+h.y,g=Math.min(h.width,h.height)/2,p=l.count();l.setLayout({cx:f,cy:m}),p&&(c[u](o,v,d,l,g,f,m,p),d.eachEdge(function(y){var _=y.getModel().get("lineStyle.curveness")||0,w=e.clone(y.node1.getLayout()),S=e.clone(y.node2.getLayout()),A,x=(w[0]+S[0])/2,b=(w[1]+S[1])/2;+_&&(_*=3,A=[f*_+x*(1-_),m*_+b*(1-_)]),y.setLayout([w,S,A])}))}}var c={value:function(o,u,v,h,l,d,f,m){var g=0,p=h.getSum("value"),y=Math.PI*2/(p||m);v.eachNode(function(_){var w=_.getValue("value"),S=y*(p?w:1)/2;g+=S,_.setLayout([l*Math.cos(g)+d,l*Math.sin(g)+f]),g+=S})},symbolSize:function(o,u,v,h,l,d,f,m){var g=0;n.length=m;var p=a(o);v.eachNode(function(w){var S=r(w);isNaN(S)&&(S=2),S<0&&(S=0),S*=p;var A=Math.asin(S/2/l);isNaN(A)&&(A=i/2),n[w.dataIndex]=A,g+=A*2});var y=(2*i-g)/m/2,_=0;v.eachNode(function(w){var S=y+n[w.dataIndex];_+=S,w.setLayout([l*Math.cos(_)+d,l*Math.sin(_)+f]),_+=S})}};return bv.circularLayout=s,bv}var wv,$_;function Nq(){if($_)return wv;$_=1;var e=BM(),t=e.circularLayout;function r(a){a.eachSeriesByType("graph",function(i){i.get("layout")==="circular"&&t(i,"symbolSize")})}return wv=r,wv}var Av={},U_;function Vq(){if(U_)return Av;U_=1;var e=Ee,t=e.scaleAndAdd;function r(a,i,n){for(var s=n.rect,c=s.width,o=s.height,u=[s.x+c/2,s.y+o/2],v=n.gravity==null?.1:n.gravity,h=0;h<a.length;h++){var l=a[h];l.p||(l.p=e.create(c*(Math.random()-.5)+u[0],o*(Math.random()-.5)+u[1])),l.pp=e.clone(l.p),l.edges=null}var d=n.friction==null?.6:n.friction,f=d;return{warmUp:function(){f=d*.8},setFixed:function(m){a[m].fixed=!0},setUnfixed:function(m){a[m].fixed=!1},step:function(m){for(var g=[],p=a.length,y=0;y<i.length;y++){var _=i[y];if(!_.ignoreForceLayout){var w=_.n1,S=_.n2;e.sub(g,S.p,w.p);var A=e.len(g)-_.d,x=S.w/(w.w+S.w);isNaN(x)&&(x=0),e.normalize(g,g),!w.fixed&&t(w.p,w.p,g,x*A*f),!S.fixed&&t(S.p,S.p,g,-(1-x)*A*f)}}for(var y=0;y<p;y++){var b=a[y];b.fixed||(e.sub(g,u,b.p),t(b.p,b.p,g,v*f))}for(var y=0;y<p;y++)for(var w=a[y],T=y+1;T<p;T++){var S=a[T];e.sub(g,S.p,w.p);var A=e.len(g);A===0&&(e.set(g,Math.random()-.5,Math.random()-.5),A=1);var M=(w.rep+S.rep)/A/A;!w.fixed&&t(w.pp,w.pp,g,M),!S.fixed&&t(S.pp,S.pp,g,-M)}for(var C=[],y=0;y<p;y++){var b=a[y];b.fixed||(e.sub(C,b.p,b.pp),t(b.p,b.p,C,f),e.copy(b.pp,b.p))}f=f*.992,m&&m(a,i,f<.01)}}}return Av.forceLayout=r,Av}var Tv,W_;function Hq(){if(W_)return Tv;W_=1;var e=Vq(),t=e.forceLayout,r=zM(),a=r.simpleLayout,i=BM(),n=i.circularLayout,s=Le,c=s.linearMap,o=Ee,u=W;function v(h){h.eachSeriesByType("graph",function(l){var d=l.coordinateSystem;if(!(d&&d.type!=="view"))if(l.get("layout")==="force"){var f=l.preservedPoints||{},m=l.getGraph(),g=m.data,p=m.edgeData,y=l.getModel("force"),_=y.get("initLayout");l.preservedPoints?g.each(function(P){var I=g.getId(P);g.setItemLayout(P,f[I]||[NaN,NaN])}):!_||_==="none"?a(l):_==="circular"&&n(l,"value");var w=g.getDataExtent("value"),S=p.getDataExtent("value"),A=y.get("repulsion"),x=y.get("edgeLength");u.isArray(A)||(A=[A,A]),u.isArray(x)||(x=[x,x]),x=[x[1],x[0]];var b=g.mapArray("value",function(P,I){var E=g.getItemLayout(I),O=c(P,w,A);return isNaN(O)&&(O=(A[0]+A[1])/2),{w:O,rep:O,fixed:g.getItemModel(I).get("fixed"),p:!E||isNaN(E[0])||isNaN(E[1])?null:E}}),T=p.mapArray("value",function(P,I){var E=m.getEdgeByIndex(I),O=c(P,S,x);isNaN(O)&&(O=(x[0]+x[1])/2);var B=E.getModel();return{n1:b[E.node1.dataIndex],n2:b[E.node2.dataIndex],d:O,curveness:B.get("lineStyle.curveness")||0,ignoreForceLayout:B.get("ignoreForceLayout")}}),d=l.coordinateSystem,M=d.getBoundingRect(),C=t(b,T,{rect:M,gravity:y.get("gravity"),friction:y.get("friction")}),D=C.step;C.step=function(P){for(var I=0,E=b.length;I<E;I++)b[I].fixed&&o.copy(b[I].p,m.getNodeByIndex(I).getLayout());D(function(O,B,q){for(var V=0,R=O.length;V<R;V++)O[V].fixed||m.getNodeByIndex(V).setLayout(O[V].p),f[g.getId(V)]=O[V].p;for(var V=0,R=B.length;V<R;V++){var z=B[V],k=m.getEdgeByIndex(V),N=z.n1.p,G=z.n2.p,H=k.getLayout();H=H?H.slice():[],H[0]=H[0]||[],H[1]=H[1]||[],o.copy(H[0],N),o.copy(H[1],G),+z.curveness&&(H[2]=[(N[0]+G[0])/2-(N[1]-G[1])*z.curveness,(N[1]+G[1])/2-(G[0]-N[0])*z.curveness]),k.setLayout(H)}P&&P(q)})},l.forceLayout=C,l.preservedPoints=f,C.step()}else l.forceLayout=null})}return Tv=v,Tv}var Cv,Z_;function qq(){if(Z_)return Cv;Z_=1;var e=cg(),t=Be,r=t.getLayoutRect,a=yn();function i(s,c,o){var u=s.getBoxLayoutParams();return u.aspect=o,r(u,{width:c.getWidth(),height:c.getHeight()})}function n(s,c){var o=[];return s.eachSeriesByType("graph",function(u){var v=u.get("coordinateSystem");if(!v||v==="view"){var h=u.getData(),l=h.mapArray(function(A){var x=h.getItemModel(A);return[+x.get("x"),+x.get("y")]}),d=[],f=[];a.fromPoints(l,d,f),f[0]-d[0]===0&&(f[0]+=1,d[0]-=1),f[1]-d[1]===0&&(f[1]+=1,d[1]-=1);var m=(f[0]-d[0])/(f[1]-d[1]),g=i(u,c,m);isNaN(m)&&(d=[g.x,g.y],f=[g.x+g.width,g.y+g.height]);var p=f[0]-d[0],y=f[1]-d[1],_=g.width,w=g.height,S=u.coordinateSystem=new e;S.zoomLimit=u.get("scaleLimit"),S.setBoundingRect(d[0],d[1],p,y),S.setViewRect(g.x,g.y,_,w),S.setCenter(u.get("center")),S.setZoom(u.get("zoom")),o.push(S)}}),o}return Cv=n,Cv}var Y_;function Gq(){if(Y_)return A_;Y_=1;var e=_e;Lq(),Rq(),Eq();var t=kq(),r=Aa(),a=Oq(),i=zq(),n=Bq(),s=Nq(),c=Hq(),o=qq();return e.registerProcessor(t),e.registerVisual(r("graph","circle",null)),e.registerVisual(a),e.registerVisual(i),e.registerLayout(n),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,s),e.registerLayout(c),e.registerCoordinateSystem("graphView",{create:o}),A_}var X_={},Mv,K_;function Fq(){if(K_)return Mv;K_=1;var e=_i(),t=ct,r=t.extend({type:"series.gauge",getInitialData:function(i,n){return e(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),a=r;return Mv=a,Mv}var Dv,Q_;function $q(){if(Q_)return Dv;Q_=1;var e=at,t=e.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(r,a){var i=Math.cos,n=Math.sin,s=a.r,c=a.width,o=a.angle,u=a.x-i(o)*c*(c>=s/3?1:2),v=a.y-n(o)*c*(c>=s/3?1:2);o=a.angle-Math.PI/2,r.moveTo(u,v),r.lineTo(a.x+i(o)*c,a.y+n(o)*c),r.lineTo(a.x+i(a.angle)*s,a.y+n(a.angle)*s),r.lineTo(a.x-i(o)*c,a.y-n(o)*c),r.lineTo(u,v)}});return Dv=t,Dv}var Lv,j_;function Uq(){if(j_)return Lv;j_=1;var e=$q(),t=fe,r=Sr,a=Le,i=a.parsePercent,n=a.round,s=a.linearMap;function c(l,d){var f=l.get("center"),m=d.getWidth(),g=d.getHeight(),p=Math.min(m,g),y=i(f[0],d.getWidth()),_=i(f[1],d.getHeight()),w=i(l.get("radius"),p/2);return{cx:y,cy:_,r:w}}function o(l,d){return d&&(typeof d=="string"?l=d.replace("{value}",l??""):typeof d=="function"&&(l=d(l))),l}var u=Math.PI*2,v=r.extend({type:"gauge",render:function(l,d,f){this.group.removeAll();var m=l.get("axisLine.lineStyle.color"),g=c(l,f);this._renderMain(l,d,f,m,g)},dispose:function(){},_renderMain:function(l,d,f,m,g){for(var p=this.group,y=l.getModel("axisLine"),_=y.getModel("lineStyle"),w=l.get("clockwise"),S=-l.get("startAngle")/180*Math.PI,A=-l.get("endAngle")/180*Math.PI,x=(A-S)%u,b=S,T=_.get("width"),M=y.get("show"),C=0;M&&C<m.length;C++){var D=Math.min(Math.max(m[C][0],0),1),A=S+x*D,L=new t.Sector({shape:{startAngle:b,endAngle:A,cx:g.cx,cy:g.cy,clockwise:w,r0:g.r-T,r:g.r},silent:!0});L.setStyle({fill:m[C][1]}),L.setStyle(_.getLineStyle(["color","borderWidth","borderColor"])),p.add(L),b=A}var P=function(E){if(E<=0)return m[0][1];for(var O=0;O<m.length;O++)if(m[O][0]>=E&&(O===0?0:m[O-1][0])<E)return m[O][1];return m[O-1][1]};if(!w){var I=S;S=A,A=I}this._renderTicks(l,d,f,P,g,S,A,w),this._renderPointer(l,d,f,P,g,S,A,w),this._renderTitle(l,d,f,P,g),this._renderDetail(l,d,f,P,g)},_renderTicks:function(l,d,f,m,g,p,y,_){for(var w=this.group,S=g.cx,A=g.cy,x=g.r,b=+l.get("min"),T=+l.get("max"),M=l.getModel("splitLine"),C=l.getModel("axisTick"),D=l.getModel("axisLabel"),L=l.get("splitNumber"),P=C.get("splitNumber"),I=i(M.get("length"),x),E=i(C.get("length"),x),O=p,B=(y-p)/L,q=B/P,V=M.getModel("lineStyle").getLineStyle(),R=C.getModel("lineStyle").getLineStyle(),z=0;z<=L;z++){var k=Math.cos(O),N=Math.sin(O);if(M.get("show")){var G=new t.Line({shape:{x1:k*x+S,y1:N*x+A,x2:k*(x-I)+S,y2:N*(x-I)+A},style:V,silent:!0});V.stroke==="auto"&&G.setStyle({stroke:m(z/L)}),w.add(G)}if(D.get("show")){var H=o(n(z/L*(T-b)+b),D.get("formatter")),F=D.get("distance"),$=m(z/L);w.add(new t.Text({style:t.setTextStyle({},D,{text:H,x:k*(x-I-F)+S,y:N*(x-I-F)+A,textVerticalAlign:N<-.4?"top":N>.4?"bottom":"middle",textAlign:k<-.4?"left":k>.4?"right":"center"},{autoColor:$}),silent:!0}))}if(C.get("show")&&z!==L){for(var U=0;U<=P;U++){var k=Math.cos(O),N=Math.sin(O),X=new t.Line({shape:{x1:k*x+S,y1:N*x+A,x2:k*(x-E)+S,y2:N*(x-E)+A},silent:!0,style:R});R.stroke==="auto"&&X.setStyle({stroke:m((z+U/P)/L)}),w.add(X),O+=q}O-=q}else O+=B}},_renderPointer:function(l,d,f,m,g,p,y,_){var w=this.group,S=this._data;if(!l.get("pointer.show")){S&&S.eachItemGraphicEl(function(M){w.remove(M)});return}var A=[+l.get("min"),+l.get("max")],x=[p,y],b=l.getData(),T=b.mapDimension("value");b.diff(S).add(function(M){var C=new e({shape:{angle:p}});t.initProps(C,{shape:{angle:s(b.get(T,M),A,x,!0)}},l),w.add(C),b.setItemGraphicEl(M,C)}).update(function(M,C){var D=S.getItemGraphicEl(C);t.updateProps(D,{shape:{angle:s(b.get(T,M),A,x,!0)}},l),w.add(D),b.setItemGraphicEl(M,D)}).remove(function(M){var C=S.getItemGraphicEl(M);w.remove(C)}).execute(),b.eachItemGraphicEl(function(M,C){var D=b.getItemModel(C),L=D.getModel("pointer");M.setShape({x:g.cx,y:g.cy,width:i(L.get("width"),g.r),r:i(L.get("length"),g.r)}),M.useStyle(D.getModel("itemStyle").getItemStyle()),M.style.fill==="auto"&&M.setStyle("fill",m(s(b.get(T,C),A,[0,1],!0))),t.setHoverStyle(M,D.getModel("emphasis.itemStyle").getItemStyle())}),this._data=b},_renderTitle:function(l,d,f,m,g){var p=l.getData(),y=p.mapDimension("value"),_=l.getModel("title");if(_.get("show")){var w=_.get("offsetCenter"),S=g.cx+i(w[0],g.r),A=g.cy+i(w[1],g.r),x=+l.get("min"),b=+l.get("max"),T=l.getData().get(y,0),M=m(s(T,[x,b],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},_,{x:S,y:A,text:p.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:M,forceRich:!0})}))}},_renderDetail:function(l,d,f,m,g){var p=l.getModel("detail"),y=+l.get("min"),_=+l.get("max");if(p.get("show")){var w=p.get("offsetCenter"),S=g.cx+i(w[0],g.r),A=g.cy+i(w[1],g.r),x=i(p.get("width"),g.r),b=i(p.get("height"),g.r),T=l.getData(),M=T.get(T.mapDimension("value"),0),C=m(s(M,[y,_],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},p,{x:S,y:A,text:o(M,p.get("formatter")),textWidth:isNaN(x)?null:x,textHeight:isNaN(b)?null:b,textAlign:"center",textVerticalAlign:"middle"},{autoColor:C,forceRich:!0})}))}}}),h=v;return Lv=h,Lv}var J_;function Wq(){return J_||(J_=1,Fq(),Uq()),X_}var e1={},Pv,t1;function Zq(){if(t1)return Pv;t1=1;var e=_e,t=W,r=_i(),a=Ie,i=a.defaultEmphasis,n=xt,s=n.makeSeriesEncodeForNameBased,c=Rn(),o=e.extendSeriesModel({type:"series.funnel",init:function(v){o.superApply(this,"init",arguments),this.legendVisualProvider=new c(t.bind(this.getData,this),t.bind(this.getRawData,this)),this._defaultLabelLine(v)},getInitialData:function(v,h){return r(this,{coordDimensions:["value"],encodeDefaulter:t.curry(s,this)})},_defaultLabelLine:function(v){i(v,"labelLine",["show"]);var h=v.labelLine,l=v.emphasis.labelLine;h.show=h.show&&v.label.show,l.show=l.show&&v.emphasis.label.show},getDataParams:function(v){var h=this.getData(),l=o.superCall(this,"getDataParams",v),d=h.mapDimension("value"),f=h.getSum(d);return l.percent=f?+(h.get(d,v)/f*100).toFixed(2):0,l.$vars.push("percent"),l},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),u=o;return Pv=u,Pv}var Iv,r1;function Yq(){if(r1)return Iv;r1=1;var e=fe,t=W,r=Sr;function a(o,u){e.Group.call(this);var v=new e.Polygon,h=new e.Polyline,l=new e.Text;this.add(v),this.add(h),this.add(l),this.highDownOnUpdate=function(d,f){f==="emphasis"?(h.ignore=h.hoverIgnore,l.ignore=l.hoverIgnore):(h.ignore=h.normalIgnore,l.ignore=l.normalIgnore)},this.updateData(o,u,!0)}var i=a.prototype,n=["itemStyle","opacity"];i.updateData=function(o,u,v){var h=this.childAt(0),l=o.hostModel,d=o.getItemModel(u),f=o.getItemLayout(u),m=o.getItemModel(u).get(n);m=m??1,h.useStyle({}),v?(h.setShape({points:f.points}),h.setStyle({opacity:0}),e.initProps(h,{style:{opacity:m}},l,u)):e.updateProps(h,{style:{opacity:m},shape:{points:f.points}},l,u);var g=d.getModel("itemStyle"),p=o.getItemVisual(u,"color");h.setStyle(t.defaults({lineJoin:"round",fill:p},g.getItemStyle(["opacity"]))),h.hoverStyle=g.getModel("emphasis").getItemStyle(),this._updateLabel(o,u),e.setHoverStyle(this)},i._updateLabel=function(o,u){var v=this.childAt(1),h=this.childAt(2),l=o.hostModel,d=o.getItemModel(u),f=o.getItemLayout(u),m=f.label,w=o.getItemVisual(u,"color");e.updateProps(v,{shape:{points:m.linePoints||m.linePoints}},l,u),e.updateProps(h,{style:{x:m.x,y:m.y}},l,u),h.attr({rotation:m.rotation,origin:[m.x,m.y],z2:10});var g=d.getModel("label"),p=d.getModel("emphasis.label"),y=d.getModel("labelLine"),_=d.getModel("emphasis.labelLine"),w=o.getItemVisual(u,"color");e.setLabelStyle(h.style,h.hoverStyle={},g,p,{labelFetcher:o.hostModel,labelDataIndex:u,defaultText:o.getName(u),autoColor:w,useInsideStyle:!!m.inside},{textAlign:m.textAlign,textVerticalAlign:m.verticalAlign}),h.ignore=h.normalIgnore=!g.get("show"),h.hoverIgnore=!p.get("show"),v.ignore=v.normalIgnore=!y.get("show"),v.hoverIgnore=!_.get("show"),v.setStyle({stroke:w}),v.setStyle(y.getModel("lineStyle").getLineStyle()),v.hoverStyle=_.getModel("lineStyle").getLineStyle()},t.inherits(a,e.Group);var s=r.extend({type:"funnel",render:function(o,u,v){var h=o.getData(),l=this._data,d=this.group;h.diff(l).add(function(f){var m=new a(h,f);h.setItemGraphicEl(f,m),d.add(m)}).update(function(f,m){var g=l.getItemGraphicEl(m);g.updateData(h,f),d.add(g),h.setItemGraphicEl(f,g)}).remove(function(f){var m=l.getItemGraphicEl(f);d.remove(m)}).execute(),this._data=h},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),c=s;return Iv=c,Iv}var Rv,a1;function Xq(){if(a1)return Rv;a1=1;var e=Be,t=Le,r=t.parsePercent,a=t.linearMap;function i(o,u){return e.getLayoutRect(o.getBoxLayoutParams(),{width:u.getWidth(),height:u.getHeight()})}function n(o,u){for(var v=o.mapDimension("value"),h=o.mapArray(v,function(g){return g}),l=[],d=u==="ascending",f=0,m=o.count();f<m;f++)l[f]=f;return typeof u=="function"?l.sort(u):u!=="none"&&l.sort(function(g,p){return d?h[g]-h[p]:h[p]-h[g]}),l}function s(o){o.each(function(u){var v=o.getItemModel(u),h=v.getModel("label"),l=h.get("position"),d=v.getModel("labelLine"),f=o.getItemLayout(u),m=f.points,g=l==="inner"||l==="inside"||l==="center"||l==="insideLeft"||l==="insideRight",p,y,_,w;if(g)l==="insideLeft"?(y=(m[0][0]+m[3][0])/2+5,_=(m[0][1]+m[3][1])/2,p="left"):l==="insideRight"?(y=(m[1][0]+m[2][0])/2-5,_=(m[1][1]+m[2][1])/2,p="right"):(y=(m[0][0]+m[1][0]+m[2][0]+m[3][0])/4,_=(m[0][1]+m[1][1]+m[2][1]+m[3][1])/4,p="center"),w=[[y,_],[y,_]];else{var S,A,x,b=d.get("length");l==="left"?(S=(m[3][0]+m[0][0])/2,A=(m[3][1]+m[0][1])/2,x=S-b,y=x-5,p="right"):l==="right"?(S=(m[1][0]+m[2][0])/2,A=(m[1][1]+m[2][1])/2,x=S+b,y=x+5,p="left"):l==="rightTop"?(S=m[1][0],A=m[1][1],x=S+b,y=x+5,p="top"):l==="rightBottom"?(S=m[2][0],A=m[2][1],x=S+b,y=x+5,p="bottom"):l==="leftTop"?(S=m[0][0],A=m[1][1],x=S-b,y=x-5,p="right"):l==="leftBottom"?(S=m[3][0],A=m[2][1],x=S-b,y=x-5,p="right"):(S=(m[1][0]+m[2][0])/2,A=(m[1][1]+m[2][1])/2,x=S+b,y=x+5,p="left");var T=A;w=[[S,A],[x,T]],_=T}f.label={linePoints:w,x:y,y:_,verticalAlign:"middle",textAlign:p,inside:g}})}function c(o,u,v){o.eachSeriesByType("funnel",function(h){var l=h.getData(),d=l.mapDimension("value"),f=h.get("sort"),m=i(h,u),g=n(l,f),p=[r(h.get("minSize"),m.width),r(h.get("maxSize"),m.width)],y=l.getDataExtent(d),_=h.get("min"),w=h.get("max");_==null&&(_=Math.min(y[0],0)),w==null&&(w=y[1]);var S=h.get("funnelAlign"),A=h.get("gap"),x=(m.height-A*(l.count()-1))/l.count(),b=m.y,T=function(O,B){var q=l.get(d,O)||0,V=a(q,[_,w],p,!0),R;switch(S){case"left":R=m.x;break;case"center":R=m.x+(m.width-V)/2;break;case"right":R=m.x+m.width-V;break}return[[R,B],[R+V,B]]};f==="ascending"&&(x=-x,A=-A,b+=m.height,g=g.reverse());for(var M=0;M<g.length;M++){var C=g[M],D=g[M+1],L=l.getItemModel(C),P=L.get("itemStyle.height");P==null?P=x:(P=r(P,m.height),f==="ascending"&&(P=-P));var I=T(C,b),E=T(D,b+P);b+=P+A,l.setItemLayout(C,{points:I.concat(E.slice().reverse())})}s(l)})}return Rv=c,Rv}var i1;function Kq(){if(i1)return e1;i1=1;var e=_e;Zq(),Yq();var t=Ss(),r=Xq(),a=En();return e.registerVisual(t("funnel")),e.registerLayout(r),e.registerProcessor(a("funnel")),e1}var n1={},o1={},Ev,s1;function Qq(){if(s1)return Ev;s1=1;var e=W,t=Ie;function r(n){a(n),i(n)}function a(n){if(!n.parallel){var s=!1;e.each(n.series,function(c){c&&c.type==="parallel"&&(s=!0)}),s&&(n.parallel=[{}])}}function i(n){var s=t.normalizeToArray(n.parallelAxis);e.each(s,function(c){if(e.isObject(c)){var o=c.parallelIndex||0,u=t.normalizeToArray(n.parallel)[o];u&&u.parallelAxisDefault&&e.merge(c,u.parallelAxisDefault,!1)}})}return Ev=r,Ev}var l1={},kv,u1;function jq(){if(u1)return kv;u1=1;var e=W,t=ta(),r=function(i,n,s,c,o){t.call(this,i,n,s),this.type=c||"value",this.axisIndex=o};r.prototype={constructor:r,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}},e.inherits(r,t);var a=r;return kv=a,kv}var Ov,v1;function xi(){if(v1)return Ov;v1=1;function e(a,i,n,s,c,o){a=a||0;var u=n[1]-n[0];if(c!=null&&(c=r(c,[0,u])),o!=null&&(o=Math.max(o,c??0)),s==="all"){var v=Math.abs(i[1]-i[0]);v=r(v,[0,u]),c=o=r(v,[c,o]),s=0}i[0]=r(i[0],n),i[1]=r(i[1],n);var h=t(i,s);i[s]+=a;var l=c||0,d=n.slice();h.sign<0?d[0]+=l:d[1]-=l,i[s]=r(i[s],d);var f=t(i,s);c!=null&&(f.sign!==h.sign||f.span<c)&&(i[1-s]=i[s]+h.sign*c);var f=t(i,s);return o!=null&&f.span>o&&(i[1-s]=i[s]+f.sign*o),i}function t(a,i){var n=a[i]-a[1-i];return{span:Math.abs(n),sign:n>0?-1:n<0?1:i?-1:1}}function r(a,i){return Math.min(i[1]!=null?i[1]:1/0,Math.max(i[0]!=null?i[0]:-1/0,a))}return Ov=e,Ov}var zv,h1;function Jq(){if(h1)return zv;h1=1;var e=W,t=Je,r=Be,a=nr(),i=jq(),n=fe,s=Le,c=xi(),o=e.each,u=Math.min,v=Math.max,h=Math.floor,l=Math.ceil,d=s.round,f=Math.PI;function m(w,S,A){this._axesMap=e.createHashMap(),this._axesLayout={},this.dimensions=w.dimensions,this._rect,this._model=w,this._init(w,S,A)}m.prototype={type:"parallel",constructor:m,_init:function(w,S,A){var x=w.dimensions,b=w.parallelAxisIndex;o(x,function(T,M){var C=b[M],D=S.getComponent("parallelAxis",C),L=this._axesMap.set(T,new i(T,a.createScaleByModel(D),[0,0],D.get("type"),C)),P=L.type==="category";L.onBand=P&&D.get("boundaryGap"),L.inverse=D.get("inverse"),D.axis=L,L.model=D,L.coordinateSystem=D.coordinateSystem=this},this)},update:function(w,S){this._updateAxesFromSeries(this._model,w)},containPoint:function(w){var S=this._makeLayoutInfo(),A=S.axisBase,x=S.layoutBase,b=S.pixelDimIndex,T=w[1-b],M=w[b];return T>=A&&T<=A+S.axisLength&&M>=x&&M<=x+S.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(w,S){S.eachSeries(function(A){if(w.contains(A,S)){var x=A.getData();o(this.dimensions,function(b){var T=this._axesMap.get(b);T.scale.unionExtentFromData(x,x.mapDimension(b)),a.niceScaleExtent(T.scale,T.model)},this)}},this)},resize:function(w,S){this._rect=r.getLayoutRect(w.getBoxLayoutParams(),{width:S.getWidth(),height:S.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var w=this._model,S=this._rect,A=["x","y"],x=["width","height"],b=w.get("layout"),T=b==="horizontal"?0:1,M=S[x[T]],C=[0,M],D=this.dimensions.length,L=g(w.get("axisExpandWidth"),C),P=g(w.get("axisExpandCount")||0,[0,D]),I=w.get("axisExpandable")&&D>3&&D>P&&P>1&&L>0&&M>0,E=w.get("axisExpandWindow"),O;if(E)O=g(E[1]-E[0],C),E[1]=E[0]+O;else{O=g(L*(P-1),C);var B=w.get("axisExpandCenter")||h(D/2);E=[L*B-O/2],E[1]=E[0]+O}var q=(M-O)/(D-P);q<3&&(q=0);var V=[h(d(E[0]/L,1))+1,l(d(E[1]/L,1))-1],R=q/L*E[0];return{layout:b,pixelDimIndex:T,layoutBase:S[A[T]],layoutLength:M,axisBase:S[A[1-T]],axisLength:S[x[1-T]],axisExpandable:I,axisExpandWidth:L,axisCollapseWidth:q,axisExpandWindow:E,axisCount:D,winInnerIndices:V,axisExpandWindow0Pos:R}},_layoutAxes:function(){var w=this._rect,S=this._axesMap,A=this.dimensions,x=this._makeLayoutInfo(),b=x.layout;S.each(function(T){var M=[0,x.axisLength],C=T.inverse?1:0;T.setExtent(M[C],M[1-C])}),o(A,function(T,M){var C=(x.axisExpandable?y:p)(M,x),D={horizontal:{x:C.position,y:x.axisLength},vertical:{x:0,y:C.position}},L={horizontal:f/2,vertical:0},P=[D[b].x+w.x,D[b].y+w.y],I=L[b],E=t.create();t.rotate(E,E,I),t.translate(E,E,P),this._axesLayout[T]={position:P,rotation:I,transform:E,axisNameAvailableWidth:C.axisNameAvailableWidth,axisLabelShow:C.axisLabelShow,nameTruncateMaxWidth:C.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(w){return this._axesMap.get(w)},dataToPoint:function(w,S){return this.axisCoordToPoint(this._axesMap.get(S).dataToCoord(w),S)},eachActiveState:function(w,S,A,x){A==null&&(A=0),x==null&&(x=w.count());var b=this._axesMap,T=this.dimensions,M=[],C=[];e.each(T,function(q){M.push(w.mapDimension(q)),C.push(b.get(q).model)});for(var D=this.hasAxisBrushed(),L=A;L<x;L++){var P;if(!D)P="normal";else{P="active";for(var I=w.getValues(M,L),E=0,O=T.length;E<O;E++){var B=C[E].getActiveState(I[E]);if(B==="inactive"){P="inactive";break}}}S(P,L)}},hasAxisBrushed:function(){for(var w=this.dimensions,S=this._axesMap,A=!1,x=0,b=w.length;x<b;x++)S.get(w[x]).model.getActiveState()!=="normal"&&(A=!0);return A},axisCoordToPoint:function(w,S){var A=this._axesLayout[S];return n.applyTransform([w,0],A.transform)},getAxisLayout:function(w){return e.clone(this._axesLayout[w])},getSlidedAxisExpandWindow:function(w){var S=this._makeLayoutInfo(),A=S.pixelDimIndex,x=S.axisExpandWindow.slice(),b=x[1]-x[0],T=[0,S.axisExpandWidth*(S.axisCount-1)];if(!this.containPoint(w))return{behavior:"none",axisExpandWindow:x};var M=w[A]-S.layoutBase-S.axisExpandWindow0Pos,C,D="slide",L=S.axisCollapseWidth,P=this._model.get("axisExpandSlideTriggerArea"),I=P[0]!=null;if(L)I&&L&&M<b*P[0]?(D="jump",C=M-b*P[2]):I&&L&&M>b*(1-P[0])?(D="jump",C=M-b*(1-P[2])):(C=M-b*P[1])>=0&&(C=M-b*(1-P[1]))<=0&&(C=0),C*=S.axisExpandWidth/L,C?c(C,x,T,"all"):D="none";else{var b=x[1]-x[0],E=T[1]*M/b;x=[v(0,E-b/2)],x[1]=u(T[1],x[0]+b),x[0]=x[1]-b}return{axisExpandWindow:x,behavior:D}}};function g(w,S){return u(v(w,S[0]),S[1])}function p(w,S){var A=S.layoutLength/(S.axisCount-1);return{position:A*w,axisNameAvailableWidth:A,axisLabelShow:!0}}function y(w,S){var A=S.layoutLength,x=S.axisExpandWidth,b=S.axisCount,T=S.axisCollapseWidth,M=S.winInnerIndices,C,D=T,L=!1,P;return w<M[0]?(C=w*T,P=T):w<=M[1]?(C=S.axisExpandWindow0Pos+w*x-S.axisExpandWindow[0],D=x,L=!0):(C=A-(b-1-w)*T,P=T),{position:C,axisNameAvailableWidth:D,axisLabelShow:L,nameTruncateMaxWidth:P}}var _=m;return zv=_,zv}var c1;function NM(){if(c1)return l1;c1=1;var e=Jq(),t=xr;function r(a,i){var n=[];return a.eachComponent("parallel",function(s,c){var o=new e(s,a,i);o.name="parallel_"+c,o.resize(s,i),s.coordinateSystem=o,o.model=s,n.push(o)}),a.eachSeries(function(s){if(s.get("coordinateSystem")==="parallel"){var c=a.queryComponents({mainType:"parallel",index:s.get("parallelIndex"),id:s.get("parallelId")})[0];s.coordinateSystem=c.coordinateSystem}}),n}return t.register("parallel",{create:r}),l1}var Bv,f1;function e3(){if(f1)return Bv;f1=1;var e=W,t=ht,r=vi,a=_s(),i=Le,n=yi(),s=t.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(v){var h=this.activeIntervals=e.clone(v);if(h)for(var l=h.length-1;l>=0;l--)i.asc(h[l])},getActiveState:function(v){var h=this.activeIntervals;if(!h.length)return"normal";if(v==null||isNaN(v))return"inactive";if(h.length===1){var l=h[0];if(l[0]<=v&&v<=l[1])return"active"}else for(var d=0,f=h.length;d<f;d++)if(h[d][0]<=v&&v<=h[d][1])return"active";return"inactive"}}),c={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};e.merge(s.prototype,n);function o(v,h){return h.type||(h.data?"category":"value")}a("parallel",s,o,c);var u=s;return Bv=u,Bv}var Nv,d1;function t3(){if(d1)return Nv;d1=1;var e=W,t=ht;e3();var r=t.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var i=this.option;a&&e.merge(i,a,!0),this._initDimensions()},contains:function(a,i){var n=a.get("parallelIndex");return n!=null&&i.getComponent("parallel",n)===this},setAxisExpand:function(a){e.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){a.hasOwnProperty(i)&&(this.option[i]=a[i])},this)},_initDimensions:function(){var a=this.dimensions=[],i=this.parallelAxisIndex=[],n=e.filter(this.dependentModels.parallelAxis,function(s){return(s.get("parallelIndex")||0)===this.componentIndex},this);e.each(n,function(s){a.push("dim"+s.get("dim")),i.push(s.componentIndex)})}});return Nv=r,Nv}var g1={},p1={},m1;function r3(){if(m1)return p1;m1=1;var e=_e,t={type:"axisAreaSelect",event:"axisAreaSelected"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"parallelAxis",query:r},function(i){i.axis.model.setActiveIntervals(r.intervals)})}),e.registerAction("parallelAxisExpand",function(r,a){a.eachComponent({mainType:"parallel",query:r},function(i){i.setAxisExpand(r)})}),p1}var Vv,y1;function yg(){if(y1)return Vv;y1=1;var e=W,t=ya,r=fe,a=LM(),i=wa(),n=e.curry,s=e.each,c=e.map,o=Math.min,u=Math.max,v=Math.pow,h=1e4,l=6,d=6,f="globalPan",m={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},g={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},p={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},y=0;function _(Z){t.call(this),this._zr=Z,this.group=new r.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+y++,this._handlers={},s(le,function(K,J){this._handlers[J]=e.bind(K,this)},this)}_.prototype={constructor:_,enableBrush:function(Z){return this._brushType&&S(this),Z.brushType&&w(this,Z),this},setPanels:function(Z){if(Z&&Z.length){var K=this._panels={};e.each(Z,function(J){K[J.panelId]=e.clone(J)})}else this._panels=null;return this},mount:function(Z){Z=Z||{},this._enableGlobalPan=Z.enableGlobalPan;var K=this.group;return this._zr.add(K),K.attr({position:Z.position||[0,0],rotation:Z.rotation||0,scale:Z.scale||[1,1]}),this._transform=K.getLocalTransform(),this},eachCover:function(Z,K){s(this._covers,Z,K)},updateCovers:function(Z){Z=e.map(Z,function(Me){return e.merge(e.clone(p),Me,!0)});var K="\0-brush-index-",J=this._covers,se=this._covers=[],ue=this,ve=this._creatingCover;return new i(J,Z,me,he).add(xe).update(xe).remove(Ce).execute(),this;function he(Me,Ae){return(Me.id!=null?Me.id:K+Ae)+"-"+Me.brushType}function me(Me,Ae){return he(Me.__brushOption,Ae)}function xe(Me,Ae){var Ve=Z[Me];if(Ae!=null&&J[Ae]===ve)se[Me]=J[Ae];else{var qe=se[Me]=Ae!=null?(J[Ae].__brushOption=Ve,J[Ae]):T(ue,b(ue,Ve));D(ue,qe)}}function Ce(Me){J[Me]!==ve&&ue.group.remove(J[Me])}},unmount:function(){return this.enableBrush(!1),E(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},e.mixin(_,t);function w(Z,K){var J=Z._zr;Z._enableGlobalPan||a.take(J,f,Z._uid),A(J,Z._handlers),Z._brushType=K.brushType,Z._brushOption=e.merge(e.clone(p),K,!0)}function S(Z){var K=Z._zr;a.release(K,f,Z._uid),x(K,Z._handlers),Z._brushType=Z._brushOption=null}function A(Z,K){s(K,function(J,se){Z.on(se,J)})}function x(Z,K){s(K,function(J,se){Z.off(se,J)})}function b(Z,K){var J=ie[K.brushType].createCover(Z,K);return J.__brushOption=K,C(J,K),Z.group.add(J),J}function T(Z,K){var J=L(K);return J.endCreating&&(J.endCreating(Z,K),C(K,K.__brushOption)),K}function M(Z,K){var J=K.__brushOption;L(K).updateCoverShape(Z,K,J.range,J)}function C(Z,K){var J=K.z;J==null&&(J=h),Z.traverse(function(se){se.z=J,se.z2=J})}function D(Z,K){L(K).updateCommon(Z,K),M(Z,K)}function L(Z){return ie[Z.__brushOption.brushType]}function P(Z,K,J){var se=Z._panels;if(!se)return!0;var ue,ve=Z._transform;return s(se,function(he){he.isTargetByCursor(K,J,ve)&&(ue=he)}),ue}function I(Z,K){var J=Z._panels;if(!J)return!0;var se=K.__brushOption.panelId;return se!=null?J[se]:!0}function E(Z){var K=Z._covers,J=K.length;return s(K,function(se){Z.group.remove(se)},Z),K.length=0,!!J}function O(Z,K){var J=c(Z._covers,function(se){var ue=se.__brushOption,ve=e.clone(ue.range);return{brushType:ue.brushType,panelId:ue.panelId,range:ve}});Z.trigger("brush",J,{isEnd:!!K.isEnd,removeOnClick:!!K.removeOnClick})}function B(Z){var K=Z._track;if(!K.length)return!1;var J=K[K.length-1],se=K[0],ue=J[0]-se[0],ve=J[1]-se[1],he=v(ue*ue+ve*ve,.5);return he>l}function q(Z){var K=Z.length-1;return K<0&&(K=0),[Z[0],Z[K]]}function V(Z,K,J,se){var ue=new r.Group;return ue.add(new r.Rect({name:"main",style:N(J),silent:!0,draggable:!0,cursor:"move",drift:n(Z,K,ue,"nswe"),ondragend:n(O,K,{isEnd:!0})})),s(se,function(ve){ue.add(new r.Rect({name:ve,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:n(Z,K,ue,ve),ondragend:n(O,K,{isEnd:!0})}))}),ue}function R(Z,K,J,se){var ue=se.brushStyle.lineWidth||0,ve=u(ue,d),he=J[0][0],me=J[1][0],xe=he-ue/2,Ce=me-ue/2,Me=J[0][1],Ae=J[1][1],Ve=Me-ve+ue/2,qe=Ae-ve+ue/2,We=Me-he,Ge=Ae-me,Ze=We+ue,Ke=Ge+ue;k(Z,K,"main",he,me,We,Ge),se.transformable&&(k(Z,K,"w",xe,Ce,ve,Ke),k(Z,K,"e",Ve,Ce,ve,Ke),k(Z,K,"n",xe,Ce,Ze,ve),k(Z,K,"s",xe,qe,Ze,ve),k(Z,K,"nw",xe,Ce,ve,ve),k(Z,K,"ne",Ve,Ce,ve,ve),k(Z,K,"sw",xe,qe,ve,ve),k(Z,K,"se",Ve,qe,ve,ve))}function z(Z,K){var J=K.__brushOption,se=J.transformable,ue=K.childAt(0);ue.useStyle(N(J)),ue.attr({silent:!se,cursor:se?"move":"default"}),s(["w","e","n","s","se","sw","ne","nw"],function(ve){var he=K.childOfName(ve),me=F(Z,ve);he&&he.attr({silent:!se,invisible:!se,cursor:se?g[me]+"-resize":null})})}function k(Z,K,J,se,ue,ve,he){var me=K.childOfName(J);me&&me.setShape(j(Q(Z,K,[[se,ue],[se+ve,ue+he]])))}function N(Z){return e.defaults({strokeNoScale:!0},Z.brushStyle)}function G(Z,K,J,se){var ue=[o(Z,J),o(K,se)],ve=[u(Z,J),u(K,se)];return[[ue[0],ve[0]],[ue[1],ve[1]]]}function H(Z){return r.getTransform(Z.group)}function F(Z,K){if(K.length>1){K=K.split("");var J=[F(Z,K[0]),F(Z,K[1])];return(J[0]==="e"||J[0]==="w")&&J.reverse(),J.join("")}else{var se={w:"left",e:"right",n:"top",s:"bottom"},ue={left:"w",right:"e",top:"n",bottom:"s"},J=r.transformDirection(se[K],H(Z));return ue[J]}}function $(Z,K,J,se,ue,ve,he,me){var xe=se.__brushOption,Ce=Z(xe.range),Me=X(J,ve,he);s(ue.split(""),function(Ae){var Ve=m[Ae];Ce[Ve[0]][Ve[1]]+=Me[Ve[0]]}),xe.range=K(G(Ce[0][0],Ce[1][0],Ce[0][1],Ce[1][1])),D(J,se),O(J,{isEnd:!1})}function U(Z,K,J,se,ue){var ve=K.__brushOption.range,he=X(Z,J,se);s(ve,function(me){me[0]+=he[0],me[1]+=he[1]}),D(Z,K),O(Z,{isEnd:!1})}function X(Z,K,J){var se=Z.group,ue=se.transformCoordToLocal(K,J),ve=se.transformCoordToLocal(0,0);return[ue[0]-ve[0],ue[1]-ve[1]]}function Q(Z,K,J){var se=I(Z,K);return se&&se!==!0?se.clipPath(J,Z._transform):e.clone(J)}function j(Z){var K=o(Z[0][0],Z[1][0]),J=o(Z[0][1],Z[1][1]),se=u(Z[0][0],Z[1][0]),ue=u(Z[0][1],Z[1][1]);return{x:K,y:J,width:se-K,height:ue-J}}function ee(Z,K,J){if(!(!Z._brushType||de(Z,K))){var se=Z._zr,ue=Z._covers,ve=P(Z,K,J);if(!Z._dragging)for(var he=0;he<ue.length;he++){var me=ue[he].__brushOption;if(ve&&(ve===!0||me.panelId===ve.panelId)&&ie[me.brushType].contain(ue[he],J[0],J[1]))return}ve&&se.setCursorStyle("crosshair")}}function re(Z){var K=Z.event;K.preventDefault&&K.preventDefault()}function te(Z,K,J){return Z.childOfName("main").contain(K,J)}function ne(Z,K,J,se){var ue=Z._creatingCover,ve=Z._creatingPanel,he=Z._brushOption,me;if(Z._track.push(J.slice()),B(Z)||ue){if(ve&&!ue){he.brushMode==="single"&&E(Z);var xe=e.clone(he);xe.brushType=Se(xe.brushType,ve),xe.panelId=ve===!0?null:ve.panelId,ue=Z._creatingCover=b(Z,xe),Z._covers.push(ue)}if(ue){var Ce=ie[Se(Z._brushType,ve)],Me=ue.__brushOption;Me.range=Ce.getCreatingRange(Q(Z,ue,Z._track)),se&&(T(Z,ue),Ce.updateCommon(Z,ue)),M(Z,ue),me={isEnd:se}}}else se&&he.brushMode==="single"&&he.removeOnClick&&P(Z,K,J)&&E(Z)&&(me={isEnd:se,removeOnClick:!0});return me}function Se(Z,K){return Z==="auto"?K.defaultBrushType:Z}var le={mousedown:function(Z){if(this._dragging)pe(this,Z);else if(!Z.target||!Z.target.draggable){re(Z);var K=this.group.transformCoordToLocal(Z.offsetX,Z.offsetY);this._creatingCover=null;var J=this._creatingPanel=P(this,Z,K);J&&(this._dragging=!0,this._track=[K.slice()])}},mousemove:function(Z){var K=Z.offsetX,J=Z.offsetY,se=this.group.transformCoordToLocal(K,J);if(ee(this,Z,se),this._dragging){re(Z);var ue=ne(this,Z,se,!1);ue&&O(this,ue)}},mouseup:function(Z){pe(this,Z)}};function pe(Z,K){if(Z._dragging){re(K);var J=K.offsetX,se=K.offsetY,ue=Z.group.transformCoordToLocal(J,se),ve=ne(Z,K,ue,!0);Z._dragging=!1,Z._track=[],Z._creatingCover=null,ve&&O(Z,ve)}}function de(Z,K,J){var se=Z._zr;return K<0||K>se.getWidth()||J<0||J>se.getHeight()}var ie={lineX:oe(0),lineY:oe(1),rect:{createCover:function(Z,K){return V(n($,function(J){return J},function(J){return J}),Z,K,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(Z){var K=q(Z);return G(K[1][0],K[1][1],K[0][0],K[0][1])},updateCoverShape:function(Z,K,J,se){R(Z,K,J,se)},updateCommon:z,contain:te},polygon:{createCover:function(Z,K){var J=new r.Group;return J.add(new r.Polyline({name:"main",style:N(K),silent:!0})),J},getCreatingRange:function(Z){return Z},endCreating:function(Z,K){K.remove(K.childAt(0)),K.add(new r.Polygon({name:"main",draggable:!0,drift:n(U,Z,K),ondragend:n(O,Z,{isEnd:!0})}))},updateCoverShape:function(Z,K,J,se){K.childAt(0).setShape({points:Q(Z,K,J)})},updateCommon:z,contain:te}};function oe(Z){return{createCover:function(K,J){return V(n($,function(se){var ue=[se,[0,100]];return Z&&ue.reverse(),ue},function(se){return se[Z]}),K,J,[["w","e"],["n","s"]][Z])},getCreatingRange:function(K){var J=q(K),se=o(J[0][Z],J[1][Z]),ue=u(J[0][Z],J[1][Z]);return[se,ue]},updateCoverShape:function(K,J,se,ue){var ve,he=I(K,J);if(he!==!0&&he.getLinearBrushOtherExtent)ve=he.getLinearBrushOtherExtent(Z,K._transform);else{var me=K._zr;ve=[0,[me.getWidth(),me.getHeight()][1-Z]]}var xe=[se,ve];Z&&xe.reverse(),R(K,J,xe,ue)},updateCommon:z,contain:te}}var ge=_;return Vv=ge,Vv}var Hi={},_1;function VM(){if(_1)return Hi;_1=1;var e=Xe,t=ws(),r=t.onIrrelevantElement,a=fe;function i(o){return o=c(o),function(u,v){return a.clipPointsByRect(u,o)}}function n(o,u){return o=c(o),function(v){var h=u??v,l=h?o.width:o.height,d=h?o.x:o.y;return[d,d+(l||0)]}}function s(o,u,v){return o=c(o),function(h,l,d){return o.contain(l[0],l[1])&&!r(h,u,v)}}function c(o){return e.create(o)}return Hi.makeRectPanelClipPath=i,Hi.makeLinearBrushOtherExtent=n,Hi.makeRectIsTargetByCursor=s,Hi}var Hv,x1;function a3(){if(x1)return Hv;x1=1;var e=_e,t=W,r=ra(),a=yg(),i=VM(),n=fe,s=["axisLine","axisTickLabel","axisName"],c=e.extendComponentView({type:"parallelAxis",init:function(l,d){c.superApply(this,"init",arguments),(this._brushController=new a(d.getZr())).on("brush",t.bind(this._onBrush,this))},render:function(l,d,f,m){if(!o(l,d,m)){this.axisModel=l,this.api=f,this.group.removeAll();var g=this._axisGroup;if(this._axisGroup=new n.Group,this.group.add(this._axisGroup),!!l.get("show")){var p=v(l,d),y=p.coordinateSystem,_=l.getAreaSelectStyle(),w=_.width,S=l.axis.dim,A=y.getAxisLayout(S),x=t.extend({strokeContainThreshold:w},A),b=new r(l,x);t.each(s,b.add,b),this._axisGroup.add(b.getGroup()),this._refreshBrushController(x,_,l,p,w,f);var T=m&&m.animation===!1?null:l;n.groupTransition(g,this._axisGroup,T)}}},_refreshBrushController:function(l,d,f,m,g,p){var y=f.axis.getExtent(),_=y[1]-y[0],w=Math.min(30,Math.abs(_)*.1),S=n.BoundingRect.create({x:y[0],y:-g/2,width:_,height:g});S.x-=w,S.width+=2*w,this._brushController.mount({enableGlobalPan:!0,rotation:l.rotation,position:l.position}).setPanels([{panelId:"pl",clipPath:i.makeRectPanelClipPath(S),isTargetByCursor:i.makeRectIsTargetByCursor(S,p,m),getLinearBrushOtherExtent:i.makeLinearBrushOtherExtent(S,0)}]).enableBrush({brushType:"lineX",brushStyle:d,removeOnClick:!0}).updateCovers(u(f))},_onBrush:function(l,d){var f=this.axisModel,m=f.axis,g=t.map(l,function(p){return[m.coordToData(p.range[0],!0),m.coordToData(p.range[1],!0)]});(!f.option.realtime===d.isEnd||d.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:f.id,intervals:g})},dispose:function(){this._brushController.dispose()}});function o(l,d,f){return f&&f.type==="axisAreaSelect"&&d.findComponents({mainType:"parallelAxis",query:f})[0]===l}function u(l){var d=l.axis;return t.map(l.activeIntervals,function(f){return{brushType:"lineX",panelId:"pl",range:[d.dataToCoord(f[0],!0),d.dataToCoord(f[1],!0)]}})}function v(l,d){return d.getComponent("parallel",l.get("parallelIndex"))}var h=c;return Hv=h,Hv}var S1;function i3(){return S1||(S1=1,NM(),r3(),a3()),g1}var b1;function HM(){if(b1)return o1;b1=1;var e=_e,t=W,r=ir,a=Qq();NM(),t3(),i3();var i=5;e.extendComponentView({type:"parallel",render:function(c,o,u){this._model=c,this._api=u,this._handlers||(this._handlers={},t.each(n,function(v,h){u.getZr().on(h,this._handlers[h]=t.bind(v,this))},this)),r.createOrUpdate(this,"_throttledDispatchExpand",c.get("axisExpandRate"),"fixRate")},dispose:function(c,o){t.each(this._handlers,function(u,v){o.getZr().off(v,u)}),this._handlers=null},_throttledDispatchExpand:function(c){this._dispatchExpand(c)},_dispatchExpand:function(c){c&&this._api.dispatchAction(t.extend({type:"parallelAxisExpand"},c))}});var n={mousedown:function(c){s(this,"click")&&(this._mouseDownPoint=[c.offsetX,c.offsetY])},mouseup:function(c){var o=this._mouseDownPoint;if(s(this,"click")&&o){var u=[c.offsetX,c.offsetY],v=Math.pow(o[0]-u[0],2)+Math.pow(o[1]-u[1],2);if(v>i)return;var h=this._model.coordinateSystem.getSlidedAxisExpandWindow([c.offsetX,c.offsetY]);h.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:h.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(c){if(!(this._mouseDownPoint||!s(this,"mousemove"))){var o=this._model,u=o.coordinateSystem.getSlidedAxisExpandWindow([c.offsetX,c.offsetY]),v=u.behavior;v==="jump"&&this._throttledDispatchExpand.debounceNextCall(o.get("axisExpandDebounce")),this._throttledDispatchExpand(v==="none"?null:{axisExpandWindow:u.axisExpandWindow,animation:v==="jump"?null:!1})}}};function s(c,o){var u=c._model;return u.get("axisExpandable")&&u.get("axisExpandTriggerOn")===o}return e.registerPreprocessor(a),o1}var qv,w1;function n3(){if(w1)return qv;w1=1;var e=W,t=e.each,r=e.createHashMap,a=ct,i=Or(),n=a.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(o,u){var v=this.getSource();return s(v,this),i(v,this)},getRawIndicesByActiveState:function(o){var u=this.coordinateSystem,v=this.getData(),h=[];return u.eachActiveState(v,function(l,d){o===l&&h.push(v.getRawIndex(d))}),h},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});function s(o,u){if(!o.encodeDefine){var v=u.ecModel.getComponent("parallel",u.get("parallelIndex"));if(v){var h=o.encodeDefine=r();t(v.dimensions,function(l){var d=c(l);h.set(l,d)})}}}function c(o){return+o.replace("dim","")}return qv=n,qv}var Gv,A1;function o3(){if(A1)return Gv;A1=1;var e=fe,t=Sr,r=.3,a=t.extend({type:"parallel",init:function(){this._dataGroup=new e.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(h,l,d,f){var m=this._dataGroup,g=h.getData(),p=this._data,y=h.coordinateSystem,_=y.dimensions,w=c(h);g.diff(p).add(S).update(A).remove(x).execute();function S(T){var M=s(g,m,T,_,y);o(M,g,T,w)}function A(T,M){var C=p.getItemGraphicEl(M),D=n(g,T,_,y);g.setItemGraphicEl(T,C);var L=f&&f.animation===!1?null:h;e.updateProps(C,{shape:{points:D}},L,T),o(C,g,T,w)}function x(T){var M=p.getItemGraphicEl(T);m.remove(M)}if(!this._initialized){this._initialized=!0;var b=i(y,h,function(){setTimeout(function(){m.removeClipPath()})});m.setClipPath(b)}this._data=g},incrementalPrepareRender:function(h,l,d){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(h,l,d){for(var f=l.getData(),m=l.coordinateSystem,g=m.dimensions,p=c(l),y=h.start;y<h.end;y++){var _=s(f,this._dataGroup,y,g,m);_.incremental=!0,o(_,f,y,p)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function i(h,l,d){var f=h.model,m=h.getRect(),g=new e.Rect({shape:{x:m.x,y:m.y,width:m.width,height:m.height}}),p=f.get("layout")==="horizontal"?"width":"height";return g.setShape(p,0),e.initProps(g,{shape:{width:m.width,height:m.height}},l,d),g}function n(h,l,d,f){for(var m=[],g=0;g<d.length;g++){var p=d[g],y=h.get(h.mapDimension(p),l);u(y,f.getAxis(p).type)||m.push(f.dataToPoint(y,p))}return m}function s(h,l,d,f,m){var g=n(h,d,f,m),p=new e.Polyline({shape:{points:g},silent:!0,z2:10});return l.add(p),h.setItemGraphicEl(d,p),p}function c(h){var l=h.get("smooth",!0);return l===!0&&(l=r),{lineStyle:h.getModel("lineStyle").getLineStyle(),smooth:l??r}}function o(h,l,d,f){var m=f.lineStyle;if(l.hasItemOption){var g=l.getItemModel(d).getModel("lineStyle");m=g.getLineStyle()}h.useStyle(m);var p=h.style;p.fill=null,p.stroke=l.getItemVisual(d,"color"),p.opacity=l.getItemVisual(d,"opacity"),f.smooth&&(h.shape.smooth=f.smooth)}function u(h,l){return l==="category"?h==null:h==null||isNaN(h)}var v=a;return Gv=v,Gv}var Fv,T1;function s3(){if(T1)return Fv;T1=1;var e=["lineStyle","normal","opacity"],t={seriesType:"parallel",reset:function(r,a,i){var n=r.getModel("itemStyle"),s=r.getModel("lineStyle"),c=a.get("color"),o=s.get("color")||n.get("color")||c[r.seriesIndex%c.length],u=r.get("inactiveOpacity"),v=r.get("activeOpacity"),h=r.getModel("lineStyle").getLineStyle(),l=r.coordinateSystem,d=r.getData(),f={normal:h.opacity,active:v,inactive:u};d.setVisual("color",o);function m(g,p){l.eachActiveState(p,function(y,_){var w=f[y];if(y==="normal"&&p.hasItemOption){var S=p.getItemModel(_).get(e,!0);S!=null&&(w=S)}p.setItemVisual(_,"opacity",w)},g.start,g.end)}return{progress:m}}};return Fv=t,Fv}var C1;function l3(){if(C1)return n1;C1=1;var e=_e;HM(),n3(),o3();var t=s3();return e.registerVisual(t),n1}var M1={},$v,D1;function u3(){if(D1)return $v;D1=1;var e=ct,t=kM(),r=Ne,a=r.encodeHTML,i=ot,n=e.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(c,o){for(var u=c.edges||c.links,v=c.data||c.nodes,h=c.levels,l=this.levelModels={},d=0;d<h.length;d++)h[d].depth!=null&&h[d].depth>=0&&(l[h[d].depth]=new i(h[d],this,o));if(v&&u){var f=t(v,u,this,!0,m);return f.data}function m(g,p){g.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(w){var S=this.parentModel,A=S.getData().getItemLayout(_).depth,x=S.levelModels[A];return x||this.parentModel}),y}),p.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(w){var S=this.parentModel,A=S.getGraph().getEdgeByIndex(_),x=A.node1.getLayout().depth,b=S.levelModels[x];return b||this.parentModel}),y})}},setNodePosition:function(c,o){var u=this.option.data[c];u.localX=o[0],u.localY=o[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(c,o,u){if(u==="edge"){var v=this.getDataParams(c,u),h=v.data,l=h.source+" -- "+h.target;return v.value&&(l+=" : "+v.value),a(l)}else if(u==="node"){var d=this.getGraph().getNodeByIndex(c),f=d.getLayout().value,m=this.getDataParams(c,u).data.name;if(f)var l=m+" : "+f;return a(l)}return n.superCall(this,"formatTooltip",c,o)},optionUpdated:function(){var c=this.option;c.focusNodeAdjacency===!0&&(c.focusNodeAdjacency="allEdges")},getDataParams:function(c,o){var u=n.superCall(this,"getDataParams",c,o);if(u.value==null&&o==="node"){var v=this.getGraph().getNodeByIndex(c),h=v.getLayout().value;u.value=h}return u},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),s=n;return $v=s,$v}var Uv,L1;function v3(){if(L1)return Uv;L1=1;var e=fe,t=_e,r=W,a=["itemStyle","opacity"],i=["emphasis","itemStyle","opacity"],n=["lineStyle","opacity"],s=["emphasis","lineStyle","opacity"];function c(d,f){return d.getVisual("opacity")||d.getModel().get(f)}function o(d,f,m){var g=d.getGraphicEl(),p=c(d,f);m!=null&&(p==null&&(p=1),p*=m),g.downplay&&g.downplay(),g.traverse(function(y){y.type!=="group"&&y.setStyle("opacity",p)})}function u(d,f){var m=c(d,f),g=d.getGraphicEl();g.traverse(function(p){p.type!=="group"&&p.setStyle("opacity",m)}),g.highlight&&g.highlight()}var v=e.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(d,f){var m=f.extent;d.moveTo(f.x1,f.y1),d.bezierCurveTo(f.cpx1,f.cpy1,f.cpx2,f.cpy2,f.x2,f.y2),f.orient==="vertical"?(d.lineTo(f.x2+m,f.y2),d.bezierCurveTo(f.cpx2+m,f.cpy2,f.cpx1+m,f.cpy1,f.x1+m,f.y1)):(d.lineTo(f.x2,f.y2+m),d.bezierCurveTo(f.cpx2,f.cpy2+m,f.cpx1,f.cpy1+m,f.x1,f.y1+m)),d.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),h=t.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(d,f,m){var g=this,p=d.getGraph(),y=this.group,_=d.layoutInfo,w=_.width,S=_.height,A=d.getData(),x=d.getData("edge"),b=d.get("orient");this._model=d,y.removeAll(),y.attr("position",[_.x,_.y]),p.eachEdge(function(T){var M=new v;M.dataIndex=T.dataIndex,M.seriesIndex=d.seriesIndex,M.dataType="edge";var C=T.getModel("lineStyle"),D=C.get("curveness"),L=T.node1.getLayout(),P=T.node1.getModel(),I=P.get("localX"),E=P.get("localY"),O=T.node2.getLayout(),B=T.node2.getModel(),q=B.get("localX"),V=B.get("localY"),R=T.getLayout(),z,k,N,G,H,F,$,U;switch(M.shape.extent=Math.max(1,R.dy),M.shape.orient=b,b==="vertical"?(z=(I!=null?I*w:L.x)+R.sy,k=(E!=null?E*S:L.y)+L.dy,N=(q!=null?q*w:O.x)+R.ty,G=V!=null?V*S:O.y,H=z,F=k*(1-D)+G*D,$=N,U=k*D+G*(1-D)):(z=(I!=null?I*w:L.x)+L.dx,k=(E!=null?E*S:L.y)+R.sy,N=q!=null?q*w:O.x,G=(V!=null?V*S:O.y)+R.ty,H=z*(1-D)+N*D,F=k,$=z*D+N*(1-D),U=G),M.setShape({x1:z,y1:k,x2:N,y2:G,cpx1:H,cpy1:F,cpx2:$,cpy2:U}),M.setStyle(C.getItemStyle()),M.style.fill){case"source":M.style.fill=T.node1.getVisual("color");break;case"target":M.style.fill=T.node2.getVisual("color");break}e.setHoverStyle(M,T.getModel("emphasis.lineStyle").getItemStyle()),y.add(M),x.setItemGraphicEl(T.dataIndex,M)}),p.eachNode(function(T){var M=T.getLayout(),C=T.getModel(),D=C.get("localX"),L=C.get("localY"),P=C.getModel("label"),I=C.getModel("emphasis.label"),E=new e.Rect({shape:{x:D!=null?D*w:M.x,y:L!=null?L*S:M.y,width:M.dx,height:M.dy},style:C.getModel("itemStyle").getItemStyle()}),O=T.getModel("emphasis.itemStyle").getItemStyle();e.setLabelStyle(E.style,O,P,I,{labelFetcher:d,labelDataIndex:T.dataIndex,defaultText:T.id,isRectText:!0}),E.setStyle("fill",T.getVisual("color")),e.setHoverStyle(E,O),y.add(E),A.setItemGraphicEl(T.dataIndex,E),E.dataType="node"}),A.eachItemGraphicEl(function(T,M){var C=A.getItemModel(M);C.get("draggable")&&(T.drift=function(D,L){g._focusAdjacencyDisabled=!0,this.shape.x+=D,this.shape.y+=L,this.dirty(),m.dispatchAction({type:"dragNode",seriesId:d.id,dataIndex:A.getRawIndex(M),localX:this.shape.x/w,localY:this.shape.y/S})},T.ondragend=function(){g._focusAdjacencyDisabled=!1},T.draggable=!0,T.cursor="move"),T.highlight=function(){this.trigger("emphasis")},T.downplay=function(){this.trigger("normal")},T.focusNodeAdjHandler&&T.off("mouseover",T.focusNodeAdjHandler),T.unfocusNodeAdjHandler&&T.off("mouseout",T.unfocusNodeAdjHandler),C.get("focusNodeAdjacency")&&(T.on("mouseover",T.focusNodeAdjHandler=function(){g._focusAdjacencyDisabled||(g._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:d.id,dataIndex:T.dataIndex}))}),T.on("mouseout",T.unfocusNodeAdjHandler=function(){g._focusAdjacencyDisabled||g._dispatchUnfocus(m)}))}),x.eachItemGraphicEl(function(T,M){var C=x.getItemModel(M);T.focusNodeAdjHandler&&T.off("mouseover",T.focusNodeAdjHandler),T.unfocusNodeAdjHandler&&T.off("mouseout",T.unfocusNodeAdjHandler),C.get("focusNodeAdjacency")&&(T.on("mouseover",T.focusNodeAdjHandler=function(){g._focusAdjacencyDisabled||(g._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:d.id,edgeDataIndex:T.dataIndex}))}),T.on("mouseout",T.unfocusNodeAdjHandler=function(){g._focusAdjacencyDisabled||g._dispatchUnfocus(m)}))}),!this._data&&d.get("animation")&&y.setClipPath(l(y.getBoundingRect(),d,function(){y.removeClipPath()})),this._data=d.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(d){var f=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){f._unfocusDelayTimer=null,d.dispatchAction({type:"unfocusNodeAdjacency",seriesId:f._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(d,f,m,g){var p=d.getData(),y=p.graph,_=g.dataIndex,w=p.getItemModel(_),S=g.edgeDataIndex;if(!(_==null&&S==null)){var A=y.getNodeByIndex(_),x=y.getEdgeByIndex(S);if(y.eachNode(function(T){o(T,a,.1)}),y.eachEdge(function(T){o(T,n,.1)}),A){u(A,i);var b=w.get("focusNodeAdjacency");b==="outEdges"?r.each(A.outEdges,function(T){T.dataIndex<0||(u(T,s),u(T.node2,i))}):b==="inEdges"?r.each(A.inEdges,function(T){T.dataIndex<0||(u(T,s),u(T.node1,i))}):b==="allEdges"&&r.each(A.edges,function(T){T.dataIndex<0||(u(T,s),T.node1!==A&&u(T.node1,i),T.node2!==A&&u(T.node2,i))})}x&&(u(x,s),u(x.node1,i),u(x.node2,i))}},unfocusNodeAdjacency:function(d,f,m,g){var p=d.getGraph();p.eachNode(function(y){o(y,a)}),p.eachEdge(function(y){o(y,n)})}});function l(d,f,m){var g=new e.Rect({shape:{x:d.x-10,y:d.y-10,width:0,height:d.height+20}});return e.initProps(g,{shape:{width:d.width+20}},f,m),g}return Uv=h,Uv}var P1={},I1;function h3(){if(I1)return P1;I1=1;var e=_e;return OM(),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),P1}var Wv,R1;function c3(){if(R1)return Wv;R1=1;var e=Be,t=W,r=Ie,a=r.groupData;function i(C,D,L){C.eachSeriesByType("sankey",function(P){var I=P.get("nodeWidth"),E=P.get("nodeGap"),O=n(P,D);P.layoutInfo=O;var B=O.width,q=O.height,V=P.getGraph(),R=V.nodes,z=V.edges;c(R);var k=t.filter(R,function(F){return F.getLayout().value===0}),N=k.length!==0?0:P.get("layoutIterations"),G=P.get("orient"),H=P.get("nodeAlign");s(R,z,I,E,B,q,N,G,H)})}function n(C,D){return e.getLayoutRect(C.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()})}function s(C,D,L,P,I,E,O,B,q){o(C,D,L,I,E,B,q),d(C,D,E,I,P,O,B),M(C,B)}function c(C){t.each(C,function(D){var L=b(D.outEdges,x),P=b(D.inEdges,x),I=D.getValue()||0,E=Math.max(L,P,I);D.setLayout({value:E},!0)})}function o(C,D,L,P,I,E,O){for(var B=[],q=[],V=[],R=[],z=0,te=0,k=0;k<D.length;k++)B[k]=1;for(k=0;k<C.length;k++)q[k]=C[k].inEdges.length,q[k]===0&&V.push(C[k]);for(var N=-1;V.length;){for(var G=0;G<V.length;G++){var H=V[G],F=H.hostGraph.data.getRawDataItem(H.dataIndex),$=F.depth!=null&&F.depth>=0;$&&F.depth>N&&(N=F.depth),H.setLayout({depth:$?F.depth:z},!0),E==="vertical"?H.setLayout({dy:L},!0):H.setLayout({dx:L},!0);for(var U=0;U<H.outEdges.length;U++){var X=H.outEdges[U],Q=D.indexOf(X);B[Q]=0;var j=X.node2,ee=C.indexOf(j);--q[ee]===0&&R.indexOf(j)<0&&R.push(j)}}++z,V=R,R=[]}for(k=0;k<B.length;k++)if(B[k]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var re=N>z-1?N:z-1;O&&O!=="left"&&v(C,O,E,re);var te=E==="vertical"?(I-L)/re:(P-L)/re;l(C,te,E)}function u(C){var D=C.hostGraph.data.getRawDataItem(C.dataIndex);return D.depth!=null&&D.depth>=0}function v(C,D,L,P){if(D==="right"){for(var I=[],E=C,O=0;E.length;){for(var B=0;B<E.length;B++){var q=E[B];q.setLayout({skNodeHeight:O},!0);for(var V=0;V<q.inEdges.length;V++){var R=q.inEdges[V];I.indexOf(R.node1)<0&&I.push(R.node1)}}E=I,I=[],++O}t.each(C,function(z){u(z)||z.setLayout({depth:Math.max(0,P-z.getLayout().skNodeHeight)},!0)})}else D==="justify"&&h(C,P)}function h(C,D){t.each(C,function(L){!u(L)&&!L.outEdges.length&&L.setLayout({depth:D},!0)})}function l(C,D,L){t.each(C,function(P){var I=P.getLayout().depth*D;L==="vertical"?P.setLayout({y:I},!0):P.setLayout({x:I},!0)})}function d(C,D,L,P,I,E,O){var B=f(C,O);m(B,D,L,P,I,O),g(B,I,L,P,O);for(var q=1;E>0;E--)q*=.99,p(B,q,O),g(B,I,L,P,O),T(B,q,O),g(B,I,L,P,O)}function f(C,D){var L=[],P=D==="vertical"?"y":"x",I=a(C,function(E){return E.getLayout()[P]});return I.keys.sort(function(E,O){return E-O}),t.each(I.keys,function(E){L.push(I.buckets.get(E))}),L}function m(C,D,L,P,I,E){var O=1/0;t.each(C,function(B){var q=B.length,V=0;t.each(B,function(z){V+=z.getLayout().value});var R=E==="vertical"?(P-(q-1)*I)/V:(L-(q-1)*I)/V;R<O&&(O=R)}),t.each(C,function(B){t.each(B,function(q,V){var R=q.getLayout().value*O;E==="vertical"?(q.setLayout({x:V},!0),q.setLayout({dx:R},!0)):(q.setLayout({y:V},!0),q.setLayout({dy:R},!0))})}),t.each(D,function(B){var q=+B.getValue()*O;B.setLayout({dy:q},!0)})}function g(C,D,L,P,I){var E=I==="vertical"?"x":"y";t.each(C,function(O){O.sort(function(H,F){return H.getLayout()[E]-F.getLayout()[E]});for(var B,q,V,R=0,z=O.length,k=I==="vertical"?"dx":"dy",N=0;N<z;N++)q=O[N],V=R-q.getLayout()[E],V>0&&(B=q.getLayout()[E]+V,I==="vertical"?q.setLayout({x:B},!0):q.setLayout({y:B},!0)),R=q.getLayout()[E]+q.getLayout()[k]+D;var G=I==="vertical"?P:L;if(V=R-D-G,V>0)for(B=q.getLayout()[E]-V,I==="vertical"?q.setLayout({x:B},!0):q.setLayout({y:B},!0),R=B,N=z-2;N>=0;--N)q=O[N],V=q.getLayout()[E]+q.getLayout()[k]+D-R,V>0&&(B=q.getLayout()[E]-V,I==="vertical"?q.setLayout({x:B},!0):q.setLayout({y:B},!0)),R=q.getLayout()[E]})}function p(C,D,L){t.each(C.slice().reverse(),function(P){t.each(P,function(I){if(I.outEdges.length){var E=b(I.outEdges,y,L)/b(I.outEdges,x,L);if(isNaN(E)){var O=I.outEdges.length;E=O?b(I.outEdges,_,L)/O:0}if(L==="vertical"){var B=I.getLayout().x+(E-A(I,L))*D;I.setLayout({x:B},!0)}else{var q=I.getLayout().y+(E-A(I,L))*D;I.setLayout({y:q},!0)}}})})}function y(C,D){return A(C.node2,D)*C.getValue()}function _(C,D){return A(C.node2,D)}function w(C,D){return A(C.node1,D)*C.getValue()}function S(C,D){return A(C.node1,D)}function A(C,D){return D==="vertical"?C.getLayout().x+C.getLayout().dx/2:C.getLayout().y+C.getLayout().dy/2}function x(C){return C.getValue()}function b(C,D,L){for(var P=0,I=C.length,E=-1;++E<I;){var O=+D.call(C,C[E],L);isNaN(O)||(P+=O)}return P}function T(C,D,L){t.each(C,function(P){t.each(P,function(I){if(I.inEdges.length){var E=b(I.inEdges,w,L)/b(I.inEdges,x,L);if(isNaN(E)){var O=I.inEdges.length;E=O?b(I.inEdges,S,L)/O:0}if(L==="vertical"){var B=I.getLayout().x+(E-A(I,L))*D;I.setLayout({x:B},!0)}else{var q=I.getLayout().y+(E-A(I,L))*D;I.setLayout({y:q},!0)}}})})}function M(C,D){var L=D==="vertical"?"x":"y";t.each(C,function(P){P.outEdges.sort(function(I,E){return I.node2.getLayout()[L]-E.node2.getLayout()[L]}),P.inEdges.sort(function(I,E){return I.node1.getLayout()[L]-E.node1.getLayout()[L]})}),t.each(C,function(P){var I=0,E=0;t.each(P.outEdges,function(O){O.setLayout({sy:I},!0),I+=O.getLayout().dy}),t.each(P.inEdges,function(O){O.setLayout({ty:E},!0),E+=O.getLayout().dy})})}return Wv=i,Wv}var Zv,E1;function f3(){if(E1)return Zv;E1=1;var e=Ma(),t=W;function r(a,i){a.eachSeriesByType("sankey",function(n){var s=n.getGraph(),c=s.nodes;if(c.length){var o=1/0,u=-1/0;t.each(c,function(v){var h=v.getLayout().value;h<o&&(o=h),h>u&&(u=h)}),t.each(c,function(v){var h=new e({type:"color",mappingMethod:"linear",dataExtent:[o,u],visual:n.get("color")}),l=h.mapValueToVisual(v.getLayout().value),d=v.getModel().get("itemStyle.color");d!=null?v.setVisual("color",d):v.setVisual("color",l)})}})}return Zv=r,Zv}var k1;function d3(){if(k1)return M1;k1=1;var e=_e;u3(),v3(),h3();var t=c3(),r=f3();return e.registerLayout(t),e.registerVisual(r),M1}var O1={},Yv={},z1;function qM(){if(z1)return Yv;z1=1;var e=_i(),t=W,r=Mn(),a=r.getDimensionTypeByAxis,i=xt,n=i.makeSeriesEncodeForAxisCoordSys,s={_baseAxisDim:null,getInitialData:function(c,o){var u,v=o.getComponent("xAxis",this.get("xAxisIndex")),h=o.getComponent("yAxis",this.get("yAxisIndex")),l=v.get("type"),d=h.get("type"),f;l==="category"?(c.layout="horizontal",u=v.getOrdinalMeta(),f=!0):d==="category"?(c.layout="vertical",u=h.getOrdinalMeta(),f=!0):c.layout=c.layout||"horizontal";var m=["x","y"],g=c.layout==="horizontal"?0:1,p=this._baseAxisDim=m[g],y=m[1-g],_=[v,h],w=_[g].get("type"),S=_[1-g].get("type"),A=c.data;if(A&&f){var x=[];t.each(A,function(M,C){var D;M.value&&t.isArray(M.value)?(D=M.value.slice(),M.value.unshift(C)):t.isArray(M)?(D=M.slice(),M.unshift(C)):D=M,x.push(D)}),c.data=x}var b=this.defaultValueDimensions,T=[{name:p,type:a(w),ordinalMeta:u,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:y,type:a(S),dimsDef:b.slice()}];return e(this,{coordDimensions:T,dimensionsCount:b.length+1,encodeDefaulter:t.curry(n,T,this)})},getBaseAxis:function(){var c=this._baseAxisDim;return this.ecModel.getComponent(c+"Axis",this.get(c+"AxisIndex")).axis}};return Yv.seriesModelMixin=s,Yv}var Xv,B1;function g3(){if(B1)return Xv;B1=1;var e=W,t=ct,r=qM(),a=r.seriesModelMixin,i=t.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});e.mixin(i,a,!0);var n=i;return Xv=n,Xv}var Kv,N1;function p3(){if(N1)return Kv;N1=1;var e=W,t=Sr,r=fe,a=at,i=["itemStyle"],n=["emphasis","itemStyle"],s=t.extend({type:"boxplot",render:function(l,d,f){var m=l.getData(),g=this.group,p=this._data;this._data||g.removeAll();var y=l.get("layout")==="horizontal"?1:0;m.diff(p).add(function(_){if(m.hasValue(_)){var w=m.getItemLayout(_),S=o(w,m,_,y,!0);m.setItemGraphicEl(_,S),g.add(S)}}).update(function(_,w){var S=p.getItemGraphicEl(w);if(!m.hasValue(_)){g.remove(S);return}var A=m.getItemLayout(_);S?u(A,S,m,_):S=o(A,m,_,y),g.add(S),m.setItemGraphicEl(_,S)}).remove(function(_){var w=p.getItemGraphicEl(_);w&&g.remove(w)}).execute(),this._data=m},remove:function(l){var d=this.group,f=this._data;this._data=null,f&&f.eachItemGraphicEl(function(m){m&&d.remove(m)})},dispose:e.noop}),c=a.extend({type:"boxplotBoxPath",shape:{},buildPath:function(l,d){var f=d.points,m=0;for(l.moveTo(f[m][0],f[m][1]),m++;m<4;m++)l.lineTo(f[m][0],f[m][1]);for(l.closePath();m<f.length;m++)l.moveTo(f[m][0],f[m][1]),m++,l.lineTo(f[m][0],f[m][1])}});function o(l,d,f,m,g){var p=l.ends,y=new c({shape:{points:g?v(p,m,l):p}});return u(l,y,d,f,g),y}function u(l,d,f,m,g){var p=f.hostModel,y=r[g?"initProps":"updateProps"];y(d,{shape:{points:l.ends}},p,m);var _=f.getItemModel(m),w=_.getModel(i),S=f.getItemVisual(m,"color"),A=w.getItemStyle(["borderColor"]);A.stroke=S,A.strokeNoScale=!0,d.useStyle(A),d.z2=100;var x=_.getModel(n).getItemStyle();r.setHoverStyle(d,x)}function v(l,d,f){return e.map(l,function(m){return m=m.slice(),m[d]=f.initBaseline,m})}var h=s;return Kv=h,Kv}var Qv,V1;function m3(){if(V1)return Qv;V1=1;var e=["itemStyle","borderColor"];function t(r,a){var i=r.get("color");r.eachRawSeriesByType("boxplot",function(n){var s=i[n.seriesIndex%i.length],c=n.getData();c.setVisual({legendSymbol:"roundRect",color:n.get(e)||s}),r.isSeriesFiltered(n)||c.each(function(o){var u=c.getItemModel(o);c.setItemVisual(o,{color:u.get(e,!0)})})})}return Qv=t,Qv}var jv,H1;function y3(){if(H1)return jv;H1=1;var e=W,t=Le,r=t.parsePercent,a=e.each;function i(o){var u=n(o);a(u,function(v){var h=v.seriesModels;h.length&&(s(v),a(h,function(l,d){c(l,v.boxOffsetList[d],v.boxWidthList[d])}))})}function n(o){var u=[],v=[];return o.eachSeriesByType("boxplot",function(h){var l=h.getBaseAxis(),d=e.indexOf(v,l);d<0&&(d=v.length,v[d]=l,u[d]={axis:l,seriesModels:[]}),u[d].seriesModels.push(h)}),u}function s(o){var u,v=o.axis,h=o.seriesModels,l=h.length,d=o.boxWidthList=[],f=o.boxOffsetList=[],m=[],g;if(v.type==="category")g=v.getBandWidth();else{var p=0;a(h,function(A){p=Math.max(p,A.getData().count())}),u=v.getExtent(),Math.abs(u[1]-u[0])/p}a(h,function(A){var x=A.get("boxWidth");e.isArray(x)||(x=[x,x]),m.push([r(x[0],g)||0,r(x[1],g)||0])});var y=g*.8-2,_=y/l*.3,w=(y-_*(l-1))/l,S=w/2-y/2;a(h,function(A,x){f.push(S),S+=_+w,d.push(Math.min(Math.max(w,m[x][0]),m[x][1]))})}function c(o,u,v){var h=o.coordinateSystem,l=o.getData(),d=v/2,f=o.get("layout")==="horizontal"?0:1,m=1-f,g=["x","y"],p=l.mapDimension(g[f]),y=l.mapDimension(g[m],!0);if(p==null||y.length<5)return;for(var _=0;_<l.count();_++){var w=l.get(p,_),S=C(w,y[2],_),A=C(w,y[0],_),x=C(w,y[1],_),b=C(w,y[3],_),T=C(w,y[4],_),M=[];D(M,x,0),D(M,b,1),M.push(A,x,T,b),L(M,A),L(M,T),L(M,S),l.setItemLayout(_,{initBaseline:S[m],ends:M})}function C(P,I,E){var O=l.get(I,E),B=[];B[f]=P,B[m]=O;var q;return isNaN(P)||isNaN(O)?q=[NaN,NaN]:(q=h.dataToPoint(B),q[f]+=u),q}function D(P,I,E){var O=I.slice(),B=I.slice();O[f]+=d,B[f]-=d,E?P.push(O,B):P.push(B,O)}function L(P,I){var E=I.slice(),O=I.slice();E[f]-=d,O[f]+=d,P.push(E,O)}}return jv=i,jv}var q1;function _3(){if(q1)return O1;q1=1;var e=_e;g3(),p3();var t=m3(),r=y3();return e.registerVisual(t),e.registerLayout(r),O1}var G1={},Jv,F1;function x3(){if(F1)return Jv;F1=1;var e=W,t=ct,r=qM(),a=r.seriesModelMixin,i=t.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(s,c,o){var u=c.getItemLayout(s);return u&&o.rect(u.brushRect)}});e.mixin(i,a,!0);var n=i;return Jv=n,Jv}var eh,$1;function S3(){if($1)return eh;$1=1;var e=W,t=Sr,r=fe,a=at,i=Ln(),n=i.createClipPath,s=["itemStyle"],c=["emphasis","itemStyle"],o=["color","color0","borderColor","borderColor0"],u=t.extend({type:"candlestick",render:function(_,w,S){this.group.removeClipPath(),this._updateDrawMode(_),this._isLargeDraw?this._renderLarge(_):this._renderNormal(_)},incrementalPrepareRender:function(_,w,S){this._clear(),this._updateDrawMode(_)},incrementalRender:function(_,w,S,A){this._isLargeDraw?this._incrementalRenderLarge(_,w):this._incrementalRenderNormal(_,w)},_updateDrawMode:function(_){var w=_.pipelineContext.large;(this._isLargeDraw==null||w^this._isLargeDraw)&&(this._isLargeDraw=w,this._clear())},_renderNormal:function(_){var w=_.getData(),S=this._data,A=this.group,x=w.getLayout("isSimpleBox"),b=_.get("clip",!0),T=_.coordinateSystem,M=T.getArea&&T.getArea();this._data||A.removeAll(),w.diff(S).add(function(C){if(w.hasValue(C)){var D,L=w.getItemLayout(C);if(b&&l(M,L))return;D=h(L,C,!0),r.initProps(D,{shape:{points:L.ends}},_,C),d(D,w,C,x),A.add(D),w.setItemGraphicEl(C,D)}}).update(function(C,D){var L=S.getItemGraphicEl(D);if(!w.hasValue(C)){A.remove(L);return}var P=w.getItemLayout(C);if(b&&l(M,P)){A.remove(L);return}L?r.updateProps(L,{shape:{points:P.ends}},_,C):L=h(P),d(L,w,C,x),A.add(L),w.setItemGraphicEl(C,L)}).remove(function(C){var D=S.getItemGraphicEl(C);D&&A.remove(D)}).execute(),this._data=w},_renderLarge:function(_){this._clear(),g(_,this.group);var w=_.get("clip",!0)?n(_.coordinateSystem,!1,_):null;w?this.group.setClipPath(w):this.group.removeClipPath()},_incrementalRenderNormal:function(_,w){for(var S=w.getData(),A=S.getLayout("isSimpleBox"),x;(x=_.next())!=null;){var b,T=S.getItemLayout(x);b=h(T),d(b,S,x,A),b.incremental=!0,this.group.add(b)}},_incrementalRenderLarge:function(_,w){g(w,this.group,!0)},remove:function(_){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:e.noop}),v=a.extend({type:"normalCandlestickBox",shape:{},buildPath:function(_,w){var S=w.points;this.__simpleBox?(_.moveTo(S[4][0],S[4][1]),_.lineTo(S[6][0],S[6][1])):(_.moveTo(S[0][0],S[0][1]),_.lineTo(S[1][0],S[1][1]),_.lineTo(S[2][0],S[2][1]),_.lineTo(S[3][0],S[3][1]),_.closePath(),_.moveTo(S[4][0],S[4][1]),_.lineTo(S[5][0],S[5][1]),_.moveTo(S[6][0],S[6][1]),_.lineTo(S[7][0],S[7][1]))}});function h(_,w,S){var A=_.ends;return new v({shape:{points:S?f(A,_):A},z2:100})}function l(_,w){for(var S=!0,A=0;A<w.ends.length;A++)if(_.contain(w.ends[A][0],w.ends[A][1])){S=!1;break}return S}function d(_,w,S,A){var x=w.getItemModel(S),b=x.getModel(s),T=w.getItemVisual(S,"color"),M=w.getItemVisual(S,"borderColor")||T,C=b.getItemStyle(o);_.useStyle(C),_.style.strokeNoScale=!0,_.style.fill=T,_.style.stroke=M,_.__simpleBox=A;var D=x.getModel(c).getItemStyle();r.setHoverStyle(_,D)}function f(_,w){return e.map(_,function(S){return S=S.slice(),S[1]=w.initBaseline,S})}var m=a.extend({type:"largeCandlestickBox",shape:{},buildPath:function(_,w){for(var S=w.points,A=0;A<S.length;)if(this.__sign===S[A++]){var x=S[A++];_.moveTo(x,S[A++]),_.lineTo(x,S[A++])}else A+=3}});function g(_,w,S){var A=_.getData(),x=A.getLayout("largePoints"),b=new m({shape:{points:x},__sign:1});w.add(b);var T=new m({shape:{points:x},__sign:-1});w.add(T),p(1,b,_,A),p(-1,T,_,A),S&&(b.incremental=!0,T.incremental=!0)}function p(_,w,S,A){var x=_>0?"P":"N",b=A.getVisual("borderColor"+x)||A.getVisual("color"+x),T=S.getModel(s).getItemStyle(o);w.useStyle(T),w.style.fill=null,w.style.stroke=b}var y=u;return eh=y,eh}var th,U1;function b3(){if(U1)return th;U1=1;var e=W;function t(r){!r||!e.isArray(r.series)||e.each(r.series,function(a){e.isObject(a)&&a.type==="k"&&(a.type="candlestick")})}return th=t,th}var rh,W1;function w3(){if(W1)return rh;W1=1;var e=gi,t=["itemStyle","borderColor"],r=["itemStyle","borderColor0"],a=["itemStyle","color"],i=["itemStyle","color0"],n={seriesType:"candlestick",plan:e(),performRawSeries:!0,reset:function(s,c){var o=s.getData();if(o.setVisual({legendSymbol:"roundRect",colorP:h(1,s),colorN:h(-1,s),borderColorP:l(1,s),borderColorN:l(-1,s)}),c.isSeriesFiltered(s))return;var u=s.pipelineContext.large;return!u&&{progress:v};function v(d,f){for(var m;(m=d.next())!=null;){var g=f.getItemModel(m),p=f.getItemLayout(m).sign;f.setItemVisual(m,{color:h(p,g),borderColor:l(p,g)})}}function h(d,f){return f.get(d>0?a:i)}function l(d,f){return f.get(d>0?t:r)}}};return rh=n,rh}var ah,Z1;function A3(){if(Z1)return ah;Z1=1;var e=fe,t=e.subPixelOptimize,r=gi,a=Le,i=a.parsePercent,n=W,s=n.retrieve2,c=typeof Float32Array<"u"?Float32Array:Array,o={seriesType:"candlestick",plan:r(),reset:function(h){var l=h.coordinateSystem,d=h.getData(),f=v(h,d),m=0,g=1,p=["x","y"],y=d.mapDimension(p[m]),_=d.mapDimension(p[g],!0),w=_[0],S=_[1],A=_[2],x=_[3];if(d.setLayout({candleWidth:f,isSimpleBox:f<=1.3}),y==null||_.length<4)return;return{progress:h.pipelineContext.large?T:b};function b(M,C){for(var D;(D=M.next())!=null;){var L=C.get(y,D),P=C.get(w,D),I=C.get(S,D),E=C.get(A,D),O=C.get(x,D),B=Math.min(P,I),q=Math.max(P,I),V=G(B,L),R=G(q,L),z=G(E,L),k=G(O,L),N=[];H(N,R,0),H(N,V,1),N.push($(k),$(R),$(z),$(V)),C.setItemLayout(D,{sign:u(C,D,P,I,S),initBaseline:P>I?R[g]:V[g],ends:N,brushRect:F(E,O,L)})}function G(U,X){var Q=[];return Q[m]=X,Q[g]=U,isNaN(X)||isNaN(U)?[NaN,NaN]:l.dataToPoint(Q)}function H(U,X,Q){var j=X.slice(),ee=X.slice();j[m]=t(j[m]+f/2,1,!1),ee[m]=t(ee[m]-f/2,1,!0),Q?U.push(j,ee):U.push(ee,j)}function F(U,X,Q){var j=G(U,Q),ee=G(X,Q);return j[m]-=f/2,ee[m]-=f/2,{x:j[0],y:j[1],width:f,height:ee[1]-j[1]}}function $(U){return U[m]=t(U[m],1),U}}function T(M,C){for(var D=new c(M.count*4),L=0,P,I=[],E=[],O;(O=M.next())!=null;){var B=C.get(y,O),q=C.get(w,O),V=C.get(S,O),R=C.get(A,O),z=C.get(x,O);if(isNaN(B)||isNaN(R)||isNaN(z)){D[L++]=NaN,L+=3;continue}D[L++]=u(C,O,q,V,S),I[m]=B,I[g]=R,P=l.dataToPoint(I,null,E),D[L++]=P?P[0]:NaN,D[L++]=P?P[1]:NaN,I[g]=z,P=l.dataToPoint(I,null,E),D[L++]=P?P[1]:NaN}C.setLayout("largePoints",D)}}};function u(h,l,d,f,m){var g;return d>f?g=-1:d<f?g=1:g=l>0?h.get(m,l-1)<=f?1:-1:1,g}function v(h,l){var d=h.getBaseAxis(),f,m=d.type==="category"?d.getBandWidth():(f=d.getExtent(),Math.abs(f[1]-f[0])/l.count()),g=i(s(h.get("barMaxWidth"),m),m),p=i(s(h.get("barMinWidth"),1),m),y=h.get("barWidth");return y!=null?i(y,m):Math.max(Math.min(m/2,g),p)}return ah=o,ah}var Y1;function T3(){if(Y1)return G1;Y1=1;var e=_e;x3(),S3();var t=b3(),r=w3(),a=A3();return e.registerPreprocessor(t),e.registerVisual(r),e.registerLayout(a),G1}var X1={},ih,K1;function C3(){if(K1)return ih;K1=1;var e=Or(),t=ct,r=t.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});return ih=r,ih}var nh,Q1;function M3(){if(Q1)return nh;Q1=1;var e=W,t=Zt(),r=t.createSymbol,a=fe,i=a.Group,n=Le,s=n.parsePercent,c=ys(),o=3;function u(f){return e.isArray(f)||(f=[+f,+f]),f}function v(f,m){var g=m.rippleEffectColor||m.color;f.eachChild(function(p){p.attr({z:m.z,zlevel:m.zlevel,style:{stroke:m.brushType==="stroke"?g:null,fill:m.brushType==="fill"?g:null}})})}function h(f,m){i.call(this);var g=new c(f,m),p=new i;this.add(g),this.add(p),p.beforeUpdate=function(){this.attr(g.getScale())},this.updateData(f,m)}var l=h.prototype;l.stopEffectAnimation=function(){this.childAt(1).removeAll()},l.startEffectAnimation=function(f){for(var m=f.symbolType,g=f.color,p=this.childAt(1),y=0;y<o;y++){var _=r(m,-1,-1,2,2,g);_.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var w=-y/o*f.period+f.effectOffset;_.animate("",!0).when(f.period,{scale:[f.rippleScale/2,f.rippleScale/2]}).delay(w).start(),_.animateStyle(!0).when(f.period,{opacity:0}).delay(w).start(),p.add(_)}v(p,f)},l.updateEffectAnimation=function(f){for(var m=this._effectCfg,g=this.childAt(1),p=["symbolType","period","rippleScale"],y=0;y<p.length;y++){var _=p[y];if(m[_]!==f[_]){this.stopEffectAnimation(),this.startEffectAnimation(f);return}}v(g,f)},l.highlight=function(){this.trigger("emphasis")},l.downplay=function(){this.trigger("normal")},l.updateData=function(f,m){var g=f.hostModel;this.childAt(0).updateData(f,m);var p=this.childAt(1),y=f.getItemModel(m),_=f.getItemVisual(m,"symbol"),w=u(f.getItemVisual(m,"symbolSize")),S=f.getItemVisual(m,"color");p.attr("scale",w),p.traverse(function(L){L.attr({fill:S})});var A=y.getShallow("symbolOffset");if(A){var x=p.position;x[0]=s(A[0],w[0]),x[1]=s(A[1],w[1])}var b=f.getItemVisual(m,"symbolRotate");p.rotation=(b||0)*Math.PI/180||0;var T={};if(T.showEffectOn=g.get("showEffectOn"),T.rippleScale=y.get("rippleEffect.scale"),T.brushType=y.get("rippleEffect.brushType"),T.period=y.get("rippleEffect.period")*1e3,T.effectOffset=m/f.count(),T.z=y.getShallow("z")||0,T.zlevel=y.getShallow("zlevel")||0,T.symbolType=_,T.color=S,T.rippleEffectColor=y.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),T.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(T):this.startEffectAnimation(T),this._effectCfg=T;else{this._effectCfg=null,this.stopEffectAnimation();var M=this.childAt(0),C=function(){M.highlight(),T.showEffectOn!=="render"&&this.startEffectAnimation(T)},D=function(){M.downplay(),T.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",C,this).on("mouseout",D,this).on("emphasis",C,this).on("normal",D,this)}this._effectCfg=T},l.fadeOut=function(f){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),f&&f()},e.inherits(h,i);var d=h;return nh=d,nh}var oh,j1;function D3(){if(j1)return oh;j1=1;var e=_e,t=Dn(),r=M3(),a=Je,i=Pn(),n=e.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new t(r)},render:function(s,c,o){var u=s.getData(),v=this._symbolDraw;v.updateData(u),this.group.add(v.group)},updateTransform:function(s,c,o){var u=s.getData();this.group.dirty();var v=i().reset(s);v.progress&&v.progress({start:0,end:u.count()},u),this._symbolDraw.updateLayout(u)},_updateGroupTransform:function(s){var c=s.coordinateSystem;c&&c.getRoamTransform&&(this.group.transform=a.clone(c.getRoamTransform()),this.group.decomposeTransform())},remove:function(s,c){this._symbolDraw&&this._symbolDraw.remove(c)},dispose:function(){}});return oh=n,oh}var J1;function L3(){if(J1)return X1;J1=1;var e=_e;C3(),D3();var t=Aa(),r=Pn();return e.registerVisual(t("effectScatter","circle")),e.registerLayout(r("effectScatter")),X1}var ex={},sh,tx;function P3(){if(tx)return sh;tx=1;var e=ct,t=Wt(),r=W,a=r.concatArray,i=r.mergeAll,n=r.map,s=Ne,c=s.encodeHTML,o=typeof Uint32Array>"u"?Array:Uint32Array,u=typeof Float64Array>"u"?Array:Float64Array;function v(d){var f=d.data;f&&f[0]&&f[0][0]&&f[0][0].coord&&(d.data=n(f,function(m){var g=[m[0].coord,m[1].coord],p={coords:g};return m[0].name&&(p.fromName=m[0].name),m[1].name&&(p.toName=m[1].name),i([p,m[0],m[1]])}))}var h=e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(d){d.data=d.data||[],v(d);var f=this._processFlatCoordsArray(d.data);this._flatCoords=f.flatCoords,this._flatCoordsOffset=f.flatCoordsOffset,f.flatCoords&&(d.data=new Float32Array(f.count)),h.superApply(this,"init",arguments)},mergeOption:function(d){if(d.data=d.data||[],v(d),d.data){var f=this._processFlatCoordsArray(d.data);this._flatCoords=f.flatCoords,this._flatCoordsOffset=f.flatCoordsOffset,f.flatCoords&&(d.data=new Float32Array(f.count))}h.superApply(this,"mergeOption",arguments)},appendData:function(d){var f=this._processFlatCoordsArray(d.data);f.flatCoords&&(this._flatCoords?(this._flatCoords=a(this._flatCoords,f.flatCoords),this._flatCoordsOffset=a(this._flatCoordsOffset,f.flatCoordsOffset)):(this._flatCoords=f.flatCoords,this._flatCoordsOffset=f.flatCoordsOffset),d.data=new Float32Array(f.count)),this.getRawData().appendData(d.data)},_getCoordsFromItemModel:function(d){var f=this.getData().getItemModel(d),m=f.option instanceof Array?f.option:f.getShallow("coords");return m},getLineCoordsCount:function(d){return this._flatCoordsOffset?this._flatCoordsOffset[d*2+1]:this._getCoordsFromItemModel(d).length},getLineCoords:function(d,f){if(this._flatCoordsOffset){for(var m=this._flatCoordsOffset[d*2],g=this._flatCoordsOffset[d*2+1],p=0;p<g;p++)f[p]=f[p]||[],f[p][0]=this._flatCoords[m+p*2],f[p][1]=this._flatCoords[m+p*2+1];return g}else{for(var y=this._getCoordsFromItemModel(d),p=0;p<y.length;p++)f[p]=f[p]||[],f[p][0]=y[p][0],f[p][1]=y[p][1];return y.length}},_processFlatCoordsArray:function(d){var f=0;if(this._flatCoords&&(f=this._flatCoords.length),typeof d[0]=="number"){for(var m=d.length,g=new o(m),p=new u(m),y=0,_=0,w=0,S=0;S<m;){w++;var A=d[S++];g[_++]=y+f,g[_++]=A;for(var x=0;x<A;x++){var b=d[S++],T=d[S++];p[y++]=b,p[y++]=T}}return{flatCoordsOffset:new Uint32Array(g.buffer,0,_),flatCoords:p,count:w}}return{flatCoordsOffset:null,flatCoords:null,count:d.length}},getInitialData:function(d,f){var m=new t(["value"],this);return m.hasItemOption=!1,m.initData(d.data,[],function(g,p,y,_){if(g instanceof Array)return NaN;m.hasItemOption=!0;var w=g.value;if(w!=null)return w instanceof Array?w[_]:w}),m},formatTooltip:function(d){var f=this.getData(),m=f.getItemModel(d),g=m.get("name");if(g)return g;var p=m.get("fromName"),y=m.get("toName"),_=[];return p!=null&&_.push(p),y!=null&&_.push(y),c(_.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var d=this.option.progressive;return d??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){var d=this.option.progressiveThreshold;return d??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),l=h;return sh=l,sh}var lh,rx;function GM(){if(rx)return lh;rx=1;var e=fe,t=gg(),r=W,a=Zt(),i=a.createSymbol,n=Ee,s=ut;function c(v,h,l){e.Group.call(this),this.add(this.createLine(v,h,l)),this._updateEffectSymbol(v,h)}var o=c.prototype;o.createLine=function(v,h,l){return new t(v,h,l)},o._updateEffectSymbol=function(v,h){var l=v.getItemModel(h),d=l.getModel("effect"),f=d.get("symbolSize"),m=d.get("symbol");r.isArray(f)||(f=[f,f]);var g=d.get("color")||v.getItemVisual(h,"color"),p=this.childAt(1);this._symbolType!==m&&(this.remove(p),p=i(m,-.5,-.5,1,1,g),p.z2=100,p.culling=!0,this.add(p)),p&&(p.setStyle("shadowColor",g),p.setStyle(d.getItemStyle(["color"])),p.attr("scale",f),p.setColor(g),p.attr("scale",f),this._symbolType=m,this._symbolScale=f,this._updateEffectAnimation(v,d,h))},o._updateEffectAnimation=function(v,h,l){var d=this.childAt(1);if(d){var f=this,m=v.getItemLayout(l),g=h.get("period")*1e3,p=h.get("loop"),y=h.get("constantSpeed"),_=r.retrieve(h.get("delay"),function(x){return x/v.count()*g/3}),w=typeof _=="function";if(d.ignore=!0,this.updateAnimationPoints(d,m),y>0&&(g=this.getLineLength(d)/y*1e3),g!==this._period||p!==this._loop){d.stopAnimation();var S=_;w&&(S=_(l)),d.__t>0&&(S=-g*d.__t),d.__t=0;var A=d.animate("",p).when(g,{__t:1}).delay(S).during(function(){f.updateSymbolPosition(d)});p||A.done(function(){f.remove(d)}),A.start()}this._period=g,this._loop=p}},o.getLineLength=function(v){return n.dist(v.__p1,v.__cp1)+n.dist(v.__cp1,v.__p2)},o.updateAnimationPoints=function(v,h){v.__p1=h[0],v.__p2=h[1],v.__cp1=h[2]||[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]},o.updateData=function(v,h,l){this.childAt(0).updateData(v,h,l),this._updateEffectSymbol(v,h)},o.updateSymbolPosition=function(v){var h=v.__p1,l=v.__p2,d=v.__cp1,f=v.__t,m=v.position,g=[m[0],m[1]],p=s.quadraticAt,y=s.quadraticDerivativeAt;m[0]=p(h[0],d[0],l[0],f),m[1]=p(h[1],d[1],l[1],f);var _=y(h[0],d[0],l[0],f),w=y(h[1],d[1],l[1],f);if(v.rotation=-Math.atan2(w,_)-Math.PI/2,this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")if(v.__lastT!==void 0&&v.__lastT<v.__t){var S=n.dist(g,m)*1.05;v.attr("scale",[v.scale[0],S]),f===1&&(m[0]=g[0]+(m[0]-g[0])/2,m[1]=g[1]+(m[1]-g[1])/2)}else if(v.__lastT===1){var S=2*n.dist(h,m);v.attr("scale",[v.scale[0],S])}else v.attr("scale",this._symbolScale);v.__lastT=v.__t,v.ignore=!1},o.updateLayout=function(v,h){this.childAt(0).updateLayout(v,h);var l=v.getItemModel(h).getModel("effect");this._updateEffectAnimation(v,l,h)},r.inherits(c,e.Group);var u=c;return lh=u,lh}var uh,ax;function FM(){if(ax)return uh;ax=1;var e=fe,t=W;function r(n,s,c){e.Group.call(this),this._createPolyline(n,s,c)}var a=r.prototype;a._createPolyline=function(n,s,c){var o=n.getItemLayout(s),u=new e.Polyline({shape:{points:o}});this.add(u),this._updateCommonStl(n,s,c)},a.updateData=function(n,s,c){var o=n.hostModel,u=this.childAt(0),v={shape:{points:n.getItemLayout(s)}};e.updateProps(u,v,o,s),this._updateCommonStl(n,s,c)},a._updateCommonStl=function(n,s,c){var o=this.childAt(0),u=n.getItemModel(s),v=n.getItemVisual(s,"color"),h=c&&c.lineStyle,l=c&&c.hoverLineStyle;(!c||n.hasItemOption)&&(h=u.getModel("lineStyle").getLineStyle(),l=u.getModel("emphasis.lineStyle").getLineStyle()),o.useStyle(t.defaults({strokeNoScale:!0,fill:"none",stroke:v},h)),o.hoverStyle=l,e.setHoverStyle(this)},a.updateLayout=function(n,s){var c=this.childAt(0);c.setShape("points",n.getItemLayout(s))},t.inherits(r,e.Group);var i=r;return uh=i,uh}var vh,ix;function I3(){if(ix)return vh;ix=1;var e=FM(),t=W,r=GM(),a=Ee;function i(c,o,u){r.call(this,c,o,u),this._lastFrame=0,this._lastFramePercent=0}var n=i.prototype;n.createLine=function(c,o,u){return new e(c,o,u)},n.updateAnimationPoints=function(c,o){this._points=o;for(var u=[0],v=0,h=1;h<o.length;h++){var l=o[h-1],d=o[h];v+=a.dist(l,d),u.push(v)}if(v!==0){for(var h=0;h<u.length;h++)u[h]/=v;this._offsets=u,this._length=v}},n.getLineLength=function(c){return this._length},n.updateSymbolPosition=function(c){var o=c.__t,u=this._points,v=this._offsets,h=u.length;if(v){var l=this._lastFrame,d;if(o<this._lastFramePercent){var f=Math.min(l+1,h-1);for(d=f;d>=0&&!(v[d]<=o);d--);d=Math.min(d,h-2)}else{for(var d=l;d<h&&!(v[d]>o);d++);d=Math.min(d-1,h-2)}a.lerp(c.position,u[d],u[d+1],(o-v[d])/(v[d+1]-v[d]));var m=u[d+1][0]-u[d][0],g=u[d+1][1]-u[d][1];c.rotation=-Math.atan2(g,m)-Math.PI/2,this._lastFrame=d,this._lastFramePercent=o,c.ignore=!1}},t.inherits(i,r);var s=i;return vh=s,vh}var hh,nx;function R3(){if(nx)return hh;nx=1;var e=fe,t=Bd,r=Dd,a=Ld,i=e.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(o,u){var v=u.segs,h=u.curveness;if(u.polyline)for(var l=0;l<v.length;){var d=v[l++];if(d>0){o.moveTo(v[l++],v[l++]);for(var f=1;f<d;f++)o.lineTo(v[l++],v[l++])}}else for(var l=0;l<v.length;){var m=v[l++],g=v[l++],p=v[l++],y=v[l++];if(o.moveTo(m,g),h>0){var _=(m+p)/2-(g-y)*h,w=(g+y)/2-(p-m)*h;o.quadraticCurveTo(_,w,p,y)}else o.lineTo(p,y)}},findDataIndex:function(o,u){var v=this.shape,h=v.segs,l=v.curveness;if(v.polyline)for(var d=0,f=0;f<h.length;){var m=h[f++];if(m>0)for(var g=h[f++],p=h[f++],y=1;y<m;y++){var _=h[f++],w=h[f++];if(r.containStroke(g,p,_,w))return d}d++}else for(var d=0,f=0;f<h.length;){var g=h[f++],p=h[f++],_=h[f++],w=h[f++];if(l>0){var S=(g+_)/2-(p-w)*l,A=(p+w)/2-(_-g)*l;if(a.containStroke(g,p,S,A,_,w))return d}else if(r.containStroke(g,p,_,w))return d;d++}return-1}});function n(){this.group=new e.Group}var s=n.prototype;s.isPersistent=function(){return!this._incremental},s.updateData=function(o){this.group.removeAll();var u=new i({rectHover:!0,cursor:"default"});u.setShape({segs:o.getLayout("linesPoints")}),this._setCommon(u,o),this.group.add(u),this._incremental=null},s.incrementalPrepareUpdate=function(o){this.group.removeAll(),this._clearIncremental(),o.count()>5e5?(this._incremental||(this._incremental=new t({silent:!0})),this.group.add(this._incremental)):this._incremental=null},s.incrementalUpdate=function(o,u){var v=new i;v.setShape({segs:u.getLayout("linesPoints")}),this._setCommon(v,u,!!this._incremental),this._incremental?this._incremental.addDisplayable(v,!0):(v.rectHover=!0,v.cursor="default",v.__startIndex=o.start,this.group.add(v))},s.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},s._setCommon=function(o,u,v){var h=u.hostModel;o.setShape({polyline:h.get("polyline"),curveness:h.get("lineStyle.curveness")}),o.useStyle(h.getModel("lineStyle").getLineStyle()),o.style.strokeNoScale=!0;var l=u.getVisual("color");l&&o.setStyle("stroke",l),o.setStyle("fill"),v||(o.seriesIndex=h.seriesIndex,o.on("mousemove",function(d){o.dataIndex=null;var f=o.findDataIndex(d.offsetX,d.offsetY);f>0&&(o.dataIndex=f+o.__startIndex)}))},s._clearIncremental=function(){var o=this._incremental;o&&o.clearDisplaybles()};var c=n;return hh=c,hh}var ch,ox;function $M(){if(ox)return ch;ox=1;var e=gi,t={seriesType:"lines",plan:e(),reset:function(r){var a=r.coordinateSystem,i=r.get("polyline"),n=r.pipelineContext.large;function s(c,o){var u=[];if(n){var v,h=c.end-c.start;if(i){for(var l=0,d=c.start;d<c.end;d++)l+=r.getLineCoordsCount(d);v=new Float32Array(h+l*2)}else v=new Float32Array(h*4);for(var f=0,m=[],d=c.start;d<c.end;d++){var g=r.getLineCoords(d,u);i&&(v[f++]=g);for(var p=0;p<g;p++)m=a.dataToPoint(u[p],!1,m),v[f++]=m[0],v[f++]=m[1]}o.setLayout("linesPoints",v)}else for(var d=c.start;d<c.end;d++){var y=o.getItemModel(d),g=r.getLineCoords(d,u),_=[];if(i)for(var w=0;w<g;w++)_.push(a.dataToPoint(u[w]));else{_[0]=a.dataToPoint(u[0]),_[1]=a.dataToPoint(u[1]);var S=y.get("lineStyle.curveness");+S&&(_[2]=[(_[0][0]+_[1][0])/2-(_[0][1]-_[1][1])*S,(_[0][1]+_[1][1])/2-(_[1][0]-_[0][0])*S])}o.setItemLayout(d,_)}}return{progress:s}}};return ch=t,ch}var fh,sx;function E3(){if(sx)return fh;sx=1;var e=_e,t=pg(),r=GM(),a=gg(),i=FM(),n=I3(),s=R3(),c=$M(),o=Ln(),u=o.createClipPath,v=e.extendChartView({type:"lines",init:function(){},render:function(h,l,d){var f=h.getData(),m=this._updateLineDraw(f,h),g=h.get("zlevel"),p=h.get("effect.trailLength"),y=d.getZr(),_=y.painter.getType()==="svg";_||y.painter.getLayer(g).clear(!0),this._lastZlevel!=null&&!_&&y.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(h)&&p&&(_||y.configLayer(g,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(p/10+.9,1),0)})),m.updateData(f);var w=h.get("clip",!0)&&u(h.coordinateSystem,!1,h);w?this.group.setClipPath(w):this.group.removeClipPath(),this._lastZlevel=g,this._finished=!0},incrementalPrepareRender:function(h,l,d){var f=h.getData(),m=this._updateLineDraw(f,h);m.incrementalPrepareUpdate(f),this._clearLayer(d),this._finished=!1},incrementalRender:function(h,l,d){this._lineDraw.incrementalUpdate(h,l.getData()),this._finished=h.end===l.getData().count()},updateTransform:function(h,l,d){var f=h.getData(),m=h.pipelineContext;if(!this._finished||m.large||m.progressiveRender)return{update:!0};var g=c.reset(h);g.progress&&g.progress({start:0,end:f.count()},f),this._lineDraw.updateLayout(),this._clearLayer(d)},_updateLineDraw:function(h,l){var d=this._lineDraw,f=this._showEffect(l),m=!!l.get("polyline"),g=l.pipelineContext,p=g.large;return(!d||f!==this._hasEffet||m!==this._isPolyline||p!==this._isLargeDraw)&&(d&&d.remove(),d=this._lineDraw=p?new s:new t(m?f?n:i:f?r:a),this._hasEffet=f,this._isPolyline=m,this._isLargeDraw=p,this.group.removeAll()),this.group.add(d.group),d},_showEffect:function(h){return!!h.get("effect.show")},_clearLayer:function(h){var l=h.getZr(),d=l.painter.getType()==="svg";!d&&this._lastZlevel!=null&&l.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(h,l){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(l)},dispose:function(){}});return fh=v,fh}var dh,lx;function k3(){if(lx)return dh;lx=1;function e(a){return a instanceof Array||(a=[a,a]),a}var t="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(a,i,n){var s=e(a.get("symbol")),c=e(a.get("symbolSize")),o=a.getData();o.setVisual("fromSymbol",s&&s[0]),o.setVisual("toSymbol",s&&s[1]),o.setVisual("fromSymbolSize",c&&c[0]),o.setVisual("toSymbolSize",c&&c[1]),o.setVisual("opacity",a.get(t));function u(v,h){var l=v.getItemModel(h),d=e(l.getShallow("symbol",!0)),f=e(l.getShallow("symbolSize",!0)),m=l.get(t);d[0]&&v.setItemVisual(h,"fromSymbol",d[0]),d[1]&&v.setItemVisual(h,"toSymbol",d[1]),f[0]&&v.setItemVisual(h,"fromSymbolSize",f[0]),f[1]&&v.setItemVisual(h,"toSymbolSize",f[1]),v.setItemVisual(h,"opacity",m)}return{dataEach:o.hasItemOption?u:null}}};return dh=r,dh}var ux;function O3(){if(ux)return ex;ux=1;var e=_e;P3(),E3();var t=$M(),r=k3();return e.registerLayout(t),e.registerVisual(r),ex}var vx={},gh,hx;function z3(){if(hx)return gh;hx=1;var e=ct,t=Or(),r=xr,a=e.extend({type:"series.heatmap",getInitialData:function(i,n){return t(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var i=r.get(this.get("coordinateSystem"));if(i&&i.dimensions)return i.dimensions[0]==="lng"&&i.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});return gh=a,gh}var ph,cx;function B3(){if(cx)return ph;cx=1;var e=W,t=256;function r(){var i=e.createCanvas();this.canvas=i,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(i,n,s,c,o,u){var v=this._getBrush(),h=this._getGradient(i,o,"inRange"),l=this._getGradient(i,o,"outOfRange"),d=this.pointSize+this.blurSize,f=this.canvas,m=f.getContext("2d"),g=i.length;f.width=n,f.height=s;for(var p=0;p<g;++p){var y=i[p],_=y[0],w=y[1],S=y[2],A=c(S);m.globalAlpha=A,m.drawImage(v,_-d,w-d)}if(!f.width||!f.height)return f;for(var x=m.getImageData(0,0,f.width,f.height),b=x.data,T=0,M=b.length,C=this.minOpacity,D=this.maxOpacity,L=D-C;T<M;){var A=b[T+3]/256,P=Math.floor(A*(t-1))*4;if(A>0){var I=u(A)?h:l;A>0&&(A=A*L+C),b[T++]=I[P],b[T++]=I[P+1],b[T++]=I[P+2],b[T++]=I[P+3]*A*256}else T+=4}return m.putImageData(x,0,0),f},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=e.createCanvas()),n=this.pointSize+this.blurSize,s=n*2;i.width=s,i.height=s;var c=i.getContext("2d");return c.clearRect(0,0,s,s),c.shadowOffsetX=s,c.shadowBlur=this.blurSize,c.shadowColor="#000",c.beginPath(),c.arc(-n,n,this.pointSize,0,Math.PI*2,!0),c.closePath(),c.fill(),i},_getGradient:function(i,n,s){for(var c=this._gradientPixels,o=c[s]||(c[s]=new Uint8ClampedArray(256*4)),u=[0,0,0,0],v=0,h=0;h<256;h++)n[s](h/255,!0,u),o[v++]=u[0],o[v++]=u[1],o[v++]=u[2],o[v++]=u[3];return o}};var a=r;return ph=a,ph}var mh,fx;function N3(){if(fx)return mh;fx=1;var e=_e,t=fe,r=B3(),a=W;function i(o,u,v){var h=o[1]-o[0];u=a.map(u,function(f){return{interval:[(f.interval[0]-o[0])/h,(f.interval[1]-o[0])/h]}});var l=u.length,d=0;return function(f){for(var m=d;m<l;m++){var g=u[m].interval;if(g[0]<=f&&f<=g[1]){d=m;break}}if(m===l)for(var m=d-1;m>=0;m--){var g=u[m].interval;if(g[0]<=f&&f<=g[1]){d=m;break}}return m>=0&&m<l&&v[m]}}function n(o,u){var v=o[1]-o[0];return u=[(u[0]-o[0])/v,(u[1]-o[0])/v],function(h){return h>=u[0]&&h<=u[1]}}function s(o){var u=o.dimensions;return u[0]==="lng"&&u[1]==="lat"}var c=e.extendChartView({type:"heatmap",render:function(o,u,v){var h;u.eachComponent("visualMap",function(d){d.eachTargetSeries(function(f){f===o&&(h=d)})}),this.group.removeAll(),this._incrementalDisplayable=null;var l=o.coordinateSystem;l.type==="cartesian2d"||l.type==="calendar"?this._renderOnCartesianAndCalendar(o,v,0,o.getData().count()):s(l)&&this._renderOnGeo(l,o,h,v)},incrementalPrepareRender:function(o,u,v){this.group.removeAll()},incrementalRender:function(o,u,v,h){var l=u.coordinateSystem;l&&this._renderOnCartesianAndCalendar(u,h,o.start,o.end,!0)},_renderOnCartesianAndCalendar:function(o,u,v,h,l){var d=o.coordinateSystem,f,m;if(d.type==="cartesian2d"){var g=d.getAxis("x"),p=d.getAxis("y");f=g.getBandWidth(),m=p.getBandWidth()}for(var y=this.group,_=o.getData(),w="itemStyle",S="emphasis.itemStyle",A="label",x="emphasis.label",b=o.getModel(w).getItemStyle(["color"]),T=o.getModel(S).getItemStyle(),M=o.getModel(A),C=o.getModel(x),D=d.type,L=D==="cartesian2d"?[_.mapDimension("x"),_.mapDimension("y"),_.mapDimension("value")]:[_.mapDimension("time"),_.mapDimension("value")],P=v;P<h;P++){var I;if(D==="cartesian2d"){if(isNaN(_.get(L[2],P)))continue;var E=d.dataToPoint([_.get(L[0],P),_.get(L[1],P)]);I=new t.Rect({shape:{x:Math.floor(Math.round(E[0])-f/2),y:Math.floor(Math.round(E[1])-m/2),width:Math.ceil(f),height:Math.ceil(m)},style:{fill:_.getItemVisual(P,"color"),opacity:_.getItemVisual(P,"opacity")}})}else{if(isNaN(_.get(L[1],P)))continue;I=new t.Rect({z2:1,shape:d.dataToRect([_.get(L[0],P)]).contentShape,style:{fill:_.getItemVisual(P,"color"),opacity:_.getItemVisual(P,"opacity")}})}var O=_.getItemModel(P);_.hasItemOption&&(b=O.getModel(w).getItemStyle(["color"]),T=O.getModel(S).getItemStyle(),M=O.getModel(A),C=O.getModel(x));var B=o.getRawValue(P),q="-";B&&B[2]!=null&&(q=B[2]),t.setLabelStyle(b,T,M,C,{labelFetcher:o,labelDataIndex:P,defaultText:q,isRectText:!0}),I.setStyle(b),t.setHoverStyle(I,_.hasItemOption?T:a.extend({},T)),I.incremental=l,l&&(I.useHoverLayer=!0),y.add(I),_.setItemGraphicEl(P,I)}},_renderOnGeo:function(o,u,v,h){var l=v.targetVisuals.inRange,d=v.targetVisuals.outOfRange,f=u.getData(),m=this._hmLayer||this._hmLayer||new r;m.blurSize=u.get("blurSize"),m.pointSize=u.get("pointSize"),m.minOpacity=u.get("minOpacity"),m.maxOpacity=u.get("maxOpacity");var g=o.getViewRect().clone(),p=o.getRoamTransform();g.applyTransform(p);var y=Math.max(g.x,0),_=Math.max(g.y,0),w=Math.min(g.width+g.x,h.getWidth()),S=Math.min(g.height+g.y,h.getHeight()),A=w-y,x=S-_,b=[f.mapDimension("lng"),f.mapDimension("lat"),f.mapDimension("value")],T=f.mapArray(b,function(L,P,I){var E=o.dataToPoint([L,P]);return E[0]-=y,E[1]-=_,E.push(I),E}),M=v.getExtent(),C=v.type==="visualMap.continuous"?n(M,v.option.range):i(M,v.getPieceList(),v.option.selected);m.update(T,A,x,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:d.color.getColorMapper()},C);var D=new t.Image({style:{width:A,height:x,x:y,y:_,image:m.canvas},silent:!0});this.group.add(D)},dispose:function(){}});return mh=c,mh}var dx;function V3(){return dx||(dx=1,z3(),N3()),vx}var gx={},yh,px;function H3(){if(px)return yh;px=1;var e=CM(),t=e.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,t.superApply(this,"getInitialData",arguments)}}),r=t;return yh=r,yh}var _h,mx;function q3(){if(mx)return _h;mx=1;var e=_e,t=W,r=fe,a=Zt(),i=a.createSymbol,n=Le,s=n.parsePercent,c=n.isNumeric,o=MM(),u=o.setLabel,v=["itemStyle","borderWidth"],h=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],l=new r.Circle,d=e.extendChartView({type:"pictorialBar",render:function(z,k,N){var G=this.group,H=z.getData(),F=this._data,$=z.coordinateSystem,U=$.getBaseAxis(),X=!!U.isHorizontal(),Q=$.grid.getRect(),j={ecSize:{width:N.getWidth(),height:N.getHeight()},seriesModel:z,coordSys:$,coordSysExtent:[[Q.x,Q.x+Q.width],[Q.y,Q.y+Q.height]],isHorizontal:X,valueDim:h[+X],categoryDim:h[1-X]};return H.diff(F).add(function(ee){if(H.hasValue(ee)){var re=T(H,ee),te=f(H,ee,re,j),ne=L(H,j,te);H.setItemGraphicEl(ee,ne),G.add(ne),q(ne,j,te)}}).update(function(ee,re){var te=F.getItemGraphicEl(re);if(!H.hasValue(ee)){G.remove(te);return}var ne=T(H,ee),Se=f(H,ee,ne,j),le=E(H,Se);te&&le!==te.__pictorialShapeStr&&(G.remove(te),H.setItemGraphicEl(ee,null),te=null),te?P(te,j,Se):te=L(H,j,Se,!0),H.setItemGraphicEl(ee,te),te.__pictorialSymbolMeta=Se,G.add(te),q(te,j,Se)}).remove(function(ee){var re=F.getItemGraphicEl(ee);re&&I(F,ee,re.__pictorialSymbolMeta.animationModel,re)}).execute(),this._data=H,this.group},dispose:t.noop,remove:function(z,k){var N=this.group,G=this._data;z.get("animation")?G&&G.eachItemGraphicEl(function(H){I(G,H.dataIndex,z,H)}):N.removeAll()}});function f(z,k,N,G){var H=z.getItemLayout(k),F=N.get("symbolRepeat"),$=N.get("symbolClip"),U=N.get("symbolPosition")||"start",X=N.get("symbolRotate"),Q=(X||0)*Math.PI/180||0,j=N.get("symbolPatternSize")||2,ee=N.isAnimationEnabled(),re={dataIndex:k,layout:H,itemModel:N,symbolType:z.getItemVisual(k,"symbol")||"circle",color:z.getItemVisual(k,"color"),symbolClip:$,symbolRepeat:F,symbolRepeatDirection:N.get("symbolRepeatDirection"),symbolPatternSize:j,rotation:Q,animationModel:ee?N:null,hoverAnimation:ee&&N.get("hoverAnimation"),z2:N.getShallow("z",!0)||0};m(N,F,H,G,re),p(z,k,H,F,$,re.boundingLength,re.pxSign,j,G,re),y(N,re.symbolScale,Q,G,re);var te=re.symbolSize,ne=N.get("symbolOffset");return t.isArray(ne)&&(ne=[s(ne[0],te[0]),s(ne[1],te[1])]),_(N,te,H,F,$,ne,U,re.valueLineWidth,re.boundingLength,re.repeatCutLength,G,re),re}function m(z,k,N,G,H){var F=G.valueDim,$=z.get("symbolBoundingData"),U=G.coordSys.getOtherAxis(G.coordSys.getBaseAxis()),X=U.toGlobalCoord(U.dataToCoord(0)),Q=1-+(N[F.wh]<=0),j;if(t.isArray($)){var ee=[g(U,$[0])-X,g(U,$[1])-X];ee[1]<ee[0]&&ee.reverse(),j=ee[Q]}else $!=null?j=g(U,$)-X:k?j=G.coordSysExtent[F.index][Q]-X:j=N[F.wh];H.boundingLength=j,k&&(H.repeatCutLength=N[F.wh]),H.pxSign=j>0?1:j<0?-1:0}function g(z,k){return z.toGlobalCoord(z.dataToCoord(z.scale.parse(k)))}function p(z,k,N,G,H,F,$,U,X,Q){var j=X.valueDim,ee=X.categoryDim,re=Math.abs(N[ee.wh]),te=z.getItemVisual(k,"symbolSize");t.isArray(te)?te=te.slice():(te==null&&(te="100%"),te=[te,te]),te[ee.index]=s(te[ee.index],re),te[j.index]=s(te[j.index],G?re:Math.abs(F)),Q.symbolSize=te;var ne=Q.symbolScale=[te[0]/U,te[1]/U];ne[j.index]*=(X.isHorizontal?-1:1)*$}function y(z,k,N,G,H){var F=z.get(v)||0;F&&(l.attr({scale:k.slice(),rotation:N}),l.updateTransform(),F/=l.getLineScale(),F*=k[G.valueDim.index]),H.valueLineWidth=F}function _(z,k,N,G,H,F,$,U,X,Q,j,ee){var re=j.categoryDim,te=j.valueDim,ne=ee.pxSign,Se=Math.max(k[te.index]+U,0),le=Se;if(G){var pe=Math.abs(X),de=t.retrieve(z.get("symbolMargin"),"15%")+"",ie=!1;de.lastIndexOf("!")===de.length-1&&(ie=!0,de=de.slice(0,de.length-1)),de=s(de,k[te.index]);var oe=Math.max(Se+de*2,0),ge=ie?0:de*2,Z=c(G),K=Z?G:V((pe+ge)/oe),J=pe-K*Se;de=J/2/(ie?K:K-1),oe=Se+de*2,ge=ie?0:de*2,!Z&&G!=="fixed"&&(K=Q?V((Math.abs(Q)+ge)/oe):0),le=K*oe-ge,ee.repeatTimes=K,ee.symbolMargin=de}var se=ne*(le/2),ue=ee.pathPosition=[];ue[re.index]=N[re.wh]/2,ue[te.index]=$==="start"?se:$==="end"?X-se:X/2,F&&(ue[0]+=F[0],ue[1]+=F[1]);var ve=ee.bundlePosition=[];ve[re.index]=N[re.xy],ve[te.index]=N[te.xy];var he=ee.barRectShape=t.extend({},N);he[te.wh]=ne*Math.max(Math.abs(N[te.wh]),Math.abs(ue[te.index]+se)),he[re.wh]=N[re.wh];var me=ee.clipShape={};me[re.xy]=-N[re.xy],me[re.wh]=j.ecSize[re.wh],me[te.xy]=0,me[te.wh]=N[te.wh]}function w(z){var k=z.symbolPatternSize,N=i(z.symbolType,-k/2,-k/2,k,k,z.color);return N.attr({culling:!0}),N.type!=="image"&&N.setStyle({strokeNoScale:!0}),N}function S(z,k,N,G){var H=z.__pictorialBundle,F=N.symbolSize,$=N.valueLineWidth,U=N.pathPosition,X=k.valueDim,Q=N.repeatTimes||0,j=0,ee=F[k.valueDim.index]+$+N.symbolMargin*2;for(O(z,function(pe){pe.__pictorialAnimationIndex=j,pe.__pictorialRepeatTimes=Q,j<Q?B(pe,null,ne(j),N,G):B(pe,null,{scale:[0,0]},N,G,function(){H.remove(pe)}),D(pe,N),j++});j<Q;j++){var re=w(N);re.__pictorialAnimationIndex=j,re.__pictorialRepeatTimes=Q,H.add(re);var te=ne(j);B(re,{position:te.position,scale:[0,0]},{scale:te.scale,rotation:te.rotation},N,G),re.on("mouseover",Se).on("mouseout",le),D(re,N)}function ne(pe){var de=U.slice(),ie=N.pxSign,oe=pe;return(N.symbolRepeatDirection==="start"?ie>0:ie<0)&&(oe=Q-1-pe),de[X.index]=ee*(oe-Q/2+.5)+U[X.index],{position:de,scale:N.symbolScale.slice(),rotation:N.rotation}}function Se(){O(z,function(pe){pe.trigger("emphasis")})}function le(){O(z,function(pe){pe.trigger("normal")})}}function A(z,k,N,G){var H=z.__pictorialBundle,F=z.__pictorialMainPath;F?B(F,null,{position:N.pathPosition.slice(),scale:N.symbolScale.slice(),rotation:N.rotation},N,G):(F=z.__pictorialMainPath=w(N),H.add(F),B(F,{position:N.pathPosition.slice(),scale:[0,0],rotation:N.rotation},{scale:N.symbolScale.slice()},N,G),F.on("mouseover",$).on("mouseout",U)),D(F,N);function $(){this.trigger("emphasis")}function U(){this.trigger("normal")}}function x(z,k,N){var G=t.extend({},k.barRectShape),H=z.__pictorialBarRect;H?B(H,null,{shape:G},k,N):(H=z.__pictorialBarRect=new r.Rect({z2:2,shape:G,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),z.add(H))}function b(z,k,N,G){if(N.symbolClip){var H=z.__pictorialClipPath,F=t.extend({},N.clipShape),$=k.valueDim,U=N.animationModel,X=N.dataIndex;if(H)r.updateProps(H,{shape:F},U,X);else{F[$.wh]=0,H=new r.Rect({shape:F}),z.__pictorialBundle.setClipPath(H),z.__pictorialClipPath=H;var Q={};Q[$.wh]=N.clipShape[$.wh],r[G?"updateProps":"initProps"](H,{shape:Q},U,X)}}}function T(z,k){var N=z.getItemModel(k);return N.getAnimationDelayParams=M,N.isAnimationEnabled=C,N}function M(z){return{index:z.__pictorialAnimationIndex,count:z.__pictorialRepeatTimes}}function C(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function D(z,k){z.off("emphasis").off("normal");var N=k.symbolScale.slice();k.hoverAnimation&&z.on("emphasis",function(){this.animateTo({scale:[N[0]*1.1,N[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:N.slice()},400,"elasticOut")})}function L(z,k,N,G){var H=new r.Group,F=new r.Group;return H.add(F),H.__pictorialBundle=F,F.attr("position",N.bundlePosition.slice()),N.symbolRepeat?S(H,k,N):A(H,k,N),x(H,N,G),b(H,k,N,G),H.__pictorialShapeStr=E(z,N),H.__pictorialSymbolMeta=N,H}function P(z,k,N){var G=N.animationModel,H=N.dataIndex,F=z.__pictorialBundle;r.updateProps(F,{position:N.bundlePosition.slice()},G,H),N.symbolRepeat?S(z,k,N,!0):A(z,k,N,!0),x(z,N,!0),b(z,k,N,!0)}function I(z,k,N,G){var H=G.__pictorialBarRect;H&&(H.style.text=null);var F=[];O(G,function($){F.push($)}),G.__pictorialMainPath&&F.push(G.__pictorialMainPath),G.__pictorialClipPath&&(N=null),t.each(F,function($){r.updateProps($,{scale:[0,0]},N,k,function(){G.parent&&G.parent.remove(G)})}),z.setItemGraphicEl(k,null)}function E(z,k){return[z.getItemVisual(k.dataIndex,"symbol")||"none",!!k.symbolRepeat,!!k.symbolClip].join(":")}function O(z,k,N){t.each(z.__pictorialBundle.children(),function(G){G!==z.__pictorialBarRect&&k.call(N,G)})}function B(z,k,N,G,H,F){k&&z.attr(k),G.symbolClip&&!H?N&&z.attr(N):N&&r[H?"updateProps":"initProps"](z,N,G.animationModel,G.dataIndex,F)}function q(z,k,N){var G=N.color,H=N.dataIndex,F=N.itemModel,$=F.getModel("itemStyle").getItemStyle(["color"]),U=F.getModel("emphasis.itemStyle").getItemStyle(),X=F.getShallow("cursor");O(z,function(re){re.setColor(G),re.setStyle(t.defaults({fill:G,opacity:N.opacity},$)),r.setHoverStyle(re,U),X&&(re.cursor=X),re.z2=N.z2});var Q={},j=k.valueDim.posDesc[+(N.boundingLength>0)],ee=z.__pictorialBarRect;u(ee.style,Q,F,G,k.seriesModel,H,j),r.setHoverStyle(ee,Q)}function V(z){var k=Math.round(z);return Math.abs(z-k)<1e-4?k:Math.ceil(z)}var R=d;return _h=R,_h}var yx;function G3(){if(yx)return gx;yx=1;var e=_e,t=W;lg(),H3(),q3();var r=ms(),a=r.layout,i=Aa();return In(),e.registerLayout(t.curry(a,"pictorialBar")),e.registerVisual(i("pictorialBar","roundRect")),gx}var _x={},xx={},Sx={},xh,bx;function F3(){if(bx)return xh;bx=1;var e=W,t=ta(),r=function(i,n,s,c,o){t.call(this,i,n,s),this.type=c||"value",this.position=o||"bottom",this.orient=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},pointToData:function(i,n){return this.coordinateSystem.pointToData(i,n)[0]},toGlobalCoord:null,toLocalCoord:null},e.inherits(r,t);var a=r;return xh=a,xh}var Sh,Ax;function $3(){if(Ax)return Sh;Ax=1;var e=F3(),t=nr(),r=Be,a=r.getLayoutRect,i=W,n=i.each;function s(o,u,v){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(o,u,v),this.model=o}s.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:s,_init:function(o,u,v){var h=this.dimension,l=new e(h,t.createScaleByModel(o),[0,0],o.get("type"),o.get("position")),d=l.type==="category";l.onBand=d&&o.get("boundaryGap"),l.inverse=o.get("inverse"),l.orient=o.get("orient"),o.axis=l,l.model=o,l.coordinateSystem=this,this._axis=l},update:function(o,u){o.eachSeries(function(v){if(v.coordinateSystem===this){var h=v.getData();n(h.mapDimension(this.dimension,!0),function(l){this._axis.scale.unionExtentFromData(h,l)},this),t.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(o,u){this._rect=a({left:o.get("left"),top:o.get("top"),right:o.get("right"),bottom:o.get("bottom"),width:o.get("width"),height:o.get("height")},{width:u.getWidth(),height:u.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var o=this._rect,u=this._axis,v=u.isHorizontal(),h=v?[0,o.width]:[0,o.height],l=u.reverse?1:0;u.setExtent(h[l],h[1-l]),this._updateAxisTransform(u,v?o.x:o.y)},_updateAxisTransform:function(o,u){var v=o.getExtent(),h=v[0]+v[1],l=o.isHorizontal();o.toGlobalCoord=l?function(d){return d+u}:function(d){return h-d+u},o.toLocalCoord=l?function(d){return d-u}:function(d){return h-d+u}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(o){var u=this.getRect(),v=this.getAxis(),h=v.orient;return h==="horizontal"?v.contain(v.toLocalCoord(o[0]))&&o[1]>=u.y&&o[1]<=u.y+u.height:v.contain(v.toLocalCoord(o[1]))&&o[0]>=u.y&&o[0]<=u.y+u.height},pointToData:function(o){var u=this.getAxis();return[u.coordToData(u.toLocalCoord(o[u.orient==="horizontal"?0:1]))]},dataToPoint:function(o){var u=this.getAxis(),v=this.getRect(),h=[],l=u.orient==="horizontal"?0:1;return o instanceof Array&&(o=o[0]),h[l]=u.toGlobalCoord(u.dataToCoord(+o)),h[1-l]=l===0?v.y+v.height/2:v.x+v.width/2,h}};var c=s;return Sh=c,Sh}var Tx;function U3(){if(Tx)return Sx;Tx=1;var e=$3(),t=xr;function r(a,i){var n=[];return a.eachComponent("singleAxis",function(s,c){var o=new e(s,a,i);o.name="single_"+c,o.resize(s,i),s.coordinateSystem=o,n.push(o)}),a.eachSeries(function(s){if(s.get("coordinateSystem")==="singleAxis"){var c=a.queryComponents({mainType:"singleAxis",index:s.get("singleAxisIndex"),id:s.get("singleAxisId")})[0];s.coordinateSystem=c&&c.coordinateSystem}}),n}return t.register("single",{create:r,dimensions:e.prototype.dimensions}),Sx}var bh={},Cx;function UM(){if(Cx)return bh;Cx=1;var e=W;function t(r,a){a=a||{};var i=r.coordinateSystem,n=r.axis,s={},c=n.position,o=n.orient,u=i.getRect(),v=[u.x,u.x+u.width,u.y,u.y+u.height],h={horizontal:{top:v[2],bottom:v[3]},vertical:{left:v[0],right:v[1]}};s.position=[o==="vertical"?h.vertical[c]:v[0],o==="horizontal"?h.horizontal[c]:v[3]];var l={horizontal:0,vertical:1};s.rotation=Math.PI/2*l[o];var d={top:-1,bottom:1,right:1,left:-1};s.labelDirection=s.tickDirection=s.nameDirection=d[c],r.get("axisTick.inside")&&(s.tickDirection=-s.tickDirection),e.retrieve(a.labelInside,r.get("axisLabel.inside"))&&(s.labelDirection=-s.labelDirection);var f=a.rotate;return f==null&&(f=r.get("axisLabel.rotate")),s.labelRotation=c==="top"?-f:f,s.z2=1,s}return bh.layout=t,bh}var wh,Mx;function W3(){if(Mx)return wh;Mx=1;var e=W,t=ra(),r=fe,a=UM(),i=Ta(),n=TM(),s=n.rectCoordAxisBuildSplitArea,c=n.rectCoordAxisHandleRemove,o=["axisLine","axisTickLabel","axisName"],u=["splitArea","splitLine"],v=i.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(l,d,f,m){var g=this.group;g.removeAll();var p=this._axisGroup;this._axisGroup=new r.Group;var y=a.layout(l),_=new t(l,y);e.each(o,_.add,_),g.add(this._axisGroup),g.add(_.getGroup()),e.each(u,function(w){l.get(w+".show")&&this["_"+w](l)},this),r.groupTransition(p,this._axisGroup,l),v.superCall(this,"render",l,d,f,m)},remove:function(){c(this)},_splitLine:function(l){var d=l.axis;if(!d.scale.isBlank()){var f=l.getModel("splitLine"),m=f.getModel("lineStyle"),g=m.get("width"),p=m.get("color");p=p instanceof Array?p:[p];for(var y=l.coordinateSystem.getRect(),_=d.isHorizontal(),w=[],S=0,A=d.getTicksCoords({tickModel:f}),x=[],b=[],T=0;T<A.length;++T){var M=d.toGlobalCoord(A[T].coord);_?(x[0]=M,x[1]=y.y,b[0]=M,b[1]=y.y+y.height):(x[0]=y.x,x[1]=M,b[0]=y.x+y.width,b[1]=M);var C=S++%p.length;w[C]=w[C]||[],w[C].push(new r.Line({subPixelOptimize:!0,shape:{x1:x[0],y1:x[1],x2:b[0],y2:b[1]},style:{lineWidth:g},silent:!0}))}for(var T=0;T<w.length;++T)this.group.add(r.mergePath(w[T],{style:{stroke:p[T%p.length],lineDash:m.getLineDash(g),lineWidth:g},silent:!0}))}},_splitArea:function(l){s(this,this._axisGroup,l,l)}}),h=v;return wh=h,wh}var Ah,Dx;function Z3(){if(Dx)return Ah;Dx=1;var e=W,t=ht,r=_s(),a=yi(),i=t.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),n={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};function s(o,u){return u.type||(u.data?"category":"value")}e.merge(i.prototype,a),r("single",i,s,n);var c=i;return Ah=c,Ah}var Lx={},Th,Px;function WM(){if(Px)return Th;Px=1;var e=W,t=Ie;function r(a,i){var n=[],s=a.seriesIndex,c;if(s==null||!(c=i.getSeriesByIndex(s)))return{point:[]};var o=c.getData(),u=t.queryDataIndex(o,a);if(u==null||u<0||e.isArray(u))return{point:[]};var v=o.getItemGraphicEl(u),h=c.coordinateSystem;if(c.getTooltipPosition)n=c.getTooltipPosition(u)||[];else if(h&&h.dataToPoint)n=h.dataToPoint(o.getValues(e.map(h.dimensions,function(d){return o.mapDimension(d)}),u,!0))||[];else if(v){var l=v.getBoundingRect().clone();l.applyTransform(v.transform),n=[l.x+l.width/2,l.y+l.height/2]}return{point:n,el:v}}return Th=r,Th}var Ch,Ix;function Y3(){if(Ix)return Ch;Ix=1;var e=W,t=Ie,r=t.makeInner,a=xs(),i=WM(),n=e.each,s=e.curry,c=r();function o(_,w,S){var A=_.currTrigger,x=[_.x,_.y],b=_,T=_.dispatchAction||e.bind(S.dispatchAction,S),M=w.getComponent("axisPointer").coordSysAxesInfo;if(M){y(x)&&(x=i({seriesIndex:b.seriesIndex,dataIndex:b.dataIndex},w).point);var C=y(x),D=b.axesInfo,L=M.axesInfo,P=A==="leave"||y(x),I={},E={},O={list:[],map:{}},B={showPointer:s(h,E),showTooltip:s(l,O)};n(M.coordSysMap,function(V,R){var z=C||V.containPoint(x);n(M.coordSysAxesInfo[R],function(k,N){var G=k.axis,H=g(D,k);if(!P&&z&&(!D||H)){var F=H&&H.value;F==null&&!C&&(F=G.pointToData(x)),F!=null&&u(k,F,B,!1,I)}})});var q={};return n(L,function(V,R){var z=V.linkGroup;z&&!E[R]&&n(z.axesInfo,function(k,N){var G=E[N];if(k!==V&&G){var H=G.value;z.mapper&&(H=V.axis.scale.parse(z.mapper(H,p(k),p(V)))),q[V.key]=H}})}),n(q,function(V,R){u(L[R],V,B,!0,I)}),d(E,L,I),f(O,x,_,T),m(L,T,S),I}}function u(_,w,S,A,x){var b=_.axis;if(!(b.scale.isBlank()||!b.containData(w))){if(!_.involveSeries){S.showPointer(_,w);return}var T=v(w,_),M=T.payloadBatch,C=T.snapToValue;M[0]&&x.seriesIndex==null&&e.extend(x,M[0]),!A&&_.snap&&b.containData(C)&&C!=null&&(w=C),S.showPointer(_,w,M,x),S.showTooltip(_,T,C)}}function v(_,w){var S=w.axis,A=S.dim,x=_,b=[],T=Number.MAX_VALUE,M=-1;return n(w.seriesModels,function(C,D){var L=C.getData().mapDimension(A,!0),P,I;if(C.getAxisTooltipData){var E=C.getAxisTooltipData(L,_,S);I=E.dataIndices,P=E.nestestValue}else{if(I=C.getData().indicesOfNearest(L[0],_,S.type==="category"?.5:null),!I.length)return;P=C.getData().get(L[0],I[0])}if(!(P==null||!isFinite(P))){var O=_-P,B=Math.abs(O);B<=T&&((B<T||O>=0&&M<0)&&(T=B,M=O,x=P,b.length=0),n(I,function(q){b.push({seriesIndex:C.seriesIndex,dataIndexInside:q,dataIndex:C.getData().getRawIndex(q)})}))}}),{payloadBatch:b,snapToValue:x}}function h(_,w,S,A){_[w.key]={value:S,payloadBatch:A}}function l(_,w,S,A){var x=S.payloadBatch,b=w.axis,T=b.model,M=w.axisPointerModel;if(!(!w.triggerTooltip||!x.length)){var C=w.coordSys.model,D=a.makeKey(C),L=_.map[D];L||(L=_.map[D]={coordSysId:C.id,coordSysIndex:C.componentIndex,coordSysType:C.type,coordSysMainType:C.mainType,dataByAxis:[]},_.list.push(L)),L.dataByAxis.push({axisDim:b.dim,axisIndex:T.componentIndex,axisType:T.type,axisId:T.id,value:A,valueLabelOpt:{precision:M.get("label.precision"),formatter:M.get("label.formatter")},seriesDataIndices:x.slice()})}}function d(_,w,S){var A=S.axesInfo=[];n(w,function(x,b){var T=x.axisPointerModel.option,M=_[b];M?(!x.useHandle&&(T.status="show"),T.value=M.value,T.seriesDataIndices=(M.payloadBatch||[]).slice()):!x.useHandle&&(T.status="hide"),T.status==="show"&&A.push({axisDim:x.axis.dim,axisIndex:x.axis.model.componentIndex,value:T.value})})}function f(_,w,S,A){if(y(w)||!_.list.length){A({type:"hideTip"});return}var x=((_.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};A({type:"showTip",escapeConnect:!0,x:w[0],y:w[1],tooltipOption:S.tooltipOption,position:S.position,dataIndexInside:x.dataIndexInside,dataIndex:x.dataIndex,seriesIndex:x.seriesIndex,dataByCoordSys:_.list})}function m(_,w,S){var A=S.getZr(),x="axisPointerLastHighlights",b=c(A)[x]||{},T=c(A)[x]={};n(_,function(D,L){var P=D.axisPointerModel.option;P.status==="show"&&n(P.seriesDataIndices,function(I){var E=I.seriesIndex+" | "+I.dataIndex;T[E]=I})});var M=[],C=[];e.each(b,function(D,L){!T[L]&&C.push(D)}),e.each(T,function(D,L){!b[L]&&M.push(D)}),C.length&&S.dispatchAction({type:"downplay",escapeConnect:!0,batch:C}),M.length&&S.dispatchAction({type:"highlight",escapeConnect:!0,batch:M})}function g(_,w){for(var S=0;S<(_||[]).length;S++){var A=_[S];if(w.axis.dim===A.axisDim&&w.axis.model.componentIndex===A.axisIndex)return A}}function p(_){var w=_.axis.model,S={},A=S.axisDim=_.axis.dim;return S.axisIndex=S[A+"AxisIndex"]=w.componentIndex,S.axisName=S[A+"AxisName"]=w.name,S.axisId=S[A+"AxisId"]=w.id,S}function y(_){return!_||_[0]==null||isNaN(_[0])||_[1]==null||isNaN(_[1])}return Ch=o,Ch}var Mh,Rx;function X3(){if(Rx)return Mh;Rx=1;var e=_e,t=e.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),r=t;return Mh=r,Mh}var go={},Ex;function ZM(){if(Ex)return go;Ex=1;var e=W,t=nt,r=Ie,a=r.makeInner,i=a(),n=e.each;function s(d,f,m){if(!t.node){var g=f.getZr();i(g).records||(i(g).records={}),c(g,f);var p=i(g).records[d]||(i(g).records[d]={});p.handler=m}}function c(d,f){if(i(d).initialized)return;i(d).initialized=!0,m("click",e.curry(v,"click")),m("mousemove",e.curry(v,"mousemove")),m("globalout",u);function m(g,p){d.on(g,function(y){var _=h(f);n(i(d).records,function(w){w&&p(w,y,_.dispatchAction)}),o(_.pendings,f)})}}function o(d,f){var m=d.showTip.length,g=d.hideTip.length,p;m?p=d.showTip[m-1]:g&&(p=d.hideTip[g-1]),p&&(p.dispatchAction=null,f.dispatchAction(p))}function u(d,f,m){d.handler("leave",null,m)}function v(d,f,m,g){f.handler(d,m,g)}function h(d){var f={showTip:[],hideTip:[]},m=function(g){var p=f[g.type];p?p.push(g):(g.dispatchAction=m,d.dispatchAction(g))};return{dispatchAction:m,pendings:f}}function l(d,f){if(!t.node){var m=f.getZr(),g=(i(m).records||{})[d];g&&(i(m).records[d]=null)}}return go.register=s,go.unregister=l,go}var Dh,kx;function K3(){if(kx)return Dh;kx=1;var e=_e,t=ZM(),r=e.extendComponentView({type:"axisPointer",render:function(i,n,s){var c=n.getComponent("tooltip"),o=i.get("triggerOn")||c&&c.get("triggerOn")||"mousemove|click";t.register("axisPointer",s,function(u,v,h){o!=="none"&&(u==="leave"||o.indexOf(u)>=0)&&h({type:"updateAxisPointer",currTrigger:u,x:v&&v.offsetX,y:v&&v.offsetY})})},remove:function(i,n){t.unregister(n.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(i,n){t.unregister("axisPointer",n),r.superApply(this._model,"dispose",arguments)}}),a=r;return Dh=a,Dh}var Lh,Ox;function _g(){if(Ox)return Lh;Ox=1;var e=W,t=Et,r=fe,a=xs(),i=vt,n=ir,s=Ie,c=s.makeInner,o=c(),u=e.clone,v=e.bind;function h(){}h.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(y,_,w,S){var A=_.get("value"),x=_.get("status");if(this._axisModel=y,this._axisPointerModel=_,this._api=w,!(!S&&this._lastValue===A&&this._lastStatus===x)){this._lastValue=A,this._lastStatus=x;var b=this._group,T=this._handle;if(!x||x==="hide"){b&&b.hide(),T&&T.hide();return}b&&b.show(),T&&T.show();var M={};this.makeElOption(M,A,y,_,w);var C=M.graphicKey;C!==this._lastGraphicKey&&this.clear(w),this._lastGraphicKey=C;var D=this._moveAnimation=this.determineAnimation(y,_);if(!b)b=this._group=new r.Group,this.createPointerEl(b,M,y,_),this.createLabelEl(b,M,y,_),w.getZr().add(b);else{var L=e.curry(l,_,D);this.updatePointerEl(b,M,L,_),this.updateLabelEl(b,M,L,_)}g(b,_,!0),this._renderHandle(A)}},remove:function(y){this.clear(y)},dispose:function(y){this.clear(y)},determineAnimation:function(y,_){var w=_.get("animation"),S=y.axis,A=S.type==="category",x=_.get("snap");if(!x&&!A)return!1;if(w==="auto"||w==null){var b=this.animationThreshold;if(A&&S.getBandWidth()>b)return!0;if(x){var T=a.getAxisInfo(y).seriesDataCount,M=S.getExtent();return Math.abs(M[0]-M[1])/T>b}return!1}return w===!0},makeElOption:function(y,_,w,S,A){},createPointerEl:function(y,_,w,S){var A=_.pointer;if(A){var x=o(y).pointerEl=new r[A.type](u(_.pointer));y.add(x)}},createLabelEl:function(y,_,w,S){if(_.label){var A=o(y).labelEl=new r.Rect(u(_.label));y.add(A),f(A,S)}},updatePointerEl:function(y,_,w){var S=o(y).pointerEl;S&&_.pointer&&(S.setStyle(_.pointer.style),w(S,{shape:_.pointer.shape}))},updateLabelEl:function(y,_,w,S){var A=o(y).labelEl;A&&(A.setStyle(_.label.style),w(A,{shape:_.label.shape,position:_.label.position}),f(A,S))},_renderHandle:function(y){if(!(this._dragging||!this.updateHandleTransform)){var _=this._axisPointerModel,w=this._api.getZr(),S=this._handle,A=_.getModel("handle"),x=_.get("status");if(!A.get("show")||!x||x==="hide"){S&&w.remove(S),this._handle=null;return}var b;this._handle||(b=!0,S=this._handle=r.createIcon(A.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(C){i.stop(C.event)},onmousedown:v(this._onHandleDragMove,this,0,0),drift:v(this._onHandleDragMove,this),ondragend:v(this._onHandleDragEnd,this)}),w.add(S)),g(S,_,!1);var T=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];S.setStyle(A.getItemStyle(null,T));var M=A.get("size");e.isArray(M)||(M=[M,M]),S.attr("scale",[M[0]/2,M[1]/2]),n.createOrUpdate(this,"_doDispatchAxisPointer",A.get("throttle")||0,"fixRate"),this._moveHandleToValue(y,b)}},_moveHandleToValue:function(y,_){l(this._axisPointerModel,!_&&this._moveAnimation,this._handle,m(this.getHandleTransform(y,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(y,_){var w=this._handle;if(w){this._dragging=!0;var S=this.updateHandleTransform(m(w),[y,_],this._axisModel,this._axisPointerModel);this._payloadInfo=S,w.stopAnimation(),w.attr(m(S)),o(w).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var y=this._handle;if(y){var _=this._payloadInfo,w=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:_.cursorPoint[0],y:_.cursorPoint[1],tooltipOption:_.tooltipOption,axesInfo:[{axisDim:w.axis.dim,axisIndex:w.componentIndex}]})}},_onHandleDragEnd:function(y){this._dragging=!1;var _=this._handle;if(_){var w=this._axisPointerModel.get("value");this._moveHandleToValue(w),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(y){this._lastValue=null,this._lastStatus=null;var _=y.getZr(),w=this._group,S=this._handle;_&&w&&(this._lastGraphicKey=null,w&&_.remove(w),S&&_.remove(S),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(y,_,w){return w=w||0,{x:y[w],y:y[1-w],width:_[w],height:_[1-w]}}},h.prototype.constructor=h;function l(y,_,w,S){d(o(w).lastProp,S)||(o(w).lastProp=S,_?r.updateProps(w,S,y):(w.stopAnimation(),w.attr(S)))}function d(y,_){if(e.isObject(y)&&e.isObject(_)){var w=!0;return e.each(_,function(S,A){w=w&&d(y[A],S)}),!!w}else return y===_}function f(y,_){y[_.get("label.show")?"show":"hide"]()}function m(y){return{position:y.position.slice(),rotation:y.rotation||0}}function g(y,_,w){var S=_.get("z"),A=_.get("zlevel");y&&y.traverse(function(x){x.type!=="group"&&(S!=null&&(x.z=S),A!=null&&(x.zlevel=A),x.silent=w)})}t.enableClassExtend(h);var p=h;return Lh=p,Lh}var hr={},zx;function As(){if(zx)return hr;zx=1;var e=W,t=fe,r=Ue,a=Ne,i=Je,n=nr(),s=ra();function c(g){var p=g.get("type"),y=g.getModel(p+"Style"),_;return p==="line"?(_=y.getLineStyle(),_.fill=null):p==="shadow"&&(_=y.getAreaStyle(),_.stroke=null),_}function o(g,p,y,_,w){var S=y.get("value"),A=v(S,p.axis,p.ecModel,y.get("seriesDataIndices"),{precision:y.get("label.precision"),formatter:y.get("label.formatter")}),x=y.getModel("label"),b=a.normalizeCssArray(x.get("padding")||0),T=x.getFont(),M=r.getBoundingRect(A,T),C=w.position,D=M.width+b[1]+b[3],L=M.height+b[0]+b[2],P=w.align;P==="right"&&(C[0]-=D),P==="center"&&(C[0]-=D/2);var I=w.verticalAlign;I==="bottom"&&(C[1]-=L),I==="middle"&&(C[1]-=L/2),u(C,D,L,_);var E=x.get("backgroundColor");(!E||E==="auto")&&(E=p.get("axisLine.lineStyle.color")),g.label={shape:{x:0,y:0,width:D,height:L,r:x.get("borderRadius")},position:C.slice(),style:{text:A,textFont:T,textFill:x.getTextColor(),textPosition:"inside",textPadding:b,fill:E,stroke:x.get("borderColor")||"transparent",lineWidth:x.get("borderWidth")||0,shadowBlur:x.get("shadowBlur"),shadowColor:x.get("shadowColor"),shadowOffsetX:x.get("shadowOffsetX"),shadowOffsetY:x.get("shadowOffsetY")},z2:10}}function u(g,p,y,_){var w=_.getWidth(),S=_.getHeight();g[0]=Math.min(g[0]+p,w)-p,g[1]=Math.min(g[1]+y,S)-y,g[0]=Math.max(g[0],0),g[1]=Math.max(g[1],0)}function v(g,p,y,_,w){g=p.scale.parse(g);var S=p.scale.getLabel(g,{precision:w.precision}),A=w.formatter;if(A){var x={value:n.getAxisRawValue(p,g),axisDimension:p.dim,axisIndex:p.index,seriesData:[]};e.each(_,function(b){var T=y.getSeriesByIndex(b.seriesIndex),M=b.dataIndexInside,C=T&&T.getDataParams(M);C&&x.seriesData.push(C)}),e.isString(A)?S=A.replace("{value}",S):e.isFunction(A)&&(S=A(x))}return S}function h(g,p,y){var _=i.create();return i.rotate(_,_,y.rotation),i.translate(_,_,y.position),t.applyTransform([g.dataToCoord(p),(y.labelOffset||0)+(y.labelDirection||1)*(y.labelMargin||0)],_)}function l(g,p,y,_,w,S){var A=s.innerTextLayout(y.rotation,0,y.labelDirection);y.labelMargin=w.get("label.margin"),o(p,_,w,S,{position:h(_.axis,g,y),align:A.textAlign,verticalAlign:A.textVerticalAlign})}function d(g,p,y){return y=y||0,{x1:g[y],y1:g[1-y],x2:p[y],y2:p[1-y]}}function f(g,p,y){return y=y||0,{x:g[y],y:g[1-y],width:p[y],height:p[1-y]}}function m(g,p,y,_,w,S){return{cx:g,cy:p,r0:y,r:_,startAngle:w,endAngle:S,clockwise:!0}}return hr.buildElStyle=c,hr.buildLabelElOption=o,hr.getValueLabel=v,hr.getTransformedPosition=h,hr.buildCartesianSingleLabelElOption=l,hr.makeLineShape=d,hr.makeRectShape=f,hr.makeSectorShape=m,hr}var Ph,Bx;function YM(){if(Bx)return Ph;Bx=1;var e=_g(),t=As(),r=AM(),a=Ta(),i=e.extend({makeElOption:function(u,v,h,l,d){var f=h.axis,m=f.grid,g=l.get("type"),p=n(m,f).getOtherAxis(f).getGlobalExtent(),y=f.toGlobalCoord(f.dataToCoord(v,!0));if(g&&g!=="none"){var _=t.buildElStyle(l),w=s[g](f,y,p);w.style=_,u.graphicKey=w.type,u.pointer=w}var S=r.layout(m.model,h);t.buildCartesianSingleLabelElOption(v,u,S,h,l,d)},getHandleTransform:function(u,v,h){var l=r.layout(v.axis.grid.model,v,{labelInside:!1});return l.labelMargin=h.get("handle.margin"),{position:t.getTransformedPosition(v.axis,u,l),rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(u,v,h,l){var d=h.axis,f=d.grid,m=d.getGlobalExtent(!0),g=n(f,d).getOtherAxis(d).getGlobalExtent(),p=d.dim==="x"?0:1,y=u.position;y[p]+=v[p],y[p]=Math.min(m[1],y[p]),y[p]=Math.max(m[0],y[p]);var _=(g[1]+g[0])/2,w=[_,_];w[p]=y[p];var S=[{verticalAlign:"middle"},{align:"center"}];return{position:y,rotation:u.rotation,cursorPoint:w,tooltipOption:S[p]}}});function n(u,v){var h={};return h[v.dim+"AxisIndex"]=v.index,u.getCartesian(h)}var s={line:function(u,v,h){var l=t.makeLineShape([v,h[0]],[v,h[1]],c(u));return{type:"Line",subPixelOptimize:!0,shape:l}},shadow:function(u,v,h){var l=Math.max(1,u.getBandWidth()),d=h[1]-h[0];return{type:"Rect",shape:t.makeRectShape([v-l/2,h[0]],[l,d],c(u))}}};function c(u){return u.dim==="x"?0:1}a.registerAxisPointerClass("CartesianAxisPointer",i);var o=i;return Ph=o,Ph}var Nx;function On(){if(Nx)return Lx;Nx=1;var e=_e,t=W,r=xs(),a=Y3();return X3(),K3(),YM(),e.registerPreprocessor(function(i){if(i){(!i.axisPointer||i.axisPointer.length===0)&&(i.axisPointer={});var n=i.axisPointer.link;n&&!t.isArray(n)&&(i.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(i,n){i.getComponent("axisPointer").coordSysAxesInfo=r.collect(i,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},a),Lx}var Ih,Vx;function Q3(){if(Vx)return Ih;Vx=1;var e=_g(),t=As(),r=UM(),a=Ta(),i=["x","y"],n=["width","height"],s=e.extend({makeElOption:function(h,l,d,f,m){var g=d.axis,p=g.coordinateSystem,y=u(p,1-o(g)),_=p.dataToPoint(l)[0],w=f.get("type");if(w&&w!=="none"){var S=t.buildElStyle(f),A=c[w](g,_,y);A.style=S,h.graphicKey=A.type,h.pointer=A}var x=r.layout(d);t.buildCartesianSingleLabelElOption(l,h,x,d,f,m)},getHandleTransform:function(h,l,d){var f=r.layout(l,{labelInside:!1});return f.labelMargin=d.get("handle.margin"),{position:t.getTransformedPosition(l.axis,h,f),rotation:f.rotation+(f.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(h,l,d,f){var m=d.axis,g=m.coordinateSystem,p=o(m),y=u(g,p),_=h.position;_[p]+=l[p],_[p]=Math.min(y[1],_[p]),_[p]=Math.max(y[0],_[p]);var w=u(g,1-p),S=(w[1]+w[0])/2,A=[S,S];return A[p]=_[p],{position:_,rotation:h.rotation,cursorPoint:A,tooltipOption:{verticalAlign:"middle"}}}}),c={line:function(h,l,d){var f=t.makeLineShape([l,d[0]],[l,d[1]],o(h));return{type:"Line",subPixelOptimize:!0,shape:f}},shadow:function(h,l,d){var f=h.getBandWidth(),m=d[1]-d[0];return{type:"Rect",shape:t.makeRectShape([l-f/2,d[0]],[f,m],o(h))}}};function o(h){return h.isHorizontal()?0:1}function u(h,l){var d=h.getRect();return[d[i[l]],d[i[l]]+d[n[l]]]}a.registerAxisPointerClass("SingleAxisPointer",s);var v=s;return Ih=v,Ih}var Hx;function XM(){if(Hx)return xx;Hx=1;var e=_e;return U3(),W3(),Z3(),On(),Q3(),e.extendComponentView({type:"single"}),xx}var Rh,qx;function j3(){if(qx)return Rh;qx=1;var e=ct,t=mi(),r=Mn(),a=r.getDimensionTypeByAxis,i=Wt(),n=W,s=Ie,c=s.groupData,o=Ne,u=o.encodeHTML,v=Rn(),h=2,l=e.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(f){l.superApply(this,"init",arguments),this.legendVisualProvider=new v(n.bind(this.getData,this),n.bind(this.getRawData,this))},fixData:function(f){var m=f.length,g=c(f,function(I){return I[2]}),p=[];g.buckets.each(function(I,E){p.push({name:E,dataList:I})});for(var y=p.length,_=-1,w=-1,S=0;S<y;++S){var A=p[S].dataList.length;A>_&&(_=A,w=S)}for(var x=0;x<y;++x)if(x!==w)for(var b=p[x].name,T=0;T<_;++T){for(var M=p[w].dataList[T][0],C=p[x].dataList.length,D=-1,L=0;L<C;++L){var P=p[x].dataList[L][0];if(P===M){D=L;break}}D===-1&&(f[m]=[],f[m][0]=M,f[m][1]=0,f[m][2]=b,m++)}return f},getInitialData:function(f,m){for(var g=m.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],p=g.get("type"),y=n.filter(f.data,function(M){return M[2]!==void 0}),_=this.fixData(y||[]),w=[],S=this.nameMap=n.createHashMap(),A=0,x=0;x<_.length;++x)w.push(_[x][h]),S.get(_[x][h])||(S.set(_[x][h],A),A++);var b=t(_,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:a(p)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),T=new i(b,this);return T.initData(_),T},getLayerSeries:function(){for(var f=this.getData(),m=f.count(),g=[],p=0;p<m;++p)g[p]=p;var y=f.mapDimension("single"),_=c(g,function(S){return f.get("name",S)}),w=[];return _.buckets.each(function(S,A){S.sort(function(x,b){return f.get(y,x)-f.get(y,b)}),w.push({name:A,indices:S})}),w},getAxisTooltipData:function(f,m,g){n.isArray(f)||(f=f?[f]:[]);for(var p=this.getData(),y=this.getLayerSeries(),_=[],w=y.length,S,A=0;A<w;++A){for(var x=Number.MAX_VALUE,b=-1,T=y[A].indices.length,M=0;M<T;++M){var C=p.get(f[0],y[A].indices[M]),D=Math.abs(C-m);D<=x&&(S=C,x=D,b=y[A].indices[M])}_.push(b)}return{dataIndices:_,nestestValue:S}},formatTooltip:function(f){var m=this.getData(),g=m.getName(f),p=m.get(m.mapDimension("value"),f);return(isNaN(p)||p==null)&&(p="-"),u(g+" : "+p)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),d=l;return Rh=d,Rh}var Eh,Gx;function J3(){if(Gx)return Eh;Gx=1;var e=_e,t=SM(),r=t.Polygon,a=fe,i=W,n=i.bind,s=i.extend,c=wa(),o=e.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(v,h,l){var d=v.getData(),f=this.group,m=v.getLayerSeries(),g=d.getLayout("layoutInfo"),p=g.rect,y=g.boundaryGap;f.attr("position",[0,p.y+y[0]]);function _(x){return x.name}var w=new c(this._layersSeries||[],m,_,_),S={};w.add(n(A,this,"add")).update(n(A,this,"update")).remove(n(A,this,"remove")).execute();function A(x,b,T){var M=this._layers;if(x==="remove"){f.remove(M[b]);return}for(var C=[],D=[],L,P=m[b].indices,I=0;I<P.length;I++){var E=d.getItemLayout(P[I]),O=E.x,B=E.y0,q=E.y;C.push([O,B]),D.push([O,B+q]),L=d.getItemVisual(P[I],"color")}var V,R,z=d.getItemLayout(P[0]),k=d.getItemModel(P[I-1]),N=k.getModel("label"),G=N.get("margin");if(x==="add"){var H=S[b]=new a.Group;V=new r({shape:{points:C,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R=new a.Text({style:{x:z.x-G,y:z.y0+z.y/2}}),H.add(V),H.add(R),f.add(H),V.setClipPath(u(V.getBoundingRect(),v,function(){V.removeClipPath()}))}else{var H=M[T];V=H.childAt(0),R=H.childAt(1),f.add(H),S[b]=H,a.updateProps(V,{shape:{points:C,stackedOnPoints:D}},v),a.updateProps(R,{style:{x:z.x-G,y:z.y0+z.y/2}},v)}var F=k.getModel("emphasis.itemStyle"),$=k.getModel("itemStyle");a.setTextStyle(R.style,N,{text:N.get("show")?v.getFormattedLabel(P[I-1],"normal")||d.getName(P[I-1]):null,textVerticalAlign:"middle"}),V.setStyle(s({fill:L},$.getItemStyle(["color"]))),a.setHoverStyle(V,F.getItemStyle())}this._layersSeries=m,this._layers=S},dispose:function(){}});function u(v,h,l){var d=new a.Rect({shape:{x:v.x-10,y:v.y-10,width:0,height:v.height+20}});return a.initProps(d,{shape:{width:v.width+20,height:v.height+20}},h,l),d}return Eh=o,Eh}var kh,Fx;function eG(){if(Fx)return kh;Fx=1;var e=W,t=Le;function r(n,s){n.eachSeriesByType("themeRiver",function(c){var o=c.getData(),u=c.coordinateSystem,v={},h=u.getRect();v.rect=h;var l=c.get("boundaryGap"),d=u.getAxis();if(v.boundaryGap=l,d.orient==="horizontal"){l[0]=t.parsePercent(l[0],h.height),l[1]=t.parsePercent(l[1],h.height);var f=h.height-l[0]-l[1];a(o,c,f)}else{l[0]=t.parsePercent(l[0],h.width),l[1]=t.parsePercent(l[1],h.width);var m=h.width-l[0]-l[1];a(o,c,m)}o.setLayout("layoutInfo",v)})}function a(n,s,c){if(n.count())for(var o=s.coordinateSystem,u=s.getLayerSeries(),v=n.mapDimension("single"),h=n.mapDimension("value"),l=e.map(u,function(S){return e.map(S.indices,function(A){var x=o.dataToPoint(n.get(v,A));return x[1]=n.get(h,A),x})}),d=i(l),f=d.y0,m=c/d.max,g=u.length,p=u[0].indices.length,y,_=0;_<p;++_){y=f[_]*m,n.setItemLayout(u[0].indices[_],{layerIndex:0,x:l[0][_][0],y0:y,y:l[0][_][1]*m});for(var w=1;w<g;++w)y+=l[w-1][_][1]*m,n.setItemLayout(u[w].indices[_],{layerIndex:w,x:l[w][_][0],y0:y,y:l[w][_][1]*m})}}function i(n){for(var s=n.length,c=n[0].length,o=[],u=[],v=0,h,l={},d=0;d<c;++d){for(var f=0,h=0;f<s;++f)h+=n[f][d][1];h>v&&(v=h),o.push(h)}for(var m=0;m<c;++m)u[m]=(v-o[m])/2;v=0;for(var g=0;g<c;++g){var p=o[g]+u[g];p>v&&(v=p)}return l.y0=u,l.max=v,l}return kh=r,kh}var Oh,$x;function tG(){if($x)return Oh;$x=1;var e=W,t=e.createHashMap;function r(a){a.eachSeriesByType("themeRiver",function(i){var n=i.getData(),s=i.getRawData(),c=i.get("color"),o=t();n.each(function(u){o.set(n.getRawIndex(u),u)}),s.each(function(u){var v=s.getName(u),h=c[(i.nameMap.get(v)-1)%c.length];s.setItemVisual(u,"color",h);var l=o.get(u);l!=null&&n.setItemVisual(l,"color",h)})})}return Oh=r,Oh}var Ux;function rG(){if(Ux)return _x;Ux=1;var e=_e;XM(),j3(),J3();var t=eG(),r=tG(),a=En();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(a("themeRiver")),_x}var Wx={},zh,Zx;function aG(){if(Zx)return zh;Zx=1;var e=W,t=ct,r=dg(),a=Ca(),i=a.wrapTreePathInfo,n=t.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(c,o){var u={name:c.name,children:c.data};s(u);var v=c.levels||[],h={};return h.levels=v,r.createTree(u,this,h).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(c){var o=t.prototype.getDataParams.apply(this,arguments),u=this.getData().tree.getNodeByDataIndex(c);return o.treePathInfo=i(u,this),o},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(c){c?this._viewRoot=c:c=this._viewRoot;var o=this.getRawData().tree.root;(!c||c!==o&&!o.contains(c))&&(this._viewRoot=o)}});function s(c){var o=0;e.each(c.children,function(v){s(v);var h=v.value;e.isArray(h)&&(h=h[0]),o+=h});var u=c.value;e.isArray(u)&&(u=u[0]),(u==null||isNaN(u))&&(u=o),u<0&&(u=0),e.isArray(c.value)?c.value[0]=u:c.value=u}return zh=n,zh}var Bh,Yx;function iG(){if(Yx)return Bh;Yx=1;var e=W,t=fe,r={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},a=2,i=4;function n(l,d,f){t.Group.call(this);var m=new t.Sector({z2:a});m.seriesIndex=d.seriesIndex;var g=new t.Text({z2:i,silent:l.getModel("label").get("silent")});this.add(m),this.add(g),this.updateData(!0,l,"normal",d,f);function p(){g.ignore=g.hoverIgnore}function y(){g.ignore=g.normalIgnore}this.on("emphasis",p).on("normal",y).on("mouseover",p).on("mouseout",y)}var s=n.prototype;s.updateData=function(l,d,f,m,g){this.node=d,d.piece=this,m=m||this._seriesModel,g=g||this._ecModel;var p=this.childAt(0);p.dataIndex=d.dataIndex;var y=d.getModel(),_=d.getLayout(),w=e.extend({},_);w.label=null;var S=o(d,m,g);h(d,m,S);var A=y.getModel("itemStyle").getItemStyle(),x;if(f==="normal")x=A;else{var b=y.getModel(f+".itemStyle").getItemStyle();x=e.merge(b,A)}x=e.defaults({lineJoin:"bevel",fill:x.fill||S},x),l?(p.setShape(w),p.shape.r=_.r0,t.updateProps(p,{shape:{r:_.r}},m,d.dataIndex),p.useStyle(x)):typeof x.fill=="object"&&x.fill.type||typeof p.style.fill=="object"&&p.style.fill.type?(t.updateProps(p,{shape:w},m),p.useStyle(x)):t.updateProps(p,{shape:w,style:x},m),this._updateLabel(m,S,f);var T=y.getShallow("cursor");if(T&&p.attr("cursor",T),l){var M=m.getShallow("highlightPolicy");this._initEvents(p,d,m,M)}this._seriesModel=m||this._seriesModel,this._ecModel=g||this._ecModel,t.setHoverStyle(this)},s.onEmphasis=function(l){var d=this;this.node.hostTree.root.eachNode(function(f){f.piece&&(d.node===f?f.piece.updateData(!1,f,"emphasis"):v(f,d.node,l)?f.piece.childAt(0).trigger("highlight"):l!==r.NONE&&f.piece.childAt(0).trigger("downplay"))})},s.onNormal=function(){this.node.hostTree.root.eachNode(function(l){l.piece&&l.piece.updateData(!1,l,"normal")})},s.onHighlight=function(){this.updateData(!1,this.node,"highlight")},s.onDownplay=function(){this.updateData(!1,this.node,"downplay")},s._updateLabel=function(l,d,f){var m=this.node.getModel(),g=m.getModel("label"),p=f==="normal"||f==="emphasis"?g:m.getModel(f+".label"),y=m.getModel("emphasis.label"),_=e.retrieve(l.getFormattedLabel(this.node.dataIndex,f,null,null,"label"),this.node.name);q("show")===!1&&(_="");var w=this.node.getLayout(),S=p.get("minAngle");S==null&&(S=g.get("minAngle")),S=S/180*Math.PI;var A=w.endAngle-w.startAngle;S!=null&&Math.abs(A)<S&&(_="");var x=this.childAt(1);t.setLabelStyle(x.style,x.hoverStyle||{},g,y,{defaultText:p.getShallow("show")?_:null,autoColor:d,useInsideStyle:!0});var b=(w.startAngle+w.endAngle)/2,T=Math.cos(b),M=Math.sin(b),C,D=q("position"),L=q("distance")||0,P=q("align");D==="outside"?(C=w.r+L,P=b>Math.PI/2?"right":"left"):!P||P==="center"?(C=(w.r+w.r0)/2,P="center"):P==="left"?(C=w.r0+L,b>Math.PI/2&&(P="right")):P==="right"&&(C=w.r-L,b>Math.PI/2&&(P="left")),x.attr("style",{text:_,textAlign:P,textVerticalAlign:q("verticalAlign")||"middle",opacity:q("opacity")});var I=C*T+w.cx,E=C*M+w.cy;x.attr("position",[I,E]);var O=q("rotate"),B=0;O==="radial"?(B=-b,B<-Math.PI/2&&(B+=Math.PI)):O==="tangential"?(B=Math.PI/2-b,B>Math.PI/2?B-=Math.PI:B<-Math.PI/2&&(B+=Math.PI)):typeof O=="number"&&(B=O*Math.PI/180),x.attr("rotation",B);function q(V){var R=p.get(V);return R??g.get(V)}},s._initEvents=function(l,d,f,m){l.off("mouseover").off("mouseout").off("emphasis").off("normal");var g=this,p=function(){g.onEmphasis(m)},y=function(){g.onNormal()},_=function(){g.onDownplay()},w=function(){g.onHighlight()};f.isAnimationEnabled()&&l.on("mouseover",p).on("mouseout",y).on("emphasis",p).on("normal",y).on("downplay",_).on("highlight",w)},e.inherits(n,t.Group);var c=n;function o(l,d,f){var m=l.getVisual("color"),g=l.getVisual("visualMeta");(!g||g.length===0)&&(m=null);var p=l.getModel("itemStyle").get("color");if(p)return p;if(m)return m;if(l.depth===0)return f.option.color[0];var y=f.option.color.length;return p=f.option.color[u(l)%y],p}function u(l){for(var d=l;d.depth>1;)d=d.parentNode;var f=l.getAncestors()[0];return e.indexOf(f.children,d)}function v(l,d,f){return f===r.NONE?!1:f===r.SELF?l===d:f===r.ANCESTOR?l===d||l.isAncestorOf(d):l===d||l.isDescendantOf(d)}function h(l,d,f){var m=d.getData();m.setItemVisual(l.dataIndex,"color",f)}return Bh=c,Bh}var Nh,Xx;function nG(){if(Xx)return Nh;Xx=1;var e=W,t=Sr,r=iG(),a=wa(),i=Ne,n=i.windowOpen,s="sunburstRootToNode",c=t.extend({type:"sunburst",init:function(){},render:function(u,v,h,l){var d=this;this.seriesModel=u,this.api=h,this.ecModel=v;var f=u.getData(),m=f.tree.root,g=u.getViewRoot(),p=this.group,y=u.get("renderLabelForZeroData"),_=[];g.eachNode(function(C){_.push(C)});var w=this._oldChildren||[];if(x(_,w),M(m,g),l&&l.highlight&&l.highlight.piece){var S=u.getShallow("highlightPolicy");l.highlight.piece.onEmphasis(S)}else if(l&&l.unhighlight){var A=this.virtualPiece;!A&&m.children.length&&(A=m.children[0].piece),A&&A.onNormal()}this._initEvents(),this._oldChildren=_;function x(C,D){if(C.length===0&&D.length===0)return;new a(D,C,L,L).add(P).update(P).remove(e.curry(P,null)).execute();function L(I){return I.getId()}function P(I,E){var O=I==null?null:C[I],B=E==null?null:D[E];b(O,B)}}function b(C,D){if(!y&&C&&!C.getValue()&&(C=null),C!==m&&D!==m){if(D&&D.piece)C?(D.piece.updateData(!1,C,"normal",u,v),f.setItemGraphicEl(C.dataIndex,D.piece)):T(D);else if(C){var L=new r(C,u,v);p.add(L),f.setItemGraphicEl(C.dataIndex,L)}}}function T(C){C&&C.piece&&(p.remove(C.piece),C.piece=null)}function M(C,D){if(D.depth>0){d.virtualPiece?d.virtualPiece.updateData(!1,C,"normal",u,v):(d.virtualPiece=new r(C,u,v),p.add(d.virtualPiece)),D.piece._onclickEvent&&D.piece.off("click",D.piece._onclickEvent);var L=function(P){d._rootToNode(D.parentNode)};D.piece._onclickEvent=L,d.virtualPiece.on("click",L)}else d.virtualPiece&&(p.remove(d.virtualPiece),d.virtualPiece=null)}},dispose:function(){},_initEvents:function(){var u=this,v=function(h){var l=!1,d=u.seriesModel.getViewRoot();d.eachNode(function(f){if(!l&&f.piece&&f.piece.childAt(0)===h.target){var m=f.getModel().get("nodeClick");if(m==="rootToNode")u._rootToNode(f);else if(m==="link"){var g=f.getModel(),p=g.get("link");if(p){var y=g.get("target",!0)||"_blank";n(p,y)}}l=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",v),this.group._onclickEvent=v},_rootToNode:function(u){u!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:s,from:this.uid,seriesId:this.seriesModel.id,targetNode:u})},containPoint:function(u,v){var h=v.getData(),l=h.getItemLayout(0);if(l){var d=u[0]-l.cx,f=u[1]-l.cy,m=Math.sqrt(d*d+f*f);return m<=l.r&&m>=l.r0}}}),o=c;return Nh=o,Nh}var Kx={},Qx;function oG(){if(Qx)return Kx;Qx=1;var e=_e,t=Ca(),r="sunburstRootToNode";e.registerAction({type:r,update:"updateView"},function(n,s){s.eachComponent({mainType:"series",subType:"sunburst",query:n},c);function c(o,u){var v=t.retrieveTargetInfo(n,[r],o);if(v){var h=o.getViewRoot();h&&(n.direction=t.aboveViewRoot(h,v.node)?"rollUp":"drillDown"),o.resetViewRoot(v.node)}}});var a="sunburstHighlight";e.registerAction({type:a,update:"updateView"},function(n,s){s.eachComponent({mainType:"series",subType:"sunburst",query:n},c);function c(o,u){var v=t.retrieveTargetInfo(n,[a],o);v&&(n.highlight=v.node)}});var i="sunburstUnhighlight";return e.registerAction({type:i,update:"updateView"},function(n,s){s.eachComponent({mainType:"series",subType:"sunburst",query:n},c);function c(o,u){n.unhighlight=!0}}),Kx}var Vh,jx;function sG(){if(jx)return Vh;jx=1;var e=Le,t=e.parsePercent,r=W,a=Math.PI/180;function i(c,o,u,v){o.eachSeriesByType(c,function(h){var l=h.get("center"),d=h.get("radius");r.isArray(d)||(d=[0,d]),r.isArray(l)||(l=[l,l]);var f=u.getWidth(),m=u.getHeight(),g=Math.min(f,m),p=t(l[0],f),y=t(l[1],m),_=t(d[0],g/2),w=t(d[1],g/2),S=-h.get("startAngle")*a,A=h.get("minAngle")*a,x=h.getData().tree.root,b=h.getViewRoot(),T=b.depth,M=h.get("sort");M!=null&&n(b,M);var C=0;r.each(b.children,function(N){!isNaN(N.getValue())&&C++});var D=b.getValue(),L=Math.PI/(D||C)*2,P=b.depth>0,I=b.height-(P?-1:1),E=(w-_)/(I||1),O=h.get("clockwise"),B=h.get("stillShowZeroSum"),q=O?1:-1,V=function(N,G){if(N){var H=G;if(N!==x){var F=N.getValue(),$=D===0&&B?L:F*L;$<A&&($=A),H=G+q*$;var U=N.depth-T-(P?-1:1),X=_+E*U,Q=_+E*(U+1),j=N.getModel();j.get("r0")!=null&&(X=t(j.get("r0"),g/2)),j.get("r")!=null&&(Q=t(j.get("r"),g/2)),N.setLayout({angle:$,startAngle:G,endAngle:H,clockwise:O,cx:p,cy:y,r0:X,r:Q})}if(N.children&&N.children.length){var ee=0;r.each(N.children,function(re){ee+=V(re,G+ee)})}return H-G}};if(P){var R=_,z=_+E,k=Math.PI*2;x.setLayout({angle:k,startAngle:S,endAngle:S+k,clockwise:O,cx:p,cy:y,r0:R,r:z})}V(b,S)})}function n(c,o){var u=c.children||[];c.children=s(u,o),u.length&&r.each(c.children,function(v){n(v,o)})}function s(c,o){if(typeof o=="function")return c.sort(o);var u=o==="asc";return c.sort(function(v,h){var l=(v.getValue()-h.getValue())*(u?1:-1);return l===0?(v.dataIndex-h.dataIndex)*(u?-1:1):l})}return Vh=i,Vh}var Jx;function lG(){if(Jx)return Wx;Jx=1;var e=_e,t=W;aG(),nG(),oG();var r=Ss(),a=sG(),i=En();return e.registerVisual(t.curry(r,"sunburst")),e.registerLayout(t.curry(a,"sunburst")),e.registerProcessor(t.curry(i,"sunburst")),Wx}var eS={},Hh,tS;function uG(){if(tS)return Hh;tS=1;var e=W;function t(a,i){return i=i||[0,0],e.map(["x","y"],function(n,s){var c=this.getAxis(n),o=i[s],u=a[s]/2;return c.type==="category"?c.getBandWidth():Math.abs(c.dataToCoord(o-u)-c.dataToCoord(o+u))},this)}function r(a){var i=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(n){return a.dataToPoint(n)},size:e.bind(t,a)}}}return Hh=r,Hh}var qh,rS;function vG(){if(rS)return qh;rS=1;var e=W;function t(a,i){return i=i||[0,0],e.map([0,1],function(n){var s=i[n],c=a[n]/2,o=[],u=[];return o[n]=s-c,u[n]=s+c,o[1-n]=u[1-n]=i[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(u)[n])},this)}function r(a){var i=a.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:a.getZoom()},api:{coord:function(n){return a.dataToPoint(n)},size:e.bind(t,a)}}}return qh=r,qh}var Gh,aS;function hG(){if(aS)return Gh;aS=1;var e=W;function t(a,i){var n=this.getAxis(),s=i instanceof Array?i[0]:i,c=(a instanceof Array?a[0]:a)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(s-c)-n.dataToCoord(s+c))}function r(a){var i=a.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(n){return a.dataToPoint(n)},size:e.bind(t,a)}}}return Gh=r,Gh}var Fh,iS;function cG(){if(iS)return Fh;iS=1;var e=W;function t(a,i){return e.map(["Radius","Angle"],function(n,s){var c=this["get"+n+"Axis"](),o=i[s],u=a[s]/2,v="dataTo"+n,h=c.type==="category"?c.getBandWidth():Math.abs(c[v](o-u)-c[v](o+u));return n==="Angle"&&(h=h*Math.PI/180),h},this)}function r(a){var i=a.getRadiusAxis(),n=a.getAngleAxis(),s=i.getExtent();return s[0]>s[1]&&s.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:s[1],r0:s[0]},api:{coord:e.bind(function(c){var o=i.dataToRadius(c[0]),u=n.dataToAngle(c[1]),v=a.coordToPoint([o,u]);return v.push(o,u*Math.PI/180),v}),size:e.bind(t,a)}}}return Fh=r,Fh}var $h,nS;function fG(){if(nS)return $h;nS=1;function e(t){var r=t.getRect(),a=t.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(i,n){return t.dataToPoint(i,n)}}}}return $h=e,$h}var oS;function dG(){if(oS)return eS;oS=1;var e=W,t=fe,r=sg(),a=r.getDefaultLabel,i=Or(),n=ms(),s=n.getLayoutOnAxis,c=wa(),o=ct,u=ot,v=Sr,h=Ln(),l=h.createClipPath,d=uG(),f=vG(),m=hG(),g=cG(),p=fG(),y=t.CACHED_LABEL_STYLE_PROPERTIES,_=["itemStyle"],w=["emphasis","itemStyle"],S=["label"],A=["emphasis","label"],x="e\0\0",b={cartesian2d:d,geo:f,singleAxis:m,polar:g,calendar:p};o.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(H,F){return i(this.getSource(),this)},getDataParams:function(H,F,$){var U=o.prototype.getDataParams.apply(this,arguments);return $&&(U.info=$.info),U}}),v.extend({type:"custom",_data:null,render:function(H,F,$,U){var X=this._data,Q=H.getData(),j=this.group,ee=D(H,Q,F,$);Q.diff(X).add(function(te){P(null,te,ee(te,U),H,j,Q)}).update(function(te,ne){var Se=X.getItemGraphicEl(ne);P(Se,te,ee(te,U),H,j,Q)}).remove(function(te){var ne=X.getItemGraphicEl(te);ne&&j.remove(ne)}).execute();var re=H.get("clip",!0)?l(H.coordinateSystem,!1,H):null;re?j.setClipPath(re):j.removeClipPath(),this._data=Q},incrementalPrepareRender:function(H,F,$){this.group.removeAll(),this._data=null},incrementalRender:function(H,F,$,U,X){var Q=F.getData(),j=D(F,Q,$,U);function ee(ne){ne.isGroup||(ne.incremental=!0,ne.useHoverLayer=!0)}for(var re=H.start;re<H.end;re++){var te=P(null,re,j(re,X),F,this.group,Q);te.traverse(ee)}},dispose:e.noop,filterForExposedEvent:function(H,F,$,U){var X=F.element;if(X==null||$.name===X)return!0;for(;($=$.parent)&&$!==this.group;)if($.name===X)return!0;return!1}});function T(H){var F=H.type,$;if(F==="path"){var U=H.shape,X=U.width!=null&&U.height!=null?{x:U.x||0,y:U.y||0,width:U.width,height:U.height}:null,Q=k(U);$=t.makePath(Q,null,X,U.layout||"center"),$.__customPathData=Q}else if(F==="image")$=new t.Image({}),$.__customImagePath=H.style.image;else if(F==="text")$=new t.Text({}),$.__customText=H.style.text;else if(F==="group")$=new t.Group;else{if(F==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var j=t.getShapeClass(F);$=new j}return $.__customGraphicType=F,$.name=H.name,$}function M(H,F,$,U,X,Q,j){var ee={},re=$.style||{};if($.shape&&(ee.shape=e.clone($.shape)),$.position&&(ee.position=$.position.slice()),$.scale&&(ee.scale=$.scale.slice()),$.origin&&(ee.origin=$.origin.slice()),$.rotation&&(ee.rotation=$.rotation),H.type==="image"&&$.style){var te=ee.style={};e.each(["x","y","width","height"],function(le){C(le,te,re,H.style,Q)})}if(H.type==="text"&&$.style){var te=ee.style={};e.each(["x","y"],function(pe){C(pe,te,re,H.style,Q)}),!re.hasOwnProperty("textFill")&&re.fill&&(re.textFill=re.fill),!re.hasOwnProperty("textStroke")&&re.stroke&&(re.textStroke=re.stroke)}if(H.type!=="group"&&(H.useStyle(re),Q)){H.style.opacity=0;var ne=re.opacity;ne==null&&(ne=1),t.initProps(H,{style:{opacity:ne}},U,F)}Q?H.attr(ee):t.updateProps(H,ee,U,F),$.hasOwnProperty("z2")&&H.attr("z2",$.z2||0),$.hasOwnProperty("silent")&&H.attr("silent",$.silent),$.hasOwnProperty("invisible")&&H.attr("invisible",$.invisible),$.hasOwnProperty("ignore")&&H.attr("ignore",$.ignore),$.hasOwnProperty("info")&&H.attr("info",$.info);var Se=$.styleEmphasis;t.setElementHoverStyle(H,Se),j&&t.setAsHighDownDispatcher(H,Se!==!1)}function C(H,F,$,U,X){$[H]!=null&&!X&&(F[H]=$[H],$[H]=U[H])}function D(H,F,$,U){var X=H.get("renderItem"),Q=H.coordinateSystem,j={};Q&&(j=Q.prepareCustoms?Q.prepareCustoms():b[Q.type](Q));var ee=e.defaults({getWidth:U.getWidth,getHeight:U.getHeight,getZr:U.getZr,getDevicePixelRatio:U.getDevicePixelRatio,value:oe,style:ge,styleEmphasis:Z,visual:K,barLayout:J,currentSeriesIndices:se,font:ue},j.api||{}),re={context:{},seriesId:H.id,seriesName:H.name,seriesIndex:H.seriesIndex,coordSys:j.coordSys,dataInsideLength:F.count(),encode:L(H.getData())},te,ne=!0,Se,le,pe,de;return function(ve,he){return te=ve,ne=!0,X&&X(e.defaults({dataIndexInside:ve,dataIndex:F.getRawIndex(ve),actionType:he?he.type:null},re),ee)};function ie(ve){ve==null&&(ve=te),ne&&(Se=F.getItemModel(ve),le=Se.getModel(S),pe=Se.getModel(A),de=F.getItemVisual(ve,"color"),ne=!1)}function oe(ve,he){return he==null&&(he=te),F.get(F.getDimension(ve||0),he)}function ge(ve,he){he==null&&(he=te),ie(he);var me=Se.getModel(_).getItemStyle();de!=null&&(me.fill=de);var xe=F.getItemVisual(he,"opacity");xe!=null&&(me.opacity=xe);var Ce=ve?V(ve,le):le;return t.setTextStyle(me,Ce,null,{autoColor:de,isRectText:!0}),me.text=Ce.getShallow("show")?e.retrieve2(H.getFormattedLabel(he,"normal"),a(F,he)):null,ve&&R(me,ve),me}function Z(ve,he){he==null&&(he=te),ie(he);var me=Se.getModel(w).getItemStyle(),xe=ve?V(ve,pe):pe;return t.setTextStyle(me,xe,null,{isRectText:!0},!0),me.text=xe.getShallow("show")?e.retrieve3(H.getFormattedLabel(he,"emphasis"),H.getFormattedLabel(he,"normal"),a(F,he)):null,ve&&R(me,ve),me}function K(ve,he){return he==null&&(he=te),F.getItemVisual(he,ve)}function J(ve){if(Q.getBaseAxis){var he=Q.getBaseAxis();return s(e.defaults({axis:he},ve),U)}}function se(){return $.getCurrentSeriesIndices()}function ue(ve){return t.getFont(ve,$)}}function L(H){var F={};return e.each(H.dimensions,function($,U){var X=H.getDimensionInfo($);if(!X.isExtraCoord){var Q=X.coordDim,j=F[Q]=F[Q]||[];j[X.coordDimIndex]=U}}),F}function P(H,F,$,U,X,Q){return H=I(H,F,$,U,X,Q,!0),H&&Q.setItemGraphicEl(F,H),H}function I(H,F,$,U,X,Q,j){var ee=!$;$=$||{};var re=$.type,te=$.shape,ne=$.style;if(H&&(ee||re!=null&&re!==H.__customGraphicType||re==="path"&&N(te)&&k(te)!==H.__customPathData||re==="image"&&G(ne,"image")&&ne.image!==H.__customImagePath||re==="text"&&G(te,"text")&&ne.text!==H.__customText)&&(X.remove(H),H=null),!ee){var Se=!H;return!H&&(H=T($)),M(H,F,$,U,Q,Se,j),re==="group"&&E(H,F,$,U,Q),X.add(H),H}}function E(H,F,$,U,X){var Q=$.children,j=Q?Q.length:0,ee=$.$mergeChildren,re=ee==="byName"||$.diffChildrenByName,te=ee===!1;if(!(!j&&!re&&!te)){if(re){O({oldChildren:H.children()||[],newChildren:Q||[],dataIndex:F,animatableModel:U,group:H,data:X});return}te&&H.removeAll();for(var ne=0;ne<j;ne++)Q[ne]&&I(H.childAt(ne),F,Q[ne],U,H,X)}}function O(H){new c(H.oldChildren,H.newChildren,B,B,H).add(q).update(q).remove(z).execute()}function B(H,F){var $=H&&H.name;return $??x+F}function q(H,F){var $=this.context,U=H!=null?$.newChildren[H]:null,X=F!=null?$.oldChildren[F]:null;I(X,$.dataIndex,U,$.animatableModel,$.group,$.data)}function V(H,F){var $=new u({},F);return e.each(y,function(U,X){H.hasOwnProperty(U)&&($.option[X]=H[U])}),$}function R(H,F){for(var $ in F)(F.hasOwnProperty($)||!y.hasOwnProperty($))&&(H[$]=F[$])}function z(H){var F=this.context,$=F.oldChildren[H];$&&F.group.remove($)}function k(H){return H&&(H.pathData||H.d)}function N(H){return H&&(H.hasOwnProperty("pathData")||H.hasOwnProperty("d"))}function G(H,F){return H&&H.hasOwnProperty(F)}return eS}var sS={},lS;function gG(){return lS||(lS=1,In(),YM(),On()),sS}var uS={},Uh,vS;function pG(){if(vS)return Uh;vS=1;var e=W,t=Le,r=t.parsePercent,a=br(),i=a.isDimensionStacked;function n(v){return v.get("stack")||"__ec_stack_"+v.seriesIndex}function s(v,h){return h.dim+v.model.componentIndex}function c(v,h,l){var d={},f=o(e.filter(h.getSeriesByType(v),function(m){return!h.isSeriesFiltered(m)&&m.coordinateSystem&&m.coordinateSystem.type==="polar"}));h.eachSeriesByType(v,function(m){if(m.coordinateSystem.type==="polar"){var g=m.getData(),p=m.coordinateSystem,y=p.getBaseAxis(),_=s(p,y),w=n(m),S=f[_][w],A=S.offset,x=S.width,b=p.getOtherAxis(y),T=m.coordinateSystem.cx,M=m.coordinateSystem.cy,C=m.get("barMinHeight")||0,D=m.get("barMinAngle")||0;d[w]=d[w]||[];for(var L=g.mapDimension(b.dim),P=g.mapDimension(y.dim),I=i(g,L),E=y.dim!=="radius"||!m.get("roundCap",!0),O=b.getExtent()[0],B=0,q=g.count();B<q;B++){var V=g.get(L,B),R=g.get(P,B),z=V>=0?"p":"n",k=O;I&&(d[w][R]||(d[w][R]={p:O,n:O}),k=d[w][R][z]);var N,G,H,F;if(b.dim==="radius"){var $=b.dataToRadius(V)-O,U=y.dataToAngle(R);Math.abs($)<C&&($=($<0?-1:1)*C),N=k,G=k+$,H=U-A,F=H-x,I&&(d[w][R][z]=G)}else{var X=b.dataToAngle(V,E)-O,Q=y.dataToRadius(R);Math.abs(X)<D&&(X=(X<0?-1:1)*D),N=Q+A,G=N+x,H=k,F=k+X,I&&(d[w][R][z]=F)}g.setItemLayout(B,{cx:T,cy:M,r0:N,r:G,startAngle:-H*Math.PI/180,endAngle:-F*Math.PI/180})}}},this)}function o(v,h){var l={};e.each(v,function(f,m){var g=f.getData(),p=f.coordinateSystem,y=p.getBaseAxis(),_=s(p,y),w=y.getExtent(),S=y.type==="category"?y.getBandWidth():Math.abs(w[1]-w[0])/g.count(),A=l[_]||{bandWidth:S,remainedWidth:S,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},x=A.stacks;l[_]=A;var b=n(f);x[b]||A.autoWidthCount++,x[b]=x[b]||{width:0,maxWidth:0};var T=r(f.get("barWidth"),S),M=r(f.get("barMaxWidth"),S),C=f.get("barGap"),D=f.get("barCategoryGap");T&&!x[b].width&&(T=Math.min(A.remainedWidth,T),x[b].width=T,A.remainedWidth-=T),M&&(x[b].maxWidth=M),C!=null&&(A.gap=C),D!=null&&(A.categoryGap=D)});var d={};return e.each(l,function(f,m){d[m]={};var g=f.stacks,p=f.bandWidth,y=r(f.categoryGap,p),_=r(f.gap,1),w=f.remainedWidth,S=f.autoWidthCount,A=(w-y)/(S+(S-1)*_);A=Math.max(A,0),e.each(g,function(M,C){var D=M.maxWidth;D&&D<A&&(D=Math.min(D,w),M.width&&(D=Math.min(D,M.width)),w-=D,M.width=D,S--)}),A=(w-y)/(S+(S-1)*_),A=Math.max(A,0);var x=0,b;e.each(g,function(M,C){M.width||(M.width=A),b=M,x+=M.width*(1+_)}),b&&(x-=b.width*_);var T=-x/2;e.each(g,function(M,C){d[m][C]=d[m][C]||{offset:T,width:M.width},T+=M.width*(1+_)})}),d}var u=c;return Uh=u,Uh}var hS={},Wh,cS;function mG(){if(cS)return Wh;cS=1;var e=W,t=ta();function r(i,n){t.call(this,"radius",i,n),this.type="category"}r.prototype={constructor:r,pointToData:function(i,n){return this.polar.pointToData(i,n)[this.dim==="radius"?0:1]},dataToRadius:t.prototype.dataToCoord,radiusToData:t.prototype.coordToData},e.inherits(r,t);var a=r;return Wh=a,Wh}var Zh,fS;function yG(){if(fS)return Zh;fS=1;var e=W,t=Ue,r=ta(),a=Ie,i=a.makeInner,n=i();function s(o,u){u=u||[0,360],r.call(this,"angle",o,u),this.type="category"}s.prototype={constructor:s,pointToData:function(o,u){return this.polar.pointToData(o,u)[this.dim==="radius"?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData,calculateCategoryInterval:function(){var o=this,u=o.getLabelModel(),v=o.scale,h=v.getExtent(),l=v.count();if(h[1]-h[0]<1)return 0;var d=h[0],f=o.dataToCoord(d+1)-o.dataToCoord(d),m=Math.abs(f),g=t.getBoundingRect(d,u.getFont(),"center","top"),p=Math.max(g.height,7),y=p/m;isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(y)),w=n(o.model),S=w.lastAutoInterval,A=w.lastTickCount;return S!=null&&A!=null&&Math.abs(S-_)<=1&&Math.abs(A-l)<=1&&S>_?_=S:(w.lastTickCount=l,w.lastAutoInterval=_),_}},e.inherits(s,r);var c=s;return Zh=c,Zh}var Yh,dS;function _G(){if(dS)return Yh;dS=1;var e=mG(),t=yG(),r=function(i){this.name=i||"",this.cx=0,this.cy=0,this._radiusAxis=new e,this._angleAxis=new t,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(i){var n=this.pointToCoord(i);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},containData:function(i){return this._radiusAxis.containData(i[0])&&this._angleAxis.containData(i[1])},getAxis:function(i){return this["_"+i+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(i){var n=[],s=this._angleAxis,c=this._radiusAxis;return s.scale.type===i&&n.push(s),c.scale.type===i&&n.push(c),n},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var n=this._angleAxis;return i===n?this._radiusAxis:n},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var n=i!=null&&i!=="auto"?this.getAxis(i):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},dataToPoint:function(i,n){return this.coordToPoint([this._radiusAxis.dataToRadius(i[0],n),this._angleAxis.dataToAngle(i[1],n)])},pointToData:function(i,n){var s=this.pointToCoord(i);return[this._radiusAxis.radiusToData(s[0],n),this._angleAxis.angleToData(s[1],n)]},pointToCoord:function(i){var n=i[0]-this.cx,s=i[1]-this.cy,c=this.getAngleAxis(),o=c.getExtent(),u=Math.min(o[0],o[1]),v=Math.max(o[0],o[1]);c.inverse?u=v-360:v=u+360;var h=Math.sqrt(n*n+s*s);n/=h,s/=h;for(var l=Math.atan2(-s,n)/Math.PI*180,d=l<u?1:-1;l<u||l>v;)l+=d*360;return[h,l]},coordToPoint:function(i){var n=i[0],s=i[1]/180*Math.PI,c=Math.cos(s)*n+this.cx,o=-Math.sin(s)*n+this.cy;return[c,o]},getArea:function(){var i=this.getAngleAxis(),n=this.getRadiusAxis(),s=n.getExtent().slice();s[0]>s[1]&&s.reverse();var c=i.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:s[0],r:s[1],startAngle:-c[0]*o,endAngle:-c[1]*o,clockwise:i.inverse,contain:function(u,v){var h=u-this.cx,l=v-this.cy,d=h*h+l*l,f=this.r,m=this.r0;return d<=f*f&&d>=m*m}}}};var a=r;return Yh=a,Yh}var gS={},pS;function xG(){if(pS)return gS;pS=1;var e=W,t=ht,r=_s(),a=yi(),i=t.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});e.merge(i.prototype,a);var n={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};function s(c,o){return o.type||(o.data?"category":"value")}return r("angle",i,s,n.angle),r("radius",i,s,n.radius),gS}var Xh,mS;function SG(){if(mS)return Xh;mS=1;var e=_e;xG();var t=e.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(r){var a,i=this.ecModel;return i.eachComponent(r,function(n){n.getCoordSysModel()===this&&(a=n)},this),a},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});return Xh=t,Xh}var yS;function xg(){if(yS)return hS;yS=1;var e=W,t=_G(),r=Le,a=r.parsePercent,i=nr(),n=i.createScaleByModel,s=i.niceScaleExtent,c=xr,o=br(),u=o.getStackedDimension;SG();function v(f,m,g){var p=m.get("center"),y=g.getWidth(),_=g.getHeight();f.cx=a(p[0],y),f.cy=a(p[1],_);var w=f.getRadiusAxis(),S=Math.min(y,_)/2,A=m.get("radius");A==null?A=[0,"100%"]:e.isArray(A)||(A=[0,A]),A=[a(A[0],S),a(A[1],S)],w.inverse?w.setExtent(A[1],A[0]):w.setExtent(A[0],A[1])}function h(f,m){var g=this,p=g.getAngleAxis(),y=g.getRadiusAxis();if(p.scale.setExtent(1/0,-1/0),y.scale.setExtent(1/0,-1/0),f.eachSeries(function(S){if(S.coordinateSystem===g){var A=S.getData();e.each(A.mapDimension("radius",!0),function(x){y.scale.unionExtentFromData(A,u(A,x))}),e.each(A.mapDimension("angle",!0),function(x){p.scale.unionExtentFromData(A,u(A,x))})}}),s(p.scale,p.model),s(y.scale,y.model),p.type==="category"&&!p.onBand){var _=p.getExtent(),w=360/p.scale.count();p.inverse?_[1]+=w:_[1]-=w,p.setExtent(_[0],_[1])}}function l(f,m){if(f.type=m.get("type"),f.scale=n(m),f.onBand=m.get("boundaryGap")&&f.type==="category",f.inverse=m.get("inverse"),m.mainType==="angleAxis"){f.inverse^=m.get("clockwise");var g=m.get("startAngle");f.setExtent(g,g+(f.inverse?-360:360))}m.axis=f,f.model=m}var d={dimensions:t.prototype.dimensions,create:function(f,m){var g=[];return f.eachComponent("polar",function(p,y){var _=new t(y);_.update=h;var w=_.getRadiusAxis(),S=_.getAngleAxis(),A=p.findAxisModel("radiusAxis"),x=p.findAxisModel("angleAxis");l(w,A),l(S,x),v(_,p,m),g.push(_),p.coordinateSystem=_,_.model=p}),f.eachSeries(function(p){if(p.get("coordinateSystem")==="polar"){var y=f.queryComponents({mainType:"polar",index:p.get("polarIndex"),id:p.get("polarId")})[0];p.coordinateSystem=y.coordinateSystem}}),g}};return c.register("polar",d),hS}var _S={},Kh,xS;function bG(){if(xS)return Kh;xS=1;var e=W,t=fe,r=ot,a=Ta(),i=ra(),n=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function s(v,h,l){h[1]>h[0]&&(h=h.slice().reverse());var d=v.coordToPoint([h[0],l]),f=v.coordToPoint([h[1],l]);return{x1:d[0],y1:d[1],x2:f[0],y2:f[1]}}function c(v){var h=v.getRadiusAxis();return h.inverse?0:1}function o(v){var h=v[0],l=v[v.length-1];h&&l&&Math.abs(Math.abs(h.coord-l.coord)-360)<1e-4&&v.pop()}var u=a.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(v,h){if(this.group.removeAll(),!!v.get("show")){var l=v.axis,d=l.polar,f=d.getRadiusAxis().getExtent(),m=l.getTicksCoords(),g=l.getMinorTicksCoords(),p=e.map(l.getViewLabels(),function(_){var _=e.clone(_);return _.coord=l.dataToCoord(_.tickValue),_});o(p),o(m),e.each(n,function(y){v.get(y+".show")&&(!l.scale.isBlank()||y==="axisLine")&&this["_"+y](v,d,m,g,f,p)},this)}},_axisLine:function(v,h,l,d,f){var m=v.getModel("axisLine.lineStyle"),g=c(h),p=g?0:1,y;f[p]===0?y=new t.Circle({shape:{cx:h.cx,cy:h.cy,r:f[g]},style:m.getLineStyle(),z2:1,silent:!0}):y=new t.Ring({shape:{cx:h.cx,cy:h.cy,r:f[g],r0:f[p]},style:m.getLineStyle(),z2:1,silent:!0}),y.style.fill=null,this.group.add(y)},_axisTick:function(v,h,l,d,f){var m=v.getModel("axisTick"),g=(m.get("inside")?-1:1)*m.get("length"),p=f[c(h)],y=e.map(l,function(_){return new t.Line({shape:s(h,[p,p+g],_.coord)})});this.group.add(t.mergePath(y,{style:e.defaults(m.getModel("lineStyle").getLineStyle(),{stroke:v.get("axisLine.lineStyle.color")})}))},_minorTick:function(v,h,l,d,f){if(d.length){for(var m=v.getModel("axisTick"),g=v.getModel("minorTick"),p=(m.get("inside")?-1:1)*g.get("length"),y=f[c(h)],_=[],w=0;w<d.length;w++)for(var S=0;S<d[w].length;S++)_.push(new t.Line({shape:s(h,[y,y+p],d[w][S].coord)}));this.group.add(t.mergePath(_,{style:e.defaults(g.getModel("lineStyle").getLineStyle(),e.defaults(m.getLineStyle(),{stroke:v.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(v,h,l,d,f,m){var g=v.getCategories(!0),p=v.getModel("axisLabel"),y=p.get("margin"),_=v.get("triggerEvent");e.each(m,function(w,S){var A=p,x=w.tickValue,b=f[c(h)],T=h.coordToPoint([b+y,w.coord]),M=h.cx,C=h.cy,D=Math.abs(T[0]-M)/b<.3?"center":T[0]>M?"left":"right",L=Math.abs(T[1]-C)/b<.3?"middle":T[1]>C?"top":"bottom";g&&g[x]&&g[x].textStyle&&(A=new r(g[x].textStyle,p,p.ecModel));var P=new t.Text({silent:i.isLabelSilent(v)});this.group.add(P),t.setTextStyle(P.style,A,{x:T[0],y:T[1],textFill:A.getTextColor()||v.get("axisLine.lineStyle.color"),text:w.formattedLabel,textAlign:D,textVerticalAlign:L}),_&&(P.eventData=i.makeAxisEventDataBase(v),P.eventData.targetType="axisLabel",P.eventData.value=w.rawLabel)},this)},_splitLine:function(v,h,l,d,f){var m=v.getModel("splitLine"),g=m.getModel("lineStyle"),p=g.get("color"),y=0;p=p instanceof Array?p:[p];for(var _=[],w=0;w<l.length;w++){var S=y++%p.length;_[S]=_[S]||[],_[S].push(new t.Line({shape:s(h,f,l[w].coord)}))}for(var w=0;w<_.length;w++)this.group.add(t.mergePath(_[w],{style:e.defaults({stroke:p[w%p.length]},g.getLineStyle()),silent:!0,z:v.get("z")}))},_minorSplitLine:function(v,h,l,d,f){if(d.length){for(var m=v.getModel("minorSplitLine"),g=m.getModel("lineStyle"),p=[],y=0;y<d.length;y++)for(var _=0;_<d[y].length;_++)p.push(new t.Line({shape:s(h,f,d[y][_].coord)}));this.group.add(t.mergePath(p,{style:g.getLineStyle(),silent:!0,z:v.get("z")}))}},_splitArea:function(v,h,l,d,f){if(l.length){var m=v.getModel("splitArea"),g=m.getModel("areaStyle"),p=g.get("color"),y=0;p=p instanceof Array?p:[p];for(var _=[],w=Math.PI/180,S=-l[0].coord*w,A=Math.min(f[0],f[1]),x=Math.max(f[0],f[1]),b=v.get("clockwise"),T=1;T<l.length;T++){var M=y++%p.length;_[M]=_[M]||[],_[M].push(new t.Sector({shape:{cx:h.cx,cy:h.cy,r0:A,r:x,startAngle:S,endAngle:-l[T].coord*w,clockwise:b},silent:!0})),S=-l[T].coord*w}for(var T=0;T<_.length;T++)this.group.add(t.mergePath(_[T],{style:e.defaults({fill:p[T%p.length]},g.getAreaStyle()),silent:!0}))}}});return Kh=u,Kh}var SS;function wG(){return SS||(SS=1,xg(),bG()),_S}var bS={},Qh,wS;function AG(){if(wS)return Qh;wS=1;var e=W,t=fe,r=ra(),a=Ta(),i=["axisLine","axisTickLabel","axisName"],n=["splitLine","splitArea","minorSplitLine"],s=a.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(o,u){if(this.group.removeAll(),!!o.get("show")){var v=o.axis,h=v.polar,l=h.getAngleAxis(),d=v.getTicksCoords(),f=v.getMinorTicksCoords(),m=l.getExtent()[0],g=v.getExtent(),p=c(h,o,m),y=new r(o,p);e.each(i,y.add,y),this.group.add(y.getGroup()),e.each(n,function(_){o.get(_+".show")&&!v.scale.isBlank()&&this["_"+_](o,h,m,g,d,f)},this)}},_splitLine:function(o,u,v,h,l){var d=o.getModel("splitLine"),f=d.getModel("lineStyle"),m=f.get("color"),g=0;m=m instanceof Array?m:[m];for(var p=[],y=0;y<l.length;y++){var _=g++%m.length;p[_]=p[_]||[],p[_].push(new t.Circle({shape:{cx:u.cx,cy:u.cy,r:l[y].coord}}))}for(var y=0;y<p.length;y++)this.group.add(t.mergePath(p[y],{style:e.defaults({stroke:m[y%m.length],fill:null},f.getLineStyle()),silent:!0}))},_minorSplitLine:function(o,u,v,h,l,d){if(d.length){for(var f=o.getModel("minorSplitLine"),m=f.getModel("lineStyle"),g=[],p=0;p<d.length;p++)for(var y=0;y<d[p].length;y++)g.push(new t.Circle({shape:{cx:u.cx,cy:u.cy,r:d[p][y].coord}}));this.group.add(t.mergePath(g,{style:e.defaults({fill:null},m.getLineStyle()),silent:!0}))}},_splitArea:function(o,u,v,h,l){if(l.length){var d=o.getModel("splitArea"),f=d.getModel("areaStyle"),m=f.get("color"),g=0;m=m instanceof Array?m:[m];for(var p=[],y=l[0].coord,_=1;_<l.length;_++){var w=g++%m.length;p[w]=p[w]||[],p[w].push(new t.Sector({shape:{cx:u.cx,cy:u.cy,r0:y,r:l[_].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=l[_].coord}for(var _=0;_<p.length;_++)this.group.add(t.mergePath(p[_],{style:e.defaults({fill:m[_%m.length]},f.getAreaStyle()),silent:!0}))}}});function c(o,u,v){return{position:[o.cx,o.cy],rotation:v/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:u.getModel("axisLabel").get("rotate"),z2:1}}return Qh=s,Qh}var AS;function TG(){return AS||(AS=1,xg(),AG()),bS}var jh,TS;function CG(){if(TS)return jh;TS=1;var e=Ne,t=_g(),r=fe,a=As(),i=Je,n=ra(),s=Ta(),c=t.extend({makeElOption:function(h,l,d,f,m){var g=d.axis;g.dim==="angle"&&(this.animationThreshold=Math.PI/18);var p=g.polar,y=p.getOtherAxis(g),_=y.getExtent(),w;w=g["dataTo"+e.capitalFirst(g.dim)](l);var S=f.get("type");if(S&&S!=="none"){var A=a.buildElStyle(f),x=u[S](g,p,w,_,A);x.style=A,h.graphicKey=x.type,h.pointer=x}var b=f.get("label.margin"),T=o(l,d,f,p,b);a.buildLabelElOption(h,d,f,m,T)}});function o(h,l,d,f,m){var g=l.axis,p=g.dataToCoord(h),y=f.getAngleAxis().getExtent()[0];y=y/180*Math.PI;var _=f.getRadiusAxis().getExtent(),w,S,A;if(g.dim==="radius"){var x=i.create();i.rotate(x,x,y),i.translate(x,x,[f.cx,f.cy]),w=r.applyTransform([p,-m],x);var b=l.getModel("axisLabel").get("rotate")||0,T=n.innerTextLayout(y,b*Math.PI/180,-1);S=T.textAlign,A=T.textVerticalAlign}else{var M=_[1];w=f.coordToPoint([M+m,p]);var C=f.cx,D=f.cy;S=Math.abs(w[0]-C)/M<.3?"center":w[0]>C?"left":"right",A=Math.abs(w[1]-D)/M<.3?"middle":w[1]>D?"top":"bottom"}return{position:w,align:S,verticalAlign:A}}var u={line:function(h,l,d,f,m){return h.dim==="angle"?{type:"Line",shape:a.makeLineShape(l.coordToPoint([f[0],d]),l.coordToPoint([f[1],d]))}:{type:"Circle",shape:{cx:l.cx,cy:l.cy,r:d}}},shadow:function(h,l,d,f,m){var g=Math.max(1,h.getBandWidth()),p=Math.PI/180;return h.dim==="angle"?{type:"Sector",shape:a.makeSectorShape(l.cx,l.cy,f[0],f[1],(-d-g/2)*p,(-d+g/2)*p)}:{type:"Sector",shape:a.makeSectorShape(l.cx,l.cy,d-g/2,d+g/2,0,Math.PI*2)}}};s.registerAxisPointerClass("PolarAxisPointer",c);var v=c;return jh=v,jh}var CS;function MG(){if(CS)return uS;CS=1;var e=_e,t=W,r=pG();return xg(),wG(),TG(),On(),CG(),e.registerLayout(t.curry(r,"bar")),e.extendComponentView({type:"polar"}),uS}var MS={},Jh,DS;function DG(){if(DS)return Jh;DS=1;var e=W,t=Ie,r=ht,a=ot,i=ug(),n=fg(),s=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(o){r.prototype.init.apply(this,arguments),t.defaultEmphasis(o,"label",["show"])},optionUpdated:function(){var o=this.option,u=this;o.regions=n.getFilledRegions(o.regions,o.map,o.nameMap),this._optionModelMap=e.reduce(o.regions||[],function(v,h){return h.name&&v.set(h.name,new a(h,u)),v},e.createHashMap()),this.updateSelectedMap(o.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(o){return this._optionModelMap.get(o)||new a(null,this,this.ecModel)},getFormattedLabel:function(o,u){var v=this.getRegionModel(o),h=v.get("label"+(u==="normal"?".":u+".")+"formatter"),l={name:o};if(typeof h=="function")return l.status=u,h(l);if(typeof h=="string")return h.replace("{a}",o??"")},setZoom:function(o){this.option.zoom=o},setCenter:function(o){this.option.center=o}});e.mixin(s,i);var c=s;return Jh=c,Jh}var ec,LS;function LG(){if(LS)return ec;LS=1;var e=PM(),t=_e,r=t.extendComponentView({type:"geo",init:function(a,i){var n=new e(i,!0);this._mapDraw=n,this.group.add(n.group)},render:function(a,i,n,s){if(!(s&&s.type==="geoToggleSelect"&&s.from===this.uid)){var c=this._mapDraw;a.get("show")?c.draw(a,i,n,this,s):this._mapDraw.group.removeAll(),this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});return ec=r,ec}var PS;function PG(){if(PS)return MS;PS=1;var e=_e,t=W;DG(),fg(),LG(),IM();function r(a,i){i.update="updateView",e.registerAction(i,function(n,s){var c={};return s.eachComponent({mainType:"geo",query:n},function(o){o[a](n.name);var u=o.coordinateSystem;t.each(u.regions,function(v){c[v.name]=o.isSelected(v.name)||!1})}),{selected:c,name:n.name}})}return r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),MS}var IS={},tc,RS;function IG(){if(RS)return tc;RS=1;var e=W,t=Be,r=Le,a=xr,i=864e5;function n(o,u,v){this._model=o}n.prototype={constructor:n,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(o){o=r.parseDate(o);var u=o.getFullYear(),v=o.getMonth()+1;v=v<10?"0"+v:v;var h=o.getDate();h=h<10?"0"+h:h;var l=o.getDay();return l=Math.abs((l+7-this.getFirstDayOfWeek())%7),{y:u,m:v,d:h,day:l,time:o.getTime(),formatedDate:u+"-"+v+"-"+h,date:o}},getNextNDay:function(o,u){return u=u||0,u===0?this.getDateInfo(o):(o=new Date(this.getDateInfo(o).time),o.setDate(o.getDate()+u),this.getDateInfo(o))},update:function(o,u){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var v=this._rangeInfo.weeks||1,h=["width","height"],l=this._model.get("cellSize").slice(),d=this._model.getBoxLayoutParams(),f=this._orient==="horizontal"?[v,7]:[7,v];e.each([0,1],function(y){p(l,y)&&(d[h[y]]=l[y]*f[y])});var m={width:u.getWidth(),height:u.getHeight()},g=this._rect=t.getLayoutRect(d,m);e.each([0,1],function(y){p(l,y)||(l[y]=g[h[y]]/f[y])});function p(y,_){return y[_]!=null&&y[_]!=="auto"}this._sw=l[0],this._sh=l[1]},dataToPoint:function(o,u){e.isArray(o)&&(o=o[0]),u==null&&(u=!0);var v=this.getDateInfo(o),h=this._rangeInfo,l=v.formatedDate;if(u&&!(v.time>=h.start.time&&v.time<h.end.time+i))return[NaN,NaN];var d=v.day,f=this._getRangeInfo([h.start.time,l]).nthWeek;return this._orient==="vertical"?[this._rect.x+d*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]},pointToData:function(o){var u=this.pointToDate(o);return u&&u.time},dataToRect:function(o,u){var v=this.dataToPoint(o,u);return{contentShape:{x:v[0]-(this._sw-this._lineWidth)/2,y:v[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:v,tl:[v[0]-this._sw/2,v[1]-this._sh/2],tr:[v[0]+this._sw/2,v[1]-this._sh/2],br:[v[0]+this._sw/2,v[1]+this._sh/2],bl:[v[0]-this._sw/2,v[1]+this._sh/2]}},pointToDate:function(o){var u=Math.floor((o[0]-this._rect.x)/this._sw)+1,v=Math.floor((o[1]-this._rect.y)/this._sh)+1,h=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(v,u-1,h):this._getDateByWeeksAndDay(u,v-1,h)},convertToPixel:e.curry(s,"dataToPoint"),convertFromPixel:e.curry(s,"pointToData"),_initRangeOption:function(){var o=this._model.get("range"),u=o;if(e.isArray(u)&&u.length===1&&(u=u[0]),/^\d{4}$/.test(u)&&(o=[u+"-01-01",u+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(u)){var v=this.getDateInfo(u),h=v.date;h.setMonth(h.getMonth()+1);var l=this.getNextNDay(h,-1);o=[v.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(u)&&(o=[u,u]);var d=this._getRangeInfo(o);return d.start.time>d.end.time&&o.reverse(),o},_getRangeInfo:function(o){o=[this.getDateInfo(o[0]),this.getDateInfo(o[1])];var u;o[0].time>o[1].time&&(u=!0,o.reverse());var v=Math.floor(o[1].time/i)-Math.floor(o[0].time/i)+1,h=new Date(o[0].time),l=h.getDate(),d=o[1].date.getDate();h.setDate(l+v-1);var f=h.getDate();if(f!==d)for(var m=h.getTime()-o[1].time>0?1:-1;(f=h.getDate())!==d&&(h.getTime()-o[1].time)*m>0;)v-=m,h.setDate(f-m);var g=Math.floor((v+o[0].day+6)/7),p=u?-g+1:g-1;return u&&o.reverse(),{range:[o[0].formatedDate,o[1].formatedDate],start:o[0],end:o[1],allDay:v,weeks:g,nthWeek:p,fweek:o[0].day,lweek:o[1].day}},_getDateByWeeksAndDay:function(o,u,v){var h=this._getRangeInfo(v);if(o>h.weeks||o===0&&u<h.fweek||o===h.weeks&&u>h.lweek)return!1;var l=(o-1)*7-h.fweek+u,d=new Date(h.start.time);return d.setDate(h.start.d+l),this.getDateInfo(d)}},n.dimensions=n.prototype.dimensions,n.getDimensionsInfo=n.prototype.getDimensionsInfo,n.create=function(o,u){var v=[];return o.eachComponent("calendar",function(h){var l=new n(h);v.push(l),h.coordinateSystem=l}),o.eachSeries(function(h){h.get("coordinateSystem")==="calendar"&&(h.coordinateSystem=v[h.get("calendarIndex")||0])}),v};function s(o,u,v,h){var l=v.calendarModel,d=v.seriesModel,f=l?l.coordinateSystem:d?d.coordinateSystem:null;return f===this?f[o](h):null}a.register("calendar",n);var c=n;return tc=c,tc}var rc,ES;function RG(){if(ES)return rc;ES=1;var e=W,t=ht,r=Be,a=r.getLayoutParams,i=r.sizeCalculable,n=r.mergeLayoutParam,s=t.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(u,v,h,l){var d=a(u);s.superApply(this,"init",arguments),c(u,d)},mergeOption:function(u,v){s.superApply(this,"mergeOption",arguments),c(this.option,u)}});function c(u,v){var h=u.cellSize;e.isArray(h)?h.length===1&&(h[1]=h[0]):h=u.cellSize=[h,h];var l=e.map([0,1],function(d){return i(v,d)&&(h[d]="auto"),h[d]!=null&&h[d]!=="auto"});n(u,v,{type:"box",ignoreSize:l})}var o=s;return rc=o,rc}var ac,kS;function EG(){if(kS)return ac;kS=1;var e=_e,t=W,r=fe,a=Ne,i=Le,n={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},s={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},c=e.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(o,u,v){var h=this.group;h.removeAll();var l=o.coordinateSystem,d=l.getRangeInfo(),f=l.getOrient();this._renderDayRect(o,d,h),this._renderLines(o,d,f,h),this._renderYearText(o,d,f,h),this._renderMonthText(o,f,h),this._renderWeekText(o,d,f,h)},_renderDayRect:function(o,u,v){for(var h=o.coordinateSystem,l=o.getModel("itemStyle").getItemStyle(),d=h.getCellWidth(),f=h.getCellHeight(),m=u.start.time;m<=u.end.time;m=h.getNextNDay(m,1).time){var g=h.dataToRect([m],!1).tl,p=new r.Rect({shape:{x:g[0],y:g[1],width:d,height:f},cursor:"default",style:l});v.add(p)}},_renderLines:function(o,u,v,h){var l=this,d=o.coordinateSystem,f=o.getModel("splitLine.lineStyle").getLineStyle(),m=o.get("splitLine.show"),g=f.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var p=u.start,y=0;p.time<=u.end.time;y++){w(p.formatedDate),y===0&&(p=d.getDateInfo(u.start.y+"-"+u.start.m));var _=p.date;_.setMonth(_.getMonth()+1),p=d.getDateInfo(_)}w(d.getNextNDay(u.end.time,1).formatedDate);function w(S){l._firstDayOfMonth.push(d.getDateInfo(S)),l._firstDayPoints.push(d.dataToRect([S],!1).tl);var A=l._getLinePointsOfOneWeek(o,S,v);l._tlpoints.push(A[0]),l._blpoints.push(A[A.length-1]),m&&l._drawSplitline(A,f,h)}m&&this._drawSplitline(l._getEdgesPoints(l._tlpoints,g,v),f,h),m&&this._drawSplitline(l._getEdgesPoints(l._blpoints,g,v),f,h)},_getEdgesPoints:function(o,u,v){var h=[o[0].slice(),o[o.length-1].slice()],l=v==="horizontal"?0:1;return h[0][l]=h[0][l]-u/2,h[1][l]=h[1][l]+u/2,h},_drawSplitline:function(o,u,v){var h=new r.Polyline({z2:20,shape:{points:o},style:u});v.add(h)},_getLinePointsOfOneWeek:function(o,u,v){var h=o.coordinateSystem;u=h.getDateInfo(u);for(var l=[],d=0;d<7;d++){var f=h.getNextNDay(u.time,d),m=h.dataToRect([f.time],!1);l[2*f.day]=m.tl,l[2*f.day+1]=m[v==="horizontal"?"bl":"tr"]}return l},_formatterLabel:function(o,u){return typeof o=="string"&&o?a.formatTplSimple(o,u):typeof o=="function"?o(u):u.nameMap},_yearTextPositionControl:function(o,u,v,h,l){u=u.slice();var d=["center","bottom"];h==="bottom"?(u[1]+=l,d=["center","top"]):h==="left"?u[0]-=l:h==="right"?(u[0]+=l,d=["center","top"]):u[1]-=l;var f=0;return(h==="left"||h==="right")&&(f=Math.PI/2),{rotation:f,position:u,style:{textAlign:d[0],textVerticalAlign:d[1]}}},_renderYearText:function(o,u,v,h){var l=o.getModel("yearLabel");if(l.get("show")){var d=l.get("margin"),f=l.get("position");f||(f=v!=="horizontal"?"top":"left");var m=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(m[0][0]+m[1][0])/2,p=(m[0][1]+m[1][1])/2,y=v==="horizontal"?0:1,_={top:[g,m[y][1]],bottom:[g,m[1-y][1]],left:[m[1-y][0],p],right:[m[y][0],p]},w=u.start.y;+u.end.y>+u.start.y&&(w=w+"-"+u.end.y);var S=l.get("formatter"),A={start:u.start.y,end:u.end.y,nameMap:w},x=this._formatterLabel(S,A),b=new r.Text({z2:30});r.setTextStyle(b.style,l,{text:x}),b.attr(this._yearTextPositionControl(b,_[f],v,f,d)),h.add(b)}},_monthTextPositionControl:function(o,u,v,h,l){var d="left",f="top",m=o[0],g=o[1];return v==="horizontal"?(g=g+l,u&&(d="center"),h==="start"&&(f="bottom")):(m=m+l,u&&(f="middle"),h==="start"&&(d="right")),{x:m,y:g,textAlign:d,textVerticalAlign:f}},_renderMonthText:function(o,u,v){var h=o.getModel("monthLabel");if(h.get("show")){var l=h.get("nameMap"),d=h.get("margin"),f=h.get("position"),m=h.get("align"),g=[this._tlpoints,this._blpoints];t.isString(l)&&(l=n[l.toUpperCase()]||[]);var p=f==="start"?0:1,y=u==="horizontal"?0:1;d=f==="start"?-d:d;for(var _=m==="center",w=0;w<g[p].length-1;w++){var S=g[p][w].slice(),A=this._firstDayOfMonth[w];if(_){var x=this._firstDayPoints[w];S[y]=(x[y]+g[0][w+1][y])/2}var b=h.get("formatter"),T=l[+A.m-1],M={yyyy:A.y,yy:(A.y+"").slice(2),MM:A.m,M:+A.m,nameMap:T},C=this._formatterLabel(b,M),D=new r.Text({z2:30});t.extend(r.setTextStyle(D.style,h,{text:C}),this._monthTextPositionControl(S,_,u,f,d)),v.add(D)}}},_weekTextPositionControl:function(o,u,v,h,l){var d="center",f="middle",m=o[0],g=o[1],p=v==="start";return u==="horizontal"?(m=m+h+(p?1:-1)*l[0]/2,d=p?"right":"left"):(g=g+h+(p?1:-1)*l[1]/2,f=p?"bottom":"top"),{x:m,y:g,textAlign:d,textVerticalAlign:f}},_renderWeekText:function(o,u,v,h){var l=o.getModel("dayLabel");if(l.get("show")){var d=o.coordinateSystem,f=l.get("position"),m=l.get("nameMap"),g=l.get("margin"),p=d.getFirstDayOfWeek();t.isString(m)&&(m=s[m.toUpperCase()]||[]);var y=d.getNextNDay(u.end.time,7-u.lweek).time,_=[d.getCellWidth(),d.getCellHeight()];g=i.parsePercent(g,_[v==="horizontal"?0:1]),f==="start"&&(y=d.getNextNDay(u.start.time,-(7+u.fweek)).time,g=-g);for(var w=0;w<7;w++){var S=d.getNextNDay(y,w),A=d.dataToRect([S.time],!1).center,x=w;x=Math.abs((w+p)%7);var b=new r.Text({z2:30});t.extend(r.setTextStyle(b.style,l,{text:m[x]}),this._weekTextPositionControl(A,v,f,g,_)),h.add(b)}}}});return ac=c,ac}var OS;function kG(){return OS||(OS=1,IG(),RG(),EG()),IS}var zS={},BS;function OG(){if(BS)return zS;BS=1;var e=_e,t=W,r=Ie,a=fe,i=Be,n=Le,s=n.parsePercent,c={path:null,compoundPath:null,group:a.Group,image:a.Image,text:a.Text};e.registerPreprocessor(function(p){var y=p.graphic;t.isArray(y)?!y[0]||!y[0].elements?p.graphic=[{elements:y}]:p.graphic=[p.graphic[0]]:y&&!y.elements&&(p.graphic=[{elements:[y]}])});var o=e.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(p){var y=this.option.elements;this.option.elements=null,o.superApply(this,"mergeOption",arguments),this.option.elements=y},optionUpdated:function(p,y){var _=this.option,w=(y?_:p).elements,S=_.elements=y?[]:_.elements,A=[];this._flatten(w,A);var x=r.mappingToExists(S,A);r.makeIdAndName(x);var b=this._elOptionsToUpdate=[];t.each(x,function(M,C){var D=M.option;D&&(b.push(D),d(M,D),f(S,C,D),m(S[C],D))},this);for(var T=S.length-1;T>=0;T--)S[T]==null?S.splice(T,1):delete S[T].$action},_flatten:function(p,y,_){t.each(p,function(w){if(w){_&&(w.parentOption=_),y.push(w);var S=w.children;w.type==="group"&&S&&this._flatten(S,y,w),delete w.children}},this)},useElOptionsToUpdate:function(){var p=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,p}});e.extendComponentView({type:"graphic",init:function(p,y){this._elMap=t.createHashMap(),this._lastGraphicModel},render:function(p,y,_){p!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=p,this._updateElements(p),this._relocate(p,_)},_updateElements:function(p){var y=p.useElOptionsToUpdate();if(y){var _=this._elMap,w=this.group;t.each(y,function(S){var A=S.$action,x=S.id,b=_.get(x),T=S.parentId,M=T!=null?_.get(T):w,C=S.style;S.type==="text"&&C&&(S.hv&&S.hv[1]&&(C.textVerticalAlign=C.textBaseline=null),!C.hasOwnProperty("textFill")&&C.fill&&(C.textFill=C.fill),!C.hasOwnProperty("textStroke")&&C.stroke&&(C.textStroke=C.stroke));var D=h(S);!A||A==="merge"?b?b.attr(D):u(x,M,D,_):A==="replace"?(v(b,_),u(x,M,D,_)):A==="remove"&&v(b,_);var L=_.get(x);L&&(L.__ecGraphicWidthOption=S.width,L.__ecGraphicHeightOption=S.height,g(L,p))})}},_relocate:function(p,y){for(var _=p.option.elements,w=this.group,S=this._elMap,A=y.getWidth(),x=y.getHeight(),b=0;b<_.length;b++){var T=_[b],M=S.get(T.id);if(!(!M||!M.isGroup)){var C=M.parent,D=C===w;M.__ecGraphicWidth=s(M.__ecGraphicWidthOption,D?A:C.__ecGraphicWidth)||0,M.__ecGraphicHeight=s(M.__ecGraphicHeightOption,D?x:C.__ecGraphicHeight)||0}}for(var b=_.length-1;b>=0;b--){var T=_[b],M=S.get(T.id);if(M){var C=M.parent,L=C===w?{width:A,height:x}:{width:C.__ecGraphicWidth,height:C.__ecGraphicHeight};i.positionElement(M,T,L,null,{hv:T.hv,boundingMode:T.bounding})}}},_clear:function(){var p=this._elMap;p.each(function(y){v(y,p)}),this._elMap=t.createHashMap()},dispose:function(){this._clear()}});function u(p,y,_,w){var S=_.type,A=c.hasOwnProperty(S)?c[S]:a.getShapeClass(S),x=new A(_);y.add(x),w.set(p,x),x.__ecGraphicId=p}function v(p,y){var _=p&&p.parent;_&&(p.type==="group"&&p.traverse(function(w){v(w,y)}),y.removeKey(p.__ecGraphicId),_.remove(p))}function h(p){return p=t.extend({},p),t.each(["id","parentId","$action","hv","bounding"].concat(i.LOCATION_PARAMS),function(y){delete p[y]}),p}function l(p,y){var _;return t.each(y,function(w){p[w]!=null&&p[w]!=="auto"&&(_=!0)}),_}function d(p,y){var _=p.exist;if(y.id=p.keyInfo.id,!y.type&&_&&(y.type=_.type),y.parentId==null){var w=y.parentOption;w?y.parentId=w.id:_&&(y.parentId=_.parentId)}y.parentOption=null}function f(p,y,_){var w=t.extend({},_),S=p[y],A=_.$action||"merge";A==="merge"?S?(t.merge(S,w,!0),i.mergeLayoutParam(S,w,{ignoreSize:!0}),i.copyLayoutParams(_,S)):p[y]=w:A==="replace"?p[y]=w:A==="remove"&&S&&(p[y]=null)}function m(p,y){p&&(p.hv=y.hv=[l(y,["left","right"]),l(y,["top","bottom"])],p.type==="group"&&(p.width==null&&(p.width=y.width=0),p.height==null&&(p.height=y.height=0)))}function g(p,y,_){var w=p.eventData;!p.silent&&!p.ignore&&!w&&(w=p.eventData={componentType:"graphic",componentIndex:y.componentIndex,name:p.name}),w&&(w.info=p.info)}return zS}var NS={},po={},VS;function aa(){if(VS)return po;VS=1;var e={};function t(a,i){e[a]=i}function r(a){return e[a]}return po.register=t,po.get=r,po}var ic,HS;function zG(){if(HS)return ic;HS=1;var e=_e,t=W,r=aa(),a=e.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){a.superApply(this,"optionUpdated",arguments),t.each(this.option.feature,function(n,s){var c=r.get(s);c&&t.merge(n,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),i=a;return ic=i,ic}var mo={},qS;function KM(){if(qS)return mo;qS=1;var e=Be,t=e.getLayoutRect,r=e.box,a=e.positionElement,i=Ne,n=fe;function s(o,u,v){var h=u.getBoxLayoutParams(),l=u.get("padding"),d={width:v.getWidth(),height:v.getHeight()},f=t(h,d,l);r(u.get("orient"),o,u.get("itemGap"),f.width,f.height),a(o,h,d,l)}function c(l,u){var v=i.normalizeCssArray(u.get("padding")),h=u.getItemStyle(["color","opacity"]);h.fill=u.get("backgroundColor");var l=new n.Rect({shape:{x:l.x-v[3],y:l.y-v[0],width:l.width+v[1]+v[3],height:l.height+v[0]+v[2],r:u.get("borderRadius")},style:h,silent:!0,z2:-1});return l}return mo.layout=s,mo.makeBackground=c,mo}var nc,GS;function BG(){if(GS)return nc;GS=1;var e=_e,t=W,r=Ue,a=aa(),i=fe,n=ot,s=wa(),c=KM(),o=e.extendComponentView({type:"toolbox",render:function(v,h,l,d){var f=this.group;if(f.removeAll(),!v.get("show"))return;var m=+v.get("itemSize"),g=v.get("feature")||{},p=this._features||(this._features={}),y=[];t.each(g,function(S,A){y.push(A)}),new s(this._featureNames||[],y).add(_).update(_).remove(t.curry(_,null)).execute(),this._featureNames=y;function _(S,A){var x=y[S],b=y[A],T=g[x],M=new n(T,v,v.ecModel),C;if(d&&d.newTitle!=null&&d.featureName===x&&(T.title=d.newTitle),x&&!b){if(u(x))C={model:M,onclick:M.option.onclick,featureName:x};else{var D=a.get(x);if(!D)return;C=new D(M,h,l)}p[x]=C}else{if(C=p[b],!C)return;C.model=M,C.ecModel=h,C.api=l}if(!x&&b){C.dispose&&C.dispose(h,l);return}if(!M.get("show")||C.unusable){C.remove&&C.remove(h,l);return}w(M,C,x),M.setIconStatus=function(L,P){var I=this.option,E=this.iconPaths;I.iconStatus=I.iconStatus||{},I.iconStatus[L]=P,E[L]&&E[L].trigger(P)},C.render&&C.render(M,h,l,d)}function w(S,A,x){var b=S.getModel("iconStyle"),T=S.getModel("emphasis.iconStyle"),M=A.getIcons?A.getIcons():S.get("icon"),C=S.get("title")||{};if(typeof M=="string"){var D=M,L=C;M={},C={},M[x]=D,C[x]=L}var P=S.iconPaths={};t.each(M,function(I,E){var O=i.createIcon(I,{},{x:-m/2,y:-m/2,width:m,height:m});O.setStyle(b.getItemStyle()),O.hoverStyle=T.getItemStyle(),O.setStyle({text:C[E],textAlign:T.get("textAlign"),textBorderRadius:T.get("textBorderRadius"),textPadding:T.get("textPadding"),textFill:null});var B=v.getModel("tooltip");B&&B.get("show")&&O.attr("tooltip",t.extend({content:C[E],formatter:B.get("formatter",!0)||function(){return C[E]},formatterParams:{componentType:"toolbox",name:E,title:C[E],$vars:["name","title"]},position:B.get("position",!0)||"bottom"},B.option)),i.setHoverStyle(O),v.get("showTitle")&&(O.__title=C[E],O.on("mouseover",function(){var q=T.getItemStyle(),V=v.get("orient")==="vertical"?v.get("right")==null?"right":"left":v.get("bottom")==null?"bottom":"top";O.setStyle({textFill:T.get("textFill")||q.fill||q.stroke||"#000",textBackgroundColor:T.get("textBackgroundColor"),textPosition:T.get("textPosition")||V})}).on("mouseout",function(){O.setStyle({textFill:null,textBackgroundColor:null})})),O.trigger(S.get("iconStatus."+E)||"normal"),f.add(O),O.on("click",t.bind(A.onclick,A,h,l,E)),P[E]=O})}c.layout(f,v,l),f.add(c.makeBackground(f.getBoundingRect(),v)),f.eachChild(function(S){var A=S.__title,x=S.hoverStyle;if(x&&A){var b=r.getBoundingRect(A,r.makeFont(x)),T=S.position[0]+f.position[0],M=S.position[1]+f.position[1]+m,C=!1;M+b.height>l.getHeight()&&(x.textPosition="top",C=!0);var D=C?-5-b.height:m+8;T+b.width/2>l.getWidth()?(x.textPosition=["100%",D],x.textAlign="right"):T-b.width/2<0&&(x.textPosition=[0,D],x.textAlign="left")}})},updateView:function(v,h,l,d){t.each(this._features,function(f){f.updateView&&f.updateView(f.model,h,l,d)})},remove:function(v,h){t.each(this._features,function(l){l.remove&&l.remove(v,h)}),this.group.removeAll()},dispose:function(v,h){t.each(this._features,function(l){l.dispose&&l.dispose(v,h)})}});function u(v){return v.indexOf("my")===0}return nc=o,nc}var oc,FS;function NG(){if(FS)return oc;FS=1;var e=nt,t=ea,r=aa(),a=t.toolbox.saveAsImage;function i(c){this.model=c}i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:a.lang.slice()},i.prototype.unusable=!e.canvasSupported;var n=i.prototype;n.onclick=function(c,o){var u=this.model,v=u.get("name")||c.get("title.0.text")||"echarts",h=o.getZr().painter.getType()==="svg",l=h?"svg":u.get("type",!0)||"png",d=o.getConnectedDataURL({type:l,backgroundColor:u.get("backgroundColor",!0)||c.get("backgroundColor")||"#fff",connectedBackgroundColor:u.get("connectedBackgroundColor"),excludeComponents:u.get("excludeComponents"),pixelRatio:u.get("pixelRatio")});if(typeof MouseEvent=="function"&&!e.browser.ie&&!e.browser.edge){var f=document.createElement("a");f.download=v+"."+l,f.target="_blank",f.href=d;var m=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});f.dispatchEvent(m)}else if(window.navigator.msSaveOrOpenBlob){for(var g=atob(d.split(",")[1]),p=g.length,y=new Uint8Array(p);p--;)y[p]=g.charCodeAt(p);var _=new Blob([y]);window.navigator.msSaveOrOpenBlob(_,v+"."+l)}else{var w=u.get("lang"),S='<body style="margin:0;"><img src="'+d+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',A=window.open();A.document.write(S)}},r.register("saveAsImage",i);var s=i;return oc=s,oc}var sc,$S;function VG(){if($S)return sc;$S=1;var e=_e,t=W,r=ea,a=aa(),i=r.toolbox.magicType,n="__ec_magicType_stack__";function s(h){this.model=h}s.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.clone(i.title),option:{},seriesIndex:{}};var c=s.prototype;c.getIcons=function(){var h=this.model,l=h.get("icon"),d={};return t.each(h.get("type"),function(f){l[f]&&(d[f]=l[f])}),d};var o={line:function(h,l,d,f){if(h==="bar")return t.merge({id:l,type:"line",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},f.get("option.line")||{},!0)},bar:function(h,l,d,f){if(h==="line")return t.merge({id:l,type:"bar",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},f.get("option.bar")||{},!0)},stack:function(h,l,d,f){var m=d.get("stack")===n;if(h==="line"||h==="bar")return f.setIconStatus("stack",m?"normal":"emphasis"),t.merge({id:l,stack:m?"":n},f.get("option.stack")||{},!0)}},u=[["line","bar"],["stack"]];c.onclick=function(h,l,d){var f=this.model,m=f.get("seriesIndex."+d);if(o[d]){var g={series:[]},p=function(w){var S=w.subType,A=w.id,x=o[d](S,A,w,f);x&&(t.defaults(x,w.option),g.series.push(x));var b=w.coordinateSystem;if(b&&b.type==="cartesian2d"&&(d==="line"||d==="bar")){var T=b.getAxesByScale("ordinal")[0];if(T){var M=T.dim,C=M+"Axis",D=h.queryComponents({mainType:C,index:w.get(name+"Index"),id:w.get(name+"Id")})[0],L=D.componentIndex;g[C]=g[C]||[];for(var P=0;P<=L;P++)g[C][L]=g[C][L]||{};g[C][L].boundaryGap=d==="bar"}}};t.each(u,function(w){t.indexOf(w,d)>=0&&t.each(w,function(S){f.setIconStatus(S,"normal")})}),f.setIconStatus(d,"emphasis"),h.eachComponent({mainType:"series",query:m==null?null:{seriesIndex:m}},p);var y;if(d==="stack"){var _=g.series&&g.series[0]&&g.series[0].stack===n;y=_?t.merge({stack:i.title.tiled},i.title):t.clone(i.title)}l.dispatchAction({type:"changeMagicType",currentType:d,newOption:g,newTitle:y,featureName:"magicType"})}},e.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(h,l){l.mergeOption(h.newOption)}),a.register("magicType",s);var v=s;return sc=v,sc}var lc,US;function HG(){if(US)return lc;US=1;var e=_e,t=W,r=vt,a=ea,i=aa(),n=a.toolbox.dataView,s=new Array(60).join("-"),c="	";function o(S){var A={},x=[],b=[];return S.eachRawSeries(function(T){var M=T.coordinateSystem;if(M&&(M.type==="cartesian2d"||M.type==="polar")){var C=M.getBaseAxis();if(C.type==="category"){var D=C.dim+"_"+C.index;A[D]||(A[D]={categoryAxis:C,valueAxis:M.getOtherAxis(C),series:[]},b.push({axisDim:C.dim,axisIndex:C.index})),A[D].series.push(T)}else x.push(T)}else x.push(T)}),{seriesGroupByCategoryAxis:A,other:x,meta:b}}function u(S){var A=[];return t.each(S,function(x,b){var T=x.categoryAxis,M=x.valueAxis,C=M.dim,D=[" "].concat(t.map(x.series,function(B){return B.name})),L=[T.model.getCategories()];t.each(x.series,function(B){L.push(B.getRawData().mapArray(C,function(q){return q}))});for(var P=[D.join(c)],I=0;I<L[0].length;I++){for(var E=[],O=0;O<L.length;O++)E.push(L[O][I]);P.push(E.join(c))}A.push(P.join(`
`))}),A.join(`

`+s+`

`)}function v(S){return t.map(S,function(A){var x=A.getRawData(),b=[A.name],T=[];return x.each(x.dimensions,function(){for(var M=arguments.length,C=arguments[M-1],D=x.getName(C),L=0;L<M-1;L++)T[L]=arguments[L];b.push((D?D+c:"")+T.join(c))}),b.join(`
`)}).join(`

`+s+`

`)}function h(S){var A=o(S);return{value:t.filter([u(A.seriesGroupByCategoryAxis),v(A.other)],function(x){return x.replace(/[\n\t\s]/g,"")}).join(`

`+s+`

`),meta:A.meta}}function l(S){return S.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function d(S){var A=S.slice(0,S.indexOf(`
`));if(A.indexOf(c)>=0)return!0}var f=new RegExp("["+c+"]+","g");function m(S){for(var A=S.split(/\n+/g),x=l(A.shift()).split(f),b=[],T=t.map(x,function(L){return{name:L,data:[]}}),M=0;M<A.length;M++){var C=l(A[M]).split(f);b.push(C.shift());for(var D=0;D<C.length;D++)T[D]&&(T[D].data[M]=C[D])}return{series:T,categories:b}}function g(S){for(var A=S.split(/\n+/g),x=l(A.shift()),b=[],T=0;T<A.length;T++){var M=l(A[T]).split(f),C="",D,L=!1;isNaN(M[0])?(L=!0,C=M[0],M=M.slice(1),b[T]={name:C,value:[]},D=b[T].value):D=b[T]=[];for(var P=0;P<M.length;P++)D.push(+M[P]);D.length===1&&(L?b[T].value=D[0]:b[T]=D[0])}return{name:x,data:b}}function p(S,A){var x=S.split(new RegExp(`
*`+s+`
*`,"g")),b={series:[]};return t.each(x,function(T,M){if(d(T)){var C=m(T),D=A[M],L=D.axisDim+"Axis";D&&(b[L]=b[L]||[],b[L][D.axisIndex]={data:C.categories},b.series=b.series.concat(C.series))}else{var C=g(T);b.series.push(C)}}),b}function y(S){this._dom=null,this.model=S}y.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.clone(n.title),lang:t.clone(n.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},y.prototype.onclick=function(S,A){var x=A.getDom(),b=this.model;this._dom&&x.removeChild(this._dom);var T=document.createElement("div");T.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",T.style.backgroundColor=b.get("backgroundColor")||"#fff";var M=document.createElement("h4"),C=b.get("lang")||[];M.innerHTML=C[0]||b.get("title"),M.style.cssText="margin: 10px 20px;",M.style.color=b.get("textColor");var D=document.createElement("div"),L=document.createElement("textarea");D.style.cssText="display:block;width:100%;overflow:auto;";var P=b.get("optionToContent"),I=b.get("contentToOption"),E=h(S);if(typeof P=="function"){var O=P(A.getOption());typeof O=="string"?D.innerHTML=O:t.isDom(O)&&D.appendChild(O)}else D.appendChild(L),L.readOnly=b.get("readOnly"),L.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",L.style.color=b.get("textColor"),L.style.borderColor=b.get("textareaBorderColor"),L.style.backgroundColor=b.get("textareaColor"),L.value=E.value;var B=E.meta,q=document.createElement("div");q.style.cssText="position:absolute;bottom:0;left:0;right:0;";var V="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",R=document.createElement("div"),z=document.createElement("div");V+=";background-color:"+b.get("buttonColor"),V+=";color:"+b.get("buttonTextColor");var k=this;function N(){x.removeChild(T),k._dom=null}r.addEventListener(R,"click",N),r.addEventListener(z,"click",function(){var G;try{typeof I=="function"?G=I(D,A.getOption()):G=p(L.value,B)}catch(H){throw N(),new Error("Data view format error "+H)}G&&A.dispatchAction({type:"changeDataView",newOption:G}),N()}),R.innerHTML=C[1],z.innerHTML=C[2],z.style.cssText=V,R.style.cssText=V,!b.get("readOnly")&&q.appendChild(z),q.appendChild(R),T.appendChild(M),T.appendChild(D),T.appendChild(q),D.style.height=x.clientHeight-80+"px",x.appendChild(T),this._dom=T},y.prototype.remove=function(S,A){this._dom&&A.getDom().removeChild(this._dom)},y.prototype.dispose=function(S,A){this.remove(S,A)};function _(S,A){return t.map(S,function(x,b){var T=A&&A[b];return t.isObject(T)&&!t.isArray(T)?(t.isObject(x)&&!t.isArray(x)&&(x=x.value),t.defaults({value:x},T)):x})}i.register("dataView",y),e.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(S,A){var x=[];t.each(S.newOption.series,function(b){var T=A.getSeriesByName(b.name)[0];if(!T)x.push(t.extend({type:"scatter"},b));else{var M=T.get("data");x.push({name:b.name,data:_(b.data,M)})}}),A.mergeOption(t.defaults({series:x},S.newOption))});var w=y;return lc=w,lc}var uc,WS;function QM(){if(WS)return uc;WS=1;var e=W,t=fe,r=Ie,a=VM(),i=e.each,n=e.indexOf,s=e.curry,c=["dataToPoint","pointToData"],o=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function u(x,b,T){var M=this._targetInfoList=[],C={},D=l(b,x);i(d,function(L,P){(!T||!T.include||n(T.include,P)>=0)&&L(D,M,C)})}var v=u.prototype;v.setOutputRanges=function(x,b){this.matchOutputRanges(x,b,function(T,M,C){if((T.coordRanges||(T.coordRanges=[])).push(M),!T.coordRange){T.coordRange=M;var D=g[T.brushType](0,C,M);T.__rangeOffset={offset:y[T.brushType](D.values,T.range,[1,1]),xyMinMax:D.xyMinMax}}})},v.matchOutputRanges=function(x,b,T){i(x,function(M){var C=this.findTargetInfo(M,b);C&&C!==!0&&e.each(C.coordSyses,function(D){var L=g[M.brushType](1,D,M.range);T(M,L.values,D,b)})},this)},v.setInputRanges=function(x,b){i(x,function(T){var M=this.findTargetInfo(T,b);if(T.range=T.range||[],M&&M!==!0){T.panelId=M.panelId;var C=g[T.brushType](0,M.coordSys,T.coordRange),D=T.__rangeOffset;T.range=D?y[T.brushType](C.values,D.offset,w(C.xyMinMax,D.xyMinMax)):C.values}},this)},v.makePanelOpts=function(x,b){return e.map(this._targetInfoList,function(T){var M=T.getPanelRect();return{panelId:T.panelId,defaultBrushType:b&&b(T),clipPath:a.makeRectPanelClipPath(M),isTargetByCursor:a.makeRectIsTargetByCursor(M,x,T.coordSysModel),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(M)}})},v.controlSeries=function(x,b,T){var M=this.findTargetInfo(x,T);return M===!0||M&&n(M.coordSyses,b.coordinateSystem)>=0},v.findTargetInfo=function(x,b){for(var T=this._targetInfoList,M=l(b,x),C=0;C<T.length;C++){var D=T[C],L=x.panelId;if(L){if(D.panelId===L)return D}else for(var C=0;C<f.length;C++)if(f[C](M,D))return D}return!0};function h(x){return x[0]>x[1]&&x.reverse(),x}function l(x,b){return r.parseFinder(x,b,{includeMainTypes:o})}var d={grid:function(x,b){var T=x.xAxisModels,M=x.yAxisModels,C=x.gridModels,D=e.createHashMap(),L={},P={};!T&&!M&&!C||(i(T,function(I){var E=I.axis.grid.model;D.set(E.id,E),L[E.id]=!0}),i(M,function(I){var E=I.axis.grid.model;D.set(E.id,E),P[E.id]=!0}),i(C,function(I){D.set(I.id,I),L[I.id]=!0,P[I.id]=!0}),D.each(function(I){var E=I.coordinateSystem,O=[];i(E.getCartesians(),function(B,q){(n(T,B.getAxis("x").model)>=0||n(M,B.getAxis("y").model)>=0)&&O.push(B)}),b.push({panelId:"grid--"+I.id,gridModel:I,coordSysModel:I,coordSys:O[0],coordSyses:O,getPanelRect:m.grid,xAxisDeclared:L[I.id],yAxisDeclared:P[I.id]})}))},geo:function(x,b){i(x.geoModels,function(T){var M=T.coordinateSystem;b.push({panelId:"geo--"+T.id,geoModel:T,coordSysModel:T,coordSys:M,coordSyses:[M],getPanelRect:m.geo})})}},f=[function(x,b){var T=x.xAxisModel,M=x.yAxisModel,C=x.gridModel;return!C&&T&&(C=T.axis.grid.model),!C&&M&&(C=M.axis.grid.model),C&&C===b.gridModel},function(x,b){var T=x.geoModel;return T&&T===b.geoModel}],m={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var x=this.coordSys,b=x.getBoundingRect().clone();return b.applyTransform(t.getTransform(x)),b}},g={lineX:s(p,0),lineY:s(p,1),rect:function(x,b,T){var M=b[c[x]]([T[0][0],T[1][0]]),C=b[c[x]]([T[0][1],T[1][1]]),D=[h([M[0],C[0]]),h([M[1],C[1]])];return{values:D,xyMinMax:D}},polygon:function(x,b,T){var M=[[1/0,-1/0],[1/0,-1/0]],C=e.map(T,function(D){var L=b[c[x]](D);return M[0][0]=Math.min(M[0][0],L[0]),M[1][0]=Math.min(M[1][0],L[1]),M[0][1]=Math.max(M[0][1],L[0]),M[1][1]=Math.max(M[1][1],L[1]),L});return{values:C,xyMinMax:M}}};function p(x,b,T,M){var C=T.getAxis(["x","y"][x]),D=h(e.map([0,1],function(P){return b?C.coordToData(C.toLocalCoord(M[P])):C.toGlobalCoord(C.dataToCoord(M[P]))})),L=[];return L[x]=D,L[1-x]=[NaN,NaN],{values:D,xyMinMax:L}}var y={lineX:s(_,0),lineY:s(_,1),rect:function(x,b,T){return[[x[0][0]-T[0]*b[0][0],x[0][1]-T[0]*b[0][1]],[x[1][0]-T[1]*b[1][0],x[1][1]-T[1]*b[1][1]]]},polygon:function(x,b,T){return e.map(x,function(M,C){return[M[0]-T[0]*b[C][0],M[1]-T[1]*b[C][1]]})}};function _(x,b,T,M){return[b[0]-M[x]*T[0],b[1]-M[x]*T[1]]}function w(x,b){var T=S(x),M=S(b),C=[T[0]/M[0],T[1]/M[1]];return isNaN(C[0])&&(C[0]=1),isNaN(C[1])&&(C[1]=1),C}function S(x){return x?[x[0][1]-x[0][0],x[1][1]-x[1][0]]:[NaN,NaN]}var A=u;return uc=A,uc}var Va={},ZS;function jM(){if(ZS)return Va;ZS=1;var e=W,t=e.each,r="\0_ec_hist_store";function a(o,u){var v=c(o);t(u,function(h,l){for(var d=v.length-1;d>=0;d--){var f=v[d];if(f[l])break}if(d<0){var m=o.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(m){var g=m.getPercentRange();v[0][l]={dataZoomId:l,start:g[0],end:g[1]}}}}),v.push(u)}function i(o){var u=c(o),v=u[u.length-1];u.length>1&&u.pop();var h={};return t(v,function(l,d){for(var f=u.length-1;f>=0;f--){var l=u[f][d];if(l){h[d]=l;break}}}),h}function n(o){o[r]=null}function s(o){return c(o).length}function c(o){var u=o[r];return u||(u=o[r]=[{}]),u}return Va.push=a,Va.pop=i,Va.clear=n,Va.count=s,Va}var YS={},XS={},KS;function Sg(){if(KS)return XS;KS=1;var e=ht;return e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}),XS}var Ha={},QS;function bg(){if(QS)return Ha;QS=1;var e=W,t=Ne,r=["x","y","z","radius","angle","single"],a=["cartesian2d","polar","singleAxis"];function i(o){return e.indexOf(a,o)>=0}function n(o,u){o=o.slice();var v=e.map(o,t.capitalFirst);u=(u||[]).slice();var h=e.map(u,t.capitalFirst);return function(l,d){e.each(o,function(f,m){for(var g={name:f,capital:v[m]},p=0;p<u.length;p++)g[u[p]]=f+h[p];l.call(d,g)})}}var s=n(r,["axisIndex","axis","index","id"]);function c(o,u,v){return function(f){var m={nodes:[],records:{}};if(u(function(y){m.records[y.name]={}}),!f)return m;d(f,m);var g;do g=!1,o(p);while(g);function p(y){!h(y,m)&&l(y,m)&&(d(y,m),g=!0)}return m};function h(f,m){return e.indexOf(m.nodes,f)>=0}function l(f,m){var g=!1;return u(function(p){e.each(v(f,p)||[],function(y){m.records[p.name][y]&&(g=!0)})}),g}function d(f,m){m.nodes.push(f),u(function(g){e.each(v(f,g)||[],function(p){m.records[g.name][p]=!0})})}}return Ha.isCoordSupported=i,Ha.createNameEach=n,Ha.eachAxisDim=s,Ha.createLinkedNodesFinder=c,Ha}var vc,jS;function qG(){if(jS)return vc;jS=1;var e=W,t=Le,r=bg(),a=xi(),i=e.each,n=t.asc,s=function(l,d,f,m){this._dimName=l,this._axisIndex=d,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=m,this._dataZoomModel=f};s.prototype={constructor:s,hostedBy:function(l){return this._dataZoomModel===l},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var l=[],d=this.ecModel;return d.eachSeries(function(f){if(r.isCoordSupported(f.get("coordinateSystem"))){var m=this._dimName,g=d.queryComponents({mainType:m+"Axis",index:f.get(m+"AxisIndex"),id:f.get(m+"AxisId")})[0];this._axisIndex===(g&&g.componentIndex)&&l.push(f)}},this),l},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var l=this._dimName,d=this.ecModel,f=this.getAxisModel(),m=l==="x"||l==="y",g,p;m?(p="gridIndex",g=l==="x"?"y":"x"):(p="polarIndex",g=l==="angle"?"radius":"angle");var y;return d.eachComponent(g+"Axis",function(_){(_.get(p)||0)===(f.get(p)||0)&&(y=_)}),y},getMinMaxSpan:function(){return e.clone(this._minMaxSpan)},calculateDataWindow:function(l){var d=this._dataExtent,f=this.getAxisModel(),m=f.axis.scale,g=this._dataZoomModel.getRangePropMode(),p=[0,100],y=[],_=[],w;i(["start","end"],function(x,b){var T=l[x],M=l[x+"Value"];g[b]==="percent"?(T==null&&(T=p[b]),M=m.parse(t.linearMap(T,p,d))):(w=!0,M=M==null?d[b]:m.parse(M),T=t.linearMap(M,d,p)),_[b]=M,y[b]=T}),n(_),n(y);var S=this._minMaxSpan;w?A(_,y,d,p,!1):A(y,_,p,d,!0);function A(x,b,T,M,C){var D=C?"Span":"ValueSpan";a(0,x,T,"all",S["min"+D],S["max"+D]);for(var L=0;L<2;L++)b[L]=t.linearMap(x[L],T,M,!0),C&&(b[L]=m.parse(b[L]))}return{valueWindow:_,percentWindow:y}},reset:function(l){if(l===this._dataZoomModel){var d=this.getTargetSeriesModels();this._dataExtent=c(this,this._dimName,d),v(this);var f=this.calculateDataWindow(l.settledOption);this._valueWindow=f.valueWindow,this._percentWindow=f.percentWindow,u(this)}},restore:function(l){l===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,u(this,!0))},filterData:function(l,d){if(l!==this._dataZoomModel)return;var f=this._dimName,m=this.getTargetSeriesModels(),g=l.get("filterMode"),p=this._valueWindow;if(g==="none")return;i(m,function(_){var w=_.getData(),S=w.mapDimension(f,!0);S.length&&(g==="weakFilter"?w.filterSelf(function(A){for(var x,b,T,M=0;M<S.length;M++){var C=w.get(S[M],A),D=!isNaN(C),L=C<p[0],P=C>p[1];if(D&&!L&&!P)return!0;D&&(T=!0),L&&(x=!0),P&&(b=!0)}return T&&x&&b}):i(S,function(A){if(g==="empty")_.setData(w=w.map(A,function(b){return y(b)?b:NaN}));else{var x={};x[A]=p,w.selectRange(x)}}),i(S,function(A){w.setApproximateExtent(p,A)}))});function y(_){return _>=p[0]&&_<=p[1]}}};function c(l,d,f){var m=[1/0,-1/0];return i(f,function(g){var p=g.getData();p&&i(p.mapDimension(d,!0),function(y){var _=p.getApproximateExtent(y);_[0]<m[0]&&(m[0]=_[0]),_[1]>m[1]&&(m[1]=_[1])})}),m[1]<m[0]&&(m=[NaN,NaN]),o(l,m),m}function o(l,d){var f=l.getAxisModel(),m=f.getMin(!0),g=f.get("type")==="category",p=g&&f.getCategories().length;m!=null&&m!=="dataMin"&&typeof m!="function"?d[0]=m:g&&(d[0]=p>0?0:NaN);var y=f.getMax(!0);return y!=null&&y!=="dataMax"&&typeof y!="function"?d[1]=y:g&&(d[1]=p>0?p-1:NaN),f.get("scale",!0)||(d[0]>0&&(d[0]=0),d[1]<0&&(d[1]=0)),d}function u(l,d){var f=l.getAxisModel(),m=l._percentWindow,g=l._valueWindow;if(m){var p=t.getPixelPrecision(g,[0,500]);p=Math.min(p,20);var y=d||m[0]===0&&m[1]===100;f.setRange(y?null:+g[0].toFixed(p),y?null:+g[1].toFixed(p))}}function v(l){var d=l._minMaxSpan={},f=l._dataZoomModel,m=l._dataExtent;i(["min","max"],function(g){var p=f.get(g+"Span"),y=f.get(g+"ValueSpan");y!=null&&(y=l.getAxisModel().axis.scale.parse(y)),y!=null?p=t.linearMap(m[0]+y,m,[0,100],!0):p!=null&&(y=t.linearMap(p,[0,100],m,!0)-m[0]),d[g+"Span"]=p,d[g+"ValueSpan"]=y})}var h=s;return vc=h,vc}var hc,JS;function Si(){if(JS)return hc;JS=1;var e=_e,t=W,r=nt,a=Ie,i=bg(),n=qG(),s=t.each,c=i.eachAxisDim,o=e.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(l,d,f){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var m=u(l);this.settledOption=m,this.mergeDefaultAndTheme(l,f),this.doInit(m)},mergeOption:function(l){var d=u(l);t.merge(this.option,l,!0),t.merge(this.settledOption,d,!0),this.doInit(d)},doInit:function(l){var d=this.option;r.canvasSupported||(d.realtime=!1),this._setDefaultThrottle(l),v(this,l);var f=this.settledOption;s([["start","startValue"],["end","endValue"]],function(m,g){this._rangePropMode[g]==="value"&&(d[m[0]]=f[m[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var l=this._axisProxies;this.eachTargetAxis(function(d,f,m,g){var p=this.dependentModels[d.axis][f],y=p.__dzAxisProxy||(p.__dzAxisProxy=new n(d.name,f,this,g));l[d.name+"_"+f]=y},this)},_resetTarget:function(){var l=this.option,d=this._judgeAutoMode();c(function(f){var m=f.axisIndex;l[m]=a.normalizeToArray(l[m])},this),d==="axisIndex"?this._autoSetAxisIndex():d==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var l=this.option,d=!1;c(function(m){l[m.axisIndex]!=null&&(d=!0)},this);var f=l.orient;if(f==null&&d)return"orient";if(!d)return f==null&&(l.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var l=!0,d=this.get("orient",!0),f=this.option,m=this.dependentModels;if(l){var g=d==="vertical"?"y":"x";m[g+"Axis"].length?(f[g+"AxisIndex"]=[0],l=!1):s(m.singleAxis,function(p){l&&p.get("orient",!0)===d&&(f.singleAxisIndex=[p.componentIndex],l=!1)})}l&&c(function(p){if(l){var y=[],_=this.dependentModels[p.axis];if(_.length&&!y.length)for(var w=0,S=_.length;w<S;w++)_[w].get("type")==="category"&&y.push(w);f[p.axisIndex]=y,y.length&&(l=!1)}},this),l&&this.ecModel.eachSeries(function(p){this._isSeriesHasAllAxesTypeOf(p,"value")&&c(function(y){var _=f[y.axisIndex],w=p.get(y.axisIndex),S=p.get(y.axisId),A=p.ecModel.queryComponents({mainType:y.axis,index:w,id:S})[0];w=A.componentIndex,t.indexOf(_,w)<0&&_.push(w)})},this)},_autoSetOrient:function(){var l;this.eachTargetAxis(function(d){!l&&(l=d.name)},this),this.option.orient=l==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(l,d){var f=!0;return c(function(m){var g=l.get(m.axisIndex),p=this.dependentModels[m.axis][g];(!p||p.get("type")!==d)&&(f=!1)},this),f},_setDefaultThrottle:function(l){if(l.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var d=this.ecModel.option;this.option.throttle=d.animation&&d.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var l;return c(function(d){if(l==null){var f=this.get(d.axisIndex);f.length&&(l=this.dependentModels[d.axis][f[0]])}},this),l},eachTargetAxis:function(l,d){var f=this.ecModel;c(function(m){s(this.get(m.axisIndex),function(g){l.call(d,m,g,this,f)},this)},this)},getAxisProxy:function(l,d){return this._axisProxies[l+"_"+d]},getAxisModel:function(l,d){var f=this.getAxisProxy(l,d);return f&&f.getAxisModel()},setRawRange:function(l){var d=this.option,f=this.settledOption;s([["start","startValue"],["end","endValue"]],function(m){(l[m[0]]!=null||l[m[1]]!=null)&&(d[m[0]]=f[m[0]]=l[m[0]],d[m[1]]=f[m[1]]=l[m[1]])},this),v(this,l)},setCalculatedRange:function(l){var d=this.option;s(["start","startValue","end","endValue"],function(f){d[f]=l[f]})},getPercentRange:function(){var l=this.findRepresentativeAxisProxy();if(l)return l.getDataPercentWindow()},getValueRange:function(l,d){if(l==null&&d==null){var f=this.findRepresentativeAxisProxy();if(f)return f.getDataValueWindow()}else return this.getAxisProxy(l,d).getDataValueWindow()},findRepresentativeAxisProxy:function(l){if(l)return l.__dzAxisProxy;var d=this._axisProxies;for(var f in d)if(d.hasOwnProperty(f)&&d[f].hostedBy(this))return d[f];for(var f in d)if(d.hasOwnProperty(f)&&!d[f].hostedBy(this))return d[f]},getRangePropMode:function(){return this._rangePropMode.slice()}});function u(l){var d={};return s(["start","end","startValue","endValue","throttle"],function(f){l.hasOwnProperty(f)&&(d[f]=l[f])}),d}function v(l,d){var f=l._rangePropMode,m=l.get("rangeMode");s([["start","startValue"],["end","endValue"]],function(g,p){var y=d[g[0]]!=null,_=d[g[1]]!=null;y&&!_?f[p]="percent":!y&&_?f[p]="value":m?f[p]=m[p]:y&&(f[p]="percent")})}var h=o;return hc=h,hc}var cc,eb;function bi(){if(eb)return cc;eb=1;var e=hs,t=e.extend({type:"dataZoom",render:function(r,a,i,n){this.dataZoomModel=r,this.ecModel=a,this.api=i},getTargetCoordInfo:function(){var r=this.dataZoomModel,a=this.ecModel,i={};r.eachTargetAxis(function(s,c){var o=a.getComponent(s.axis,c);if(o){var u=o.getCoordSysModel();u&&n(u,o,i[u.mainType]||(i[u.mainType]=[]),u.componentIndex)}},this);function n(s,c,o,u){for(var v,h=0;h<o.length;h++)if(o[h].model===s){v=o[h];break}v||o.push(v={model:s,axisModels:[],coordIndex:u}),v.axisModels.push(c)}return i}});return cc=t,cc}var fc,tb;function GG(){if(tb)return fc;tb=1;var e=Si(),t=e.extend({type:"dataZoom.select"});return fc=t,fc}var dc,rb;function FG(){if(rb)return dc;rb=1;var e=bi(),t=e.extend({type:"dataZoom.select"});return dc=t,dc}var ab={},ib;function wg(){if(ib)return ab;ib=1;var e=_e,t=W,r=t.createHashMap,a=t.each;return e.registerProcessor({getTargetSeries:function(i){var n=r();return i.eachComponent("dataZoom",function(s){s.eachTargetAxis(function(c,o,u){var v=u.getAxisProxy(c.name,o);a(v.getTargetSeriesModels(),function(h){n.set(h.uid,h)})})}),n},modifyOutputEnd:!0,overallReset:function(i,n){i.eachComponent("dataZoom",function(s){s.eachTargetAxis(function(c,o,u){u.getAxisProxy(c.name,o).reset(u,n)}),s.eachTargetAxis(function(c,o,u){u.getAxisProxy(c.name,o).filterData(u,n)})}),i.eachComponent("dataZoom",function(s){var c=s.findRepresentativeAxisProxy(),o=c.getDataPercentWindow(),u=c.getDataValueWindow();s.setCalculatedRange({start:o[0],end:o[1],startValue:u[0],endValue:u[1]})})}}),ab}var nb={},ob;function Ag(){if(ob)return nb;ob=1;var e=_e,t=W,r=bg();return e.registerAction("dataZoom",function(a,i){var n=r.createLinkedNodesFinder(t.bind(i.eachComponent,i,"dataZoom"),r.eachAxisDim,function(c,o){return c.get(o.axisIndex)}),s=[];i.eachComponent({mainType:"dataZoom",query:a},function(c,o){s.push.apply(s,n(c).nodes)}),t.each(s,function(c,o){c.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})}),nb}var sb;function $G(){return sb||(sb=1,Sg(),Si(),bi(),GG(),FG(),wg(),Ag()),YS}var gc,lb;function UG(){if(lb)return gc;lb=1;var e=_e,t=W,r=yg(),a=QM(),i=jM(),n=xi(),s=ea,c=aa();$G();var o=s.toolbox.dataZoom,u=t.each,v="\0_ec_\0toolbox-dataZoom_";function h(y,_,w){(this._brushController=new r(w.getZr())).on("brush",t.bind(this._onBrush,this)).mount(),this._isZoomActive}h.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.clone(o.title)};var l=h.prototype;l.render=function(y,_,w,S){this.model=y,this.ecModel=_,this.api=w,g(y,_,this,S,w),m(y,_)},l.onclick=function(y,_,w){d[w].call(this)},l.remove=function(y,_){this._brushController.unmount()},l.dispose=function(y,_){this._brushController.dispose()};var d={zoom:function(){var y=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:y})},back:function(){this._dispatchZoomAction(i.pop(this.ecModel))}};l._onBrush=function(y,_){if(!_.isEnd||!y.length)return;var w={},S=this.ecModel;this._brushController.updateCovers([]);var A=new a(f(this.model.option),S,{include:["grid"]});A.matchOutputRanges(y,S,function(T,M,C){if(C.type==="cartesian2d"){var D=T.brushType;D==="rect"?(x("x",C,M[0]),x("y",C,M[1])):x({lineX:"x",lineY:"y"}[D],C,M)}}),i.push(S,w),this._dispatchZoomAction(w);function x(T,M,C){var D=M.getAxis(T),L=D.model,P=b(T,L,S),I=P.findRepresentativeAxisProxy(L).getMinMaxSpan();(I.minValueSpan!=null||I.maxValueSpan!=null)&&(C=n(0,C.slice(),D.scale.getExtent(),0,I.minValueSpan,I.maxValueSpan)),P&&(w[P.id]={dataZoomId:P.id,startValue:C[0],endValue:C[1]})}function b(T,M,C){var D;return C.eachComponent({mainType:"dataZoom",subType:"select"},function(L){var P=L.getAxisModel(T,M.componentIndex);P&&(D=L)}),D}},l._dispatchZoomAction=function(y){var _=[];u(y,function(w,S){_.push(t.clone(w))}),_.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:_})};function f(y){var _={};return t.each(["xAxisIndex","yAxisIndex"],function(w){_[w]=y[w],_[w]==null&&(_[w]="all"),(_[w]===!1||_[w]==="none")&&(_[w]=[])}),_}function m(y,_){y.setIconStatus("back",i.count(_)>1?"emphasis":"normal")}function g(y,_,w,S,A){var x=w._isZoomActive;S&&S.type==="takeGlobalCursor"&&(x=S.key==="dataZoomSelect"?S.dataZoomSelectActive:!1),w._isZoomActive=x,y.setIconStatus("zoom",x?"emphasis":"normal");var b=new a(f(y.option),_,{include:["grid"]});w._brushController.setPanels(b.makePanelOpts(A,function(T){return T.xAxisDeclared&&!T.yAxisDeclared?"lineX":!T.xAxisDeclared&&T.yAxisDeclared?"lineY":"rect"})).enableBrush(x?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}c.register("dataZoom",h),e.registerPreprocessor(function(y){if(!y)return;var _=y.dataZoom||(y.dataZoom=[]);t.isArray(_)||(y.dataZoom=_=[_]);var w=y.toolbox;if(w&&(t.isArray(w)&&(w=w[0]),w&&w.feature)){var S=w.feature.dataZoom;A("xAxis",S),A("yAxis",S)}function A(b,T){if(T){var M=b+"Index",C=T[M];C!=null&&C!=="all"&&!t.isArray(C)&&(C=C===!1||C==="none"?[]:[C]),x(b,function(D,L){if(!(C!=null&&C!=="all"&&t.indexOf(C,L)===-1)){var P={type:"select",$fromToolbox:!0,filterMode:T.filterMode||"filter",id:v+b+L};P[M]=L,_.push(P)}})}}function x(b,T){var M=y[b];t.isArray(M)||(M=M?[M]:[]),u(M,T)}});var p=h;return gc=p,gc}var pc,ub;function WG(){if(ub)return pc;ub=1;var e=_e,t=jM(),r=ea,a=aa(),i=r.toolbox.restore;function n(o){this.model=o}n.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:i.title};var s=n.prototype;s.onclick=function(o,u,v){t.clear(o),u.dispatchAction({type:"restore",from:this.uid})},a.register("restore",n),e.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(o,u){u.resetOption("recreate")});var c=n;return pc=c,pc}var vb;function ZG(){return vb||(vb=1,zG(),BG(),NG(),VG(),HG(),UG(),WG()),NS}var hb={},mc,cb;function YG(){if(cb)return mc;cb=1;var e=_e,t=e.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});return mc=t,mc}var yc,fb;function XG(){if(fb)return yc;fb=1;var e=W,t=lt,r=vt,a=un,i=nt,n=Ne,s=e.each,c=n.toCamelCase,o=["","-webkit-","-moz-","-o-"],u="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function v(g){var p="cubic-bezier(0.23, 1, 0.32, 1)",y="left "+g+"s "+p+",top "+g+"s "+p;return e.map(o,function(_){return _+"transition:"+y}).join(";")}function h(g){var p=[],y=g.get("fontSize"),_=g.getTextColor();return _&&p.push("color:"+_),p.push("font:"+g.getFont()),y&&p.push("line-height:"+Math.round(y*3/2)+"px"),s(["decoration","align"],function(w){var S=g.get(w);S&&p.push("text-"+w+":"+S)}),p.join(";")}function l(g){var p=[],y=g.get("transitionDuration"),_=g.get("backgroundColor"),w=g.getModel("textStyle"),S=g.get("padding");return y&&p.push(v(y)),_&&(i.canvasSupported?p.push("background-Color:"+_):(p.push("background-Color:#"+t.toHex(_)),p.push("filter:alpha(opacity=70)"))),s(["width","color","radius"],function(A){var x="border-"+A,b=c(x),T=g.get(b);T!=null&&p.push(x+":"+T+(A==="color"?"":"px"))}),p.push(h(w)),S!=null&&p.push("padding:"+n.normalizeCssArray(S).join("px ")+"px"),p.join(";")+";"}function d(g,p,y,_,w){var S=p&&p.painter;if(y){var A=S&&S.getViewportRoot();A&&a.transformLocalCoord(g,A,document.body,_,w)}else{g[0]=_,g[1]=w;var x=S&&S.getViewportRootOffset();x&&(g[0]+=x.offsetLeft,g[1]+=x.offsetTop)}}function f(g,p,y){if(i.wxa)return null;var _=document.createElement("div");_.domBelongToZr=!0,this.el=_;var w=this._zr=p.getZr(),S=this._appendToBody=y&&y.appendToBody;this._styleCoord=[0,0],d(this._styleCoord,w,S,p.getWidth()/2,p.getHeight()/2),S?document.body.appendChild(_):g.appendChild(_),this._container=g,this._show=!1,this._hideTimeout;var A=this;_.onmouseenter=function(){A._enterable&&(clearTimeout(A._hideTimeout),A._show=!0),A._inContent=!0},_.onmousemove=function(x){if(x=x||window.event,!A._enterable){var b=w.handler,T=w.painter.getViewportRoot();r.normalizeEvent(T,x,!0),b.dispatch("mousemove",x)}},_.onmouseleave=function(){A._enterable&&A._show&&A.hideLater(A._hideDelay),A._inContent=!1}}f.prototype={constructor:f,_enterable:!0,update:function(){var g=this._container,p=g.currentStyle||document.defaultView.getComputedStyle(g),y=g.style;y.position!=="absolute"&&p.position!=="absolute"&&(y.position="relative")},show:function(g){clearTimeout(this._hideTimeout);var p=this.el,y=this._styleCoord;p.style.cssText=u+l(g)+";left:"+y[0]+"px;top:"+y[1]+"px;"+(g.get("extraCssText")||""),p.style.display=p.innerHTML?"block":"none",p.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(g){this.el.innerHTML=g??""},setEnterable:function(g){this._enterable=g},getSize:function(){var g=this.el;return[g.clientWidth,g.clientHeight]},moveTo:function(g,p){var y=this._styleCoord;d(y,this._zr,this._appendToBody,g,p);var _=this.el.style;_.left=y[0]+"px",_.top=y[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(g){this._show&&!(this._inContent&&this._enterable)&&(g?(this._hideDelay=g,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),g)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var g=this.el.clientWidth,p=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var y=document.defaultView.getComputedStyle(this.el);y&&(g+=parseInt(y.borderLeftWidth,10)+parseInt(y.borderRightWidth,10),p+=parseInt(y.borderTopWidth,10)+parseInt(y.borderBottomWidth,10))}return{width:g,height:p}}};var m=f;return yc=m,yc}var _c,db;function KG(){if(db)return _c;db=1;var e=W,t=xa;function r(i){this._zr=i.getZr(),this._show=!1,this._hideTimeout}r.prototype={constructor:r,_enterable:!0,update:function(){},show:function(i){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(i,n,s){this.el&&this._zr.remove(this.el);for(var c={},o=i,u="{marker",v="|}",h=o.indexOf(u);h>=0;){var l=o.indexOf(v),d=o.substr(h+u.length,l-h-u.length);d.indexOf("sub")>-1?c["marker"+d]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:n[d],textOffset:[3,0]}:c["marker"+d]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:n[d]},o=o.substr(l+1),h=o.indexOf("{marker")}this.el=new t({style:{rich:c,text:i,textLineHeight:20,textBackgroundColor:s.get("backgroundColor"),textBorderRadius:s.get("borderRadius"),textFill:s.get("textStyle.color"),textPadding:s.get("padding")},z:s.get("z")}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},setEnterable:function(i){this._enterable=i},getSize:function(){var i=this.el.getBoundingRect();return[i.width,i.height]},moveTo:function(i,n){this.el&&this.el.attr("position",[i,n])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(i){this._show&&!(this._inContent&&this._enterable)&&(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),i)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var i=this.getSize();return{width:i[0],height:i[1]}}};var a=r;return _c=a,_c}var xc,gb;function QG(){if(gb)return xc;gb=1;var e=_e,t=W,r=nt,a=XG(),i=KG(),n=Ne,s=Le,c=fe,o=WM(),u=Be,v=ot,h=ZM(),l=nr(),d=As(),f=Ie,m=f.getTooltipRenderMode,g=t.bind,p=t.each,y=s.parsePercent,_=new c.Rect({shape:{x:-1,y:-1,width:2,height:2}}),w=e.extendComponentView({type:"tooltip",init:function(C,D){if(!r.node){var L=C.getComponent("tooltip"),P=L.get("renderMode");this._renderMode=m(P);var I;this._renderMode==="html"?(I=new a(D.getDom(),D,{appendToBody:L.get("appendToBody",!0)}),this._newLine="<br/>"):(I=new i(D),this._newLine=`
`),this._tooltipContent=I}},render:function(C,D,L){if(!r.node){this.group.removeAll(),this._tooltipModel=C,this._ecModel=D,this._api=L,this._lastDataByCoordSys=null,this._alwaysShowContent=C.get("alwaysShowContent");var P=this._tooltipContent;P.update(),P.setEnterable(C.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var C=this._tooltipModel,D=C.get("triggerOn");h.register("itemTooltip",this._api,g(function(L,P,I){D!=="none"&&(D.indexOf(L)>=0?this._tryShow(P,I):L==="leave"&&this._hide(I))},this))},_keepShow:function(){var C=this._tooltipModel,D=this._ecModel,L=this._api;if(this._lastX!=null&&this._lastY!=null&&C.get("triggerOn")!=="none"){var P=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!L.isDisposed()&&P.manuallyShowTip(C,D,L,{x:P._lastX,y:P._lastY})})}},manuallyShowTip:function(C,D,L,P){if(!(P.from===this.uid||r.node)){var I=A(P,L);this._ticket="";var E=P.dataByCoordSys;if(P.tooltip&&P.x!=null&&P.y!=null){var O=_;O.position=[P.x,P.y],O.update(),O.tooltip=P.tooltip,this._tryShow({offsetX:P.x,offsetY:P.y,target:O},I)}else if(E)this._tryShow({offsetX:P.x,offsetY:P.y,position:P.position,dataByCoordSys:P.dataByCoordSys,tooltipOption:P.tooltipOption},I);else if(P.seriesIndex!=null){if(this._manuallyAxisShowTip(C,D,L,P))return;var B=o(P,D),q=B.point[0],V=B.point[1];q!=null&&V!=null&&this._tryShow({offsetX:q,offsetY:V,position:P.position,target:B.el},I)}else P.x!=null&&P.y!=null&&(L.dispatchAction({type:"updateAxisPointer",x:P.x,y:P.y}),this._tryShow({offsetX:P.x,offsetY:P.y,position:P.position,target:L.getZr().findHover(P.x,P.y).target},I))}},manuallyHideTip:function(C,D,L,P){var I=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&I.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,P.from!==this.uid&&this._hide(A(P,L))},_manuallyAxisShowTip:function(V,D,L,P){var I=P.seriesIndex,E=P.dataIndex,O=D.getComponent("axisPointer").coordSysAxesInfo;if(!(I==null||E==null||O==null)){var B=D.getSeriesByIndex(I);if(B){var q=B.getData(),V=S([q.getItemModel(E),B,(B.coordinateSystem||{}).model,V]);if(V.get("trigger")==="axis")return L.dispatchAction({type:"updateAxisPointer",seriesIndex:I,dataIndex:E,position:P.position}),!0}}},_tryShow:function(C,D){var L=C.target,P=this._tooltipModel;if(P){this._lastX=C.offsetX,this._lastY=C.offsetY;var I=C.dataByCoordSys;I&&I.length?this._showAxisTooltip(I,C):L&&L.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(C,L,D)):L&&L.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(C,L,D)):(this._lastDataByCoordSys=null,this._hide(D))}},_showOrMove:function(C,D){var L=C.get("showDelay");D=t.bind(D,this),clearTimeout(this._showTimout),L>0?this._showTimout=setTimeout(D,L):D()},_showAxisTooltip:function(C,D){var L=this._ecModel,P=this._tooltipModel,I=[D.offsetX,D.offsetY],E=[],O=[],B=S([D.tooltipOption,P]),q=this._renderMode,V=this._newLine,R={};p(C,function(k){p(k.dataByAxis,function(N){var G=L.getComponent(N.axisDim+"Axis",N.axisIndex),H=N.value,F=[];if(!(!G||H==null)){var $=d.getValueLabel(H,G.axis,L,N.seriesDataIndices,N.valueLabelOpt);t.each(N.seriesDataIndices,function(X){var Q=L.getSeriesByIndex(X.seriesIndex),j=X.dataIndexInside,ee=Q&&Q.getDataParams(j);if(ee.axisDim=N.axisDim,ee.axisIndex=N.axisIndex,ee.axisType=N.axisType,ee.axisId=N.axisId,ee.axisValue=l.getAxisRawValue(G.axis,H),ee.axisValueLabel=$,ee){O.push(ee);var re=Q.formatTooltip(j,!0,null,q),te;if(t.isObject(re)){te=re.html;var ne=re.markers;t.merge(R,ne)}else te=re;F.push(te)}});var U=$;q!=="html"?E.push(F.join(V)):E.push((U?n.encodeHTML(U)+V:"")+F.join(V))}})},this),E.reverse(),E=E.join(this._newLine+this._newLine);var z=D.position;this._showOrMove(B,function(){this._updateContentNotChangedOnAxis(C)?this._updatePosition(B,z,I[0],I[1],this._tooltipContent,O):this._showTooltipContent(B,E,O,Math.random(),I[0],I[1],z,void 0,R)})},_showSeriesItemTooltip:function(C,D,L){var P=this._ecModel,I=D.seriesIndex,E=P.getSeriesByIndex(I),O=D.dataModel||E,B=D.dataIndex,q=D.dataType,V=O.getData(q),R=S([V.getItemModel(B),O,E&&(E.coordinateSystem||{}).model,this._tooltipModel]),z=R.get("trigger");if(!(z!=null&&z!=="item")){var k=O.getDataParams(B,q),N=O.formatTooltip(B,!1,q,this._renderMode),G,H;t.isObject(N)?(G=N.html,H=N.markers):(G=N,H=null);var F="item_"+O.name+"_"+B;this._showOrMove(R,function(){this._showTooltipContent(R,G,k,F,C.offsetX,C.offsetY,C.position,C.target,H)}),L({type:"showTip",dataIndexInside:B,dataIndex:V.getRawIndex(B),seriesIndex:I,from:this.uid})}},_showComponentItemTooltip:function(C,D,L){var P=D.tooltip;if(typeof P=="string"){var I=P;P={content:I,formatter:I}}var E=new v(P,this._tooltipModel,this._ecModel),O=E.get("content"),B=Math.random();this._showOrMove(E,function(){this._showTooltipContent(E,O,E.get("formatterParams")||{},B,C.offsetX,C.offsetY,C.position,D)}),L({type:"showTip",from:this.uid})},_showTooltipContent:function(C,D,L,P,I,E,O,B,q){if(this._ticket="",!(!C.get("showContent")||!C.get("show"))){var V=this._tooltipContent,R=C.get("formatter");O=O||C.get("position");var z=D;if(R&&typeof R=="string")z=n.formatTpl(R,L,!0);else if(typeof R=="function"){var k=g(function(N,G){N===this._ticket&&(V.setContent(G,q,C),this._updatePosition(C,O,I,E,V,L,B))},this);this._ticket=P,z=R(L,P,k)}V.setContent(z,q,C),V.show(C),this._updatePosition(C,O,I,E,V,L,B)}},_updatePosition:function(C,D,L,P,I,E,O){var B=this._api.getWidth(),q=this._api.getHeight();D=D||C.get("position");var V=I.getSize(),R=C.get("align"),z=C.get("verticalAlign"),k=O&&O.getBoundingRect().clone();if(O&&k.applyTransform(O.transform),typeof D=="function"&&(D=D([L,P],E,I.el,k,{viewSize:[B,q],contentSize:V.slice()})),t.isArray(D))L=y(D[0],B),P=y(D[1],q);else if(t.isObject(D)){D.width=V[0],D.height=V[1];var N=u.getLayoutRect(D,{width:B,height:q});L=N.x,P=N.y,R=null,z=null}else if(typeof D=="string"&&O){var G=T(D,k,V);L=G[0],P=G[1]}else{var G=x(L,P,I,B,q,R?null:20,z?null:20);L=G[0],P=G[1]}if(R&&(L-=M(R)?V[0]/2:R==="right"?V[0]:0),z&&(P-=M(z)?V[1]/2:z==="bottom"?V[1]:0),C.get("confine")){var G=b(L,P,I,B,q);L=G[0],P=G[1]}I.moveTo(L,P)},_updateContentNotChangedOnAxis:function(C){var D=this._lastDataByCoordSys,L=!!D&&D.length===C.length;return L&&p(D,function(P,I){var E=P.dataByAxis||{},O=C[I]||{},B=O.dataByAxis||[];L&=E.length===B.length,L&&p(E,function(q,V){var R=B[V]||{},z=q.seriesDataIndices||[],k=R.seriesDataIndices||[];L&=q.value===R.value&&q.axisType===R.axisType&&q.axisId===R.axisId&&z.length===k.length,L&&p(z,function(N,G){var H=k[G];L&=N.seriesIndex===H.seriesIndex&&N.dataIndex===H.dataIndex})})}),this._lastDataByCoordSys=C,!!L},_hide:function(C){this._lastDataByCoordSys=null,C({type:"hideTip",from:this.uid})},dispose:function(C,D){r.node||(this._tooltipContent.dispose(),h.unregister("itemTooltip",D))}});function S(C){for(var D=C.pop();C.length;){var L=C.pop();L&&(v.isInstance(L)&&(L=L.get("tooltip",!0)),typeof L=="string"&&(L={formatter:L}),D=new v(L,D,D.ecModel))}return D}function A(C,D){return C.dispatchAction||t.bind(D.dispatchAction,D)}function x(C,D,L,P,I,E,O){var B=L.getOuterSize(),q=B.width,V=B.height;return E!=null&&(C+q+E>P?C-=q+E:C+=E),O!=null&&(D+V+O>I?D-=V+O:D+=O),[C,D]}function b(C,D,L,P,I){var E=L.getOuterSize(),O=E.width,B=E.height;return C=Math.min(C+O,P)-O,D=Math.min(D+B,I)-B,C=Math.max(C,0),D=Math.max(D,0),[C,D]}function T(C,D,L){var P=L[0],I=L[1],E=5,O=0,B=0,q=D.width,V=D.height;switch(C){case"inside":O=D.x+q/2-P/2,B=D.y+V/2-I/2;break;case"top":O=D.x+q/2-P/2,B=D.y-I-E;break;case"bottom":O=D.x+q/2-P/2,B=D.y+V+E;break;case"left":O=D.x-P-E,B=D.y+V/2-I/2;break;case"right":O=D.x+q+E,B=D.y+V/2-I/2}return[O,B]}function M(C){return C==="center"||C==="middle"}return xc=w,xc}var pb;function jG(){if(pb)return hb;pb=1;var e=_e;return On(),YG(),QG(),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),hb}var mb={},Sc,yb;function JG(){if(yb)return Sc;yb=1;var e=W,t=["rect","polygon","keep","clear"];function r(i,n){var s=i&&i.brush;if(e.isArray(s)||(s=s?[s]:[]),!!s.length){var c=[];e.each(s,function(l){var d=l.hasOwnProperty("toolbox")?l.toolbox:[];d instanceof Array&&(c=c.concat(d))});var o=i&&i.toolbox;e.isArray(o)&&(o=o[0]),o||(o={feature:{}},i.toolbox=[o]);var u=o.feature||(o.feature={}),v=u.brush||(u.brush={}),h=v.type||(v.type=[]);h.push.apply(h,c),a(h),n&&!h.length&&h.push.apply(h,t)}}function a(i){var n={};e.each(i,function(s){n[s]=1}),i.length=0,e.each(n,function(s,c){i.push(c)})}return Sc=r,Sc}var bc={},qa={},_b;function Ts(){if(_b)return qa;_b=1;var e=W,t=Ma(),r=e.each;function a(o){if(o){for(var u in o)if(o.hasOwnProperty(u))return!0}}function i(o,u,v){var h={};return r(u,function(d){var f=h[d]=l();r(o[d],function(m,g){if(t.isValidType(g)){var p={type:g,visual:m};v&&v(p,d),f[g]=new t(p),g==="opacity"&&(p=e.clone(p),p.type="colorAlpha",f.__hidden.__alphaForOpacity=new t(p))}})}),h;function l(){var d=function(){};d.prototype.__hidden=d.prototype;var f=new d;return f}}function n(o,u,v){var h;e.each(v,function(l){u.hasOwnProperty(l)&&a(u[l])&&(h=!0)}),h&&e.each(v,function(l){u.hasOwnProperty(l)&&a(u[l])?o[l]=e.clone(u[l]):delete o[l]})}function s(o,u,v,h,l,d){var f={};e.each(o,function(_){var w=t.prepareVisualTypes(u[_]);f[_]=w});var m;function g(_){return v.getItemVisual(m,_)}function p(_,w){v.setItemVisual(m,_,w)}d==null?v.each(y):v.each([d],y);function y(_,w){m=d==null?_:w;var S=v.getRawDataItem(m);if(!(S&&S.visualMap===!1))for(var A=h.call(l,_),x=u[A],b=f[A],T=0,M=b.length;T<M;T++){var C=b[T];x[C]&&x[C].applyVisual(_,g,p)}}}function c(o,u,v,h){var l={};e.each(o,function(f){var m=t.prepareVisualTypes(u[f]);l[f]=m});function d(f,m){h!=null&&(h=m.getDimension(h));function g(C){return m.getItemVisual(y,C)}function p(C,D){m.setItemVisual(y,C,D)}for(var y;(y=f.next())!=null;){var _=m.getRawDataItem(y);if(!(_&&_.visualMap===!1))for(var w=h!=null?m.get(h,y,!0):y,S=v(w),A=u[S],x=l[S],b=0,T=x.length;b<T;b++){var M=x[b];A[M]&&A[M].applyVisual(w,g,p)}}}return{progress:d}}return qa.createVisualMappings=i,qa.replaceVisualOption=n,qa.applyVisual=s,qa.incrementalApplyVisual=c,qa}var wc,xb;function eF(){if(xb)return wc;xb=1;var e=pM(),t=Xe,r=fe,a=r.linePolygonIntersect,i={lineX:n(0),lineY:n(1),rect:{point:function(o,u,v){return o&&v.boundingRect.contain(o[0],o[1])},rect:function(o,u,v){return o&&v.boundingRect.intersect(o)}},polygon:{point:function(o,u,v){return o&&v.boundingRect.contain(o[0],o[1])&&e.contain(v.range,o[0],o[1])},rect:function(o,u,v){var h=v.range;if(!o||h.length<=1)return!1;var l=o.x,d=o.y,f=o.width,m=o.height,g=h[0];if(e.contain(h,l,d)||e.contain(h,l+f,d)||e.contain(h,l,d+m)||e.contain(h,l+f,d+m)||t.create(o).contain(g[0],g[1])||a(l,d,l+f,d,h)||a(l,d,l,d+m,h)||a(l+f,d,l+f,d+m,h)||a(l,d+m,l+f,d+m,h))return!0}}};function n(o){var u=["x","y"],v=["width","height"];return{point:function(h,l,d){if(h){var f=d.range,m=h[o];return s(m,f)}},rect:function(h,l,d){if(h){var f=d.range,m=[h[u[o]],h[u[o]]+h[v[o]]];return m[1]<m[0]&&m.reverse(),s(m[0],f)||s(m[1],f)||s(f[0],m)||s(f[1],m)}}}}function s(o,u){return u[0]<=o&&o<=u[1]}var c=i;return wc=c,wc}var Sb;function JM(){if(Sb)return bc;Sb=1;var e=_e,t=W,r=Xe,a=Ts(),i=eF(),n=ir,s=QM(),c=["inBrush","outOfBrush"],o="__ecBrushSelect",u="__ecInBrushSelectEvent",v=e.PRIORITY.VISUAL.BRUSH;e.registerLayout(v,function(w,S,A){w.eachComponent({mainType:"brush"},function(x){A&&A.type==="takeGlobalCursor"&&x.setBrushOption(A.key==="brush"?A.brushOption:{brushType:!1})}),h(w)});function h(w){w.eachComponent({mainType:"brush"},function(S){var A=S.brushTargetManager=new s(S.option,w);A.setInputRanges(S.areas,w)})}e.registerVisual(v,function(w,S,A){var x=[],b,T;w.eachComponent({mainType:"brush"},function(M,C){var D={brushId:M.id,brushIndex:C,brushName:M.name,areas:t.clone(M.areas),selected:[]};x.push(D);var L=M.option,P=L.brushLink,I=[],E=[],O=[],B=0;C||(b=L.throttleType,T=L.throttleDelay);var q=t.map(M.areas,function(G){return p(t.defaults({boundingRect:y[G.brushType](G)},G))}),V=a.createVisualMappings(M.option,c,function(G){G.mappingMethod="fixed"});t.isArray(P)&&t.each(P,function(G){I[G]=1});function R(G){return P==="all"||I[G]}function z(G){return!!G.length}w.eachSeries(function(G,H){var F=O[H]=[];G.subType==="parallel"?k(G,H):N(G,H,F)});function k(G,H){var F=G.coordinateSystem;B|=F.hasAxisBrushed(),R(H)&&F.eachActiveState(G.getData(),function($,U){$==="active"&&(E[U]=1)})}function N(G,H,F){var $=m(G);if(!(!$||g(M,H))&&(t.each(q,function(X){$[X.brushType]&&M.brushTargetManager.controlSeries(X,G,w)&&F.push(X),B|=z(F)}),R(H)&&z(F))){var U=G.getData();U.each(function(X){f($,F,U,X)&&(E[X]=1)})}}w.eachSeries(function(G,H){var F={seriesId:G.id,seriesIndex:H,seriesName:G.name,dataIndex:[]};D.selected.push(F);var $=m(G),U=O[H],X=G.getData(),Q=R(H)?function(j){return E[j]?(F.dataIndex.push(X.getRawIndex(j)),"inBrush"):"outOfBrush"}:function(j){return f($,U,X,j)?(F.dataIndex.push(X.getRawIndex(j)),"inBrush"):"outOfBrush"};(R(H)?B:z(U))&&a.applyVisual(c,V,X,Q)})}),l(S,b,T,x,A)});function l(w,S,A,x,b){if(b){var T=w.getZr();if(!T[u]){T[o]||(T[o]=d);var M=n.createOrUpdate(T,o,A,S);M(w,x)}}}function d(w,S){if(!w.isDisposed()){var A=w.getZr();A[u]=!0,w.dispatchAction({type:"brushSelect",batch:S}),A[u]=!1}}function f(w,S,A,x){for(var b=0,T=S.length;b<T;b++){var M=S[b];if(w[M.brushType](x,A,M.selectors,M))return!0}}function m(w){var S=w.brushSelector;if(t.isString(S)){var A=[];return t.each(i,function(b,T){A[T]=function(M,C,D,L){var P=C.getItemLayout(M);return b[S](P,D,L)}}),A}else if(t.isFunction(S)){var x={};return t.each(i,function(b,T){x[T]=S}),x}return S}function g(w,S){var A=w.option.seriesIndex;return A!=null&&A!=="all"&&(t.isArray(A)?t.indexOf(A,S)<0:S!==A)}function p(w){var S=w.selectors={};return t.each(i[w.brushType],function(A,x){S[x]=function(b){return A(b,S,w)}}),w}var y={lineX:t.noop,lineY:t.noop,rect:function(w){return _(w.range)},polygon:function(w){for(var S,A=w.range,x=0,b=A.length;x<b;x++){S=S||[[1/0,-1/0],[1/0,-1/0]];var T=A[x];T[0]<S[0][0]&&(S[0][0]=T[0]),T[0]>S[0][1]&&(S[0][1]=T[0]),T[1]<S[1][0]&&(S[1][0]=T[1]),T[1]>S[1][1]&&(S[1][1]=T[1])}return S&&_(S)}};function _(w){return new r(w[0][0],w[1][0],w[0][1]-w[0][0],w[1][1]-w[1][0])}return bc.layoutCovers=h,bc}var Ac,bb;function tF(){if(bb)return Ac;bb=1;var e=_e,t=W,r=Ts(),a=ot,i=["#ddd"],n=e.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(o,u){var v=this.option;!u&&r.replaceVisualOption(v,o,["inBrush","outOfBrush"]);var h=v.inBrush=v.inBrush||{};v.outOfBrush=v.outOfBrush||{color:i},h.hasOwnProperty("liftZ")||(h.liftZ=5)},setAreas:function(o){o&&(this.areas=t.map(o,function(u){return s(this.option,u)},this))},setBrushOption:function(o){this.brushOption=s(this.option,o),this.brushType=this.brushOption.brushType}});function s(o,u){return t.merge({brushType:o.brushType,brushMode:o.brushMode,transformable:o.transformable,brushStyle:new a(o.brushStyle).getItemStyle(),removeOnClick:o.removeOnClick,z:o.z},u,!0)}var c=n;return Ac=c,Ac}var Tc,wb;function rF(){if(wb)return Tc;wb=1;var e=_e,t=W,r=yg(),a=JM(),i=a.layoutCovers,n=e.extendComponentView({type:"brush",init:function(c,o){this.ecModel=c,this.api=o,this.model,(this._brushController=new r(o.getZr())).on("brush",t.bind(this._onBrush,this)).mount()},render:function(c){return this.model=c,s.apply(this,arguments)},updateTransform:function(c,o){return i(o),s.apply(this,arguments)},updateView:s,dispose:function(){this._brushController.dispose()},_onBrush:function(c,o){var u=this.model.id;this.model.brushTargetManager.setOutputRanges(c,this.ecModel),(!o.isEnd||o.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:u,areas:t.clone(c),$from:u}),o.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:u,areas:t.clone(c),$from:u})}});function s(c,o,u,v){(!v||v.$from!==c.id)&&this._brushController.setPanels(c.brushTargetManager.makePanelOpts(u)).enableBrush(c.brushOption).updateCovers(c.areas.slice())}return Tc=n,Tc}var Ab={},Tb;function aF(){if(Tb)return Ab;Tb=1;var e=_e;return e.registerAction({type:"brush",event:"brush"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(a){a.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),Ab}var Cc,Cb;function iF(){if(Cb)return Cc;Cb=1;var e=W,t=aa(),r=ea,a=r.toolbox.brush;function i(c,o,u){this.model=c,this.ecModel=o,this.api=u,this._brushType,this._brushMode}i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.clone(a.title)};var n=i.prototype;n.render=n.updateView=function(c,o,u){var v,h,l;o.eachComponent({mainType:"brush"},function(d){v=d.brushType,h=d.brushOption.brushMode||"single",l|=d.areas.length}),this._brushType=v,this._brushMode=h,e.each(c.get("type",!0),function(d){c.setIconStatus(d,(d==="keep"?h==="multiple":d==="clear"?l:d===v)?"emphasis":"normal")})},n.getIcons=function(){var c=this.model,o=c.get("icon",!0),u={};return e.each(c.get("type",!0),function(v){o[v]&&(u[v]=o[v])}),u},n.onclick=function(c,o,u){var v=this._brushType,h=this._brushMode;u==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:u==="keep"?v:v===u?!1:u,brushMode:u==="keep"?h==="multiple"?"single":"multiple":h}})},t.register("brush",i);var s=i;return Cc=s,Cc}var Mb;function nF(){if(Mb)return mb;Mb=1;var e=_e,t=JG();return JM(),tF(),rF(),aF(),iF(),e.registerPreprocessor(t),mb}var Db={},Lb;function oF(){if(Lb)return Db;Lb=1;var e=W,t=_e,r=fe,a=Be,i=a.getLayoutRect,n=Ne,s=n.windowOpen;return t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(c,o,u){if(this.group.removeAll(),!!c.get("show")){var v=this.group,h=c.getModel("textStyle"),l=c.getModel("subtextStyle"),d=c.get("textAlign"),f=e.retrieve2(c.get("textBaseline"),c.get("textVerticalAlign")),m=new r.Text({style:r.setTextStyle({},h,{text:c.get("text"),textFill:h.getTextColor()},{disableBox:!0}),z2:10}),g=m.getBoundingRect(),p=c.get("subtext"),y=new r.Text({style:r.setTextStyle({},l,{text:p,textFill:l.getTextColor(),y:g.height+c.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),_=c.get("link"),w=c.get("sublink"),S=c.get("triggerEvent",!0);m.silent=!_&&!S,y.silent=!w&&!S,_&&m.on("click",function(){s(_,"_"+c.get("target"))}),w&&y.on("click",function(){s(_,"_"+c.get("subtarget"))}),m.eventData=y.eventData=S?{componentType:"title",componentIndex:c.componentIndex}:null,v.add(m),p&&v.add(y);var A=v.getBoundingRect(),x=c.getBoxLayoutParams();x.width=A.width,x.height=A.height;var b=i(x,{width:u.getWidth(),height:u.getHeight()},c.get("padding"));d||(d=c.get("left")||c.get("right"),d==="middle"&&(d="center"),d==="right"?b.x+=b.width:d==="center"&&(b.x+=b.width/2)),f||(f=c.get("top")||c.get("bottom"),f==="center"&&(f="middle"),f==="bottom"?b.y+=b.height:f==="middle"&&(b.y+=b.height/2),f=f||"top"),v.attr("position",[b.x,b.y]);var T={textAlign:d,textVerticalAlign:f};m.setStyle(T),y.setStyle(T),A=v.getBoundingRect();var M=b.margin,C=c.getItemStyle(["color","opacity"]);C.fill=c.get("backgroundColor");var D=new r.Rect({shape:{x:A.x-M[3],y:A.y-M[0],width:A.width+M[1]+M[3],height:A.height+M[0]+M[2],r:c.get("borderRadius")},style:C,subPixelOptimize:!0,silent:!0});v.add(D)}}}),Db}var Pb={},Mc,Ib;function sF(){if(Ib)return Mc;Ib=1;var e=W;function t(n){var s=n&&n.timeline;e.isArray(s)||(s=s?[s]:[]),e.each(s,function(c){c&&r(c)})}function r(n){var s=n.type,c={number:"value",time:"time"};if(c[s]&&(n.axisType=c[s],delete n.type),a(n),i(n,"controlPosition")){var o=n.controlStyle||(n.controlStyle={});i(o,"position")||(o.position=n.controlPosition),o.position==="none"&&!i(o,"show")&&(o.show=!1,delete o.position),delete n.controlPosition}e.each(n.data||[],function(u){e.isObject(u)&&!e.isArray(u)&&(!i(u,"value")&&i(u,"name")&&(u.value=u.name),a(u))})}function a(n){var s=n.itemStyle||(n.itemStyle={}),c=s.emphasis||(s.emphasis={}),o=n.label||n.label||{},u=o.normal||(o.normal={}),v={normal:1,emphasis:1};e.each(o,function(h,l){!v[l]&&!i(u,l)&&(u[l]=h)}),c.label&&!i(o,"emphasis")&&(o.emphasis=c.label,delete c.label)}function i(n,s){return n.hasOwnProperty(s)}return Mc=t,Mc}var Rb={},Eb;function lF(){if(Eb)return Rb;Eb=1;var e=ht;return e.registerSubTypeDefaulter("timeline",function(){return"slider"}),Rb}var kb={},Ob;function uF(){if(Ob)return kb;Ob=1;var e=_e,t=W;return e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,a){var i=a.getComponent("timeline");return i&&r.currentIndex!=null&&(i.setCurrentIndex(r.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),a.resetOption("timeline"),t.defaults({currentIndex:i.option.currentIndex},r)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,a){var i=a.getComponent("timeline");i&&r.playState!=null&&i.setPlayState(r.playState)}),kb}var Dc,zb;function vF(){if(zb)return Dc;zb=1;var e=W,t=ht,r=Wt(),a=Ie,i=t.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(s,c,o){this._data,this._names,this.mergeDefaultAndTheme(s,o),this._initData()},mergeOption:function(s){i.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(s){s==null&&(s=this.option.currentIndex);var c=this._data.count();this.option.loop?s=(s%c+c)%c:(s>=c&&(s=c-1),s<0&&(s=0)),this.option.currentIndex=s},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(s){this.option.autoPlay=!!s},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var s=this.option,c=s.data||[],o=s.axisType,u=this._names=[];if(o==="category"){var v=[];e.each(c,function(d,f){var m=a.getDataItemValue(d),g;e.isObject(d)?(g=e.clone(d),g.value=f):g=f,v.push(g),!e.isString(m)&&(m==null||isNaN(m))&&(m=""),u.push(m+"")}),c=v}var h={category:"ordinal",time:"time"}[o]||"number",l=this._data=new r([{name:"value",type:h}],this);l.initData(c,u)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}}),n=i;return Dc=n,Dc}var Lc,Bb;function hF(){if(Bb)return Lc;Bb=1;var e=W,t=vF(),r=rg,a=t.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});e.mixin(a,r);var i=a;return Lc=i,Lc}var Pc,Nb;function cF(){if(Nb)return Pc;Nb=1;var e=hs,t=e.extend({type:"timeline"});return Pc=t,Pc}var Ic,Vb;function fF(){if(Vb)return Ic;Vb=1;var e=W,t=ta(),r=function(i,n,s,c){t.call(this,i,n,s),this.type=c||"value",this.model=null};r.prototype={constructor:r,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}},e.inherits(r,t);var a=r;return Ic=a,Ic}var Rc,Hb;function dF(){if(Hb)return Rc;Hb=1;var e=W,t=Xe,r=Je,a=fe,i=Be,n=cF(),s=fF(),c=Zt(),o=c.createSymbol,u=nr(),v=Le,h=Ne,l=h.encodeHTML,d=e.bind,f=e.each,m=Math.PI,g=n.extend({type:"timeline.slider",init:function(S,A){this.api=A,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(S,A,x,b){if(this.model=S,this.api=x,this.ecModel=A,this.group.removeAll(),S.get("show",!0)){var T=this._layout(S,x),M=this._createGroup("mainGroup"),C=this._createGroup("labelGroup"),D=this._axis=this._createAxis(T,S);S.formatTooltip=function(L){return l(D.scale.getLabel(L))},f(["AxisLine","AxisTick","Control","CurrentPointer"],function(L){this["_render"+L](T,M,D,S)},this),this._renderAxisLabel(T,C,D,S),this._position(T,S)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(S,A){var x=S.get("label.position"),b=S.get("orient"),T=p(S,A);x==null||x==="auto"?x=b==="horizontal"?T.y+T.height/2<A.getHeight()/2?"-":"+":T.x+T.width/2<A.getWidth()/2?"+":"-":isNaN(x)&&(x={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[b][x]);var M={horizontal:"center",vertical:x>=0||x==="+"?"left":"right"},C={horizontal:x>=0||x==="+"?"top":"bottom",vertical:"middle"},D={horizontal:0,vertical:m/2},L=b==="vertical"?T.height:T.width,P=S.getModel("controlStyle"),I=P.get("show",!0),E=I?P.get("itemSize"):0,O=I?P.get("itemGap"):0,B=E+O,q=S.get("label.rotate")||0;q=q*m/180;var V,R,z,k,N=P.get("position",!0),G=I&&P.get("showPlayBtn",!0),H=I&&P.get("showPrevBtn",!0),F=I&&P.get("showNextBtn",!0),$=0,U=L;return N==="left"||N==="bottom"?(G&&(V=[0,0],$+=B),H&&(R=[$,0],$+=B),F&&(z=[U-E,0],U-=B)):(G&&(V=[U-E,0],U-=B),H&&(R=[0,0],$+=B),F&&(z=[U-E,0],U-=B)),k=[$,U],S.get("inverse")&&k.reverse(),{viewRect:T,mainLength:L,orient:b,rotation:D[b],labelRotation:q,labelPosOpt:x,labelAlign:S.get("label.align")||M[b],labelBaseline:S.get("label.verticalAlign")||S.get("label.baseline")||C[b],playPosition:V,prevBtnPosition:R,nextBtnPosition:z,axisExtent:k,controlSize:E,controlGap:O}},_position:function(S,A){var x=this._mainGroup,b=this._labelGroup,T=S.viewRect;if(S.orient==="vertical"){var M=r.create(),C=T.x,D=T.y+T.height;r.translate(M,M,[-C,-D]),r.rotate(M,M,-m/2),r.translate(M,M,[C,D]),T=T.clone(),T.applyTransform(M)}var L=R(T),P=R(x.getBoundingRect()),I=R(b.getBoundingRect()),E=x.position,O=b.position;O[0]=E[0]=L[0][0];var B=S.labelPosOpt;if(isNaN(B)){var q=B==="+"?0:1;z(E,P,L,1,q),z(O,I,L,1,1-q)}else{var q=B>=0?0:1;z(E,P,L,1,q),O[1]=E[1]+B}x.attr("position",E),b.attr("position",O),x.rotation=b.rotation=S.rotation,V(x),V(b);function V(k){var N=k.position;k.origin=[L[0][0]-N[0],L[1][0]-N[1]]}function R(k){return[[k.x,k.x+k.width],[k.y,k.y+k.height]]}function z(k,N,G,H,F){k[H]+=G[H][F]-N[H][F]}},_createAxis:function(S,A){var x=A.getData(),b=A.get("axisType"),T=u.createScaleByModel(A,b);T.getTicks=function(){return x.mapArray(["value"],function(D){return D})};var M=x.getDataExtent("value");T.setExtent(M[0],M[1]),T.niceTicks();var C=new s("value",T,S.axisExtent,b);return C.model=A,C},_createGroup:function(S){var A=this["_"+S]=new a.Group;return this.group.add(A),A},_renderAxisLine:function(S,A,x,b){var T=x.getExtent();b.get("lineStyle.show")&&A.add(new a.Line({shape:{x1:T[0],y1:0,x2:T[1],y2:0},style:e.extend({lineCap:"round"},b.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(S,A,x,b){var T=b.getData(),M=x.scale.getTicks();f(M,function(C){var D=x.dataToCoord(C),L=T.getItemModel(C),P=L.getModel("itemStyle"),I=L.getModel("emphasis.itemStyle"),E={position:[D,0],onclick:d(this._changeTimeline,this,C)},O=_(L,P,A,E);a.setHoverStyle(O,I.getItemStyle()),L.get("tooltip")?(O.dataIndex=C,O.dataModel=b):O.dataIndex=O.dataModel=null},this)},_renderAxisLabel:function(S,A,x,b){var T=x.getLabelModel();if(T.get("show")){var M=b.getData(),C=x.getViewLabels();f(C,function(D){var L=D.tickValue,P=M.getItemModel(L),I=P.getModel("label"),E=P.getModel("emphasis.label"),O=x.dataToCoord(D.tickValue),B=new a.Text({position:[O,0],rotation:S.labelRotation-S.rotation,onclick:d(this._changeTimeline,this,L),silent:!1});a.setTextStyle(B.style,I,{text:D.formattedLabel,textAlign:S.labelAlign,textVerticalAlign:S.labelBaseline}),A.add(B),a.setHoverStyle(B,a.setTextStyle({},E))},this)}},_renderControl:function(S,A,x,b){var T=S.controlSize,M=S.rotation,C=b.getModel("controlStyle").getItemStyle(),D=b.getModel("emphasis.controlStyle").getItemStyle(),L=[0,-T/2,T,T],P=b.getPlayState(),I=b.get("inverse",!0);E(S.nextBtnPosition,"controlStyle.nextIcon",d(this._changeTimeline,this,I?"-":"+")),E(S.prevBtnPosition,"controlStyle.prevIcon",d(this._changeTimeline,this,I?"+":"-")),E(S.playPosition,"controlStyle."+(P?"stopIcon":"playIcon"),d(this._handlePlayClick,this,!P),!0);function E(O,B,q,V){if(O){var R={position:O,origin:[T/2,0],rotation:V?-M:0,rectHover:!0,style:C,onclick:q},z=y(b,B,L,R);A.add(z),a.setHoverStyle(z,D)}}},_renderCurrentPointer:function(S,A,x,b){var T=b.getData(),M=b.getCurrentIndex(),C=T.getItemModel(M).getModel("checkpointStyle"),D=this,L={onCreate:function(P){P.draggable=!0,P.drift=d(D._handlePointerDrag,D),P.ondragend=d(D._handlePointerDragend,D),w(P,M,x,b,!0)},onUpdate:function(P){w(P,M,x,b)}};this._currentPointer=_(C,C,this._mainGroup,{},this._currentPointer,L)},_handlePlayClick:function(S){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:S,from:this.uid})},_handlePointerDrag:function(S,A,x){this._clearTimer(),this._pointerChangeTimeline([x.offsetX,x.offsetY])},_handlePointerDragend:function(S){this._pointerChangeTimeline([S.offsetX,S.offsetY],!0)},_pointerChangeTimeline:function(S,A){var x=this._toAxisCoord(S)[0],b=this._axis,T=v.asc(b.getExtent().slice());x>T[1]&&(x=T[1]),x<T[0]&&(x=T[0]),this._currentPointer.position[0]=x,this._currentPointer.dirty();var M=this._findNearestTick(x),C=this.model;(A||M!==C.getCurrentIndex()&&C.get("realtime"))&&this._changeTimeline(M)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(d(S,this),this.model.get("playInterval")));function S(){var A=this.model;this._changeTimeline(A.getCurrentIndex()+(A.get("rewind",!0)?-1:1))}},_toAxisCoord:function(S){var A=this._mainGroup.getLocalTransform();return a.applyTransform(S,A,!0)},_findNearestTick:function(S){var A=this.model.getData(),x=1/0,b,T=this._axis;return A.each(["value"],function(M,C){var D=T.dataToCoord(M),L=Math.abs(D-S);L<x&&(x=L,b=C)}),b},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(S){var A=this.model.getCurrentIndex();S==="+"?S=A+1:S==="-"&&(S=A-1),this.api.dispatchAction({type:"timelineChange",currentIndex:S,from:this.uid})}});function p(S,A){return i.getLayoutRect(S.getBoxLayoutParams(),{width:A.getWidth(),height:A.getHeight()},S.get("padding"))}function y(S,A,x,b){var T=a.makePath(S.get(A).replace(/^path:\/\//,""),e.clone(b||{}),new t(x[0],x[1],x[2],x[3]),"center");return T}function _(S,A,x,b,T,M){var C=A.get("color");if(T)T.setColor(C),x.add(T),M&&M.onUpdate(T);else{var D=S.get("symbol");T=o(D,-1,-1,2,2,C),T.setStyle("strokeNoScale",!0),x.add(T),M&&M.onCreate(T)}var L=A.getItemStyle(["color","symbol","symbolSize"]);T.setStyle(L),b=e.merge({rectHover:!0,z2:100},b,!0);var P=S.get("symbolSize");P=P instanceof Array?P.slice():[+P,+P],P[0]/=2,P[1]/=2,b.scale=P;var I=S.get("symbolOffset");if(I){var E=b.position=b.position||[0,0];E[0]+=v.parsePercent(I[0],P[0]),E[1]+=v.parsePercent(I[1],P[1])}var O=S.get("symbolRotate");return b.rotation=(O||0)*Math.PI/180||0,T.attr(b),T.updateTransform(),T}function w(S,A,x,b,T){if(!S.dragging){var M=b.getModel("checkpointStyle"),C=x.dataToCoord(b.getData().get(["value"],A));T||!M.get("animation",!0)?S.attr({position:[C,0]}):(S.stopAnimation(!0),S.animateTo({position:[C,0]},M.get("animationDuration",!0),M.get("animationEasing",!0)))}}return Rc=g,Rc}var qb;function gF(){if(qb)return Pb;qb=1;var e=_e,t=sF();return lF(),uF(),hF(),dF(),e.registerPreprocessor(t),Pb}var Gb={},Ec,Fb;function Tg(){if(Fb)return Ec;Fb=1;var e=_e,t=W,r=nt,a=Ie,i=Ne,n=rg,s=i.addCommas,c=i.encodeHTML;function o(h){a.defaultEmphasis(h,"label",["show"])}var u=e.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(h,l,d){this.mergeDefaultAndTheme(h,d),this._mergeOption(h,d,!1,!0)},isAnimationEnabled:function(){if(r.node)return!1;var h=this.__hostSeries;return this.getShallow("animation")&&h&&h.isAnimationEnabled()},mergeOption:function(h,l){this._mergeOption(h,l,!1,!1)},_mergeOption:function(h,l,d,f){var m=this.constructor,g=this.mainType+"Model";d||l.eachSeries(function(p){var y=p.get(this.mainType,!0),_=p[g];if(!y||!y.data){p[g]=null;return}_?_._mergeOption(y,l,!0):(f&&o(y),t.each(y.data,function(w){w instanceof Array?(o(w[0]),o(w[1])):o(w)}),_=new m(y,this,l),t.extend(_,{mainType:this.mainType,seriesIndex:p.seriesIndex,name:p.name,createdBySelf:!0}),_.__hostSeries=p),p[g]=_},this)},formatTooltip:function(h){var l=this.getData(),d=this.getRawValue(h),f=t.isArray(d)?t.map(d,s).join(", "):s(d),m=l.getName(h),g=c(this.name);return(d!=null||m)&&(g+="<br />"),m&&(g+=c(m),d!=null&&(g+=" : ")),d!=null&&(g+=c(f)),g},getData:function(){return this._data},setData:function(h){this._data=h}});t.mixin(u,n);var v=u;return Ec=v,Ec}var kc,$b;function pF(){if($b)return kc;$b=1;var e=Tg(),t=e.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});return kc=t,kc}var ha={},Ub;function Cg(){if(Ub)return ha;Ub=1;var e=W,t=Le,r=br(),a=r.isDimensionStacked,i=e.indexOf;function n(g){return!(isNaN(parseFloat(g.x))&&isNaN(parseFloat(g.y)))}function s(g){return!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y))}function c(g,p,y,_,w,S){var A=[],x=a(p,_),b=x?p.getCalculationInfo("stackResultDimension"):_,T=m(p,b,g),M=p.indicesOfNearest(b,T)[0];A[w]=p.get(y,M),A[S]=p.get(b,M);var C=p.get(_,M),D=t.getPrecision(p.get(_,M));return D=Math.min(D,20),D>=0&&(A[S]=+A[S].toFixed(D)),[A,C]}var o=e.curry,u={min:o(c,"min"),max:o(c,"max"),average:o(c,"average")};function v(g,p){var y=g.getData(),_=g.coordinateSystem;if(p&&!s(p)&&!e.isArray(p.coord)&&_){var w=_.dimensions,S=h(p,y,_,g);if(p=e.clone(p),p.type&&u[p.type]&&S.baseAxis&&S.valueAxis){var A=i(w,S.baseAxis.dim),x=i(w,S.valueAxis.dim),b=u[p.type](y,S.baseDataDim,S.valueDataDim,A,x);p.coord=b[0],p.value=b[1]}else{for(var T=[p.xAxis!=null?p.xAxis:p.radiusAxis,p.yAxis!=null?p.yAxis:p.angleAxis],M=0;M<2;M++)u[T[M]]&&(T[M]=m(y,y.mapDimension(w[M]),T[M]));p.coord=T}}return p}function h(g,p,y,_){var w={};return g.valueIndex!=null||g.valueDim!=null?(w.valueDataDim=g.valueIndex!=null?p.getDimension(g.valueIndex):g.valueDim,w.valueAxis=y.getAxis(l(_,w.valueDataDim)),w.baseAxis=y.getOtherAxis(w.valueAxis),w.baseDataDim=p.mapDimension(w.baseAxis.dim)):(w.baseAxis=_.getBaseAxis(),w.valueAxis=y.getOtherAxis(w.baseAxis),w.baseDataDim=p.mapDimension(w.baseAxis.dim),w.valueDataDim=p.mapDimension(w.valueAxis.dim)),w}function l(g,p){var y=g.getData(),_=y.dimensions;p=y.getDimension(p);for(var w=0;w<_.length;w++){var S=y.getDimensionInfo(_[w]);if(S.name===p)return S.coordDim}}function d(g,p){return g&&g.containData&&p.coord&&!n(p)?g.containData(p.coord):!0}function f(g,p,y,_){return _<2?g.coord&&g.coord[_]:g.value}function m(g,p,y){if(y==="average"){var _=0,w=0;return g.each(p,function(S,A){isNaN(S)||(_+=S,w++)}),_/w}else return y==="median"?g.getMedian(p):g.getDataExtent(p,!0)[y==="max"?1:0]}return ha.dataTransform=v,ha.getAxisInfo=h,ha.dataFilter=d,ha.dimValueGetter=f,ha.numCalculate=m,ha}var Oc,Wb;function Mg(){if(Wb)return Oc;Wb=1;var e=_e,t=W,r=e.extendComponentView({type:"marker",init:function(){this.markerGroupMap=t.createHashMap()},render:function(a,i,n){var s=this.markerGroupMap;s.each(function(o){o.__keep=!1});var c=this.type+"Model";i.eachSeries(function(o){var u=o[c];u&&this.renderSeries(o,u,i,n)},this),s.each(function(o){!o.__keep&&this.group.remove(o.group)},this)},renderSeries:function(){}});return Oc=r,Oc}var zc,Zb;function mF(){if(Zb)return zc;Zb=1;var e=W,t=Dn(),r=Le,a=Wt(),i=Cg(),n=Mg();function s(u,v,h){var l=v.coordinateSystem;u.each(function(d){var f=u.getItemModel(d),m,g=r.parsePercent(f.get("x"),h.getWidth()),p=r.parsePercent(f.get("y"),h.getHeight());if(!isNaN(g)&&!isNaN(p))m=[g,p];else if(v.getMarkerPosition)m=v.getMarkerPosition(u.getValues(u.dimensions,d));else if(l){var y=u.get(l.dimensions[0],d),_=u.get(l.dimensions[1],d);m=l.dataToPoint([y,_])}isNaN(g)||(m[0]=g),isNaN(p)||(m[1]=p),u.setItemLayout(d,m)})}var c=n.extend({type:"markPoint",updateTransform:function(u,v,h){v.eachSeries(function(l){var d=l.markPointModel;d&&(s(d.getData(),l,h),this.markerGroupMap.get(l.id).updateLayout(d))},this)},renderSeries:function(u,v,h,l){var d=u.coordinateSystem,f=u.id,m=u.getData(),g=this.markerGroupMap,p=g.get(f)||g.set(f,new t),y=o(d,u,v);v.setData(y),s(v.getData(),u,l),y.each(function(_){var w=y.getItemModel(_),S=w.getShallow("symbol"),A=w.getShallow("symbolSize"),x=e.isFunction(S),b=e.isFunction(A);if(x||b){var T=v.getRawValue(_),M=v.getDataParams(_);x&&(S=S(T,M)),b&&(A=A(T,M))}y.setItemVisual(_,{symbol:S,symbolSize:A,color:w.get("itemStyle.color")||m.getVisual("color")})}),p.updateData(y),this.group.add(p.group),y.eachItemGraphicEl(function(_){_.traverse(function(w){w.dataModel=v})}),p.__keep=!0,p.group.silent=v.get("silent")||u.get("silent")}});function o(u,v,h){var l;u?l=e.map(u&&u.dimensions,function(m){var g=v.getData().getDimensionInfo(v.getData().mapDimension(m))||{};return e.defaults({name:m},g)}):l=[{name:"value",type:"float"}];var d=new a(l,h),f=e.map(h.get("data"),e.curry(i.dataTransform,v));return u&&(f=e.filter(f,e.curry(i.dataFilter,u))),d.initData(f,null,u?i.dimValueGetter:function(m){return m.value}),d}return zc=c,zc}var Yb;function yF(){if(Yb)return Gb;Yb=1;var e=_e;return pF(),mF(),e.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),Gb}var Xb={},Bc,Kb;function _F(){if(Kb)return Bc;Kb=1;var e=Tg(),t=e.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});return Bc=t,Bc}var Nc,Qb;function xF(){if(Qb)return Nc;Qb=1;var e=W,t=Wt(),r=Le,a=Cg(),i=pg(),n=Mg(),s=br(),c=s.getStackedDimension,o=function(m,g,p,y){var _=m.getData(),w=y.type;if(!e.isArray(y)&&(w==="min"||w==="max"||w==="average"||w==="median"||y.xAxis!=null||y.yAxis!=null)){var S,A;if(y.yAxis!=null||y.xAxis!=null)S=g.getAxis(y.yAxis!=null?"y":"x"),A=e.retrieve(y.yAxis,y.xAxis);else{var x=a.getAxisInfo(y,_,g,m);S=x.valueAxis;var b=c(_,x.valueDataDim);A=a.numCalculate(_,b,w)}var T=S.dim==="x"?0:1,M=1-T,C=e.clone(y),D={};C.type=null,C.coord=[],D.coord=[],C.coord[M]=-1/0,D.coord[M]=1/0;var L=p.get("precision");L>=0&&typeof A=="number"&&(A=+A.toFixed(Math.min(L,20))),C.coord[T]=D.coord[T]=A,y=[C,D,{type:w,valueIndex:y.valueIndex,value:A}]}return y=[a.dataTransform(m,y[0]),a.dataTransform(m,y[1]),e.extend({},y[2])],y[2].type=y[2].type||"",e.merge(y[2],y[0]),e.merge(y[2],y[1]),y};function u(m){return!isNaN(m)&&!isFinite(m)}function v(m,g,p,y){var _=1-m,w=y.dimensions[m];return u(g[_])&&u(p[_])&&g[m]===p[m]&&y.getAxis(w).containData(g[m])}function h(m,g){if(m.type==="cartesian2d"){var p=g[0].coord,y=g[1].coord;if(p&&y&&(v(1,p,y,m)||v(0,p,y,m)))return!0}return a.dataFilter(m,g[0])&&a.dataFilter(m,g[1])}function l(m,g,p,y,_){var w=y.coordinateSystem,S=m.getItemModel(g),A,x=r.parsePercent(S.get("x"),_.getWidth()),b=r.parsePercent(S.get("y"),_.getHeight());if(!isNaN(x)&&!isNaN(b))A=[x,b];else{if(y.getMarkerPosition)A=y.getMarkerPosition(m.getValues(m.dimensions,g));else{var T=w.dimensions,M=m.get(T[0],g),C=m.get(T[1],g);A=w.dataToPoint([M,C])}if(w.type==="cartesian2d"){var D=w.getAxis("x"),L=w.getAxis("y"),T=w.dimensions;u(m.get(T[0],g))?A[0]=D.toGlobalCoord(D.getExtent()[p?0:1]):u(m.get(T[1],g))&&(A[1]=L.toGlobalCoord(L.getExtent()[p?0:1]))}isNaN(x)||(A[0]=x),isNaN(b)||(A[1]=b)}m.setItemLayout(g,A)}var d=n.extend({type:"markLine",updateTransform:function(m,g,p){g.eachSeries(function(y){var _=y.markLineModel;if(_){var w=_.getData(),S=_.__from,A=_.__to;S.each(function(x){l(S,x,!0,y,p),l(A,x,!1,y,p)}),w.each(function(x){w.setItemLayout(x,[S.getItemLayout(x),A.getItemLayout(x)])}),this.markerGroupMap.get(y.id).updateLayout()}},this)},renderSeries:function(m,g,p,y){var _=m.coordinateSystem,w=m.id,S=m.getData(),A=this.markerGroupMap,x=A.get(w)||A.set(w,new i);this.group.add(x.group);var b=f(_,m,g),T=b.from,M=b.to,C=b.line;g.__from=T,g.__to=M,g.setData(C);var D=g.get("symbol"),L=g.get("symbolSize");e.isArray(D)||(D=[D,D]),typeof L=="number"&&(L=[L,L]),b.from.each(function(I){P(T,I,!0),P(M,I,!1)}),C.each(function(I){var E=C.getItemModel(I).get("lineStyle.color");C.setItemVisual(I,{color:E||T.getItemVisual(I,"color")}),C.setItemLayout(I,[T.getItemLayout(I),M.getItemLayout(I)]),C.setItemVisual(I,{fromSymbolSize:T.getItemVisual(I,"symbolSize"),fromSymbol:T.getItemVisual(I,"symbol"),toSymbolSize:M.getItemVisual(I,"symbolSize"),toSymbol:M.getItemVisual(I,"symbol")})}),x.updateData(C),b.line.eachItemGraphicEl(function(I,E){I.traverse(function(O){O.dataModel=g})});function P(I,E,O){var B=I.getItemModel(E);l(I,E,O,m,y),I.setItemVisual(E,{symbolSize:B.get("symbolSize")||L[O?0:1],symbol:B.get("symbol",!0)||D[O?0:1],color:B.get("itemStyle.color")||S.getVisual("color")})}x.__keep=!0,x.group.silent=g.get("silent")||m.get("silent")}});function f(m,g,p){var y;m?y=e.map(m&&m.dimensions,function(b){var T=g.getData().getDimensionInfo(g.getData().mapDimension(b))||{};return e.defaults({name:b},T)}):y=[{name:"value",type:"float"}];var _=new t(y,p),w=new t(y,p),S=new t([],p),A=e.map(p.get("data"),e.curry(o,g,m,p));m&&(A=e.filter(A,e.curry(h,m)));var x=m?a.dimValueGetter:function(b){return b.value};return _.initData(e.map(A,function(b){return b[0]}),null,x),w.initData(e.map(A,function(b){return b[1]}),null,x),S.initData(e.map(A,function(b){return b[2]})),S.hasItemOption=!0,{from:_,to:w,line:S}}return Nc=d,Nc}var jb;function SF(){if(jb)return Xb;jb=1;var e=_e;return _F(),xF(),e.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),Xb}var Jb={},Vc,ew;function bF(){if(ew)return Vc;ew=1;var e=Tg(),t=e.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});return Vc=t,Vc}var tw={},rw;function wF(){if(rw)return tw;rw=1;var e=W,t=lt,r=Wt(),a=Le,i=fe,n=Cg(),s=Mg(),c=function(f,m,g,p){var y=n.dataTransform(f,p[0]),_=n.dataTransform(f,p[1]),w=e.retrieve,S=y.coord,A=_.coord;S[0]=w(S[0],-1/0),S[1]=w(S[1],-1/0),A[0]=w(A[0],1/0),A[1]=w(A[1],1/0);var x=e.mergeAll([{},y,_]);return x.coord=[y.coord,_.coord],x.x0=y.x,x.y0=y.y,x.x1=_.x,x.y1=_.y,x};function o(f){return!isNaN(f)&&!isFinite(f)}function u(f,m,g,p){var y=1-f;return o(m[y])&&o(g[y])}function v(f,m){var g=m.coord[0],p=m.coord[1];return f.type==="cartesian2d"&&g&&p&&(u(1,g,p)||u(0,g,p))?!0:n.dataFilter(f,{coord:g,x:m.x0,y:m.y0})||n.dataFilter(f,{coord:p,x:m.x1,y:m.y1})}function h(f,m,g,p,y){var _=p.coordinateSystem,w=f.getItemModel(m),S,A=a.parsePercent(w.get(g[0]),y.getWidth()),x=a.parsePercent(w.get(g[1]),y.getHeight());if(!isNaN(A)&&!isNaN(x))S=[A,x];else{if(p.getMarkerPosition)S=p.getMarkerPosition(f.getValues(g,m));else{var b=f.get(g[0],m),T=f.get(g[1],m),M=[b,T];_.clampData&&_.clampData(M,M),S=_.dataToPoint(M,!0)}if(_.type==="cartesian2d"){var C=_.getAxis("x"),D=_.getAxis("y"),b=f.get(g[0],m),T=f.get(g[1],m);o(b)?S[0]=C.toGlobalCoord(C.getExtent()[g[0]==="x0"?0:1]):o(T)&&(S[1]=D.toGlobalCoord(D.getExtent()[g[1]==="y0"?0:1]))}isNaN(A)||(S[0]=A),isNaN(x)||(S[1]=x)}return S}var l=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];s.extend({type:"markArea",updateTransform:function(f,m,g){m.eachSeries(function(p){var y=p.markAreaModel;if(y){var _=y.getData();_.each(function(w){var S=e.map(l,function(x){return h(_,w,x,p,g)});_.setItemLayout(w,S);var A=_.getItemGraphicEl(w);A.setShape("points",S)})}},this)},renderSeries:function(f,m,g,p){var y=f.coordinateSystem,_=f.id,w=f.getData(),S=this.markerGroupMap,A=S.get(_)||S.set(_,{group:new i.Group});this.group.add(A.group),A.__keep=!0;var x=d(y,f,m);m.setData(x),x.each(function(b){x.setItemLayout(b,e.map(l,function(T){return h(x,b,T,f,p)})),x.setItemVisual(b,{color:w.getVisual("color")})}),x.diff(A.__data).add(function(b){var T=new i.Polygon({shape:{points:x.getItemLayout(b)}});x.setItemGraphicEl(b,T),A.group.add(T)}).update(function(b,T){var M=A.__data.getItemGraphicEl(T);i.updateProps(M,{shape:{points:x.getItemLayout(b)}},m,b),A.group.add(M),x.setItemGraphicEl(b,M)}).remove(function(b){var T=A.__data.getItemGraphicEl(b);A.group.remove(T)}).execute(),x.eachItemGraphicEl(function(b,T){var M=x.getItemModel(T),C=M.getModel("label"),D=M.getModel("emphasis.label"),L=x.getItemVisual(T,"color");b.useStyle(e.defaults(M.getModel("itemStyle").getItemStyle(),{fill:t.modifyAlpha(L,.4),stroke:L})),b.hoverStyle=M.getModel("emphasis.itemStyle").getItemStyle(),i.setLabelStyle(b.style,b.hoverStyle,C,D,{labelFetcher:m,labelDataIndex:T,defaultText:x.getName(T)||"",isRectText:!0,autoColor:L}),i.setHoverStyle(b,{}),b.dataModel=m}),A.__data=x,A.group.silent=m.get("silent")||f.get("silent")}});function d(f,m,g){var p,y,_=["x0","y0","x1","y1"];f?(p=e.map(f&&f.dimensions,function(A){var x=m.getData(),b=x.getDimensionInfo(x.mapDimension(A))||{};return e.defaults({name:A},b)}),y=new r(e.map(_,function(A,x){return{name:A,type:p[x%2].type}}),g)):(p=[{name:"value",type:"float"}],y=new r(p,g));var w=e.map(g.get("data"),e.curry(c,m,f,g));f&&(w=e.filter(w,e.curry(v,f)));var S=f?function(A,x,b,T){return A.coord[Math.floor(T/2)][T%2]}:function(A){return A.value};return y.initData(w,null,S),y.hasItemOption=!0,y}return tw}var aw;function AF(){if(aw)return Jb;aw=1;var e=_e;return bF(),wF(),e.registerPreprocessor(function(t){t.markArea=t.markArea||{}}),Jb}var iw={},nw={},Hc,ow;function eD(){if(ow)return Hc;ow=1;var e=_e,t=W,r=ot,a=Ie,i=a.isNameSpecified,n=ea,s=n.legend.selector,c={all:{type:"all",title:t.clone(s.all)},inverse:{type:"inverse",title:t.clone(s.inverse)}},o=e.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(v,h,l){this.mergeDefaultAndTheme(v,l),v.selected=v.selected||{},this._updateSelector(v)},mergeOption:function(v){o.superCall(this,"mergeOption",v),this._updateSelector(v)},_updateSelector:function(v){var h=v.selector;h===!0&&(h=v.selector=["all","inverse"]),t.isArray(h)&&t.each(h,function(l,d){t.isString(l)&&(l={type:l}),h[d]=t.merge(l,c[l.type])})},optionUpdated:function(){this._updateData(this.ecModel);var v=this._data;if(v[0]&&this.get("selectedMode")==="single"){for(var h=!1,l=0;l<v.length;l++){var d=v[l].get("name");if(this.isSelected(d)){this.select(d),h=!0;break}}!h&&this.select(v[0].get("name"))}},_updateData:function(v){var h=[],l=[];v.eachRawSeries(function(m){var g=m.name;l.push(g);var p;if(m.legendVisualProvider){var y=m.legendVisualProvider,_=y.getAllNames();v.isSeriesFiltered(m)||(l=l.concat(_)),_.length?h=h.concat(_):p=!0}else p=!0;p&&i(m)&&h.push(m.name)}),this._availableNames=l;var d=this.get("data")||h,f=t.map(d,function(m){return(typeof m=="string"||typeof m=="number")&&(m={name:m}),new r(m,this,this.ecModel)},this);this._data=f},getData:function(){return this._data},select:function(v){var h=this.option.selected,l=this.get("selectedMode");if(l==="single"){var d=this._data;t.each(d,function(f){h[f.get("name")]=!1})}h[v]=!0},unSelect:function(v){this.get("selectedMode")!=="single"&&(this.option.selected[v]=!1)},toggleSelected:function(v){var h=this.option.selected;h.hasOwnProperty(v)||(h[v]=!0),this[h[v]?"unSelect":"select"](v)},allSelect:function(){var v=this._data,h=this.option.selected;t.each(v,function(l){h[l.get("name",!0)]=!0})},inverseSelect:function(){var v=this._data,h=this.option.selected;t.each(v,function(l){var d=l.get("name",!0);h.hasOwnProperty(d)||(h[d]=!0),h[d]=!h[d]})},isSelected:function(v){var h=this.option.selected;return!(h.hasOwnProperty(v)&&!h[v])&&t.indexOf(this._availableNames,v)>=0},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),u=o;return Hc=u,Hc}var sw={},lw;function TF(){if(lw)return sw;lw=1;var e=_e,t=W;function r(a,i,n){var s={},c=a==="toggleSelected",o;return n.eachComponent("legend",function(u){c&&o!=null?u[o?"select":"unSelect"](i.name):a==="allSelect"||a==="inverseSelect"?u[a]():(u[a](i.name),o=u.isSelected(i.name));var v=u.getData();t.each(v,function(h){var l=h.get("name");if(!(l===`
`||l==="")){var d=u.isSelected(l);s.hasOwnProperty(l)?s[l]=s[l]&&d:s[l]=d}})}),a==="allSelect"||a==="inverseSelect"?{selected:s}:{name:i.name,selected:s}}return e.registerAction("legendToggleSelect","legendselectchanged",t.curry(r,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",t.curry(r,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",t.curry(r,"inverseSelect")),e.registerAction("legendSelect","legendselected",t.curry(r,"select")),e.registerAction("legendUnSelect","legendunselected",t.curry(r,"unSelect")),sw}var qc,uw;function tD(){if(uw)return qc;uw=1;var e=_e,t=W,r=Zt(),a=r.createSymbol,i=fe,n=KM(),s=n.makeBackground,c=Be,o=t.curry,u=t.each,v=i.Group,h=e.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new v),this._backgroundEl,this.group.add(this._selectorGroup=new v),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(g,p,y){var _=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!g.get("show",!0)){var w=g.get("align"),S=g.get("orient");(!w||w==="auto")&&(w=g.get("left")==="right"&&S==="vertical"?"right":"left");var A=g.get("selector",!0),x=g.get("selectorPosition",!0);A&&(!x||x==="auto")&&(x=S==="horizontal"?"end":"start"),this.renderInner(w,g,p,y,A,S,x);var b=g.getBoxLayoutParams(),T={width:y.getWidth(),height:y.getHeight()},M=g.get("padding"),C=c.getLayoutRect(b,T,M),D=this.layoutInner(g,w,C,_,A,x),L=c.getLayoutRect(t.defaults({width:D.width,height:D.height},b),T,M);this.group.attr("position",[L.x-D.x,L.y-D.y]),this.group.add(this._backgroundEl=s(D,g))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(g,p,y,_,w,S,A){var x=this.getContentGroup(),b=t.createHashMap(),T=p.get("selectedMode"),M=[];y.eachRawSeries(function(C){!C.get("legendHoverLink")&&M.push(C.id)}),u(p.getData(),function(C,D){var L=C.get("name");if(!this.newlineDisabled&&(L===""||L===`
`)){x.add(new v({newline:!0}));return}var P=y.getSeriesByName(L)[0];if(!b.get(L))if(P){var I=P.getData(),E=I.getVisual("color"),O=I.getVisual("borderColor");typeof E=="function"&&(E=E(P.getDataParams(0))),typeof O=="function"&&(O=O(P.getDataParams(0)));var B=I.getVisual("legendSymbol")||"roundRect",q=I.getVisual("symbol"),V=this._createItem(L,D,C,p,B,q,g,E,O,T);V.on("click",o(d,L,null,_,M)).on("mouseover",o(f,P.name,null,_,M)).on("mouseout",o(m,P.name,null,_,M)),b.set(L,!0)}else y.eachRawSeries(function(R){if(!b.get(L)&&R.legendVisualProvider){var z=R.legendVisualProvider;if(!z.containName(L))return;var k=z.indexOfName(L),N=z.getItemVisual(k,"color"),G=z.getItemVisual(k,"borderColor"),H="roundRect",F=this._createItem(L,D,C,p,H,null,g,N,G,T);F.on("click",o(d,null,L,_,M)).on("mouseover",o(f,null,L,_,M)).on("mouseout",o(m,null,L,_,M)),b.set(L,!0)}},this)},this),w&&this._createSelector(w,p,_,S,A)},_createSelector:function(g,p,y,_,w){var S=this.getSelectorGroup();u(g,function(x){A(x)});function A(x){var b=x.type,T=new i.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){y.dispatchAction({type:b==="all"?"legendAllSelect":"legendInverseSelect"})}});S.add(T);var M=p.getModel("selectorLabel"),C=p.getModel("emphasis.selectorLabel");i.setLabelStyle(T.style,T.hoverStyle={},M,C,{defaultText:x.title,isRectText:!1}),i.setHoverStyle(T)}},_createItem:function(g,p,y,_,w,S,A,x,b,T){var M=_.get("itemWidth"),C=_.get("itemHeight"),D=_.get("inactiveColor"),L=_.get("inactiveBorderColor"),P=_.get("symbolKeepAspect"),I=_.getModel("itemStyle"),E=_.isSelected(g),O=new v,B=y.getModel("textStyle"),q=y.get("icon"),V=y.getModel("tooltip"),R=V.parentModel;w=q||w;var z=a(w,0,0,M,C,E?x:D,P??!0);if(O.add(l(z,w,I,b,L,E)),!q&&S&&(S!==w||S==="none")){var k=C*.8;S==="none"&&(S="circle");var N=a(S,(M-k)/2,(C-k)/2,k,k,E?x:D,P??!0);O.add(l(N,S,I,b,L,E))}var G=A==="left"?M+5:-5,H=A,F=_.get("formatter"),$=g;typeof F=="string"&&F?$=F.replace("{name}",g??""):typeof F=="function"&&($=F(g)),O.add(new i.Text({style:i.setTextStyle({},B,{text:$,x:G,y:C/2,textFill:E?B.getTextColor():D,textAlign:H,textVerticalAlign:"middle"})}));var U=new i.Rect({shape:O.getBoundingRect(),invisible:!0,tooltip:V.get("show")?t.extend({content:g,formatter:R.get("formatter",!0)||function(){return g},formatterParams:{componentType:"legend",legendIndex:_.componentIndex,name:g,$vars:["name"]}},V.option):null});return O.add(U),O.eachChild(function(X){X.silent=!0}),U.silent=!T,this.getContentGroup().add(O),i.setHoverStyle(O),O.__legendDataIndex=p,O},layoutInner:function(g,p,y,_,w,S){var A=this.getContentGroup(),x=this.getSelectorGroup();c.box(g.get("orient"),A,g.get("itemGap"),y.width,y.height);var b=A.getBoundingRect(),T=[-b.x,-b.y];if(w){c.box("horizontal",x,g.get("selectorItemGap",!0));var M=x.getBoundingRect(),C=[-M.x,-M.y],D=g.get("selectorButtonGap",!0),L=g.getOrient().index,P=L===0?"width":"height",I=L===0?"height":"width",E=L===0?"y":"x";S==="end"?C[L]+=b[P]+D:T[L]+=M[P]+D,C[1-L]+=b[I]/2-M[I]/2,x.attr("position",C),A.attr("position",T);var O={x:0,y:0};return O[P]=b[P]+D+M[P],O[I]=Math.max(b[I],M[I]),O[E]=Math.min(0,M[E]+C[1-L]),O}else return A.attr("position",T),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function l(g,p,y,_,w,S){var A;return p!=="line"&&p.indexOf("empty")<0?(A=y.getItemStyle(),g.style.stroke=_,S||(A.stroke=w)):A=y.getItemStyle(["borderWidth","borderColor"]),g.setStyle(A)}function d(g,p,y,_){m(g,p,y,_),y.dispatchAction({type:"legendToggleSelect",name:g??p}),f(g,p,y,_)}function f(g,p,y,_){var w=y.getZr().storage.getDisplayList()[0];w&&w.useHoverLayer||y.dispatchAction({type:"highlight",seriesName:g,name:p,excludeSeriesId:_})}function m(g,p,y,_){var w=y.getZr().storage.getDisplayList()[0];w&&w.useHoverLayer||y.dispatchAction({type:"downplay",seriesName:g,name:p,excludeSeriesId:_})}return qc=h,qc}var Gc,vw;function CF(){if(vw)return Gc;vw=1;function e(t){var r=t.findComponents({mainType:"legend"});r&&r.length&&t.filterSeries(function(a){for(var i=0;i<r.length;i++)if(!r[i].isSelected(a.name))return!1;return!0})}return Gc=e,Gc}var hw;function rD(){if(hw)return nw;hw=1;var e=_e;eD(),TF(),tD();var t=CF(),r=ht;return e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,t),r.registerSubTypeDefaulter("legend",function(){return"plain"}),nw}var Fc,cw;function MF(){if(cw)return Fc;cw=1;var e=eD(),t=Be,r=t.mergeLayoutParam,a=t.getLayoutParams,i=e.extend({type:"legend.scroll",setScrollDataIndex:function(c){this.option.scrollDataIndex=c},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(c,o,u,v){var h=a(c);i.superCall(this,"init",c,o,u,v),n(this,c,h)},mergeOption:function(c,o){i.superCall(this,"mergeOption",c,o),n(this,this.option,c)}});function n(c,o,u){var v=c.getOrient(),h=[1,1];h[v.index]=0,r(o,u,{type:"box",ignoreSize:h})}var s=i;return Fc=s,Fc}var $c,fw;function DF(){if(fw)return $c;fw=1;var e=W,t=fe,r=Be,a=tD(),i=t.Group,n=["width","height"],s=["x","y"],c=a.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){c.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new i),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new i),this._showController},resetInner:function(){c.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(u,v,h,l,d,f,m){var g=this;c.superCall(this,"renderInner",u,v,h,l,d,f,m);var p=this._controllerGroup,y=v.get("pageIconSize",!0);e.isArray(y)||(y=[y,y]),w("pagePrev",0);var _=v.getModel("pageTextStyle");p.add(new t.Text({name:"pageText",style:{textFill:_.getTextColor(),font:_.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),w("pageNext",1);function w(S,A){var x=S+"DataIndex",b=t.createIcon(v.get("pageIcons",!0)[v.getOrient().name][A],{onclick:e.bind(g._pageGo,g,x,v,l)},{x:-y[0]/2,y:-y[1]/2,width:y[0],height:y[1]});b.name=S,p.add(b)}},layoutInner:function(u,v,h,l,d,f){var m=this.getSelectorGroup(),g=u.getOrient().index,p=n[g],y=s[g],_=n[1-g],w=s[1-g];d&&r.box("horizontal",m,u.get("selectorItemGap",!0));var S=u.get("selectorButtonGap",!0),A=m.getBoundingRect(),x=[-A.x,-A.y],b=e.clone(h);d&&(b[p]=h[p]-A[p]-S);var T=this._layoutContentAndController(u,l,b,g,p,_,w);if(d){if(f==="end")x[g]+=T[p]+S;else{var M=A[p]+S;x[g]-=M,T[y]-=M}T[p]+=A[p]+S,x[1-g]+=T[w]+T[_]/2-A[_]/2,T[_]=Math.max(T[_],A[_]),T[w]=Math.min(T[w],A[w]+x[1-g]),m.attr("position",x)}return T},_layoutContentAndController:function(u,v,h,l,d,f,m){var g=this.getContentGroup(),p=this._containerGroup,y=this._controllerGroup;r.box(u.get("orient"),g,u.get("itemGap"),l?h.width:null,l?null:h.height),r.box("horizontal",y,u.get("pageButtonItemGap",!0));var _=g.getBoundingRect(),w=y.getBoundingRect(),S=this._showController=_[d]>h[d],A=[-_.x,-_.y];v||(A[l]=g.position[l]);var x=[0,0],b=[-w.x,-w.y],T=e.retrieve2(u.get("pageButtonGap",!0),u.get("itemGap",!0));if(S){var M=u.get("pageButtonPosition",!0);M==="end"?b[l]+=h[d]-w[d]:x[l]+=w[d]+T}b[1-l]+=_[f]/2-w[f]/2,g.attr("position",A),p.attr("position",x),y.attr("position",b);var C={x:0,y:0};if(C[d]=S?h[d]:_[d],C[f]=Math.max(_[f],w[f]),C[m]=Math.min(0,w[m]+b[1-l]),p.__rectSize=h[d],S){var D={x:0,y:0};D[d]=Math.max(h[d]-w[d]-T,0),D[f]=C[f],p.setClipPath(new t.Rect({shape:D})),p.__rectSize=D[d]}else y.eachChild(function(P){P.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(u);return L.pageIndex!=null&&t.updateProps(g,{position:L.contentPosition},S?u:!1),this._updatePageInfoView(u,L),C},_pageGo:function(u,v,h){var l=this._getPageInfo(v)[u];l!=null&&h.dispatchAction({type:"legendScroll",scrollDataIndex:l,legendId:v.id})},_updatePageInfoView:function(u,v){var h=this._controllerGroup;e.each(["pagePrev","pageNext"],function(p){var y=v[p+"DataIndex"]!=null,_=h.childOfName(p);_&&(_.setStyle("fill",y?u.get("pageIconColor",!0):u.get("pageIconInactiveColor",!0)),_.cursor=y?"pointer":"default")});var l=h.childOfName("pageText"),d=u.get("pageFormatter"),f=v.pageIndex,m=f!=null?f+1:0,g=v.pageCount;l&&d&&l.setStyle("text",e.isString(d)?d.replace("{current}",m).replace("{total}",g):d({current:m,total:g}))},_getPageInfo:function(u){var v=u.get("scrollDataIndex",!0),h=this.getContentGroup(),l=this._containerGroup.__rectSize,d=u.getOrient().index,f=n[d],m=s[d],g=this._findTargetItemIndex(v),p=h.children(),y=p[g],_=p.length,w=_?1:0,S={contentPosition:h.position.slice(),pageCount:w,pageIndex:w-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return S;var A=C(y);S.contentPosition[d]=-A.s;for(var x=g+1,b=A,T=A,M=null;x<=_;++x)M=C(p[x]),(!M&&T.e>b.s+l||M&&!D(M,b.s))&&(T.i>b.i?b=T:b=M,b&&(S.pageNextDataIndex==null&&(S.pageNextDataIndex=b.i),++S.pageCount)),T=M;for(var x=g-1,b=A,T=A,M=null;x>=-1;--x)M=C(p[x]),(!M||!D(T,M.s))&&b.i<T.i&&(T=b,S.pagePrevDataIndex==null&&(S.pagePrevDataIndex=b.i),++S.pageCount,++S.pageIndex),b=M;return S;function C(L){if(L){var P=L.getBoundingRect(),I=P[m]+L.position[d];return{s:I,e:I+P[f],i:L.__legendDataIndex}}}function D(L,P){return L.e>=P&&L.s<=P+l}},_findTargetItemIndex:function(u){if(!this._showController)return 0;var v,h=this.getContentGroup(),l;return h.eachChild(function(d,f){var m=d.__legendDataIndex;l==null&&m!=null&&(l=f),m===u&&(v=f)}),v??l}}),o=c;return $c=o,$c}var dw={},gw;function LF(){if(gw)return dw;gw=1;var e=_e;return e.registerAction("legendScroll","legendscroll",function(t,r){var a=t.scrollDataIndex;a!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(a)})}),dw}var pw;function PF(){return pw||(pw=1,rD(),MF(),DF(),LF()),iw}var mw={},yw={},Uc,_w;function IF(){if(_w)return Uc;_w=1;var e=Si(),t=e.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),r=t;return Uc=r,Uc}var Wc,xw;function RF(){if(xw)return Wc;xw=1;var e=W,t=vt,r=fe,a=ir,i=bi(),n=Le,s=Be,c=xi(),o=r.Rect,u=n.linearMap,v=n.asc,h=e.bind,l=e.each,d=7,f=1,m=30,g="horizontal",p="vertical",y=5,_=["line","bar","candlestick","scatter"],w=i.extend({type:"dataZoom.slider",init:function(b,T){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=T},render:function(b,T,M,C){if(w.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=b.get("orient"),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}(!C||C.type!=="dataZoom"||C.from!==this.uid)&&this._buildView(),this._updateView()},remove:function(){w.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){w.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var b=this.group;b.removeAll(),this._resetLocation(),this._resetInterval();var T=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),b.add(T),this._positionGroup()},_resetLocation:function(){var b=this.dataZoomModel,T=this.api,M=this._findCoordRect(),C={width:T.getWidth(),height:T.getHeight()},D=this._orient===g?{right:C.width-M.x-M.width,top:C.height-m-d,width:M.width,height:m}:{right:d,top:M.y,width:m,height:M.height},L=s.getLayoutParams(b.option);e.each(["right","top","width","height"],function(I){L[I]==="ph"&&(L[I]=D[I])});var P=s.getLayoutRect(L,C,b.padding);this._location={x:P.x,y:P.y},this._size=[P.width,P.height],this._orient===p&&this._size.reverse()},_positionGroup:function(){var b=this.group,T=this._location,M=this._orient,C=this.dataZoomModel.getFirstTargetAxisModel(),D=C&&C.get("inverse"),L=this._displayables.barGroup,P=(this._dataShadowInfo||{}).otherAxisInverse;L.attr(M===g&&!D?{scale:P?[1,1]:[1,-1]}:M===g&&D?{scale:P?[-1,1]:[-1,-1]}:M===p&&!D?{scale:P?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:P?[-1,-1]:[-1,1],rotation:Math.PI/2});var I=b.getBoundingRect([L]);b.attr("position",[T.x-I.x,T.y-I.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var b=this.dataZoomModel,T=this._size,M=this._displayables.barGroup;M.add(new o({silent:!0,shape:{x:0,y:0,width:T[0],height:T[1]},style:{fill:b.get("backgroundColor")},z2:-40})),M.add(new o({shape:{x:0,y:0,width:T[0],height:T[1]},style:{fill:"transparent"},z2:0,onclick:e.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var b=this._dataShadowInfo=this._prepareDataShadowInfo();if(b){var T=this._size,M=b.series,C=M.getRawData(),D=M.getShadowDim?M.getShadowDim():b.otherDim;if(D!=null){var L=C.getDataExtent(D),P=(L[1]-L[0])*.3;L=[L[0]-P,L[1]+P];var I=[0,T[1]],E=[0,T[0]],O=[[T[0],0],[0,0]],B=[],q=E[1]/(C.count()-1),V=0,R=Math.round(C.count()/T[0]),z;C.each([D],function(N,G){if(R>0&&G%R){V+=q;return}var H=N==null||isNaN(N)||N==="",F=H?0:u(N,L,I,!0);H&&!z&&G?(O.push([O[O.length-1][0],0]),B.push([B[B.length-1][0],0])):!H&&z&&(O.push([V,0]),B.push([V,0])),O.push([V,F]),B.push([V,F]),V+=q,z=H});var k=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:O},style:e.defaults({fill:k.get("dataBackgroundColor")},k.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:B},style:k.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var b=this.dataZoomModel,T=b.get("showDataShadow");if(T!==!1){var M,C=this.ecModel;return b.eachTargetAxis(function(D,L){var P=b.getAxisProxy(D.name,L).getTargetSeriesModels();e.each(P,function(I){if(!M&&!(T!==!0&&e.indexOf(_,I.get("type"))<0)){var E=C.getComponent(D.axis,L).axis,O=S(D.name),B,q=I.coordinateSystem;O!=null&&q.getOtherAxis&&(B=q.getOtherAxis(E).inverse),O=I.getData().mapDimension(O),M={thisAxis:E,series:I,thisDim:D.name,otherDim:O,otherAxisInverse:B}}},this)},this),M}},_renderHandle:function(){var b=this._displayables,T=b.handles=[],M=b.handleLabels=[],C=this._displayables.barGroup,D=this._size,L=this.dataZoomModel;C.add(b.filler=new o({draggable:!0,cursor:A(this._orient),drift:h(this._onDragMove,this,"all"),ondragstart:h(this._showDataInfo,this,!0),ondragend:h(this._onDragEnd,this),onmouseover:h(this._showDataInfo,this,!0),onmouseout:h(this._showDataInfo,this,!1),style:{fill:L.get("fillerColor"),textPosition:"inside"}})),C.add(new o({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:D[0],height:D[1]},style:{stroke:L.get("dataBackgroundColor")||L.get("borderColor"),lineWidth:f,fill:"rgba(0,0,0,0)"}})),l([0,1],function(P){var I=r.createIcon(L.get("handleIcon"),{cursor:A(this._orient),draggable:!0,drift:h(this._onDragMove,this,P),ondragend:h(this._onDragEnd,this),onmouseover:h(this._showDataInfo,this,!0),onmouseout:h(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),E=I.getBoundingRect();this._handleHeight=n.parsePercent(L.get("handleSize"),this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,I.setStyle(L.getModel("handleStyle").getItemStyle());var O=L.get("handleColor");O!=null&&(I.style.fill=O),C.add(T[P]=I);var B=L.textStyleModel;this.group.add(M[P]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:B.getTextColor(),textFont:B.getFont()},z2:10}))},this)},_resetInterval:function(){var b=this._range=this.dataZoomModel.getPercentRange(),T=this._getViewExtent();this._handleEnds=[u(b[0],[0,100],T,!0),u(b[1],[0,100],T,!0)]},_updateInterval:function(b,T){var M=this.dataZoomModel,C=this._handleEnds,D=this._getViewExtent(),L=M.findRepresentativeAxisProxy().getMinMaxSpan(),P=[0,100];c(T,C,D,M.get("zoomLock")?"all":b,L.minSpan!=null?u(L.minSpan,P,D,!0):null,L.maxSpan!=null?u(L.maxSpan,P,D,!0):null);var I=this._range,E=this._range=v([u(C[0],D,P,!0),u(C[1],D,P,!0)]);return!I||I[0]!==E[0]||I[1]!==E[1]},_updateView:function(b){var T=this._displayables,M=this._handleEnds,C=v(M.slice()),D=this._size;l([0,1],function(L){var P=T.handles[L],I=this._handleHeight;P.attr({scale:[I/2,I/2],position:[M[L],D[1]/2-I/2]})},this),T.filler.setShape({x:C[0],y:0,width:C[1]-C[0],height:D[1]}),this._updateDataInfo(b)},_updateDataInfo:function(b){var T=this.dataZoomModel,M=this._displayables,C=M.handleLabels,D=this._orient,L=["",""];if(T.get("showDetail")){var P=T.findRepresentativeAxisProxy();if(P){var I=P.getAxisModel().axis,E=this._range,O=b?P.calculateDataWindow({start:E[0],end:E[1]}).valueWindow:P.getDataValueWindow();L=[this._formatLabel(O[0],I),this._formatLabel(O[1],I)]}}var B=v(this._handleEnds.slice());q.call(this,0),q.call(this,1);function q(V){var R=r.getTransform(M.handles[V].parent,this.group),z=r.transformDirection(V===0?"right":"left",R),k=this._handleWidth/2+y,N=r.applyTransform([B[V]+(V===0?-k:k),this._size[1]/2],R);C[V].setStyle({x:N[0],y:N[1],textVerticalAlign:D===g?"middle":z,textAlign:D===g?z:"center",text:L[V]})}},_formatLabel:function(b,T){var M=this.dataZoomModel,C=M.get("labelFormatter"),D=M.get("labelPrecision");(D==null||D==="auto")&&(D=T.getPixelPrecision());var L=b==null||isNaN(b)?"":T.type==="category"||T.type==="time"?T.scale.getLabel(Math.round(b)):b.toFixed(Math.min(D,20));return e.isFunction(C)?C(b,L):e.isString(C)?C.replace("{value}",L):L},_showDataInfo:function(b){b=this._dragging||b;var T=this._displayables.handleLabels;T[0].attr("invisible",!b),T[1].attr("invisible",!b)},_onDragMove:function(b,T,M,C){this._dragging=!0,t.stop(C.event);var D=this._displayables.barGroup.getLocalTransform(),L=r.applyTransform([T,M],D,!0),P=this._updateInterval(b,L[0]),I=this.dataZoomModel.get("realtime");this._updateView(!I),P&&I&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var b=this.dataZoomModel.get("realtime");!b&&this._dispatchZoomAction()},_onClickPanelClick:function(b){var T=this._size,M=this._displayables.barGroup.transformCoordToLocal(b.offsetX,b.offsetY);if(!(M[0]<0||M[0]>T[0]||M[1]<0||M[1]>T[1])){var C=this._handleEnds,D=(C[0]+C[1])/2,L=this._updateInterval("all",M[0]-D);this._updateView(),L&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var b=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:b[0],end:b[1]})},_findCoordRect:function(){var b;if(l(this.getTargetCoordInfo(),function(C){if(!b&&C.length){var D=C[0].model.coordinateSystem;b=D.getRect&&D.getRect()}}),!b){var T=this.api.getWidth(),M=this.api.getHeight();b={x:T*.2,y:M*.2,width:T*.6,height:M*.6}}return b}});function S(b){var T={x:"y",y:"x",radius:"angle",angle:"radius"};return T[b]}function A(b){return b==="vertical"?"ns-resize":"ew-resize"}var x=w;return Wc=x,Wc}var Sw;function aD(){return Sw||(Sw=1,Sg(),Si(),bi(),IF(),RF(),wg(),Ag()),yw}var bw={},Zc,ww;function EF(){if(ww)return Zc;ww=1;var e=Si(),t=e.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});return Zc=t,Zc}var qi={},Aw;function kF(){if(Aw)return qi;Aw=1;var e=W,t=kn(),r=ir,a="\0_ec_dataZoom_roams";function i(l,d){var f=c(l),m=d.dataZoomId,g=d.coordId;e.each(f,function(_,w){var S=_.dataZoomInfos;S[m]&&e.indexOf(d.allCoordIds,g)<0&&(delete S[m],_.count--)}),u(f);var p=f[g];p||(p=f[g]={coordId:g,dataZoomInfos:{},count:0},p.controller=o(l,p),p.dispatchAction=e.curry(v,l)),!p.dataZoomInfos[m]&&p.count++,p.dataZoomInfos[m]=d;var y=h(p.dataZoomInfos);p.controller.enable(y.controlType,y.opt),p.controller.setPointerChecker(d.containsPoint),r.createOrUpdate(p,"dispatchAction",d.dataZoomModel.get("throttle",!0),"fixRate")}function n(l,d){var f=c(l);e.each(f,function(m){m.controller.dispose();var g=m.dataZoomInfos;g[d]&&(delete g[d],m.count--)}),u(f)}function s(l){return l.type+"\0_"+l.id}function c(l){var d=l.getZr();return d[a]||(d[a]={})}function o(l,d){var f=new t(l.getZr());return e.each(["pan","zoom","scrollMove"],function(m){f.on(m,function(g){var p=[];e.each(d.dataZoomInfos,function(y){if(g.isAvailableBehavior(y.dataZoomModel.option)){var _=(y.getRange||{})[m],w=_&&_(d.controller,g);!y.dataZoomModel.get("disabled",!0)&&w&&p.push({dataZoomId:y.dataZoomId,start:w[0],end:w[1]})}}),p.length&&d.dispatchAction(p)})}),f}function u(l){e.each(l,function(d,f){d.count||(d.controller.dispose(),delete l[f])})}function v(l,d){l.dispatchAction({type:"dataZoom",batch:d})}function h(l){var d,f="type_",m={type_true:2,type_move:1,type_false:0,type_undefined:-1},g=!0;return e.each(l,function(p){var y=p.dataZoomModel,_=y.get("disabled",!0)?!1:y.get("zoomLock",!0)?"move":!0;m[f+_]>m[f+d]&&(d=_),g&=y.get("preventDefaultMouseMove",!0)}),{controlType:d,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!g}}}return qi.register=i,qi.unregister=n,qi.generateCoordId=s,qi}var Yc,Tw;function OF(){if(Tw)return Yc;Tw=1;var e=W,t=bi(),r=xi(),a=kF(),i=e.bind,n=t.extend({type:"dataZoom.inside",init:function(v,h){this._range},render:function(v,h,l,d){n.superApply(this,"render",arguments),this._range=v.getPercentRange(),e.each(this.getTargetCoordInfo(),function(f,m){var g=e.map(f,function(p){return a.generateCoordId(p.model)});e.each(f,function(p){var y=p.model,_={};e.each(["pan","zoom","scrollMove"],function(w){_[w]=i(s[w],this,p,m)},this),a.register(l,{coordId:a.generateCoordId(y),allCoordIds:g,containsPoint:function(w,S,A){return y.coordinateSystem.containPoint([S,A])},dataZoomId:v.id,dataZoomModel:v,getRange:_})},this)},this)},dispose:function(){a.unregister(this.api,this.dataZoomModel.id),n.superApply(this,"dispose",arguments),this._range=null}}),s={zoom:function(v,h,l,d){var f=this._range,m=f.slice(),g=v.axisModels[0];if(g){var p=o[h](null,[d.originX,d.originY],g,l,v),y=(p.signal>0?p.pixelStart+p.pixelLength-p.pixel:p.pixel-p.pixelStart)/p.pixelLength*(m[1]-m[0])+m[0],_=Math.max(1/d.scale,0);m[0]=(m[0]-y)*_+y,m[1]=(m[1]-y)*_+y;var w=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(r(0,m,[0,100],0,w.minSpan,w.maxSpan),this._range=m,f[0]!==m[0]||f[1]!==m[1])return m}},pan:c(function(v,h,l,d,f,m){var g=o[d]([m.oldX,m.oldY],[m.newX,m.newY],h,f,l);return g.signal*(v[1]-v[0])*g.pixel/g.pixelLength}),scrollMove:c(function(v,h,l,d,f,m){var g=o[d]([0,0],[m.scrollDelta,m.scrollDelta],h,f,l);return g.signal*(v[1]-v[0])*m.scrollDelta})};function c(v){return function(h,l,d,f){var m=this._range,g=m.slice(),p=h.axisModels[0];if(p){var y=v(g,p,h,l,d,f);if(r(y,g,[0,100],"all"),this._range=g,m[0]!==g[0]||m[1]!==g[1])return g}}}var o={grid:function(v,h,l,d,f){var m=l.axis,g={},p=f.model.coordinateSystem.getRect();return v=v||[0,0],m.dim==="x"?(g.pixel=h[0]-v[0],g.pixelLength=p.width,g.pixelStart=p.x,g.signal=m.inverse?1:-1):(g.pixel=h[1]-v[1],g.pixelLength=p.height,g.pixelStart=p.y,g.signal=m.inverse?-1:1),g},polar:function(v,h,l,d,f){var m=l.axis,g={},p=f.model.coordinateSystem,y=p.getRadiusAxis().getExtent(),_=p.getAngleAxis().getExtent();return v=v?p.pointToCoord(v):[0,0],h=p.pointToCoord(h),l.mainType==="radiusAxis"?(g.pixel=h[0]-v[0],g.pixelLength=y[1]-y[0],g.pixelStart=y[0],g.signal=m.inverse?1:-1):(g.pixel=h[1]-v[1],g.pixelLength=_[1]-_[0],g.pixelStart=_[0],g.signal=m.inverse?-1:1),g},singleAxis:function(v,h,l,d,f){var m=l.axis,g=f.model.coordinateSystem.getRect(),p={};return v=v||[0,0],m.orient==="horizontal"?(p.pixel=h[0]-v[0],p.pixelLength=g.width,p.pixelStart=g.x,p.signal=m.inverse?1:-1):(p.pixel=h[1]-v[1],p.pixelLength=g.height,p.pixelStart=g.y,p.signal=m.inverse?-1:1),p}},u=n;return Yc=u,Yc}var Cw;function iD(){return Cw||(Cw=1,Sg(),Si(),bi(),EF(),OF(),wg(),Ag()),bw}var Mw;function zF(){return Mw||(Mw=1,aD(),iD()),mw}var Dw={},Lw={},Xc,Pw;function nD(){if(Pw)return Xc;Pw=1;var e=W,t=e.each;function r(i){var n=i&&i.visualMap;e.isArray(n)||(n=n?[n]:[]),t(n,function(s){if(s){a(s,"splitList")&&!a(s,"pieces")&&(s.pieces=s.splitList,delete s.splitList);var c=s.pieces;c&&e.isArray(c)&&t(c,function(o){e.isObject(o)&&(a(o,"start")&&!a(o,"min")&&(o.min=o.start),a(o,"end")&&!a(o,"max")&&(o.max=o.end))})}})}function a(i,n){return i&&i.hasOwnProperty&&i.hasOwnProperty(n)}return Xc=r,Xc}var Iw={},Rw;function oD(){if(Rw)return Iw;Rw=1;var e=ht;return e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),Iw}var Ew={},kw;function sD(){if(kw)return Ew;kw=1;var e=_e,t=W,r=Ts(),a=Ma(),i=e.PRIORITY.VISUAL.COMPONENT;e.registerVisual(i,{createOnAllSeries:!0,reset:function(s,c){var o=[];return c.eachComponent("visualMap",function(u){var v=s.pipelineContext;!u.isTargetSeries(s)||v&&v.large||o.push(r.incrementalApplyVisual(u.stateList,u.targetVisuals,t.bind(u.getValueState,u),u.getDataDimension(s.getData())))}),o}}),e.registerVisual(i,{createOnAllSeries:!0,reset:function(s,c){var o=s.getData(),u=[];c.eachComponent("visualMap",function(v){if(v.isTargetSeries(s)){var h=v.getVisualMeta(t.bind(n,null,s,v))||{stops:[],outerColors:[]},l=v.getDataDimension(o),d=o.getDimensionInfo(l);d!=null&&(h.dimension=d.index,u.push(h))}}),s.getData().setVisual("visualMeta",u)}});function n(s,c,o,u){for(var v=c.targetVisuals[u],h=a.prepareVisualTypes(v),l={color:s.getData().getVisual("color")},d=0,f=h.length;d<f;d++){var m=h[d],g=v[m==="opacity"?"__alphaForOpacity":m];g&&g.applyVisual(o,p,y)}return l.color;function p(_){return l[_]}function y(_,w){l[_]=w}}return Ew}var Kc,Ow;function lD(){if(Ow)return Kc;Ow=1;var e=W,t={get:function(i,n,s){var c=e.clone((r[i]||{})[n]);return s&&e.isArray(c)?c[c.length-1]:c}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},a=t;return Kc=a,Kc}var Qc,zw;function uD(){if(zw)return Qc;zw=1;var e=_e,t=W,r=nt,a=lD(),i=Ma(),n=Ts(),s=Ie,c=Le,o=i.mapVisual,u=i.eachVisual,v=t.isArray,h=t.each,l=c.asc,d=c.linearMap,f=t.noop,m=e.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(p,y,_){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(p,_)},optionUpdated:function(p,y){var _=this.option;r.canvasSupported||(_.realtime=!1),!y&&n.replaceVisualOption(_,p,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(p){var y=this.stateList;p=t.bind(p,this),this.controllerVisuals=n.createVisualMappings(this.option.controller,y,p),this.targetVisuals=n.createVisualMappings(this.option.target,y,p)},getTargetSeriesIndices:function(){var p=this.option.seriesIndex,y=[];return p==null||p==="all"?this.ecModel.eachSeries(function(_,w){y.push(w)}):y=s.normalizeToArray(p),y},eachTargetSeries:function(p,y){t.each(this.getTargetSeriesIndices(),function(_){p.call(y,this.ecModel.getSeriesByIndex(_))},this)},isTargetSeries:function(p){var y=!1;return this.eachTargetSeries(function(_){_===p&&(y=!0)}),y},formatValueText:function(p,y,_){var w=this.option,S=w.precision,A=this.dataBound,x=w.formatter,b,T;if(_=_||["<",">"],t.isArray(p)&&(p=p.slice(),b=!0),T=y?p:b?[M(p[0]),M(p[1])]:M(p),t.isString(x))return x.replace("{value}",b?T[0]:T).replace("{value2}",b?T[1]:T);if(t.isFunction(x))return b?x(p[0],p[1]):x(p);if(b)return p[0]===A[0]?_[0]+" "+T[1]:p[1]===A[1]?_[1]+" "+T[0]:T[0]+" - "+T[1];return T;function M(C){return C===A[0]?"min":C===A[1]?"max":(+C).toFixed(Math.min(S,20))}},resetExtent:function(){var p=this.option,y=l([p.min,p.max]);this._dataExtent=y},getDataDimension:function(p){var y=this.option.dimension,_=p.dimensions;if(!(y==null&&!_.length)){if(y!=null)return p.getDimension(y);for(var w=p.dimensions,S=w.length-1;S>=0;S--){var A=w[S],x=p.getDimensionInfo(A);if(!x.isCalculationCoord)return A}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var p=this.ecModel,y=this.option,_={inRange:y.inRange,outOfRange:y.outOfRange},w=y.target||(y.target={}),S=y.controller||(y.controller={});t.merge(w,_),t.merge(S,_);var A=this.isCategory();x.call(this,w),x.call(this,S),b.call(this,w,"inRange","outOfRange"),T.call(this,S);function x(M){v(y.color)&&!M.inRange&&(M.inRange={color:y.color.slice().reverse()}),M.inRange=M.inRange||{color:p.get("gradientColor")},h(this.stateList,function(C){var D=M[C];if(t.isString(D)){var L=a.get(D,"active",A);L?(M[C]={},M[C][D]=L):delete M[C]}},this)}function b(M,C,D){var L=M[C],P=M[D];L&&!P&&(P=M[D]={},h(L,function(I,E){if(i.isValidType(E)){var O=a.get(E,"inactive",A);O!=null&&(P[E]=O,E==="color"&&!P.hasOwnProperty("opacity")&&!P.hasOwnProperty("colorAlpha")&&(P.opacity=[0,0]))}}))}function T(M){var C=(M.inRange||{}).symbol||(M.outOfRange||{}).symbol,D=(M.inRange||{}).symbolSize||(M.outOfRange||{}).symbolSize,L=this.get("inactiveColor");h(this.stateList,function(P){var I=this.itemSize,E=M[P];E||(E=M[P]={color:A?L:[L]}),E.symbol==null&&(E.symbol=C&&t.clone(C)||(A?"roundRect":["roundRect"])),E.symbolSize==null&&(E.symbolSize=D&&t.clone(D)||(A?I[0]:[I[0],I[0]])),E.symbol=o(E.symbol,function(q){return q==="none"||q==="square"?"roundRect":q});var O=E.symbolSize;if(O!=null){var B=-1/0;u(O,function(q){q>B&&(B=q)}),E.symbolSize=o(O,function(q){return d(q,[0,B],[0,I[0]],!0)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:f,getValueState:f,getVisualMeta:f}),g=m;return Qc=g,Qc}var jc,Bw;function BF(){if(Bw)return jc;Bw=1;var e=W,t=uD(),r=Le,a=[20,140],i=t.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(c,o){i.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(u){u.mappingMethod="linear",u.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){i.superApply(this,"resetItemSize",arguments);var c=this.itemSize;this._orient==="horizontal"&&c.reverse(),(c[0]==null||isNaN(c[0]))&&(c[0]=a[0]),(c[1]==null||isNaN(c[1]))&&(c[1]=a[1])},_resetRange:function(){var c=this.getExtent(),o=this.option.range;!o||o.auto?(c.auto=1,this.option.range=c):e.isArray(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],c[0]),o[1]=Math.min(o[1],c[1]))},completeVisualOption:function(){t.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(c){var o=this.option.controller[c].symbolSize;o&&o[0]!==o[1]&&(o[0]=0)},this)},setSelected:function(c){this.option.range=c.slice(),this._resetRange()},getSelected:function(){var c=this.getExtent(),o=r.asc((this.get("range")||[]).slice());return o[0]>c[1]&&(o[0]=c[1]),o[1]>c[1]&&(o[1]=c[1]),o[0]<c[0]&&(o[0]=c[0]),o[1]<c[0]&&(o[1]=c[0]),o},getValueState:function(c){var o=this.option.range,u=this.getExtent();return(o[0]<=u[0]||o[0]<=c)&&(o[1]>=u[1]||c<=o[1])?"inRange":"outOfRange"},findTargetDataIndices:function(c){var o=[];return this.eachTargetSeries(function(u){var v=[],h=u.getData();h.each(this.getDataDimension(h),function(l,d){c[0]<=l&&l<=c[1]&&v.push(d)},this),o.push({seriesId:u.id,dataIndex:v})},this),o},getVisualMeta:function(c){var o=n(this,"outOfRange",this.getExtent()),u=n(this,"inRange",this.option.range.slice()),v=[];function h(y,_){v.push({value:y,color:c(y,_)})}for(var l=0,d=0,f=u.length,m=o.length;d<m&&(!u.length||o[d]<=u[0]);d++)o[d]<u[l]&&h(o[d],"outOfRange");for(var g=1;l<f;l++,g=0)g&&v.length&&h(u[l],"outOfRange"),h(u[l],"inRange");for(var g=1;d<m;d++)(!u.length||u[u.length-1]<o[d])&&(g&&(v.length&&h(v[v.length-1].value,"outOfRange"),g=0),h(o[d],"outOfRange"));var p=v.length;return{stops:v,outerColors:[p?v[0].color:"transparent",p?v[p-1].color:"transparent"]}}});function n(c,o,u){if(u[0]===u[1])return u.slice();for(var v=200,h=(u[1]-u[0])/v,l=u[0],d=[],f=0;f<=v&&l<u[1];f++)d.push(l),l+=h;return d.push(u[1]),d}var s=i;return jc=s,jc}var Jc,Nw;function vD(){if(Nw)return Jc;Nw=1;var e=_e,t=W,r=fe,a=Ne,i=Be,n=Ma(),s=e.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(c,o){this.ecModel=c,this.api=o,this.visualMapModel},render:function(c,o,u,v){if(this.visualMapModel=c,c.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(c){var o=this.visualMapModel,u=a.normalizeCssArray(o.get("padding")||0),v=c.getBoundingRect();c.add(new r.Rect({z2:-1,silent:!0,shape:{x:v.x-u[3],y:v.y-u[0],width:v.width+u[3]+u[1],height:v.height+u[0]+u[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},getControllerVisual:function(c,o,u){u=u||{};var v=u.forceState,h=this.visualMapModel,l={};if(o==="symbol"&&(l.symbol=h.get("itemSymbol")),o==="color"){var d=h.get("contentColor");l.color=d}function f(y){return l[y]}function m(y,_){l[y]=_}var g=h.controllerVisuals[v||h.getValueState(c)],p=n.prepareVisualTypes(g);return t.each(p,function(y){var _=g[y];u.convertOpacityToAlpha&&y==="opacity"&&(y="colorAlpha",_=g.__alphaForOpacity),n.dependsOn(y,o)&&_&&_.applyVisual(c,f,m)}),l[o]},positionGroup:function(c){var o=this.visualMapModel,u=this.api;i.positionElement(c,o.getBoxLayoutParams(),{width:u.getWidth(),height:u.getHeight()})},doRender:t.noop});return Jc=s,Jc}var yo={},Vw;function hD(){if(Vw)return yo;Vw=1;var e=W,t=Be,r=t.getLayoutRect;function a(n,s,c){var o=n.option,u=o.align;if(u!=null&&u!=="auto")return u;for(var v={width:s.getWidth(),height:s.getHeight()},h=o.orient==="horizontal"?1:0,l=[["left","right","width"],["top","bottom","height"]],d=l[h],f=[0,null,10],m={},g=0;g<3;g++)m[l[1-h][g]]=f[g],m[d[g]]=g===2?c[0]:o[d[g]];var p=[["x","width",3],["y","height",0]][h],y=r(m,v,o.padding);return d[(y.margin[p[2]]||0)+y[p[0]]+y[p[1]]*.5<v[p[1]]*.5?0:1]}function i(n,s){return e.each(n||[],function(c){c.dataIndex!=null&&(c.dataIndexInside=c.dataIndex,c.dataIndex=null),c.highlightKey="visualMap"+(s?s.componentIndex:"")}),n}return yo.getItemAlign=a,yo.makeHighDownBatch=i,yo}var ef,Hw;function NF(){if(Hw)return ef;Hw=1;var e=W,t=zd,r=vt,a=vD(),i=fe,n=Le,s=xi(),c=hD(),o=Ie,u=n.linearMap,v=e.each,h=Math.min,l=Math.max,d=12,f=6,m=a.extend({type:"visualMap.continuous",init:function(){m.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(x,b,T,M){(!M||M.type!=="selectDataRange"||M.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var x=this.visualMapModel,b=this.group;this._orient=x.get("orient"),this._useHandle=x.get("calculable"),this._resetInterval(),this._renderBar(b);var T=x.get("text");this._renderEndsText(b,T,0),this._renderEndsText(b,T,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(b)},_renderEndsText:function(x,b,T){if(b){var M=b[1-T];M=M!=null?M+"":"";var C=this.visualMapModel,D=C.get("textGap"),L=C.itemSize,P=this._shapes.barGroup,I=this._applyTransform([L[0]/2,T===0?-D:L[1]+D],P),E=this._applyTransform(T===0?"bottom":"top",P),O=this._orient,B=this.visualMapModel.textStyleModel;this.group.add(new i.Text({style:{x:I[0],y:I[1],textVerticalAlign:O==="horizontal"?"middle":E,textAlign:O==="horizontal"?E:"center",text:M,textFont:B.getFont(),textFill:B.getTextColor()}}))}},_renderBar:function(x){var b=this.visualMapModel,T=this._shapes,M=b.itemSize,C=this._orient,D=this._useHandle,L=c.getItemAlign(b,this.api,M),P=T.barGroup=this._createBarGroup(L);P.add(T.outOfRange=g()),P.add(T.inRange=g(null,D?S(this._orient):null,e.bind(this._dragHandle,this,"all",!1),e.bind(this._dragHandle,this,"all",!0)));var I=b.textStyleModel.getTextRect("国"),E=l(I.width,I.height);D&&(T.handleThumbs=[],T.handleLabels=[],T.handleLabelPoints=[],this._createHandle(P,0,M,E,C,L),this._createHandle(P,1,M,E,C,L)),this._createIndicator(P,M,E,C),x.add(P)},_createHandle:function(x,b,T,M,C){var D=e.bind(this._dragHandle,this,b,!1),L=e.bind(this._dragHandle,this,b,!0),P=g(p(b,M),S(this._orient),D,L);P.position[0]=T[0],x.add(P);var I=this.visualMapModel.textStyleModel,E=new i.Text({draggable:!0,drift:D,onmousemove:function(q){r.stop(q.event)},ondragend:L,style:{x:0,y:0,text:"",textFont:I.getFont(),textFill:I.getTextColor()}});this.group.add(E);var O=[C==="horizontal"?M/2:M*1.5,C==="horizontal"?b===0?-(M*1.5):M*1.5:b===0?-M/2:M/2],B=this._shapes;B.handleThumbs[b]=P,B.handleLabelPoints[b]=O,B.handleLabels[b]=E},_createIndicator:function(x,b,T,M){var C=g([[0,0]],"move");C.position[0]=b[0],C.attr({invisible:!0,silent:!0}),x.add(C);var D=this.visualMapModel.textStyleModel,L=new i.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:D.getFont(),textFill:D.getTextColor()}});this.group.add(L);var P=[M==="horizontal"?T/2:f+3,0],I=this._shapes;I.indicator=C,I.indicatorLabel=L,I.indicatorLabelPoint=P},_dragHandle:function(x,b,T,M){if(this._useHandle){if(this._dragging=!b,!b){var C=this._applyTransform([T,M],this._shapes.barGroup,!0);this._updateInterval(x,C[1]),this._updateView()}b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():w(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[x],!1)}},_resetInterval:function(){var x=this.visualMapModel,b=this._dataInterval=x.getSelected(),T=x.getExtent(),M=[0,x.itemSize[1]];this._handleEnds=[u(b[0],T,M,!0),u(b[1],T,M,!0)]},_updateInterval:function(x,b){b=b||0;var T=this.visualMapModel,M=this._handleEnds,C=[0,T.itemSize[1]];s(b,M,C,x,0);var D=T.getExtent();this._dataInterval=[u(M[0],C,D,!0),u(M[1],C,D,!0)]},_updateView:function(x){var b=this.visualMapModel,T=b.getExtent(),M=this._shapes,C=[0,b.itemSize[1]],D=x?C:this._handleEnds,L=this._createBarVisual(this._dataInterval,T,D,"inRange"),P=this._createBarVisual(T,T,C,"outOfRange");M.inRange.setStyle({fill:L.barColor,opacity:L.opacity}).setShape("points",L.barPoints),M.outOfRange.setStyle({fill:P.barColor,opacity:P.opacity}).setShape("points",P.barPoints),this._updateHandle(D,L)},_createBarVisual:function(x,b,T,M){var C={forceState:M,convertOpacityToAlpha:!0},D=this._makeColorGradient(x,C),L=[this.getControllerVisual(x[0],"symbolSize",C),this.getControllerVisual(x[1],"symbolSize",C)],P=this._createBarPoints(T,L);return{barColor:new t(0,0,0,1,D),barPoints:P,handlesColor:[D[0].color,D[D.length-1].color]}},_makeColorGradient:function(x,b){var T=100,M=[],C=(x[1]-x[0])/T;M.push({color:this.getControllerVisual(x[0],"color",b),offset:0});for(var D=1;D<T;D++){var L=x[0]+C*D;if(L>x[1])break;M.push({color:this.getControllerVisual(L,"color",b),offset:D/T})}return M.push({color:this.getControllerVisual(x[1],"color",b),offset:1}),M},_createBarPoints:function(x,b){var T=this.visualMapModel.itemSize;return[[T[0]-b[0],x[0]],[T[0],x[0]],[T[0],x[1]],[T[0]-b[1],x[1]]]},_createBarGroup:function(x){var b=this._orient,T=this.visualMapModel.get("inverse");return new i.Group(b==="horizontal"&&!T?{scale:x==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:b==="horizontal"&&T?{scale:x==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:b==="vertical"&&!T?{scale:x==="left"?[1,-1]:[-1,-1]}:{scale:x==="left"?[1,1]:[-1,1]})},_updateHandle:function(x,b){if(this._useHandle){var T=this._shapes,M=this.visualMapModel,C=T.handleThumbs,D=T.handleLabels;v([0,1],function(L){var P=C[L];P.setStyle("fill",b.handlesColor[L]),P.position[1]=x[L];var I=i.applyTransform(T.handleLabelPoints[L],i.getTransform(P,this.group));D[L].setStyle({x:I[0],y:I[1],text:M.formatValueText(this._dataInterval[L]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?L===0?"bottom":"top":"left",T.barGroup)})},this)}},_showIndicator:function(x,b,T,M){var C=this.visualMapModel,D=C.getExtent(),L=C.itemSize,P=[0,L[1]],I=u(x,D,P,!0),E=this._shapes,O=E.indicator;if(O){O.position[1]=I,O.attr("invisible",!1),O.setShape("points",y(!!T,M,I,L[1]));var B={convertOpacityToAlpha:!0},q=this.getControllerVisual(x,"color",B);O.setStyle("fill",q);var V=i.applyTransform(E.indicatorLabelPoint,i.getTransform(O,this.group)),R=E.indicatorLabel;R.attr("invisible",!1);var z=this._applyTransform("left",E.barGroup),k=this._orient;R.setStyle({text:(T||"")+C.formatValueText(b),textVerticalAlign:k==="horizontal"?z:"middle",textAlign:k==="horizontal"?"center":z,x:V[0],y:V[1]})}},_enableHoverLinkToSeries:function(){var x=this;this._shapes.barGroup.on("mousemove",function(b){if(x._hovering=!0,!x._dragging){var T=x.visualMapModel.itemSize,M=x._applyTransform([b.offsetX,b.offsetY],x._shapes.barGroup,!0,!0);M[1]=h(l(0,M[1]),T[1]),x._doHoverLinkToSeries(M[1],0<=M[0]&&M[0]<=T[0])}}).on("mouseout",function(){x._hovering=!1,!x._dragging&&x._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var x=this.api.getZr();this.visualMapModel.option.hoverLink?(x.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),x.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(x,b){var T=this.visualMapModel,M=T.itemSize;if(T.option.hoverLink){var C=[0,M[1]],D=T.getExtent();x=h(l(C[0],x),C[1]);var L=_(T,D,C),P=[x-L,x+L],I=u(x,C,D,!0),E=[u(P[0],C,D,!0),u(P[1],C,D,!0)];P[0]<C[0]&&(E[0]=-1/0),P[1]>C[1]&&(E[1]=1/0),b&&(E[0]===-1/0?this._showIndicator(I,E[1],"< ",L):E[1]===1/0?this._showIndicator(I,E[0],"> ",L):this._showIndicator(I,I,"≈ ",L));var O=this._hoverLinkDataIndices,B=[];(b||w(T))&&(B=this._hoverLinkDataIndices=T.findTargetDataIndices(E));var q=o.compressBatches(O,B);this._dispatchHighDown("downplay",c.makeHighDownBatch(q[0],T)),this._dispatchHighDown("highlight",c.makeHighDownBatch(q[1],T))}},_hoverLinkFromSeriesMouseOver:function(x){var b=x.target,T=this.visualMapModel;if(!(!b||b.dataIndex==null)){var M=this.ecModel.getSeriesByIndex(b.seriesIndex);if(T.isTargetSeries(M)){var C=M.getData(b.dataType),D=C.get(T.getDataDimension(C),b.dataIndex,!0);isNaN(D)||this._showIndicator(D,D)}}},_hideIndicator:function(){var x=this._shapes;x.indicator&&x.indicator.attr("invisible",!0),x.indicatorLabel&&x.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var x=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",c.makeHighDownBatch(x,this.visualMapModel)),x.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var x=this.api.getZr();x.off("mouseover",this._hoverLinkFromSeriesMouseOver),x.off("mouseout",this._hideIndicator)},_applyTransform:function(x,b,T,M){var C=i.getTransform(b,M?null:this.group);return i[e.isArray(x)?"applyTransform":"transformDirection"](x,C,T)},_dispatchHighDown:function(x,b){b&&b.length&&this.api.dispatchAction({type:x,batch:b})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function g(x,b,T,M){return new i.Polygon({shape:{points:x},draggable:!!T,cursor:b,drift:T,onmousemove:function(C){r.stop(C.event)},ondragend:M})}function p(x,b){return x===0?[[0,0],[b,0],[b,-b]]:[[0,0],[b,0],[b,b]]}function y(x,b,T,M){return x?[[0,-h(b,l(T,0))],[f,0],[0,h(b,l(M-T,0))]]:[[0,0],[5,-5],[5,5]]}function _(x,b,T){var M=d/2,C=x.get("hoverLinkDataSize");return C&&(M=u(C,b,T,!0)/2),M}function w(x){var b=x.get("hoverLinkOnHandle");return!!(b??x.get("realtime"))}function S(x){return x==="vertical"?"ns-resize":"ew-resize"}var A=m;return ef=A,ef}var qw={},Gw;function cD(){if(Gw)return qw;Gw=1;var e=_e,t={type:"selectDataRange",event:"dataRangeSelected",update:"update"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"visualMap",query:r},function(i){i.setSelected(r.selected)})}),qw}var Fw;function fD(){if(Fw)return Lw;Fw=1;var e=_e,t=nD();return oD(),sD(),BF(),NF(),cD(),e.registerPreprocessor(t),Lw}var $w={},tf,Uw;function VF(){if(Uw)return tf;Uw=1;var e=W,t=uD(),r=Ma(),a=lD(),i=Le,n=i.reformIntervals,s=t.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(v,h){s.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var l=this._mode=this._determineMode();c[this._mode].call(this),this._resetSelected(v,h);var d=this.option.categories;this.resetVisual(function(f,m){l==="categories"?(f.mappingMethod="category",f.categories=e.clone(d)):(f.dataExtent=this.getExtent(),f.mappingMethod="piecewise",f.pieceList=e.map(this._pieceList,function(p){var p=e.clone(p);return m!=="inRange"&&(p.visual=null),p}))})},completeVisualOption:function(){var v=this.option,h={},l=r.listVisualTypes(),d=this.isCategory();e.each(v.pieces,function(m){e.each(l,function(g){m.hasOwnProperty(g)&&(h[g]=1)})}),e.each(h,function(m,g){var p=0;e.each(this.stateList,function(y){p|=f(v,y,g)||f(v.target,y,g)},this),!p&&e.each(this.stateList,function(y){(v[y]||(v[y]={}))[g]=a.get(g,y==="inRange"?"active":"inactive",d)})},this);function f(m,g,p){return m&&m[g]&&(e.isObject(m[g])?m[g].hasOwnProperty(p):m[g]===p)}t.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(v,h){var l=this.option,d=this._pieceList,f=(h?l:v).selected||{};if(l.selected=f,e.each(d,function(g,p){var y=this.getSelectedMapKey(g);f.hasOwnProperty(y)||(f[y]=!0)},this),l.selectedMode==="single"){var m=!1;e.each(d,function(g,p){var y=this.getSelectedMapKey(g);f[y]&&(m?f[y]=!1:m=!0)},this)}},getSelectedMapKey:function(v){return this._mode==="categories"?v.value+"":v.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var v=this.option;return v.pieces&&v.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(v){this.option.selected=e.clone(v)},getValueState:function(v){var h=r.findPieceIndex(v,this._pieceList);return h!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[h])]?"inRange":"outOfRange"},findTargetDataIndices:function(v){var h=[];return this.eachTargetSeries(function(l){var d=[],f=l.getData();f.each(this.getDataDimension(f),function(m,g){var p=r.findPieceIndex(m,this._pieceList);p===v&&d.push(g)},this),h.push({seriesId:l.id,dataIndex:d})},this),h},getRepresentValue:function(v){var h;if(this.isCategory())h=v.value;else if(v.value!=null)h=v.value;else{var l=v.interval||[];h=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return h},getVisualMeta:function(v){if(this.isCategory())return;var h=[],l=[],d=this;function f(y,_){var w=d.getRepresentValue({interval:y});_||(_=d.getValueState(w));var S=v(w,_);y[0]===-1/0?l[0]=S:y[1]===1/0?l[1]=S:h.push({value:y[0],color:S},{value:y[1],color:S})}var m=this._pieceList.slice();if(!m.length)m.push({interval:[-1/0,1/0]});else{var g=m[0].interval[0];g!==-1/0&&m.unshift({interval:[-1/0,g]}),g=m[m.length-1].interval[1],g!==1/0&&m.push({interval:[g,1/0]})}var p=-1/0;return e.each(m,function(y){var _=y.interval;_&&(_[0]>p&&f([p,_[0]],"outOfRange"),f(_.slice()),p=_[1])},this),{stops:h,outerColors:l}}}),c={splitNumber:function(){var v=this.option,h=this._pieceList,l=Math.min(v.precision,20),d=this.getExtent(),f=v.splitNumber;f=Math.max(parseInt(f,10),1),v.splitNumber=f;for(var m=(d[1]-d[0])/f;+m.toFixed(l)!==m&&l<5;)l++;v.precision=l,m=+m.toFixed(l),v.minOpen&&h.push({interval:[-1/0,d[0]],close:[0,0]});for(var g=0,p=d[0];g<f;p+=m,g++){var y=g===f-1?d[1]:p+m;h.push({interval:[p,y],close:[1,1]})}v.maxOpen&&h.push({interval:[d[1],1/0],close:[0,0]}),n(h),e.each(h,function(_,w){_.index=w,_.text=this.formatValueText(_.interval)},this)},categories:function(){var v=this.option;e.each(v.categories,function(h){this._pieceList.push({text:this.formatValueText(h,!0),value:h})},this),o(v,this._pieceList)},pieces:function(){var v=this.option,h=this._pieceList;e.each(v.pieces,function(l,d){e.isObject(l)||(l={value:l});var f={text:"",index:d};if(l.label!=null&&(f.text=l.label),l.hasOwnProperty("value")){var m=f.value=l.value;f.interval=[m,m],f.close=[1,1]}else{for(var g=f.interval=[],p=f.close=[0,0],y=[1,0,1],_=[-1/0,1/0],w=[],S=0;S<2;S++){for(var A=[["gte","gt","min"],["lte","lt","max"]][S],x=0;x<3&&g[S]==null;x++)g[S]=l[A[x]],p[S]=y[x],w[S]=x===2;g[S]==null&&(g[S]=_[S])}w[0]&&g[1]===1/0&&(p[0]=0),w[1]&&g[0]===-1/0&&(p[1]=0),g[0]===g[1]&&p[0]&&p[1]&&(f.value=g[0])}f.visual=r.retrieveVisuals(l),h.push(f)},this),o(v,h),n(h),e.each(h,function(l){var d=l.close,f=[["<","≤"][d[1]],[">","≥"][d[0]]];l.text=l.text||this.formatValueText(l.value!=null?l.value:l.interval,!1,f)},this)}};function o(v,h){var l=v.inverse;(v.orient==="vertical"?!l:l)&&h.reverse()}var u=s;return tf=u,tf}var rf,Ww;function HF(){if(Ww)return rf;Ww=1;var e=W,t=vD(),r=fe,a=Zt(),i=a.createSymbol,n=Be,s=hD(),c=t.extend({type:"visualMap.piecewise",doRender:function(){var u=this.group;u.removeAll();var v=this.visualMapModel,h=v.get("textGap"),l=v.textStyleModel,d=l.getFont(),f=l.getTextColor(),m=this._getItemAlign(),g=v.itemSize,p=this._getViewData(),y=p.endsText,_=e.retrieve(v.get("showLabel",!0),!y);y&&this._renderEndsText(u,y[0],g,_,m),e.each(p.viewPieceList,w,this),y&&this._renderEndsText(u,y[1],g,_,m),n.box(v.get("orient"),u,v.get("itemGap")),this.renderBackground(u),this.positionGroup(u);function w(S){var A=S.piece,x=new r.Group;x.onclick=e.bind(this._onItemClick,this,A),this._enableHoverLink(x,S.indexInModelPieceList);var b=v.getRepresentValue(A);if(this._createItemSymbol(x,b,[0,0,g[0],g[1]]),_){var T=this.visualMapModel.getValueState(b);x.add(new r.Text({style:{x:m==="right"?-h:g[0]+h,y:g[1]/2,text:A.text,textVerticalAlign:"middle",textAlign:m,textFont:d,textFill:f,opacity:T==="outOfRange"?.5:1}}))}u.add(x)}},_enableHoverLink:function(u,v){u.on("mouseover",e.bind(h,this,"highlight")).on("mouseout",e.bind(h,this,"downplay"));function h(l){var d=this.visualMapModel;d.option.hoverLink&&this.api.dispatchAction({type:l,batch:s.makeHighDownBatch(d.findTargetDataIndices(v),d)})}},_getItemAlign:function(){var u=this.visualMapModel,v=u.option;if(v.orient==="vertical")return s.getItemAlign(u,this.api,u.itemSize);var h=v.align;return(!h||h==="auto")&&(h="left"),h},_renderEndsText:function(u,v,h,l,d){if(v){var f=new r.Group,m=this.visualMapModel.textStyleModel;f.add(new r.Text({style:{x:l?d==="right"?h[0]:0:h[0]/2,y:h[1]/2,textVerticalAlign:"middle",textAlign:l?d:"center",text:v,textFont:m.getFont(),textFill:m.getTextColor()}})),u.add(f)}},_getViewData:function(){var u=this.visualMapModel,v=e.map(u.getPieceList(),function(f,m){return{piece:f,indexInModelPieceList:m}}),h=u.get("text"),l=u.get("orient"),d=u.get("inverse");return(l==="horizontal"?d:!d)?v.reverse():h&&(h=h.slice().reverse()),{viewPieceList:v,endsText:h}},_createItemSymbol:function(u,v,h){u.add(i(this.getControllerVisual(v,"symbol"),h[0],h[1],h[2],h[3],this.getControllerVisual(v,"color")))},_onItemClick:function(u){var v=this.visualMapModel,h=v.option,l=e.clone(h.selected),d=v.getSelectedMapKey(u);h.selectedMode==="single"?(l[d]=!0,e.each(l,function(f,m){l[m]=m===d})):l[d]=!l[d],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})}}),o=c;return rf=o,rf}var Zw;function dD(){if(Zw)return $w;Zw=1;var e=_e,t=nD();return oD(),sD(),VF(),HF(),cD(),e.registerPreprocessor(t),$w}var Yw;function qF(){return Yw||(Yw=1,fD(),dD()),Dw}var Xw={},Kw={},Gi={},Qw;function gD(){if(Qw)return Gi;Qw=1;var e=nt,t="urn:schemas-microsoft-com:vml",r=typeof window>"u"?null:window,a=!1,i=r&&r.document;function n(o){return s(o)}var s;if(i&&!e.canvasSupported)try{!i.namespaces.zrvml&&i.namespaces.add("zrvml",t),s=function(o){return i.createElement("<zrvml:"+o+' class="zrvml">')}}catch{s=function(u){return i.createElement("<"+u+' xmlns="'+t+'" class="zrvml">')}}function c(){if(!(a||!i)){a=!0;var o=i.styleSheets;o.length<31?i.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):o[0].addRule(".zrvml","behavior:url(#default#VML)")}}return Gi.doc=i,Gi.createNode=n,Gi.initVML=c,Gi}var jw;function GF(){if(jw)return Kw;jw=1;var e=nt,t=Ee,r=t.applyTransform,a=Xe,i=lt,n=Ue,s=tr,c=bT(),o=pn,u=ui,v=xa,h=at,l=hi,d=rs,f=gD(),m=l.CMD,g=Math.round,p=Math.sqrt,y=Math.abs,_=Math.cos,w=Math.sin,S=Math.max;if(!e.canvasSupported){var A=",",x="progid:DXImageTransform.Microsoft",b=21600,T=b/2,M=1e5,C=1e3,D=function(ie){ie.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",ie.coordsize=b+","+b,ie.coordorigin="0,0"},L=function(ie){return String(ie).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},P=function(ie,oe,ge){return"rgb("+[ie,oe,ge].join(",")+")"},I=function(ie,oe){oe&&ie&&oe.parentNode!==ie&&ie.appendChild(oe)},E=function(ie,oe){oe&&ie&&oe.parentNode===ie&&ie.removeChild(oe)},O=function(ie,oe,ge){return(parseFloat(ie)||0)*M+(parseFloat(oe)||0)*C+ge},B=s.parsePercent,q=function(ie,oe,ge){var Z=i.parse(oe);ge=+ge,isNaN(ge)&&(ge=1),Z&&(ie.color=P(Z[0],Z[1],Z[2]),ie.opacity=ge*Z[3])},V=function(ie){var oe=i.parse(ie);return[P(oe[0],oe[1],oe[2]),oe[3]]},R=function(ie,oe,ge){var Z=oe.fill;if(Z!=null)if(Z instanceof d){var K,J=0,se=[0,0],ue=0,ve=1,he=ge.getBoundingRect(),me=he.width,xe=he.height;if(Z.type==="linear"){K="gradient";var Ce=ge.transform,Me=[Z.x*me,Z.y*xe],Ae=[Z.x2*me,Z.y2*xe];Ce&&(r(Me,Me,Ce),r(Ae,Ae,Ce));var Ve=Ae[0]-Me[0],qe=Ae[1]-Me[1];J=Math.atan2(Ve,qe)*180/Math.PI,J<0&&(J+=360),J<1e-6&&(J=0)}else{K="gradientradial";var Me=[Z.x*me,Z.y*xe],Ce=ge.transform,We=ge.scale,Ge=me,Ze=xe;se=[(Me[0]-he.x)/Ge,(Me[1]-he.y)/Ze],Ce&&r(Me,Me,Ce),Ge/=We[0]*b,Ze/=We[1]*b;var Ke=S(Ge,Ze);ue=2*0/Ke,ve=2*Z.r/Ke-ue}var Re=Z.colorStops.slice();Re.sort(function(je,bt){return je.offset-bt.offset});for(var Fe=Re.length,He=[],Qe=[],$e=0;$e<Fe;$e++){var et=Re[$e],pt=V(et.color);Qe.push(et.offset*ve+ue+" "+pt[0]),($e===0||$e===Fe-1)&&He.push(pt)}if(Fe>=2){var St=He[0][0],kt=He[1][0],or=He[0][1]*oe.opacity,ft=He[1][1]*oe.opacity;ie.type=K,ie.method="none",ie.focus="100%",ie.angle=J,ie.color=St,ie.color2=kt,ie.colors=Qe.join(","),ie.opacity=ft,ie.opacity2=or}K==="radial"&&(ie.focusposition=se.join(","))}else q(ie,Z,oe.opacity)},z=function(ie,oe){oe.lineDash&&(ie.dashstyle=oe.lineDash.join(" ")),oe.stroke!=null&&!(oe.stroke instanceof d)&&q(ie,oe.stroke,oe.opacity)},k=function(ie,oe,ge,Z){var K=oe==="fill",J=ie.getElementsByTagName(oe)[0];ge[oe]!=null&&ge[oe]!=="none"&&(K||!K&&ge.lineWidth)?(ie[K?"filled":"stroked"]="true",ge[oe]instanceof d&&E(ie,J),J||(J=f.createNode(oe)),K?R(J,ge,Z):z(J,ge),I(ie,J)):(ie[K?"filled":"stroked"]="false",E(ie,J))},N=[[],[],[]],G=function(ie,oe){var ge=m.M,Z=m.C,K=m.L,J=m.A,se=m.Q,ue=[],ve,he,me,xe,Ce,Me,Ae=ie.data,Ve=ie.len();for(xe=0;xe<Ve;){switch(me=Ae[xe++],he="",ve=0,me){case ge:he=" m ",ve=1,Ce=Ae[xe++],Me=Ae[xe++],N[0][0]=Ce,N[0][1]=Me;break;case K:he=" l ",ve=1,Ce=Ae[xe++],Me=Ae[xe++],N[0][0]=Ce,N[0][1]=Me;break;case se:case Z:he=" c ",ve=3;var dt=Ae[xe++],Ct=Ae[xe++],qe=Ae[xe++],We=Ae[xe++],Ge,Ze;me===se?(Ge=qe,Ze=We,qe=(qe+2*dt)/3,We=(We+2*Ct)/3,dt=(Ce+2*dt)/3,Ct=(Me+2*Ct)/3):(Ge=Ae[xe++],Ze=Ae[xe++]),N[0][0]=dt,N[0][1]=Ct,N[1][0]=qe,N[1][1]=We,N[2][0]=Ge,N[2][1]=Ze,Ce=Ge,Me=Ze;break;case J:var Ke=0,Re=0,Fe=1,He=1,Qe=0;oe&&(Ke=oe[4],Re=oe[5],Fe=p(oe[0]*oe[0]+oe[1]*oe[1]),He=p(oe[2]*oe[2]+oe[3]*oe[3]),Qe=Math.atan2(-oe[1]/He,oe[0]/Fe));var $e=Ae[xe++],et=Ae[xe++],pt=Ae[xe++],St=Ae[xe++],kt=Ae[xe++]+Qe,or=Ae[xe++]+kt+Qe;xe++;var ft=Ae[xe++],je=$e+_(kt)*pt,bt=et+w(kt)*St,dt=$e+_(or)*pt,Ct=et+w(or)*St,zr=ft?" wa ":" at ";Math.abs(je-dt)<1e-4&&(Math.abs(or-kt)>.01?ft&&(je+=270/b):Math.abs(bt-et)<1e-4?ft&&je<$e||!ft&&je>$e?Ct-=270/b:Ct+=270/b:ft&&bt<et||!ft&&bt>et?dt+=270/b:dt-=270/b),ue.push(zr,g((($e-pt)*Fe+Ke)*b-T),A,g(((et-St)*He+Re)*b-T),A,g((($e+pt)*Fe+Ke)*b-T),A,g(((et+St)*He+Re)*b-T),A,g((je*Fe+Ke)*b-T),A,g((bt*He+Re)*b-T),A,g((dt*Fe+Ke)*b-T),A,g((Ct*He+Re)*b-T)),Ce=dt,Me=Ct;break;case m.R:var st=N[0],mt=N[1];st[0]=Ae[xe++],st[1]=Ae[xe++],mt[0]=st[0]+Ae[xe++],mt[1]=st[1]+Ae[xe++],oe&&(r(st,st,oe),r(mt,mt,oe)),st[0]=g(st[0]*b-T),mt[0]=g(mt[0]*b-T),st[1]=g(st[1]*b-T),mt[1]=g(mt[1]*b-T),ue.push(" m ",st[0],A,st[1]," l ",mt[0],A,st[1]," l ",mt[0],A,mt[1]," l ",st[0],A,mt[1]);break;case m.Z:ue.push(" x ")}if(ve>0){ue.push(he);for(var Br=0;Br<ve;Br++){var Da=N[Br];oe&&r(Da,Da,oe),ue.push(g(Da[0]*b-T),A,g(Da[1]*b-T),Br<ve-1?A:"")}}}return ue.join("")};h.prototype.brushVML=function(ie){var oe=this.style,ge=this._vmlEl;ge||(ge=f.createNode("shape"),D(ge),this._vmlEl=ge),k(ge,"fill",oe,this),k(ge,"stroke",oe,this);var Z=this.transform,K=Z!=null,J=ge.getElementsByTagName("stroke")[0];if(J){var se=oe.lineWidth;if(K&&!oe.strokeNoScale){var ue=Z[0]*Z[3]-Z[1]*Z[2];se*=p(y(ue))}J.weight=se+"px"}var ve=this.path||(this.path=new l);this.__dirtyPath&&(ve.beginPath(),ve.subPixelOptimize=!1,this.buildPath(ve,this.shape),ve.toStatic(),this.__dirtyPath=!1),ge.path=G(ve,this.transform),ge.style.zIndex=O(this.zlevel,this.z,this.z2),I(ie,ge),oe.text!=null?this.drawRectText(ie,this.getBoundingRect()):this.removeRectText(ie)},h.prototype.onRemove=function(ie){E(ie,this._vmlEl),this.removeRectText(ie)},h.prototype.onAdd=function(ie){I(ie,this._vmlEl),this.appendRectText(ie)};var H=function(ie){return typeof ie=="object"&&ie.tagName&&ie.tagName.toUpperCase()==="IMG"};u.prototype.brushVML=function(ie){var oe=this.style,ge=oe.image,Z,K;if(H(ge)){var J=ge.src;if(J===this._imageSrc)Z=this._imageWidth,K=this._imageHeight;else{var se=ge.runtimeStyle,ue=se.width,ve=se.height;se.width="auto",se.height="auto",Z=ge.width,K=ge.height,se.width=ue,se.height=ve,this._imageSrc=J,this._imageWidth=Z,this._imageHeight=K}ge=J}else ge===this._imageSrc&&(Z=this._imageWidth,K=this._imageHeight);if(ge){var he=oe.x||0,me=oe.y||0,xe=oe.width,Ce=oe.height,Me=oe.sWidth,Ae=oe.sHeight,Ve=oe.sx||0,qe=oe.sy||0,We=Me&&Ae,Ge=this._vmlEl;Ge||(Ge=f.doc.createElement("div"),D(Ge),this._vmlEl=Ge);var Ze=Ge.style,Ke=!1,Re,Fe=1,He=1;if(this.transform&&(Re=this.transform,Fe=p(Re[0]*Re[0]+Re[1]*Re[1]),He=p(Re[2]*Re[2]+Re[3]*Re[3]),Ke=Re[1]||Re[2]),Ke){var Qe=[he,me],$e=[he+xe,me],et=[he,me+Ce],pt=[he+xe,me+Ce];r(Qe,Qe,Re),r($e,$e,Re),r(et,et,Re),r(pt,pt,Re);var St=S(Qe[0],$e[0],et[0],pt[0]),kt=S(Qe[1],$e[1],et[1],pt[1]),or=[];or.push("M11=",Re[0]/Fe,A,"M12=",Re[2]/He,A,"M21=",Re[1]/Fe,A,"M22=",Re[3]/He,A,"Dx=",g(he*Fe+Re[4]),A,"Dy=",g(me*He+Re[5])),Ze.padding="0 "+g(St)+"px "+g(kt)+"px 0",Ze.filter=x+".Matrix("+or.join("")+", SizingMethod=clip)"}else Re&&(he=he*Fe+Re[4],me=me*He+Re[5]),Ze.filter="",Ze.left=g(he)+"px",Ze.top=g(me)+"px";var ft=this._imageEl,je=this._cropEl;ft||(ft=f.doc.createElement("div"),this._imageEl=ft);var bt=ft.style;if(We){if(Z&&K)bt.width=g(Fe*Z*xe/Me)+"px",bt.height=g(He*K*Ce/Ae)+"px";else{var dt=new Image,Ct=this;dt.onload=function(){dt.onload=null,Z=dt.width,K=dt.height,bt.width=g(Fe*Z*xe/Me)+"px",bt.height=g(He*K*Ce/Ae)+"px",Ct._imageWidth=Z,Ct._imageHeight=K,Ct._imageSrc=ge},dt.src=ge}je||(je=f.doc.createElement("div"),je.style.overflow="hidden",this._cropEl=je);var zr=je.style;zr.width=g((xe+Ve*xe/Me)*Fe),zr.height=g((Ce+qe*Ce/Ae)*He),zr.filter=x+".Matrix(Dx="+-Ve*xe/Me*Fe+",Dy="+-qe*Ce/Ae*He+")",je.parentNode||Ge.appendChild(je),ft.parentNode!==je&&je.appendChild(ft)}else bt.width=g(Fe*xe)+"px",bt.height=g(He*Ce)+"px",Ge.appendChild(ft),je&&je.parentNode&&(Ge.removeChild(je),this._cropEl=null);var st="",mt=oe.opacity;mt<1&&(st+=".Alpha(opacity="+g(mt*100)+") "),st+=x+".AlphaImageLoader(src="+ge+", SizingMethod=scale)",bt.filter=st,Ge.style.zIndex=O(this.zlevel,this.z,this.z2),I(ie,Ge),oe.text!=null&&this.drawRectText(ie,this.getBoundingRect())}},u.prototype.onRemove=function(ie){E(ie,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(ie)},u.prototype.onAdd=function(ie){I(ie,this._vmlEl),this.appendRectText(ie)};var F="normal",$={},U=0,X=100,Q=document.createElement("div"),j=function(ie){var oe=$[ie];if(!oe){U>X&&(U=0,$={});var ge=Q.style,Z;try{ge.font=ie,Z=ge.fontFamily.split(",")[0]}catch{}oe={style:ge.fontStyle||F,variant:ge.fontVariant||F,weight:ge.fontWeight||F,size:parseFloat(ge.fontSize||12)|0,family:Z||"Microsoft YaHei"},$[ie]=oe,U++}return oe},ee;n.$override("measureText",function(ie,oe){var ge=f.doc;ee||(ee=ge.createElement("div"),ee.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",f.doc.body.appendChild(ee));try{ee.style.font=oe}catch{}return ee.innerHTML="",ee.appendChild(ge.createTextNode(ie)),{width:ee.offsetWidth}});for(var re=new a,te=function(ie,oe,ge,Z){var K=this.style;this.__dirty&&s.normalizeTextStyle(K,!0);var J=K.text;if(J!=null&&(J+=""),!!J){if(K.rich){var se=n.parseRichText(J,K);J=[];for(var ue=0;ue<se.lines.length;ue++){for(var ve=se.lines[ue].tokens,he=[],me=0;me<ve.length;me++)he.push(ve[me].text);J.push(he.join(""))}J=J.join(`
`)}var xe,Ce,Me=K.textAlign,Ae=K.textVerticalAlign,Ve=j(K.font),qe=Ve.style+" "+Ve.variant+" "+Ve.weight+" "+Ve.size+'px "'+Ve.family+'"';ge=ge||n.getBoundingRect(J,qe,Me,Ae,K.textPadding,K.textLineHeight);var We=this.transform;if(We&&!Z&&(re.copy(oe),re.applyTransform(We),oe=re),Z)xe=oe.x,Ce=oe.y;else{var Ge=K.textPosition;if(Ge instanceof Array)xe=oe.x+B(Ge[0],oe.width),Ce=oe.y+B(Ge[1],oe.height),Me=Me||"left";else{var Ze=this.calculateTextPosition?this.calculateTextPosition({},K,oe):n.calculateTextPosition({},K,oe);xe=Ze.x,Ce=Ze.y,Me=Me||Ze.textAlign,Ae=Ae||Ze.textVerticalAlign}}xe=n.adjustTextX(xe,ge.width,Me),Ce=n.adjustTextY(Ce,ge.height,Ae),Ce+=ge.height/2;var Ke=f.createNode,Re=this._textVmlEl,Fe,He,Qe;Re?(Qe=Re.firstChild,Fe=Qe.nextSibling,He=Fe.nextSibling):(Re=Ke("line"),Fe=Ke("path"),He=Ke("textpath"),Qe=Ke("skew"),He.style["v-text-align"]="left",D(Re),Fe.textpathok=!0,He.on=!0,Re.from="0 0",Re.to="1000 0.05",I(Re,Qe),I(Re,Fe),I(Re,He),this._textVmlEl=Re);var $e=[xe,Ce],et=Re.style;We&&Z?(r($e,$e,We),Qe.on=!0,Qe.matrix=We[0].toFixed(3)+A+We[2].toFixed(3)+A+We[1].toFixed(3)+A+We[3].toFixed(3)+",0,0",Qe.offset=(g($e[0])||0)+","+(g($e[1])||0),Qe.origin="0 0",et.left="0px",et.top="0px"):(Qe.on=!1,et.left=g(xe)+"px",et.top=g(Ce)+"px"),He.string=L(J);try{He.style.font=qe}catch{}k(Re,"fill",{fill:K.textFill,opacity:K.opacity},this),k(Re,"stroke",{stroke:K.textStroke,opacity:K.opacity,lineDash:K.lineDash||null},this),Re.style.zIndex=O(this.zlevel,this.z,this.z2),I(ie,Re)}},ne=function(ie){E(ie,this._textVmlEl),this._textVmlEl=null},Se=function(ie){I(ie,this._textVmlEl)},le=[c,o,u,h,v],pe=0;pe<le.length;pe++){var de=le[pe].prototype;de.drawRectText=te,de.removeRectText=ne,de.appendRectText=Se}v.prototype.brushVML=function(ie){var oe=this.style;oe.text!=null?this.drawRectText(ie,{x:oe.x||0,y:oe.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(ie)},v.prototype.onRemove=function(ie){this.removeRectText(ie)},v.prototype.onAdd=function(ie){this.appendRectText(ie)}}return Kw}var af,Jw;function FF(){if(Jw)return af;Jw=1;var e=cn,t=gD(),r=W,a=r.each;function i(o){return parseInt(o,10)}function n(o,u){t.initVML(),this.root=o,this.storage=u;var v=document.createElement("div"),h=document.createElement("div");v.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",h.style.cssText="position:absolute;left:0;top:0;",o.appendChild(v),this._vmlRoot=h,this._vmlViewport=v,this.resize();var l=u.delFromStorage,d=u.addToStorage;u.delFromStorage=function(f){l.call(u,f),f&&f.onRemove&&f.onRemove(h)},u.addToStorage=function(f){f.onAdd&&f.onAdd(h),d.call(u,f)},this._firstPaint=!0}n.prototype={constructor:n,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var o=this.getViewportRoot();if(o)return{offsetLeft:o.offsetLeft||0,offsetTop:o.offsetTop||0}},refresh:function(){var o=this.storage.getDisplayList(!0,!0);this._paintList(o)},_paintList:function(o){for(var u=this._vmlRoot,v=0;v<o.length;v++){var h=o[v];h.invisible||h.ignore?(h.__alreadyNotVisible||h.onRemove(u),h.__alreadyNotVisible=!0):(h.__alreadyNotVisible&&h.onAdd(u),h.__alreadyNotVisible=!1,h.__dirty&&(h.beforeBrush&&h.beforeBrush(),(h.brushVML||h.brush).call(h,u),h.afterBrush&&h.afterBrush())),h.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(u),this._firstPaint=!1)},resize:function(v,h){var v=v??this._getWidth(),h=h??this._getHeight();if(this._width!==v||this._height!==h){this._width=v,this._height=h;var l=this._vmlViewport.style;l.width=v+"px",l.height=h+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var o=this.root,u=o.currentStyle;return(o.clientWidth||i(u.width))-i(u.paddingLeft)-i(u.paddingRight)|0},_getHeight:function(){var o=this.root,u=o.currentStyle;return(o.clientHeight||i(u.height))-i(u.paddingTop)-i(u.paddingBottom)|0}};function s(o){return function(){e('In IE8.0 VML mode painter not support method "'+o+'"')}}a(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(o){n.prototype[o]=s(o)});var c=n;return af=c,af}var eA;function $F(){if(eA)return Xw;eA=1,GF();var e=kr,t=e.registerPainter,r=FF();return t("vml",r),Xw}var tA={},Fi={},nf={},rA;function Dg(){if(rA)return nf;rA=1;var e="http://www.w3.org/2000/svg";function t(r){return document.createElementNS(e,r)}return nf.createElement=t,nf}var aA;function Lg(){if(aA)return Fi;aA=1;var e=Dg(),t=e.createElement,r=hi,a=Xe,i=Je,n=Ue,s=tr,c=xa,o=r.CMD,u=Array.prototype.join,v="none",h=Math.round,l=Math.sin,d=Math.cos,f=Math.PI,m=Math.PI*2,g=180/f,p=1e-4;function y(k){return h(k*1e4)/1e4}function _(k){return k<p&&k>-p}function w(k,N){var G=N?k.textFill:k.fill;return G!=null&&G!==v}function S(k,N){var G=N?k.textStroke:k.stroke;return G!=null&&G!==v}function A(k,N){N&&x(k,"transform","matrix("+u.call(N,",")+")")}function x(k,N,G){(!G||G.type!=="linear"&&G.type!=="radial")&&k.setAttribute(N,G)}function b(k,N,G){k.setAttributeNS("http://www.w3.org/1999/xlink",N,G)}function T(k,N,G,H){if(w(N,G)){var F=G?N.textFill:N.fill;F=F==="transparent"?v:F,x(k,"fill",F),x(k,"fill-opacity",N.fillOpacity!=null?N.fillOpacity*N.opacity:N.opacity)}else x(k,"fill",v);if(S(N,G)){var $=G?N.textStroke:N.stroke;$=$==="transparent"?v:$,x(k,"stroke",$);var U=G?N.textStrokeWidth:N.lineWidth,X=!G&&N.strokeNoScale?H.getLineScale():1;x(k,"stroke-width",U/X),x(k,"paint-order",G?"stroke":"fill"),x(k,"stroke-opacity",N.strokeOpacity!=null?N.strokeOpacity:N.opacity);var Q=N.lineDash;Q?(x(k,"stroke-dasharray",N.lineDash.join(",")),x(k,"stroke-dashoffset",h(N.lineDashOffset||0))):x(k,"stroke-dasharray",""),N.lineCap&&x(k,"stroke-linecap",N.lineCap),N.lineJoin&&x(k,"stroke-linejoin",N.lineJoin),N.miterLimit&&x(k,"stroke-miterlimit",N.miterLimit)}else x(k,"stroke",v)}function M(k){for(var N=[],G=k.data,H=k.len(),F=0;F<H;){var $=G[F++],U="",X=0;switch($){case o.M:U="M",X=2;break;case o.L:U="L",X=2;break;case o.Q:U="Q",X=4;break;case o.C:U="C",X=6;break;case o.A:var Q=G[F++],j=G[F++],ee=G[F++],re=G[F++],te=G[F++],ne=G[F++],Se=G[F++],le=G[F++],pe=Math.abs(ne),de=_(pe-m)||(le?ne>=m:-ne>=m),ie=ne>0?ne%m:ne%m+m,oe=!1;de?oe=!0:_(pe)?oe=!1:oe=ie>=f==!!le;var ge=y(Q+ee*d(te)),Z=y(j+re*l(te));de&&(le?ne=m-1e-4:ne=-m+1e-4,oe=!0,F===9&&N.push("M",ge,Z));var K=y(Q+ee*d(te+ne)),J=y(j+re*l(te+ne));N.push("A",y(ee),y(re),h(Se*g),+oe,+le,K,J);break;case o.Z:U="Z";break;case o.R:var K=y(G[F++]),J=y(G[F++]),se=y(G[F++]),ue=y(G[F++]);N.push("M",K,J,"L",K+se,J,"L",K+se,J+ue,"L",K,J+ue,"L",K,J);break}U&&N.push(U);for(var ve=0;ve<X;ve++)N.push(y(G[F++]))}return N.join(" ")}var C={};C.brush=function(k){var N=k.style,G=k.__svgEl;G||(G=t("path"),k.__svgEl=G),k.path||k.createPathProxy();var H=k.path;if(k.__dirtyPath){H.beginPath(),H.subPixelOptimize=!1,k.buildPath(H,k.shape),k.__dirtyPath=!1;var F=M(H);F.indexOf("NaN")<0&&x(G,"d",F)}T(G,N,!1,k),A(G,k.transform),N.text!=null?B(k,k.getBoundingRect()):z(k)};var D={};D.brush=function(k){var N=k.style,G=N.image;if(G instanceof HTMLImageElement){var H=G.src;G=H}if(G){var F=N.x||0,$=N.y||0,U=N.width,X=N.height,Q=k.__svgEl;Q||(Q=t("image"),k.__svgEl=Q),G!==k.__imageSrc&&(b(Q,"href",G),k.__imageSrc=G),x(Q,"width",U),x(Q,"height",X),x(Q,"x",F),x(Q,"y",$),A(Q,k.transform),N.text!=null?B(k,k.getBoundingRect()):z(k)}};var L={},P=new a,I={},E=[],O={left:"start",right:"end",center:"middle",middle:"middle"},B=function(k,N){var G=k.style,H=k.transform,F=k instanceof c||G.transformText;k.__dirty&&s.normalizeTextStyle(G,!0);var $=G.text;if($!=null&&($+=""),!!s.needDrawText($,G)){$==null&&($=""),!F&&H&&(P.copy(N),P.applyTransform(H),N=P);var U=k.__textSvgEl;U||(U=t("text"),k.__textSvgEl=U);var X=U.style,Q=G.font||n.DEFAULT_FONT,j=U.__computedFont;Q!==U.__styleFont&&(X.font=U.__styleFont=Q,j=U.__computedFont=X.font);var ee=G.textPadding,re=G.textLineHeight,te=k.__textCotentBlock;(!te||k.__dirtyText)&&(te=k.__textCotentBlock=n.parsePlainText($,j,ee,re,G.truncate));var ne=te.outerHeight,Se=te.lineHeight;s.getBoxPosition(I,k,G,N);var le=I.baseX,pe=I.baseY,de=I.textAlign||"left",ie=I.textVerticalAlign;q(U,F,H,G,N,le,pe);var oe=n.adjustTextY(pe,ne,ie),ge=le,Z=oe;ee&&(ge=V(le,de,ee),Z+=ee[0]),Z+=Se/2,T(U,G,!0,k);var K=te.canCacheByTextString,J=k.__tspanList||(k.__tspanList=[]),se=J.length;if(K&&k.__canCacheByTextString&&k.__text===$){if(k.__dirtyText&&se)for(var ue=0;ue<se;++ue)R(J[ue],de,ge,Z+ue*Se)}else{k.__text=$,k.__canCacheByTextString=K;for(var ve=te.lines,he=ve.length,ue=0;ue<he;ue++){var me=J[ue],xe=ve[ue];me?me.__zrText!==xe&&(me.innerHTML="",me.appendChild(document.createTextNode(xe))):(me=J[ue]=t("tspan"),U.appendChild(me),me.appendChild(document.createTextNode(xe))),R(me,de,ge,Z+ue*Se)}if(se>he){for(;ue<se;ue++)U.removeChild(J[ue]);J.length=he}}}};function q(k,N,G,H,F,$,U){i.identity(E),N&&G&&i.copy(E,G);var X=H.textRotation;if(F&&X){var Q=H.textOrigin;Q==="center"?($=F.width/2+F.x,U=F.height/2+F.y):Q&&($=Q[0]+F.x,U=Q[1]+F.y),E[4]-=$,E[5]-=U,i.rotate(E,E,X),E[4]+=$,E[5]+=U}A(k,E)}function V(k,N,G){return N==="right"?k-G[1]:N==="center"?k+G[3]/2-G[1]/2:k+G[3]}function R(k,N,G,H){x(k,"dominant-baseline","middle"),x(k,"text-anchor",O[N]),x(k,"x",G),x(k,"y",H)}function z(k){k&&k.__textSvgEl&&(k.__textSvgEl.parentNode&&k.__textSvgEl.parentNode.removeChild(k.__textSvgEl),k.__textSvgEl=null,k.__tspanList=[],k.__text=null)}return L.drawRectText=B,L.brush=function(k){var N=k.style;N.text!=null?B(k,!1):z(k)},Fi.path=C,Fi.image=D,Fi.text=L,Fi}var of,iA;function UF(){if(iA)return of;iA=1;function e(){}e.prototype={diff:function(n,s,c){c||(c=function(_,w){return _===w}),this.equals=c;var o=this;n=n.slice(),s=s.slice();var u=s.length,v=n.length,h=1,l=u+v,d=[{newPos:-1,components:[]}],f=this.extractCommon(d[0],s,n,0);if(d[0].newPos+1>=u&&f+1>=v){for(var m=[],g=0;g<s.length;g++)m.push(g);return[{indices:m,count:s.length}]}function p(){for(var _=-1*h;_<=h;_+=2){var w,S=d[_-1],A=d[_+1],x=(A?A.newPos:0)-_;S&&(d[_-1]=void 0);var b=S&&S.newPos+1<u,T=A&&0<=x&&x<v;if(!b&&!T){d[_]=void 0;continue}if(!b||T&&S.newPos<A.newPos?(w=r(A),o.pushComponent(w.components,void 0,!0)):(w=S,w.newPos++,o.pushComponent(w.components,!0,void 0)),x=o.extractCommon(w,s,n,_),w.newPos+1>=u&&x+1>=v)return t(o,w.components);d[_]=w}h++}for(;h<=l;){var y=p();if(y)return y}},pushComponent:function(n,s,c){var o=n[n.length-1];o&&o.added===s&&o.removed===c?n[n.length-1]={count:o.count+1,added:s,removed:c}:n.push({count:1,added:s,removed:c})},extractCommon:function(n,s,c,o){for(var u=s.length,v=c.length,h=n.newPos,l=h-o,d=0;h+1<u&&l+1<v&&this.equals(s[h+1],c[l+1]);)h++,l++,d++;return d&&n.components.push({count:d}),n.newPos=h,l},tokenize:function(n){return n.slice()},join:function(n){return n.slice()}};function t(n,s,c,o){for(var u=0,v=s.length,h=0,l=0;u<v;u++){var d=s[u];if(d.removed){for(var f=[],m=l;m<l+d.count;m++)f.push(m);d.indices=f,l+=d.count}else{for(var f=[],m=h;m<h+d.count;m++)f.push(m);d.indices=f,h+=d.count,d.added||(l+=d.count)}}return s}function r(n){return{newPos:n.newPos,components:n.components.slice(0)}}var a=new e;function i(n,s,c){return a.diff(n,s,c)}return of=i,of}var sf,nA;function Pg(){if(nA)return sf;nA=1;var e=Dg(),t=e.createElement,r=W,a=at,i=ui,n=xa,s=Lg(),c=s.path,o=s.image,u=s.text,v="0",h="1";function l(f,m,g,p,y){this._zrId=f,this._svgRoot=m,this._tagNames=typeof g=="string"?[g]:g,this._markLabel=p,this._domName=y||"_dom",this.nextId=0}l.prototype.createElement=t,l.prototype.getDefs=function(f){var m=this._svgRoot,g=this._svgRoot.getElementsByTagName("defs");return g.length===0?f?(g=m.insertBefore(this.createElement("defs"),m.firstChild),g.contains||(g.contains=function(p){var y=g.children;if(!y)return!1;for(var _=y.length-1;_>=0;--_)if(y[_]===p)return!0;return!1}),g):null:g[0]},l.prototype.update=function(f,m){if(f){var g=this.getDefs(!1);if(f[this._domName]&&g.contains(f[this._domName]))typeof m=="function"&&m(f);else{var p=this.add(f);p&&(f[this._domName]=p)}}},l.prototype.addDom=function(f){var m=this.getDefs(!0);m.appendChild(f)},l.prototype.removeDom=function(f){var m=this.getDefs(!1);m&&f[this._domName]&&(m.removeChild(f[this._domName]),f[this._domName]=null)},l.prototype.getDoms=function(){var f=this.getDefs(!1);if(!f)return[];var m=[];return r.each(this._tagNames,function(g){var p=f.getElementsByTagName(g);m=m.concat([].slice.call(p))}),m},l.prototype.markAllUnused=function(){var f=this.getDoms(),m=this;r.each(f,function(g){g[m._markLabel]=v})},l.prototype.markUsed=function(f){f&&(f[this._markLabel]=h)},l.prototype.removeUnused=function(){var f=this.getDefs(!1);if(f){var m=this.getDoms(),g=this;r.each(m,function(p){p[g._markLabel]!==h&&f.removeChild(p)})}},l.prototype.getSvgProxy=function(f){return f instanceof a?c:f instanceof i?o:f instanceof n?u:c},l.prototype.getTextSvgElement=function(f){return f.__textSvgEl},l.prototype.getSvgElement=function(f){return f.__svgEl};var d=l;return sf=d,sf}var lf,oA;function WF(){if(oA)return lf;oA=1;var e=Pg(),t=W,r=cn,a=lt;function i(s,c){e.call(this,s,c,["linearGradient","radialGradient"],"__gradient_in_use__")}t.inherits(i,e),i.prototype.addWithoutUpdate=function(s,c){if(c&&c.style){var o=this;t.each(["fill","stroke"],function(u){if(c.style[u]&&(c.style[u].type==="linear"||c.style[u].type==="radial")){var v=c.style[u],h=o.getDefs(!0),l;v._dom?(l=v._dom,h.contains(v._dom)||o.addDom(l)):l=o.add(v),o.markUsed(c);var d=l.getAttribute("id");s.setAttribute(u,"url(#"+d+")")}})}},i.prototype.add=function(s){var c;if(s.type==="linear")c=this.createElement("linearGradient");else if(s.type==="radial")c=this.createElement("radialGradient");else return r("Illegal gradient type."),null;return s.id=s.id||this.nextId++,c.setAttribute("id","zr"+this._zrId+"-gradient-"+s.id),this.updateDom(s,c),this.addDom(c),c},i.prototype.update=function(s){var c=this;e.prototype.update.call(this,s,function(){var o=s.type,u=s._dom.tagName;o==="linear"&&u==="linearGradient"||o==="radial"&&u==="radialGradient"?c.updateDom(s,s._dom):(c.removeDom(s),c.add(s))})},i.prototype.updateDom=function(s,c){if(s.type==="linear")c.setAttribute("x1",s.x),c.setAttribute("y1",s.y),c.setAttribute("x2",s.x2),c.setAttribute("y2",s.y2);else if(s.type==="radial")c.setAttribute("cx",s.x),c.setAttribute("cy",s.y),c.setAttribute("r",s.r);else{r("Illegal gradient type.");return}s.global?c.setAttribute("gradientUnits","userSpaceOnUse"):c.setAttribute("gradientUnits","objectBoundingBox"),c.innerHTML="";for(var o=s.colorStops,u=0,v=o.length;u<v;++u){var h=this.createElement("stop");h.setAttribute("offset",o[u].offset*100+"%");var l=o[u].color;if(l.indexOf("rgba">-1)){var d=a.parse(l)[3],f=a.toHex(l);h.setAttribute("stop-color","#"+f),h.setAttribute("stop-opacity",d)}else h.setAttribute("stop-color",o[u].color);c.appendChild(h)}s._dom=c},i.prototype.markUsed=function(s){if(s.style){var c=s.style.fill;c&&c._dom&&e.prototype.markUsed.call(this,c._dom),c=s.style.stroke,c&&c._dom&&e.prototype.markUsed.call(this,c._dom)}};var n=i;return lf=n,lf}var uf,sA;function ZF(){if(sA)return uf;sA=1;var e=Pg(),t=W,r=Je;function a(n,s){e.call(this,n,s,"clipPath","__clippath_in_use__")}t.inherits(a,e),a.prototype.update=function(n){var s=this.getSvgElement(n);s&&this.updateDom(s,n.__clipPaths,!1);var c=this.getTextSvgElement(n);c&&this.updateDom(c,n.__clipPaths,!0),this.markUsed(n)},a.prototype.updateDom=function(n,s,c){if(s&&s.length>0){var o=this.getDefs(!0),u=s[0],v,h,l=c?"_textDom":"_dom";u[l]?(h=u[l].getAttribute("id"),v=u[l],o.contains(v)||o.appendChild(v)):(h="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,v=this.createElement("clipPath"),v.setAttribute("id",h),o.appendChild(v),u[l]=v);var d=this.getSvgProxy(u);if(u.transform&&u.parent.invTransform&&!c){var f=Array.prototype.slice.call(u.transform);r.mul(u.transform,u.parent.invTransform,u.transform),d.brush(u),u.transform=f}else d.brush(u);var m=this.getSvgElement(u);v.innerHTML="",v.appendChild(m.cloneNode()),n.setAttribute("clip-path","url(#"+h+")"),s.length>1&&this.updateDom(v,s.slice(1),c)}else n&&n.setAttribute("clip-path","none")},a.prototype.markUsed=function(n){var s=this;n.__clipPaths&&t.each(n.__clipPaths,function(c){c._dom&&e.prototype.markUsed.call(s,c._dom),c._textDom&&e.prototype.markUsed.call(s,c._textDom)})};var i=a;return uf=i,uf}var vf,lA;function YF(){if(lA)return vf;lA=1;var e=Pg(),t=W;function r(n,s){e.call(this,n,s,["filter"],"__filter_in_use__","_shadowDom")}t.inherits(r,e),r.prototype.addWithoutUpdate=function(n,s){if(s&&a(s.style)){var c;if(s._shadowDom){c=s._shadowDom;var o=this.getDefs(!0);o.contains(s._shadowDom)||this.addDom(c)}else c=this.add(s);this.markUsed(s);var u=c.getAttribute("id");n.style.filter="url(#"+u+")"}},r.prototype.add=function(n){var s=this.createElement("filter");return n._shadowDomId=n._shadowDomId||this.nextId++,s.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(n,s),this.addDom(s),s},r.prototype.update=function(n,s){var c=s.style;if(a(c)){var o=this;e.prototype.update.call(this,s,function(){o.updateDom(s,s._shadowDom)})}else this.remove(n,s)},r.prototype.remove=function(n,s){s._shadowDomId!=null&&(this.removeDom(n),n.style.filter="")},r.prototype.updateDom=function(n,s){var c=s.getElementsByTagName("feDropShadow");c.length===0?c=this.createElement("feDropShadow"):c=c[0];var o=n.style,u=n.scale&&n.scale[0]||1,v=n.scale&&n.scale[1]||1,h,l,d,f;if(o.shadowBlur||o.shadowOffsetX||o.shadowOffsetY)h=o.shadowOffsetX||0,l=o.shadowOffsetY||0,d=o.shadowBlur,f=o.shadowColor;else if(o.textShadowBlur)h=o.textShadowOffsetX||0,l=o.textShadowOffsetY||0,d=o.textShadowBlur,f=o.textShadowColor;else{this.removeDom(s,o);return}c.setAttribute("dx",h/u),c.setAttribute("dy",l/v),c.setAttribute("flood-color",f);var m=d/2/u,g=d/2/v,p=m+" "+g;c.setAttribute("stdDeviation",p),s.setAttribute("x","-100%"),s.setAttribute("y","-100%"),s.setAttribute("width",Math.ceil(d/2*200)+"%"),s.setAttribute("height",Math.ceil(d/2*200)+"%"),s.appendChild(c),n._shadowDom=s},r.prototype.markUsed=function(n){n._shadowDom&&e.prototype.markUsed.call(this,n._shadowDom)};function a(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY||n.textShadowBlur||n.textShadowOffsetX||n.textShadowOffsetY)}var i=r;return vf=i,vf}var hf,uA;function XF(){if(uA)return hf;uA=1;var e=Dg(),t=e.createElement,r=W,a=cn,i=at,n=ui,s=xa,c=UF(),o=WF(),u=ZF(),v=YF(),h=Lg(),l=h.path,d=h.image,f=h.text;function m(M){return parseInt(M,10)}function g(M){return M instanceof i?l:M instanceof n?d:M instanceof s?f:l}function p(M,C){return C&&M&&C.parentNode!==M}function y(M,C,D){if(p(M,C)&&D){var L=D.nextSibling;L?M.insertBefore(C,L):M.appendChild(C)}}function _(M,C){if(p(M,C)){var D=M.firstChild;D?M.insertBefore(C,D):M.appendChild(C)}}function w(M,C){C&&M&&C.parentNode===M&&M.removeChild(C)}function S(M){return M.__textSvgEl}function A(M){return M.__svgEl}var x=function(M,C,D,L){this.root=M,this.storage=C,this._opts=D=r.extend({},D||{});var P=t("svg");P.setAttribute("xmlns","http://www.w3.org/2000/svg"),P.setAttribute("version","1.1"),P.setAttribute("baseProfile","full"),P.style.cssText="user-select:none;position:absolute;left:0;top:0;";var I=t("g");P.appendChild(I);var E=t("g");P.appendChild(E),this.gradientManager=new o(L,E),this.clipPathManager=new u(L,E),this.shadowManager=new v(L,E);var O=document.createElement("div");O.style.cssText="overflow:hidden;position:relative",this._svgDom=P,this._svgRoot=E,this._backgroundRoot=I,this._viewport=O,M.appendChild(O),O.appendChild(P),this.resize(D.width,D.height),this._visibleList=[]};x.prototype={constructor:x,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var M=this.getViewportRoot();if(M)return{offsetLeft:M.offsetLeft||0,offsetTop:M.offsetTop||0}},refresh:function(){var M=this.storage.getDisplayList(!0);this._paintList(M)},setBackgroundColor:function(M){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var C=t("rect");C.setAttribute("width",this.getWidth()),C.setAttribute("height",this.getHeight()),C.setAttribute("x",0),C.setAttribute("y",0),C.setAttribute("id",0),C.style.fill=M,this._backgroundRoot.appendChild(C),this._backgroundNode=C},_paintList:function(M){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var C=this._svgRoot,D=this._visibleList,L=M.length,P=[],I;for(I=0;I<L;I++){var E=M[I],O=g(E),B=A(E)||S(E);E.invisible||(E.__dirty&&(O&&O.brush(E),this.clipPathManager.update(E),E.style&&(this.gradientManager.update(E.style.fill),this.gradientManager.update(E.style.stroke),this.shadowManager.update(B,E)),E.__dirty=!1),P.push(E))}var q=c(D,P),V;for(I=0;I<q.length;I++){var R=q[I];if(R.removed)for(var z=0;z<R.count;z++){var E=D[R.indices[z]],B=A(E),k=S(E);w(C,B),w(C,k)}}for(I=0;I<q.length;I++){var R=q[I];if(R.added)for(var z=0;z<R.count;z++){var E=P[R.indices[z]],B=A(E),k=S(E);V?y(C,B,V):_(C,B),B?y(C,k,B):V?y(C,k,V):_(C,k),y(C,k,B),V=k||B||V,this.gradientManager.addWithoutUpdate(B||k,E),this.shadowManager.addWithoutUpdate(B||k,E),this.clipPathManager.markUsed(E)}else if(!R.removed)for(var z=0;z<R.count;z++){var E=P[R.indices[z]],B=A(E),k=S(E),B=A(E),k=S(E);this.gradientManager.markUsed(E),this.gradientManager.addWithoutUpdate(B||k,E),this.shadowManager.markUsed(E),this.shadowManager.addWithoutUpdate(B||k,E),this.clipPathManager.markUsed(E),k&&y(C,k,B),V=B||k||V}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=P},_getDefs:function(M){var C=this._svgDom,D=C.getElementsByTagName("defs");if(D.length===0)if(M){var D=C.insertBefore(t("defs"),C.firstChild);return D.contains||(D.contains=function(P){var I=D.children;if(!I)return!1;for(var E=I.length-1;E>=0;--E)if(I[E]===P)return!0;return!1}),D}else return null;else return D[0]},resize:function(M,C){var D=this._viewport;D.style.display="none";var L=this._opts;if(M!=null&&(L.width=M),C!=null&&(L.height=C),M=this._getSize(0),C=this._getSize(1),D.style.display="",this._width!==M||this._height!==C){this._width=M,this._height=C;var P=D.style;P.width=M+"px",P.height=C+"px";var I=this._svgDom;I.setAttribute("width",M),I.setAttribute("height",C)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",M),this._backgroundNode.setAttribute("height",C))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(M){var C=this._opts,D=["width","height"][M],L=["clientWidth","clientHeight"][M],P=["paddingLeft","paddingTop"][M],I=["paddingRight","paddingBottom"][M];if(C[D]!=null&&C[D]!=="auto")return parseFloat(C[D]);var E=this.root,O=document.defaultView.getComputedStyle(E);return(E[L]||m(O[D])||m(E.style[D]))-(m(O[P])||0)-(m(O[I])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){this.refresh();var M=encodeURIComponent(this._svgDom.outerHTML.replace(/></g,`>
\r<`));return"data:image/svg+xml;charset=UTF-8,"+M}};function b(M){return function(){a('In SVG mode painter not support method "'+M+'"')}}r.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(M){x.prototype[M]=b(M)});var T=x;return hf=T,hf}var vA;function KF(){if(vA)return tA;vA=1,Lg();var e=kr,t=e.registerPainter,r=XF();return t("svg",r),tA}(function(e){var t=_e;(function(){for(var a in t){if(t==null||!t.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=t[a]}})();var r=_M();(function(){for(var a in r){if(r==null||!r.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=r[a]}})(),L5(),k5(),V5(),F5(),J5(),fq(),_q(),Mq(),Gq(),Wq(),Kq(),l3(),d3(),_3(),T3(),L3(),O3(),V3(),G3(),rG(),lG(),dG(),gG(),MG(),PG(),XM(),HM(),kG(),OG(),ZG(),jG(),On(),nF(),oF(),gF(),yF(),SF(),AF(),PF(),rD(),zF(),iD(),aD(),qF(),fD(),dD(),$F(),KF()})(hA);const jF=DD(hA);export{jF as a,hA as e};

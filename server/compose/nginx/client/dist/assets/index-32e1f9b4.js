import{V as lD}from"./index-d5fdc465.js";var aA={},xe={},Or={},uD=2311;function vD(){return uD++}var iA=vD,qi={};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?qi={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?qi={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?qi={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:qi=cD(navigator.userAgent);var hD=qi;function cD(e){var t={},r={},a=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge\/([\d.]+)/),l=/micromessenger/i.test(e);return a&&(r.firefox=!0,r.version=a[1]),i&&(r.ie=!0,r.version=i[1]),o&&(r.edge=!0,r.version=o[1]),l&&(r.weChat=!0),{browser:r,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=11),domSupported:typeof document<"u"}}var nt=hD,W={},nA={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},oA={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},tn=Object.prototype.toString,rn=Array.prototype,fD=rn.forEach,dD=rn.filter,Zi=rn.slice,gD=rn.map,pD=rn.reduce,Xf={};function mD(e,t){e==="createCanvas"&&(go=null),Xf[e]=t}function Ua(e){if(e==null||typeof e!="object")return e;var t=e,r=tn.call(e);if(r==="[object Array]"){if(!$a(e)){t=[];for(var a=0,i=e.length;a<i;a++)t[a]=Ua(e[a])}}else if(oA[r]){if(!$a(e)){var o=e.constructor;if(e.constructor.from)t=o.from(e);else{t=new o(e.length);for(var a=0,i=e.length;a<i;a++)t[a]=Ua(e[a])}}}else if(!nA[r]&&!$a(e)&&!Mo(e)){t={};for(var l in e)e.hasOwnProperty(l)&&(t[l]=Ua(e[l]))}return t}function Kf(e,t,r){if(!Gi(t)||!Gi(e))return r?Ua(t):e;for(var a in t)if(t.hasOwnProperty(a)){var i=e[a],o=t[a];Gi(o)&&Gi(i)&&!Co(o)&&!Co(i)&&!Mo(o)&&!Mo(i)&&!nf(o)&&!nf(i)&&!$a(o)&&!$a(i)?Kf(i,o,r):(r||!(a in e))&&(e[a]=Ua(t[a]))}return e}function yD(e,t){for(var r=e[0],a=1,i=e.length;a<i;a++)r=Kf(r,e[a],t);return r}function _D(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function sA(e,t,r){for(var a in t)t.hasOwnProperty(a)&&(r?t[a]!=null:e[a]==null)&&(e[a]=t[a]);return e}var lA=function(){return Xf.createCanvas()};Xf.createCanvas=function(){return document.createElement("canvas")};var go;function xD(){return go||(go=lA().getContext("2d")),go}function SD(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r}return-1}function bD(e,t){var r=e.prototype;function a(){}a.prototype=t.prototype,e.prototype=new a;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function wD(e,t,r){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,sA(e,t,r)}function AD(e){if(e)return typeof e=="string"?!1:typeof e.length=="number"}function uA(e,t,r){if(e&&t)if(e.forEach&&e.forEach===fD)e.forEach(t,r);else if(e.length===+e.length)for(var a=0,i=e.length;a<i;a++)t.call(r,e[a],a,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e)}function TD(e,t,r){if(e&&t){if(e.map&&e.map===gD)return e.map(t,r);for(var a=[],i=0,o=e.length;i<o;i++)a.push(t.call(r,e[i],i,e));return a}}function CD(e,t,r,a){if(e&&t){if(e.reduce&&e.reduce===pD)return e.reduce(t,r,a);for(var i=0,o=e.length;i<o;i++)r=t.call(a,r,e[i],i,e);return r}}function MD(e,t,r){if(e&&t){if(e.filter&&e.filter===dD)return e.filter(t,r);for(var a=[],i=0,o=e.length;i<o;i++)t.call(r,e[i],i,e)&&a.push(e[i]);return a}}function DD(e,t,r){if(e&&t){for(var a=0,i=e.length;a<i;a++)if(t.call(r,e[a],a,e))return e[a]}}function vA(e,t){var r=Zi.call(arguments,2);return function(){return e.apply(t,r.concat(Zi.call(arguments)))}}function LD(e){var t=Zi.call(arguments,1);return function(){return e.apply(this,t.concat(Zi.call(arguments)))}}function Co(e){return tn.call(e)==="[object Array]"}function PD(e){return typeof e=="function"}function ID(e){return tn.call(e)==="[object String]"}function Gi(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function nf(e){return!!nA[tn.call(e)]}function RD(e){return!!oA[tn.call(e)]}function Mo(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function ED(e){return e!==e}function kD(e){for(var t=0,r=arguments.length;t<r;t++)if(arguments[t]!=null)return arguments[t]}function OD(e,t){return e??t}function zD(e,t,r){return e??t??r}function BD(){return Function.call.apply(Zi,arguments)}function ND(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function VD(e,t){if(!e)throw new Error(t)}function HD(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var hA="__ec_primitive__";function qD(e){e[hA]=!0}function $a(e){return e[hA]}function Do(e){var t=Co(e);this.data={};var r=this;e instanceof Do?e.each(a):e&&uA(e,a);function a(i,o){t?r.set(i,o):r.set(o,i)}}Do.prototype={constructor:Do,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){t!==void 0&&(e=vA(e,t));for(var r in this.data)this.data.hasOwnProperty(r)&&e(this.data[r],r)},removeKey:function(e){delete this.data[e]}};function GD(e){return new Do(e)}function FD(e,t){for(var r=new e.constructor(e.length+t.length),a=0;a<e.length;a++)r[a]=e[a];var i=e.length;for(a=0;a<t.length;a++)r[a+i]=t[a];return r}function UD(){}W.$override=mD;W.clone=Ua;W.merge=Kf;W.mergeAll=yD;W.extend=_D;W.defaults=sA;W.createCanvas=lA;W.getContext=xD;W.indexOf=SD;W.inherits=bD;W.mixin=wD;W.isArrayLike=AD;W.each=uA;W.map=TD;W.reduce=CD;W.filter=MD;W.find=DD;W.bind=vA;W.curry=LD;W.isArray=Co;W.isFunction=PD;W.isString=ID;W.isObject=Gi;W.isBuiltInObject=nf;W.isTypedArray=RD;W.isDom=Mo;W.eqNaN=ED;W.retrieve=kD;W.retrieve2=OD;W.retrieve3=zD;W.slice=BD;W.normalizeCssArray=ND;W.assert=VD;W.trim=HD;W.setAsPrimitive=qD;W.isPrimitive=$a;W.createHashMap=GD;W.concatArray=FD;W.noop=UD;var Ue={},_g;function Ye(){if(_g)return Ue;_g=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(M,C){var D=new e(2);return M==null&&(M=0),C==null&&(C=0),D[0]=M,D[1]=C,D}function r(M,C){return M[0]=C[0],M[1]=C[1],M}function a(M){var C=new e(2);return C[0]=M[0],C[1]=M[1],C}function i(M,C,D){return M[0]=C,M[1]=D,M}function o(M,C,D){return M[0]=C[0]+D[0],M[1]=C[1]+D[1],M}function l(M,C,D,L){return M[0]=C[0]+D[0]*L,M[1]=C[1]+D[1]*L,M}function c(M,C,D){return M[0]=C[0]-D[0],M[1]=C[1]-D[1],M}function n(M){return Math.sqrt(s(M))}var h=n;function s(M){return M[0]*M[0]+M[1]*M[1]}var v=s;function u(M,C,D){return M[0]=C[0]*D[0],M[1]=C[1]*D[1],M}function d(M,C,D){return M[0]=C[0]/D[0],M[1]=C[1]/D[1],M}function f(M,C){return M[0]*C[0]+M[1]*C[1]}function m(M,C,D){return M[0]=C[0]*D,M[1]=C[1]*D,M}function p(M,C){var D=n(C);return D===0?(M[0]=0,M[1]=0):(M[0]=C[0]/D,M[1]=C[1]/D),M}function g(M,C){return Math.sqrt((M[0]-C[0])*(M[0]-C[0])+(M[1]-C[1])*(M[1]-C[1]))}var y=g;function _(M,C){return(M[0]-C[0])*(M[0]-C[0])+(M[1]-C[1])*(M[1]-C[1])}var A=_;function S(M,C){return M[0]=-C[0],M[1]=-C[1],M}function b(M,C,D,L){return M[0]=C[0]+L*(D[0]-C[0]),M[1]=C[1]+L*(D[1]-C[1]),M}function x(M,C,D){var L=C[0],P=C[1];return M[0]=D[0]*L+D[2]*P+D[4],M[1]=D[1]*L+D[3]*P+D[5],M}function w(M,C,D){return M[0]=Math.min(C[0],D[0]),M[1]=Math.min(C[1],D[1]),M}function T(M,C,D){return M[0]=Math.max(C[0],D[0]),M[1]=Math.max(C[1],D[1]),M}return Ue.create=t,Ue.copy=r,Ue.clone=a,Ue.set=i,Ue.add=o,Ue.scaleAndAdd=l,Ue.sub=c,Ue.len=n,Ue.length=h,Ue.lenSquare=s,Ue.lengthSquare=v,Ue.mul=u,Ue.div=d,Ue.dot=f,Ue.scale=m,Ue.normalize=p,Ue.distance=g,Ue.dist=y,Ue.distanceSquare=_,Ue.distSquare=A,Ue.negate=S,Ue.lerp=b,Ue.applyTransform=x,Ue.min=w,Ue.max=T,Ue}function of(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}of.prototype={constructor:of,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(Ia(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,a=e.offsetY,i=r-this._x,o=a-this._y;this._x=r,this._y=a,t.drift(i,o,e),this.dispatchToElement(Ia(t,e),"drag",e.event);var l=this.findHover(r,a,t).target,c=this._dropTarget;this._dropTarget=l,t!==l&&(c&&l!==c&&this.dispatchToElement(Ia(c,e),"dragleave",e.event),l&&l!==c&&this.dispatchToElement(Ia(l,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(Ia(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(Ia(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};function Ia(e,t){return{target:e,topTarget:t&&t.topTarget}}var $D=of,WD=$D,xg=Array.prototype.slice,sf=function(e){this._$handlers={},this._$eventProcessor=e};sf.prototype={constructor:sf,one:function(e,t,r,a){return Sg(this,e,t,r,a,!0)},on:function(e,t,r,a){return Sg(this,e,t,r,a,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var r=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var a=[],i=0,o=r[e].length;i<o;i++)r[e][i].h!==t&&a.push(r[e][i]);r[e]=a}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},trigger:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>3&&(a=xg.call(a,1));for(var o=t.length,l=0;l<o;){var c=t[l];if(r&&r.filter&&c.query!=null&&!r.filter(e,c.query)){l++;continue}switch(i){case 1:c.h.call(c.ctx);break;case 2:c.h.call(c.ctx,a[1]);break;case 3:c.h.call(c.ctx,a[1],a[2]);break;default:c.h.apply(c.ctx,a);break}c.one?(t.splice(l,1),o--):l++}}return r&&r.afterTrigger&&r.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],r=this._$eventProcessor;if(t){var a=arguments,i=a.length;i>4&&(a=xg.call(a,1,a.length-1));for(var o=a[a.length-1],l=t.length,c=0;c<l;){var n=t[c];if(r&&r.filter&&n.query!=null&&!r.filter(e,n.query)){c++;continue}switch(i){case 1:n.h.call(o);break;case 2:n.h.call(o,a[1]);break;case 3:n.h.call(o,a[1],a[2]);break;default:n.h.apply(o,a);break}n.one?(t.splice(c,1),l--):c++}}return r&&r.afterTrigger&&r.afterTrigger(e),this}};function ZD(e,t){var r=e._$eventProcessor;return t!=null&&r&&r.normalizeQuery&&(t=r.normalizeQuery(t)),t}function Sg(e,t,r,a,i,o){var l=e._$handlers;if(typeof r=="function"&&(i=a,a=r,r=null),!a||!t)return e;r=ZD(e,r),l[t]||(l[t]=[]);for(var c=0;c<l[t].length;c++)if(l[t][c].h===a)return e;var n={h:a,one:o,query:r,ctx:i||e,callAtLast:a.zrEventfulCallAtLast},h=l[t].length-1,s=l[t][h];return s&&s.callAtLast?l[t].splice(h,0,n):l[t].push(n),e}var YD=sf,xa=YD,ht={},an={},cA={},XD=Math.log(2);function lf(e,t,r,a,i,o){var l=a+"-"+i,c=e.length;if(o.hasOwnProperty(l))return o[l];if(t===1){var n=Math.round(Math.log((1<<c)-1&~i)/XD);return e[r][n]}for(var h=a|1<<r,s=r+1;a&1<<s;)s++;for(var v=0,u=0,d=0;u<c;u++){var f=1<<u;f&i||(v+=(d%2?-1:1)*e[r][u]*lf(e,t-1,s,h,i|f,o),d++)}return o[l]=v,v}function KD(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],a={},i=lf(r,8,0,0,0,a);if(i!==0){for(var o=[],l=0;l<8;l++)for(var c=0;c<8;c++)o[c]==null&&(o[c]=0),o[c]+=((l+c)%2?-1:1)*lf(r,7,l===0?1:0,1<<l,1<<c,a)/i*t[l];return function(n,h,s){var v=h*o[6]+s*o[7]+1;n[0]=(h*o[0]+s*o[1]+o[2])/v,n[1]=(h*o[3]+s*o[4]+o[5])/v}}}cA.buildTransformer=KD;var QD=nt,jD=cA,bg=jD.buildTransformer,wg="___zrEVENTSAVED",xs=[];function JD(e,t,r,a,i){return uf(xs,t,a,i,!0)&&uf(e,r,xs[0],xs[1])}function uf(e,t,r,a,i){if(t.getBoundingClientRect&&QD.domSupported&&!fA(t)){var o=t[wg]||(t[wg]={}),l=eL(t,o),c=tL(l,o,i);if(c)return c(e,r,a),!0}return!1}function eL(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var a=["left","right"],i=["top","bottom"],o=0;o<4;o++){var l=document.createElement("div"),c=l.style,n=o%2,h=(o>>1)%2;c.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[n]+":0",i[h]+":0",a[1-n]+":auto",i[1-h]+":auto",""].join("!important;"),e.appendChild(l),r.push(l)}return r}function tL(e,t,r){for(var a=r?"invTrans":"trans",i=t[a],o=t.srcCoords,l=!0,c=[],n=[],h=0;h<4;h++){var s=e[h].getBoundingClientRect(),v=2*h,u=s.left,d=s.top;c.push(u,d),l=l&&o&&u===o[v]&&d===o[v+1],n.push(e[h].offsetLeft,e[h].offsetTop)}return l&&i?i:(t.srcCoords=c,t[a]=r?bg(n,c):bg(c,n))}function fA(e){return e.nodeName.toUpperCase()==="CANVAS"}an.transformLocalCoord=JD;an.transformCoordWithViewport=uf;an.isCanvasEl=fA;var rL=xa;ht.Dispatcher=rL;var vf=nt,dA=an,aL=dA.isCanvasEl,iL=dA.transformCoordWithViewport,Qf=typeof window<"u"&&!!window.addEventListener,nL=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ss=[];function hf(e,t,r,a){return r=r||{},a||!vf.canvasSupported?Ag(e,t,r):vf.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):Ag(e,t,r),r}function Ag(e,t,r){if(vf.domSupported&&e.getBoundingClientRect){var a=t.clientX,i=t.clientY;if(aL(e)){var o=e.getBoundingClientRect();r.zrX=a-o.left,r.zrY=i-o.top;return}else if(iL(Ss,e,a,i)){r.zrX=Ss[0],r.zrY=Ss[1];return}}r.zrX=r.zrY=0}function gA(e){return e||window.event}function oL(e,t,r){if(t=gA(t),t.zrX!=null)return t;var a=t.type,i=a&&a.indexOf("touch")>=0;if(!i)hf(e,t,t,r),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;else{var o=a!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&hf(e,o,t,r)}var l=t.button;return t.which==null&&l!==void 0&&nL.test(t.type)&&(t.which=l&1?1:l&2?3:l&4?2:0),t}function sL(e,t,r,a){Qf?e.addEventListener(t,r,a):e.attachEvent("on"+t,r)}function lL(e,t,r,a){Qf?e.removeEventListener(t,r,a):e.detachEvent("on"+t,r)}var uL=Qf?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function vL(e){return e.which===2||e.which===3}function hL(e){return e.which>1}ht.clientToLocal=hf;ht.getNativeEvent=gA;ht.normalizeEvent=oL;ht.addEventListener=sL;ht.removeEventListener=lL;ht.stop=uL;ht.isMiddleOrRightButtonOnMouseUpDown=vL;ht.notLeftMouse=hL;var cL=ht,cf=function(){this._track=[]};cf.prototype={constructor:cf,recognize:function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,r){var a=e.touches;if(a){for(var i={points:[],touches:[],target:t,event:e},o=0,l=a.length;o<l;o++){var c=a[o],n=cL.clientToLocal(r,c,{});i.points.push([n.zrX,n.zrY]),i.touches.push(c)}this._track.push(i)}},_recognize:function(e){for(var t in bs)if(bs.hasOwnProperty(t)){var r=bs[t](this._track,e);if(r)return r}}};function Tg(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function fL(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var bs={pinch:function(e,t){var r=e.length;if(r){var a=(e[r-1]||{}).points,i=(e[r-2]||{}).points||a;if(i&&i.length>1&&a&&a.length>1){var o=Tg(a)/Tg(i);!isFinite(o)&&(o=1),t.pinchScale=o;var l=fL(a);return t.pinchX=l[0],t.pinchY=l[1],{type:"pinch",target:e[0].target,event:t}}}}},dL=cf,gL=dL,Uo=W,pL=Ye(),pA=WD,mA=xa,mL=ht,yL=gL,yA="silent";function _L(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:xL}}function xL(){mL.stop(this.event)}function _A(){}_A.prototype.dispose=function(){};var SL=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Ka=function(e,t,r,a){mA.call(this),this.storage=e,this.painter=t,this.painterRoot=a,r=r||new _A,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,pA.call(this),this.setHandlerProxy(r)};Ka.prototype={constructor:Ka,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(Uo.each(SL,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,r=e.zrY,a=xA(this,t,r),i=this._hovered,o=i.target;o&&!o.__zr&&(i=this.findHover(i.x,i.y),o=i.target);var l=this._hovered=a?{x:t,y:r}:this.findHover(t,r),c=l.target,n=this.proxy;n.setCursor&&n.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(i,"mouseout",e),this.dispatchToElement(l,"mousemove",e),c&&c!==o&&this.dispatchToElement(l,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,r=e.zrIsToLocalDOM;t!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),t!=="no_globalout"&&!r&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var r=this[e];r&&r.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,r){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var i="on"+t,o=_L(t,e,r);a&&(a[i]&&(o.cancelBubble=a[i].call(a,o)),a.trigger(t,o),a=a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer(function(l){typeof l[i]=="function"&&l[i].call(l,o),l.trigger&&l.trigger(t,o)}))}},findHover:function(e,t,r){for(var a=this.storage.getDisplayList(),i={x:e,y:t},o=a.length-1;o>=0;o--){var l;if(a[o]!==r&&!a[o].ignore&&(l=bL(a[o],e,t))&&(!i.topTarget&&(i.topTarget=a[o]),l!==yA)){i.target=a[o];break}}return i},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new yL);var r=this._gestureMgr;t==="start"&&r.clear();var a=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(t==="end"&&r.clear(),a){var i=a.type;e.gestureEvent=i,this.dispatchToElement({target:a.target},i,a.event)}}};Uo.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Ka.prototype[e]=function(t){var r=t.zrX,a=t.zrY,i=xA(this,r,a),o,l;if((e!=="mouseup"||!i)&&(o=this.findHover(r,a),l=o.target),e==="mousedown")this._downEl=l,this._downPoint=[t.zrX,t.zrY],this._upEl=l;else if(e==="mouseup")this._upEl=l;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||pL.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,e,t)}});function bL(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var a=e,i;a;){if(a.clipPath&&!a.clipPath.contain(t,r))return!1;a.silent&&(i=!0),a=a.parent}return i?yA:!0}return!1}function xA(e,t,r){var a=e.painter;return t<0||t>a.getWidth()||r<0||r>a.getHeight()}Uo.mixin(Ka,mA);Uo.mixin(Ka,pA);var wL=Ka,AL=wL,Yt={},Cg;function Pt(){if(Cg)return Yt;Cg=1;var e=typeof Float32Array>"u"?Array:Float32Array;function t(){var s=new e(6);return r(s),s}function r(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,s}function a(s,v){return s[0]=v[0],s[1]=v[1],s[2]=v[2],s[3]=v[3],s[4]=v[4],s[5]=v[5],s}function i(s,v,u){var d=v[0]*u[0]+v[2]*u[1],f=v[1]*u[0]+v[3]*u[1],m=v[0]*u[2]+v[2]*u[3],p=v[1]*u[2]+v[3]*u[3],g=v[0]*u[4]+v[2]*u[5]+v[4],y=v[1]*u[4]+v[3]*u[5]+v[5];return s[0]=d,s[1]=f,s[2]=m,s[3]=p,s[4]=g,s[5]=y,s}function o(s,v,u){return s[0]=v[0],s[1]=v[1],s[2]=v[2],s[3]=v[3],s[4]=v[4]+u[0],s[5]=v[5]+u[1],s}function l(s,v,u){var d=v[0],f=v[2],m=v[4],p=v[1],g=v[3],y=v[5],_=Math.sin(u),A=Math.cos(u);return s[0]=d*A+p*_,s[1]=-d*_+p*A,s[2]=f*A+g*_,s[3]=-f*_+A*g,s[4]=A*m+_*y,s[5]=A*y-_*m,s}function c(s,v,u){var d=u[0],f=u[1];return s[0]=v[0]*d,s[1]=v[1]*f,s[2]=v[2]*d,s[3]=v[3]*f,s[4]=v[4]*d,s[5]=v[5]*f,s}function n(s,v){var u=v[0],d=v[2],f=v[4],m=v[1],p=v[3],g=v[5],y=u*p-m*d;return y?(y=1/y,s[0]=p*y,s[1]=-m*y,s[2]=-d*y,s[3]=u*y,s[4]=(d*g-p*f)*y,s[5]=(m*f-u*g)*y,s):null}function h(s){var v=t();return a(v,s),v}return Yt.create=t,Yt.identity=r,Yt.copy=a,Yt.mul=i,Yt.translate=o,Yt.rotate=l,Yt.scale=c,Yt.invert=n,Yt.clone=h,Yt}var Jt=Pt(),SA=Ye(),ff=Jt.identity,Mg=5e-5;function da(e){return e>Mg||e<-Mg}var $o=function(e){e=e||{},e.position||(this.position=[0,0]),e.rotation==null&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},tr=$o.prototype;tr.transform=null;tr.needLocalTransform=function(){return da(this.rotation)||da(this.position[0])||da(this.position[1])||da(this.scale[0]-1)||da(this.scale[1]-1)};var oa=[];tr.updateTransform=function(){var e=this.parent,t=e&&e.transform,r=this.needLocalTransform(),a=this.transform;if(!(r||t)){a&&ff(a);return}a=a||Jt.create(),r?this.getLocalTransform(a):ff(a),t&&(r?Jt.mul(a,e.transform,a):Jt.copy(a,e.transform)),this.transform=a;var i=this.globalScaleRatio;if(i!=null&&i!==1){this.getGlobalScale(oa);var o=oa[0]<0?-1:1,l=oa[1]<0?-1:1,c=((oa[0]-o)*i+o)/oa[0]||0,n=((oa[1]-l)*i+l)/oa[1]||0;a[0]*=c,a[1]*=c,a[2]*=n,a[3]*=n}this.invTransform=this.invTransform||Jt.create(),Jt.invert(this.invTransform,a)};tr.getLocalTransform=function(e){return $o.getLocalTransform(this,e)};tr.setTransform=function(e){var t=this.transform,r=e.dpr||1;t?e.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):e.setTransform(r,0,0,r,0,0)};tr.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Ra=[],ws=Jt.create();tr.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],a=this.position,i=this.scale;da(t-1)&&(t=Math.sqrt(t)),da(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(t=-t),e[3]<0&&(r=-r),a[0]=e[4],a[1]=e[5],i[0]=t,i[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/t)}};tr.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Jt.mul(Ra,e.invTransform,t),t=Ra);var r=this.origin;r&&(r[0]||r[1])&&(ws[4]=r[0],ws[5]=r[1],Jt.mul(Ra,t,ws),Ra[4]-=r[0],Ra[5]-=r[1],t=Ra),this.setLocalTransform(t)}};tr.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)};tr.transformCoordToLocal=function(e,t){var r=[e,t],a=this.invTransform;return a&&SA.applyTransform(r,r,a),r};tr.transformCoordToGlobal=function(e,t){var r=[e,t],a=this.transform;return a&&SA.applyTransform(r,r,a),r};$o.getLocalTransform=function(e,t){t=t||[],ff(t);var r=e.origin,a=e.scale||[1,1],i=e.rotation||0,o=e.position||[0,0];return r&&(t[4]-=r[0],t[5]-=r[1]),Jt.scale(t,t,a),i&&Jt.rotate(t,t,i),r&&(t[4]+=r[0],t[5]+=r[1]),t[4]+=o[0],t[5]+=o[1],t};var TL=$o,Wo=TL,po={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)))},elasticOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/a)+1)},elasticInOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-po.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?po.bounceIn(e*2)*.5:po.bounceOut(e*2-1)*.5+.5}},CL=po,ML=CL,DL=ML;function df(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=e.loop==null?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}df.prototype={constructor:df,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused){this._pausedTime+=t;return}var r=(e-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var a=this.easing,i=typeof a=="string"?DL[a]:a,o=typeof i=="function"?i(r):r;return this.fire("frame",o),r===1?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var LL=df,PL=LL,ut={},bA=function(){this.head=null,this.tail=null,this._len=0},nn=bA.prototype;nn.insert=function(e){var t=new wA(e);return this.insertEntry(t),t};nn.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++};nn.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--};nn.len=function(){return this._len};nn.clear=function(){this.head=this.tail=null,this._len=0};var wA=function(e){this.value=e,this.next,this.prev},AA=function(e){this._list=new bA,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},jf=AA.prototype;jf.put=function(e,t){var r=this._list,a=this._map,i=null;if(a[e]==null){var o=r.len(),l=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var c=r.head;r.remove(c),delete a[c.key],i=c.value,this._lastRemovedEntry=c}l?l.value=t:l=new wA(t),l.key=e,r.insertEntry(l),a[e]=l}return i};jf.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value};jf.clear=function(){this._list.clear(),this._map={}};var IL=AA,TA=IL,RL=TA,Dg={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function er(e){return e=Math.round(e),e<0?0:e>255?255:e}function EL(e){return e=Math.round(e),e<0?0:e>360?360:e}function Yi(e){return e<0?0:e>1?1:e}function As(e){return e.length&&e.charAt(e.length-1)==="%"?er(parseFloat(e)/100*255):er(parseInt(e,10))}function Qa(e){return e.length&&e.charAt(e.length-1)==="%"?Yi(parseFloat(e)/100):Yi(parseFloat(e))}function Ts(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Yr(e,t,r){return e+(t-e)*r}function Qt(e,t,r,a,i){return e[0]=t,e[1]=r,e[2]=a,e[3]=i,e}function gf(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var CA=new RL(20),kn=null;function Ea(e,t){kn&&gf(kn,t),kn=CA.put(e,kn||t.slice())}function _a(e,t){if(e){t=t||[];var r=CA.get(e);if(r)return gf(t,r);e=e+"";var a=e.replace(/ /g,"").toLowerCase();if(a in Dg)return gf(t,Dg[a]),Ea(e,t),t;if(a.charAt(0)==="#"){if(a.length===4){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=4095)){Qt(t,0,0,0,1);return}return Qt(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1),Ea(e,t),t}else if(a.length===7){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=16777215)){Qt(t,0,0,0,1);return}return Qt(t,(i&16711680)>>16,(i&65280)>>8,i&255,1),Ea(e,t),t}return}var o=a.indexOf("("),l=a.indexOf(")");if(o!==-1&&l+1===a.length){var c=a.substr(0,o),n=a.substr(o+1,l-(o+1)).split(","),h=1;switch(c){case"rgba":if(n.length!==4){Qt(t,0,0,0,1);return}h=Qa(n.pop());case"rgb":if(n.length!==3){Qt(t,0,0,0,1);return}return Qt(t,As(n[0]),As(n[1]),As(n[2]),h),Ea(e,t),t;case"hsla":if(n.length!==4){Qt(t,0,0,0,1);return}return n[3]=Qa(n[3]),pf(n,t),Ea(e,t),t;case"hsl":if(n.length!==3){Qt(t,0,0,0,1);return}return pf(n,t),Ea(e,t),t;default:return}}Qt(t,0,0,0,1)}}function pf(e,t){var r=(parseFloat(e[0])%360+360)%360/360,a=Qa(e[1]),i=Qa(e[2]),o=i<=.5?i*(a+1):i+a-i*a,l=i*2-o;return t=t||[],Qt(t,er(Ts(l,o,r+1/3)*255),er(Ts(l,o,r)*255),er(Ts(l,o,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function kL(e){if(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,i=Math.min(t,r,a),o=Math.max(t,r,a),l=o-i,c=(o+i)/2,n,h;if(l===0)n=0,h=0;else{c<.5?h=l/(o+i):h=l/(2-o-i);var s=((o-t)/6+l/2)/l,v=((o-r)/6+l/2)/l,u=((o-a)/6+l/2)/l;t===o?n=u-v:r===o?n=1/3+s-u:a===o&&(n=2/3+v-s),n<0&&(n+=1),n>1&&(n-=1)}var d=[n*360,h,c];return e[3]!=null&&d.push(e[3]),d}}function OL(e,t){var r=_a(e);if(r){for(var a=0;a<3;a++)t<0?r[a]=r[a]*(1-t)|0:r[a]=(255-r[a])*t+r[a]|0,r[a]>255?r[a]=255:e[a]<0&&(r[a]=0);return on(r,r.length===4?"rgba":"rgb")}}function zL(e){var t=_a(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function MA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var a=e*(t.length-1),i=Math.floor(a),o=Math.ceil(a),l=t[i],c=t[o],n=a-i;return r[0]=er(Yr(l[0],c[0],n)),r[1]=er(Yr(l[1],c[1],n)),r[2]=er(Yr(l[2],c[2],n)),r[3]=Yi(Yr(l[3],c[3],n)),r}}var BL=MA;function DA(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var a=e*(t.length-1),i=Math.floor(a),o=Math.ceil(a),l=_a(t[i]),c=_a(t[o]),n=a-i,h=on([er(Yr(l[0],c[0],n)),er(Yr(l[1],c[1],n)),er(Yr(l[2],c[2],n)),Yi(Yr(l[3],c[3],n))],"rgba");return r?{color:h,leftIndex:i,rightIndex:o,value:a}:h}}var NL=DA;function VL(e,t,r,a){if(e=_a(e),e)return e=kL(e),t!=null&&(e[0]=EL(t)),r!=null&&(e[1]=Qa(r)),a!=null&&(e[2]=Qa(a)),on(pf(e),"rgba")}function HL(e,t){if(e=_a(e),e&&t!=null)return e[3]=Yi(t),on(e,"rgba")}function on(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}ut.parse=_a;ut.lift=OL;ut.toHex=zL;ut.fastLerp=MA;ut.fastMapToColor=BL;ut.lerp=DA;ut.mapToColor=NL;ut.modifyHSL=VL;ut.modifyAlpha=HL;ut.stringify=on;var qL=PL,GL=ut,FL=W,Lo=FL.isArrayLike,mf=Array.prototype.slice;function UL(e,t){return e[t]}function $L(e,t,r){e[t]=r}function yf(e,t,r){return(t-e)*r+e}function Lg(e,t,r){return r>.5?t:e}function Pg(e,t,r,a,i){var o=e.length;if(i===1)for(var l=0;l<o;l++)a[l]=yf(e[l],t[l],r);else for(var c=o&&e[0].length,l=0;l<o;l++)for(var n=0;n<c;n++)a[l][n]=yf(e[l][n],t[l][n],r)}function Ig(e,t,r){var a=e.length,i=t.length;if(a!==i){var o=a>i;if(o)e.length=i;else for(var l=a;l<i;l++)e.push(r===1?t[l]:mf.call(t[l]))}for(var c=e[0]&&e[0].length,l=0;l<e.length;l++)if(r===1)isNaN(e[l])&&(e[l]=t[l]);else for(var n=0;n<c;n++)isNaN(e[l][n])&&(e[l][n]=t[l][n])}function WL(e,t,r){if(e===t)return!0;var a=e.length;if(a!==t.length)return!1;if(r===1){for(var i=0;i<a;i++)if(e[i]!==t[i])return!1}else for(var o=e[0].length,i=0;i<a;i++)for(var l=0;l<o;l++)if(e[i][l]!==t[i][l])return!1;return!0}function Rg(e,t,r,a,i,o,l,c,n){var h=e.length;if(n===1)for(var s=0;s<h;s++)c[s]=_f(e[s],t[s],r[s],a[s],i,o,l);else for(var v=e[0].length,s=0;s<h;s++)for(var u=0;u<v;u++)c[s][u]=_f(e[s][u],t[s][u],r[s][u],a[s][u],i,o,l)}function _f(e,t,r,a,i,o,l){var c=(r-e)*.5,n=(a-t)*.5;return(2*(t-r)+c+n)*l+(-3*(t-r)-2*c-n)*o+c*i+t}function ZL(e){if(Lo(e)){var t=e.length;if(Lo(e[0])){for(var r=[],a=0;a<t;a++)r.push(mf.call(e[a]));return r}return mf.call(e)}return e}function Eg(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function YL(e){var t=e[e.length-1].value;return Lo(t&&t[0])?2:1}function XL(e,t,r,a,i,o){var l=e._getter,c=e._setter,n=t==="spline",h=a.length;if(h){var s=a[0].value,v=Lo(s),u=!1,d=!1,f=v?YL(a):0,m;a.sort(function(G,V){return G.time-V.time}),m=a[h-1].time;for(var p=[],g=[],y=a[0].value,_=!0,A=0;A<h;A++){p.push(a[A].time/m);var S=a[A].value;if(v&&WL(S,y,f)||!v&&S===y||(_=!1),y=S,typeof S=="string"){var b=GL.parse(S);b?(S=b,u=!0):d=!0}g.push(S)}if(!(!o&&_)){for(var x=g[h-1],A=0;A<h-1;A++)v?Ig(g[A],x,f):isNaN(g[A])&&!isNaN(x)&&!d&&!u&&(g[A]=x);v&&Ig(l(e._target,i),x,f);var w=0,T=0,M,C,D,L,P,I;if(u)var E=[0,0,0,0];var z=function(G,V){var R;if(V<0)R=0;else if(V<T){for(M=Math.min(w+1,h-1),R=M;R>=0&&!(p[R]<=V);R--);R=Math.min(R,h-2)}else{for(R=w;R<h&&!(p[R]>V);R++);R=Math.min(R-1,h-2)}w=R,T=V;var O=p[R+1]-p[R];if(O!==0)if(C=(V-p[R])/O,n)if(L=g[R],D=g[R===0?R:R-1],P=g[R>h-2?h-1:R+1],I=g[R>h-3?h-1:R+2],v)Rg(D,L,P,I,C,C*C,C*C*C,l(G,i),f);else{var k;if(u)k=Rg(D,L,P,I,C,C*C,C*C*C,E,1),k=Eg(E);else{if(d)return Lg(L,P,C);k=_f(D,L,P,I,C,C*C,C*C*C)}c(G,i,k)}else if(v)Pg(g[R],g[R+1],C,l(G,i),f);else{var k;if(u)Pg(g[R],g[R+1],C,E,1),k=Eg(E);else{if(d)return Lg(g[R],g[R+1],C);k=yf(g[R],g[R+1],C)}c(G,i,k)}},N=new qL({target:e._target,life:m,loop:e._loop,delay:e._delay,onframe:z,ondestroy:r});return t&&t!=="spline"&&(N.easing=t),N}}}var LA=function(e,t,r,a){this._tracks={},this._target=e,this._loop=t||!1,this._getter=r||UL,this._setter=a||$L,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};LA.prototype={when:function(e,t){var r=this._tracks;for(var a in t)if(t.hasOwnProperty(a)){if(!r[a]){r[a]=[];var i=this._getter(this._target,a);if(i==null)continue;e!==0&&r[a].push({time:0,value:ZL(i)})}r[a].push({time:e,value:t[a]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,r=0;r<t;r++)e[r].call(this)},start:function(e,t){var r=this,a=0,i=function(){a--,a||r._doneCallback()},o;for(var l in this._tracks)if(this._tracks.hasOwnProperty(l)){var c=XL(this,e,i,this._tracks[l],l,t);c&&(this._clipList.push(c),a++,this.animation&&this.animation.addClip(c),o=c)}if(o){var n=o.onframe;o.onframe=function(h,s){n(h,s);for(var v=0;v<r._onframeList.length;v++)r._onframeList[v](h,s)}}return a||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,r=this.animation,a=0;a<t.length;a++){var i=t[a];e&&i.onframe(this._target,1),r&&r.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var KL=LA,PA=KL,ai={},IA=1;typeof window<"u"&&(IA=Math.max(window.devicePixelRatio||1,1));var QL=0,jL=IA;ai.debugMode=QL;ai.devicePixelRatio=jL;var JL=ai,eP=JL.debugMode,RA=function(){};eP===1&&(RA=console.error);var tP=RA,sn=tP,rP=PA,aP=sn,ln=W,iP=ln.isString,Cs=ln.isFunction,nP=ln.isObject,oP=ln.isArrayLike,sP=ln.indexOf,xf=function(){this.animators=[]};xf.prototype={constructor:xf,animate:function(e,t){var r,a=!1,i=this,o=this.__zr;if(e){var l=e.split("."),c=i;a=l[0]==="shape";for(var n=0,h=l.length;n<h;n++)c&&(c=c[l[n]]);c&&(r=c)}else r=i;if(!r){aP('Property "'+e+'" is not existed in element '+i.id);return}var s=i.animators,v=new rP(r,t);return v.during(function(u){i.dirty(a)}).done(function(){s.splice(sP(s,v),1)}),s.push(v),o&&o.animation.addAnimator(v),v},stopAnimation:function(e){for(var t=this.animators,r=t.length,a=0;a<r;a++)t[a].stop(e);return t.length=0,this},animateTo:function(e,t,r,a,i,o){kg(this,e,t,r,a,i,o)},animateFrom:function(e,t,r,a,i,o){kg(this,e,t,r,a,i,o,!0)}};function kg(e,t,r,a,i,o,l,c){iP(a)?(o=i,i=a,a=0):Cs(i)?(o=i,i="linear",a=0):Cs(a)?(o=a,a=0):Cs(r)?(o=r,r=500):r||(r=500),e.stopAnimation(),EA(e,"",e,t,r,a,c);var n=e.animators.slice(),h=n.length;function s(){h--,h||o&&o()}h||o&&o();for(var v=0;v<n.length;v++)n[v].done(s).start(i,l)}function EA(e,t,r,a,i,o,l){var c={},n=0;for(var h in a)a.hasOwnProperty(h)&&(r[h]!=null?nP(a[h])&&!oP(a[h])?EA(e,t?t+"."+h:h,r[h],a[h],i,o,l):(l?(c[h]=r[h],Og(e,t,h,a[h])):c[h]=a[h],n++):a[h]!=null&&!l&&Og(e,t,h,a[h]));n>0&&e.animate(t,!1).when(i??500,c).delay(o||0)}function Og(e,t,r,a){if(!t)e.attr(r,a);else{var i={};i[t]={},i[t][r]=a,e.attr(i)}}var lP=xf,uP=lP,vP=iA,kA=xa,OA=Wo,zA=uP,Zo=W,un=function(e){OA.call(this,e),kA.call(this,e),zA.call(this,e),this.id=e.id||vP()};un.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(e==="position"||e==="scale"||e==="origin"){if(t){var r=this[e];r||(r=this[e]=[]),r[0]=t[0],r[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Zo.isObject(e))for(var r in e)e.hasOwnProperty(r)&&this.attrKV(r,e[r]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};Zo.mixin(un,zA);Zo.mixin(un,OA);Zo.mixin(un,kA);var hP=un,BA=hP,cP=Ye(),On=Pt(),zn=cP.applyTransform,Bn=Math.min,Nn=Math.max;function Wr(e,t,r,a){r<0&&(e=e+r,r=-r),a<0&&(t=t+a,a=-a),this.x=e,this.y=t,this.width=r,this.height=a}Wr.prototype={constructor:Wr,union:function(e){var t=Bn(e.x,this.x),r=Bn(e.y,this.y);this.width=Nn(e.x+e.width,this.x+this.width)-t,this.height=Nn(e.y+e.height,this.y+this.height)-r,this.x=t,this.y=r},applyTransform:function(){var e=[],t=[],r=[],a=[];return function(i){if(i){e[0]=r[0]=this.x,e[1]=a[1]=this.y,t[0]=a[0]=this.x+this.width,t[1]=r[1]=this.y+this.height,zn(e,e,i),zn(t,t,i),zn(r,r,i),zn(a,a,i),this.x=Bn(e[0],t[0],r[0],a[0]),this.y=Bn(e[1],t[1],r[1],a[1]);var o=Nn(e[0],t[0],r[0],a[0]),l=Nn(e[1],t[1],r[1],a[1]);this.width=o-this.x,this.height=l-this.y}}}(),calculateTransform:function(e){var t=this,r=e.width/t.width,a=e.height/t.height,i=On.create();return On.translate(i,i,[-t.x,-t.y]),On.scale(i,i,[r,a]),On.translate(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof Wr||(e=Wr.create(e));var t=this,r=t.x,a=t.x+t.width,i=t.y,o=t.y+t.height,l=e.x,c=e.x+e.width,n=e.y,h=e.y+e.height;return!(a<l||c<r||o<n||h<i)},contain:function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},clone:function(){return new Wr(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};Wr.create=function(e){return new Wr(e.x,e.y,e.width,e.height)};var fP=Wr,Ke=fP,NA=W,VA=BA,dP=Ke,Lr=function(e){e=e||{},VA.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Lr.prototype={constructor:Lr,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,r=0;r<t.length;r++)if(t[r].name===e)return t[r]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var r=this._children,a=r.indexOf(t);a>=0&&(r.splice(a,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,r=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Lr&&e.addChildrenToStorage(t)),r&&r.refresh()},remove:function(e){var t=this.__zr,r=this.__storage,a=this._children,i=NA.indexOf(a,e);return i<0?this:(a.splice(i,1),e.parent=null,r&&(r.delFromStorage(e),e instanceof Lr&&e.delChildrenFromStorage(r)),t&&t.refresh(),this)},removeAll:function(){var e=this._children,t=this.__storage,r,a;for(a=0;a<e.length;a++)r=e[a],t&&(t.delFromStorage(r),r instanceof Lr&&r.delChildrenFromStorage(t)),r.parent=null;return e.length=0,this},eachChild:function(e,t){for(var r=this._children,a=0;a<r.length;a++){var i=r[a];e.call(t,i,a)}return this},traverse:function(e,t){for(var r=0;r<this._children.length;r++){var a=this._children[r];e.call(t,a),a.type==="group"&&a.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.addToStorage(r),r instanceof Lr&&r.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.delFromStorage(r),r instanceof Lr&&r.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,r=new dP(0,0,0,0),a=e||this._children,i=[],o=0;o<a.length;o++){var l=a[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),n=l.getLocalTransform(i);n?(r.copy(c),r.applyTransform(n),t=t||r.clone(),t.union(r)):(t=t||c.clone(),t.union(c))}}return t||r}};NA.inherits(Lr,VA);var gP=Lr,Sa=gP,HA=32,Si=7;function pP(e){for(var t=0;e>=HA;)t|=e&1,e>>=1;return e+t}function zg(e,t,r,a){var i=t+1;if(i===r)return 1;if(a(e[i++],e[t])<0){for(;i<r&&a(e[i],e[i-1])<0;)i++;mP(e,t,i)}else for(;i<r&&a(e[i],e[i-1])>=0;)i++;return i-t}function mP(e,t,r){for(r--;t<r;){var a=e[t];e[t++]=e[r],e[r--]=a}}function Bg(e,t,r,a,i){for(a===t&&a++;a<r;a++){for(var o=e[a],l=t,c=a,n;l<c;)n=l+c>>>1,i(o,e[n])<0?c=n:l=n+1;var h=a-l;switch(h){case 3:e[l+3]=e[l+2];case 2:e[l+2]=e[l+1];case 1:e[l+1]=e[l];break;default:for(;h>0;)e[l+h]=e[l+h-1],h--}e[l]=o}}function Ms(e,t,r,a,i,o){var l=0,c=0,n=1;if(o(e,t[r+i])>0){for(c=a-i;n<c&&o(e,t[r+i+n])>0;)l=n,n=(n<<1)+1,n<=0&&(n=c);n>c&&(n=c),l+=i,n+=i}else{for(c=i+1;n<c&&o(e,t[r+i-n])<=0;)l=n,n=(n<<1)+1,n<=0&&(n=c);n>c&&(n=c);var h=l;l=i-n,n=i-h}for(l++;l<n;){var s=l+(n-l>>>1);o(e,t[r+s])>0?l=s+1:n=s}return n}function Ds(e,t,r,a,i,o){var l=0,c=0,n=1;if(o(e,t[r+i])<0){for(c=i+1;n<c&&o(e,t[r+i-n])<0;)l=n,n=(n<<1)+1,n<=0&&(n=c);n>c&&(n=c);var h=l;l=i-n,n=i-h}else{for(c=a-i;n<c&&o(e,t[r+i+n])>=0;)l=n,n=(n<<1)+1,n<=0&&(n=c);n>c&&(n=c),l+=i,n+=i}for(l++;l<n;){var s=l+(n-l>>>1);o(e,t[r+s])<0?n=s:l=s+1}return n}function yP(e,t){var r=Si,a,i,o=0;e.length;var l=[];a=[],i=[];function c(d,f){a[o]=d,i[o]=f,o+=1}function n(){for(;o>1;){var d=o-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;s(d)}}function h(){for(;o>1;){var d=o-2;d>0&&i[d-1]<i[d+1]&&d--,s(d)}}function s(d){var f=a[d],m=i[d],p=a[d+1],g=i[d+1];i[d]=m+g,d===o-3&&(a[d+1]=a[d+2],i[d+1]=i[d+2]),o--;var y=Ds(e[p],e,f,m,0,t);f+=y,m-=y,m!==0&&(g=Ms(e[f+m-1],e,p,g,g-1,t),g!==0&&(m<=g?v(f,m,p,g):u(f,m,p,g)))}function v(d,f,m,p){var g=0;for(g=0;g<f;g++)l[g]=e[d+g];var y=0,_=m,A=d;if(e[A++]=e[_++],--p===0){for(g=0;g<f;g++)e[A+g]=l[y+g];return}if(f===1){for(g=0;g<p;g++)e[A+g]=e[_+g];e[A+p]=l[y];return}for(var S=r,b,x,w;;){b=0,x=0,w=!1;do if(t(e[_],l[y])<0){if(e[A++]=e[_++],x++,b=0,--p===0){w=!0;break}}else if(e[A++]=l[y++],b++,x=0,--f===1){w=!0;break}while((b|x)<S);if(w)break;do{if(b=Ds(e[_],l,y,f,0,t),b!==0){for(g=0;g<b;g++)e[A+g]=l[y+g];if(A+=b,y+=b,f-=b,f<=1){w=!0;break}}if(e[A++]=e[_++],--p===0){w=!0;break}if(x=Ms(l[y],e,_,p,0,t),x!==0){for(g=0;g<x;g++)e[A+g]=e[_+g];if(A+=x,_+=x,p-=x,p===0){w=!0;break}}if(e[A++]=l[y++],--f===1){w=!0;break}S--}while(b>=Si||x>=Si);if(w)break;S<0&&(S=0),S+=2}if(r=S,r<1&&(r=1),f===1){for(g=0;g<p;g++)e[A+g]=e[_+g];e[A+p]=l[y]}else{if(f===0)throw new Error;for(g=0;g<f;g++)e[A+g]=l[y+g]}}function u(d,f,m,p){var g=0;for(g=0;g<p;g++)l[g]=e[m+g];var y=d+f-1,_=p-1,A=m+p-1,S=0,b=0;if(e[A--]=e[y--],--f===0){for(S=A-(p-1),g=0;g<p;g++)e[S+g]=l[g];return}if(p===1){for(A-=f,y-=f,b=A+1,S=y+1,g=f-1;g>=0;g--)e[b+g]=e[S+g];e[A]=l[_];return}for(var x=r;;){var w=0,T=0,M=!1;do if(t(l[_],e[y])<0){if(e[A--]=e[y--],w++,T=0,--f===0){M=!0;break}}else if(e[A--]=l[_--],T++,w=0,--p===1){M=!0;break}while((w|T)<x);if(M)break;do{if(w=f-Ds(l[_],e,d,f,f-1,t),w!==0){for(A-=w,y-=w,f-=w,b=A+1,S=y+1,g=w-1;g>=0;g--)e[b+g]=e[S+g];if(f===0){M=!0;break}}if(e[A--]=l[_--],--p===1){M=!0;break}if(T=p-Ms(e[y],l,0,p,p-1,t),T!==0){for(A-=T,_-=T,p-=T,b=A+1,S=_+1,g=0;g<T;g++)e[b+g]=l[S+g];if(p<=1){M=!0;break}}if(e[A--]=e[y--],--f===0){M=!0;break}x--}while(w>=Si||T>=Si);if(M)break;x<0&&(x=0),x+=2}if(r=x,r<1&&(r=1),p===1){for(A-=f,y-=f,b=A+1,S=y+1,g=f-1;g>=0;g--)e[b+g]=e[S+g];e[A]=l[_]}else{if(p===0)throw new Error;for(S=A-(p-1),g=0;g<p;g++)e[S+g]=l[g]}}this.mergeRuns=n,this.forceMergeRuns=h,this.pushRun=c}function _P(e,t,r,a){r||(r=0),a||(a=e.length);var i=a-r;if(!(i<2)){var o=0;if(i<HA){o=zg(e,r,a,t),Bg(e,r,a,r+o,t);return}var l=new yP(e,t),c=pP(i);do{if(o=zg(e,r,a,t),o<c){var n=i;n>c&&(n=c),Bg(e,r,r+n,r+o,t),o=n}l.pushRun(r,o),l.mergeRuns(),i-=o,r+=o}while(i!==0);l.forceMergeRuns()}}var Jf=_P,xP=W,SP=nt,Ls=Sa,bP=Jf;function Ng(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Sf=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Sf.prototype={constructor:Sf,traverse:function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,a=0,i=t.length;a<i;a++)this._updateAndAddDisplayable(t[a],null,e);r.length=this._displayListLen,SP.canvasSupported&&bP(r,Ng)},_updateAndAddDisplayable:function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var a=e.clipPath;if(a){t?t=t.slice():t=[];for(var i=a,o=e;i;)i.parent=o,i.updateTransform(),t.push(i),o=i,i=i.clipPath}if(e.isGroup){for(var l=e._children,c=0;c<l.length;c++){var n=l[c];e.__dirty&&(n.__dirty=!0),this._updateAndAddDisplayable(n,t,r)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof Ls&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(e==null){for(var t=0;t<this._roots.length;t++){var r=this._roots[t];r instanceof Ls&&r.delChildrenFromStorage(this)}this._roots=[],this._displayList=[],this._displayListLen=0;return}if(e instanceof Array){for(var t=0,a=e.length;t<a;t++)this.delRoot(e[t]);return}var i=xP.indexOf(this._roots,e);i>=0&&(this.delFromStorage(e),this._roots.splice(i,1),e instanceof Ls&&e.delChildrenFromStorage(this))},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Ng};var wP=Sf,AP=wP,TP={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function CP(e,t,r){return TP.hasOwnProperty(t)?r*=e.dpr:r}var qA=CP,ii={},MP={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},DP=9;ii.ContextCachedBy=MP;ii.WILL_BE_RESTORED=DP;var LP=qA,PP=ii,Vg=PP.ContextCachedBy,Po=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Xi=function(e){this.extendFrom(e,!1)};function IP(e,t,r){var a=t.x==null?0:t.x,i=t.x2==null?1:t.x2,o=t.y==null?0:t.y,l=t.y2==null?0:t.y2;t.global||(a=a*r.width+r.x,i=i*r.width+r.x,o=o*r.height+r.y,l=l*r.height+r.y),a=isNaN(a)?0:a,i=isNaN(i)?1:i,o=isNaN(o)?0:o,l=isNaN(l)?0:l;var c=e.createLinearGradient(a,o,i,l);return c}function RP(e,t,r){var a=r.width,i=r.height,o=Math.min(a,i),l=t.x==null?.5:t.x,c=t.y==null?.5:t.y,n=t.r==null?.5:t.r;t.global||(l=l*a+r.x,c=c*i+r.y,n=n*o);var h=e.createRadialGradient(l,c,0,l,c,n);return h}Xi.prototype={constructor:Xi,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,r){var a=this,i=r&&r.style,o=!i||e.__attrCachedBy!==Vg.STYLE_BIND;e.__attrCachedBy=Vg.STYLE_BIND;for(var l=0;l<Po.length;l++){var c=Po[l],n=c[0];(o||a[n]!==i[n])&&(e[n]=LP(e,n,a[n]||c[1]))}if((o||a.fill!==i.fill)&&(e.fillStyle=a.fill),(o||a.stroke!==i.stroke)&&(e.strokeStyle=a.stroke),(o||a.opacity!==i.opacity)&&(e.globalAlpha=a.opacity==null?1:a.opacity),(o||a.blend!==i.blend)&&(e.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var h=a.lineWidth;e.lineWidth=h/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(t===!0||(t===!1?!this.hasOwnProperty(r):e[r]!=null))&&(this[r]=e[r])},set:function(e,t){typeof e=="string"?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,r){for(var a=t.type==="radial"?RP:IP,i=a(e,t,r),o=t.colorStops,l=0;l<o.length;l++)i.addColorStop(o[l].offset,o[l].color);return i}};var bf=Xi.prototype;for(var Ps=0;Ps<Po.length;Ps++){var Is=Po[Ps];Is[0]in bf||(bf[Is[0]]=Is[1])}Xi.getGradient=bf.getGradient;var EP=Xi,ed=EP,GA=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};GA.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var kP=GA,FA=kP,UA=W,OP=ai,zP=OP.devicePixelRatio,BP=ed,NP=FA;function VP(){return!1}function $A(e,t,r){var a=UA.createCanvas(),i=t.getWidth(),o=t.getHeight(),l=a.style;return l&&(l.position="absolute",l.left=0,l.top=0,l.width=i+"px",l.height=o+"px",a.setAttribute("data-zr-dom-id",e)),a.width=i*r,a.height=o*r,a}var wf=function(e,t,r){var a;r=r||zP,typeof e=="string"?a=$A(e,t,r):UA.isObject(e)&&(a=e,e=a.id),this.id=e,this.dom=a;var i=a.style;i&&(a.onselectstart=VP,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};wf.prototype={constructor:wf,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=$A("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},resize:function(e,t){var r=this.dpr,a=this.dom,i=a.style,o=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),a.width=e*r,a.height=t*r,o&&(o.width=e*r,o.height=t*r,r!==1&&this.ctxBack.scale(r,r))},clear:function(e,l){var r=this.dom,a=this.ctx,i=r.width,o=r.height,l=l||this.clearColor,c=this.motionBlur&&!e,n=this.lastFrameAlpha,h=this.dpr;if(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,i/h,o/h)),a.clearRect(0,0,i,o),l&&l!=="transparent"){var s;l.colorStops?(s=l.__canvasGradient||BP.getGradient(a,l,{x:0,y:0,width:i,height:o}),l.__canvasGradient=s):l.image&&(s=NP.prototype.getCanvasPattern.call(l,a)),a.save(),a.fillStyle=s||l,a.fillRect(0,0,i,o),a.restore()}if(c){var v=this.domBack;a.save(),a.globalAlpha=n,a.drawImage(v,0,0,i,o),a.restore()}}};var HP=wf,qP=HP,GP=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},WA=GP,rr={},$e={},ni={},FP=TA,Af=new FP(50);function UP(e){if(typeof e=="string"){var t=Af.get(e);return t&&t.image}else return e}function $P(e,t,r,a,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var o=Af.get(e),l={hostEl:r,cb:a,cbPayload:i};return o?(t=o.image,!ZA(t)&&o.pending.push(l)):(t=new Image,t.onload=t.onerror=WP,Af.put(e,t.__cachedImgObj={image:t,pending:[l]}),t.src=t.__zrImageSrc=e),t}else return e;else return t}function WP(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],a=r.cb;a&&a(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function ZA(e){return e&&e.width&&e.height}ni.findExistImage=UP;ni.createOrUpdateImage=$P;ni.isImageReady=ZA;var YA=Ke,Hg=ni,vn=W,ZP=vn.getContext,YP=vn.extend,Xr=vn.retrieve2,XP=vn.retrieve3,KP=vn.trim,Vn={},Rs=0,QP=5e3,Es=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,td="12px sans-serif",rd={};function jP(e,t){rd[e]=t}function _r(e,t){t=t||td;var r=e+":"+t;if(Vn[r])return Vn[r];for(var a=(e+"").split(`
`),i=0,o=0,l=a.length;o<l;o++)i=Math.max(JA(a[o],t).width,i);return Rs>QP&&(Rs=0,Vn={}),Rs++,Vn[r]=i,i}function JP(e,t,r,a,i,o,l,c){return l?tI(e,t,r,a,i,o,l,c):eI(e,t,r,a,i,o,c)}function eI(e,t,r,a,i,o,l){var c=eT(e,t,i,o,l),n=_r(e,t);i&&(n+=i[1]+i[3]);var h=c.outerHeight,s=ad(0,n,r),v=id(0,h,a),u=new YA(s,v,n,h);return u.lineHeight=c.lineHeight,u}function tI(e,t,r,a,i,o,l,c){var n=tT(e,{rich:l,truncate:c,font:t,textAlign:r,textPadding:i,textLineHeight:o}),h=n.outerWidth,s=n.outerHeight,v=ad(0,h,r),u=id(0,s,a);return new YA(v,u,h,s)}function ad(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function id(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function XA(e,t,r){var a=t.textPosition,i=t.textDistance,o=r.x,l=r.y;i=i||0;var c=r.height,n=r.width,h=c/2,s="left",v="top";switch(a){case"left":o-=i,l+=h,s="right",v="middle";break;case"right":o+=i+n,l+=h,v="middle";break;case"top":o+=n/2,l-=i,s="center",v="bottom";break;case"bottom":o+=n/2,l+=c+i,s="center";break;case"inside":o+=n/2,l+=h,s="center",v="middle";break;case"insideLeft":o+=i,l+=h,v="middle";break;case"insideRight":o+=n-i,l+=h,s="right",v="middle";break;case"insideTop":o+=n/2,l+=i,s="center";break;case"insideBottom":o+=n/2,l+=c-i,s="center",v="bottom";break;case"insideTopLeft":o+=i,l+=i;break;case"insideTopRight":o+=n-i,l+=i,s="right";break;case"insideBottomLeft":o+=i,l+=c-i,v="bottom";break;case"insideBottomRight":o+=n-i,l+=c-i,s="right",v="bottom";break}return e=e||{},e.x=o,e.y=l,e.textAlign=s,e.textVerticalAlign=v,e}function rI(e,t,r){var a={textPosition:e,textDistance:r};return XA({},a,t)}function KA(e,t,r,a,i){if(!t)return"";var o=(e+"").split(`
`);i=QA(t,r,a,i);for(var l=0,c=o.length;l<c;l++)o[l]=jA(o[l],i);return o.join(`
`)}function QA(e,t,i,a){a=YP({},a),a.font=t;var i=Xr(i,"...");a.maxIterations=Xr(a.maxIterations,2);var o=a.minChar=Xr(a.minChar,0);a.cnCharWidth=_r("国",t);var l=a.ascCharWidth=_r("a",t);a.placeholder=Xr(a.placeholder,"");for(var c=e=Math.max(0,e-1),n=0;n<o&&c>=l;n++)c-=l;var h=_r(i,t);return h>c&&(i="",h=0),c=e-h,a.ellipsis=i,a.ellipsisWidth=h,a.contentWidth=c,a.containerWidth=e,a}function jA(e,t){var r=t.containerWidth,a=t.font,i=t.contentWidth;if(!r)return"";var o=_r(e,a);if(o<=r)return e;for(var l=0;;l++){if(o<=i||l>=t.maxIterations){e+=t.ellipsis;break}var c=l===0?aI(e,i,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*i/o):0;e=e.substr(0,c),o=_r(e,a)}return e===""&&(e=t.placeholder),e}function aI(e,t,r,a){for(var i=0,o=0,l=e.length;o<l&&i<t;o++){var c=e.charCodeAt(o);i+=0<=c&&c<=127?r:a}return o}function nd(e){return _r("国",e)}function JA(e,t){return rd.measureText(e,t)}rd.measureText=function(e,t){var r=ZP();return r.font=t||td,r.measureText(e)};function eT(e,t,r,a,i){e!=null&&(e+="");var o=Xr(a,nd(t)),l=e?e.split(`
`):[],c=l.length*o,n=c,h=!0;if(r&&(n+=r[0]+r[2]),e&&i){h=!1;var s=i.outerHeight,v=i.outerWidth;if(s!=null&&n>s)e="",l=[];else if(v!=null)for(var u=QA(v-(r?r[1]+r[3]:0),t,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),d=0,f=l.length;d<f;d++)l[d]=jA(l[d],u)}return{lines:l,height:c,outerHeight:n,lineHeight:o,canCacheByTextString:h}}function tT(e,t){var r={lines:[],width:0,height:0};if(e!=null&&(e+=""),!e)return r;for(var a=Es.lastIndex=0,i;(i=Es.exec(e))!=null;){var o=i.index;o>a&&ks(r,e.substring(a,o)),ks(r,i[2],i[1]),a=Es.lastIndex}a<e.length&&ks(r,e.substring(a,e.length));var l=r.lines,c=0,n=0,h=[],s=t.textPadding,v=t.truncate,u=v&&v.outerWidth,d=v&&v.outerHeight;s&&(u!=null&&(u-=s[1]+s[3]),d!=null&&(d-=s[0]+s[2]));for(var f=0;f<l.length;f++){for(var m=l[f],p=0,g=0,y=0;y<m.tokens.length;y++){var _=m.tokens[y],A=_.styleName&&t.rich[_.styleName]||{},S=_.textPadding=A.textPadding,b=_.font=A.font||t.font,x=_.textHeight=Xr(A.textHeight,nd(b));if(S&&(x+=S[0]+S[2]),_.height=x,_.lineHeight=XP(A.textLineHeight,t.textLineHeight,x),_.textAlign=A&&A.textAlign||t.textAlign,_.textVerticalAlign=A&&A.textVerticalAlign||"middle",d!=null&&c+_.lineHeight>d)return{lines:[],width:0,height:0};_.textWidth=_r(_.text,b);var w=A.textWidth,T=w==null||w==="auto";if(typeof w=="string"&&w.charAt(w.length-1)==="%")_.percentWidth=w,h.push(_),w=0;else{if(T){w=_.textWidth;var M=A.textBackgroundColor,C=M&&M.image;C&&(C=Hg.findExistImage(C),Hg.isImageReady(C)&&(w=Math.max(w,C.width*x/C.height)))}var D=S?S[1]+S[3]:0;w+=D;var L=u!=null?u-g:null;L!=null&&L<w&&(!T||L<D?(_.text="",_.textWidth=w=0):(_.text=KA(_.text,L-D,b,v.ellipsis,{minChar:v.minChar}),_.textWidth=_r(_.text,b),w=_.textWidth+D))}g+=_.width=w,A&&(p=Math.max(p,_.lineHeight))}m.width=g,m.lineHeight=p,c+=p,n=Math.max(n,g)}r.outerWidth=r.width=Xr(t.textWidth,n),r.outerHeight=r.height=Xr(t.textHeight,c),s&&(r.outerWidth+=s[1]+s[3],r.outerHeight+=s[0]+s[2]);for(var f=0;f<h.length;f++){var _=h[f],P=_.percentWidth;_.width=parseInt(P,10)/100*n}return r}function ks(e,t,r){for(var a=t==="",i=t.split(`
`),o=e.lines,l=0;l<i.length;l++){var c=i[l],n={styleName:r,text:c,isLineHolder:!c&&!a};if(l)o.push({tokens:[n]});else{var h=(o[o.length-1]||(o[0]={tokens:[]})).tokens,s=h.length;s===1&&h[0].isLineHolder?h[0]=n:(c||!s||a)&&h.push(n)}}}function iI(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&KP(t)||e.textFont||e.font}$e.DEFAULT_FONT=td;$e.$override=jP;$e.getWidth=_r;$e.getBoundingRect=JP;$e.adjustTextX=ad;$e.adjustTextY=id;$e.calculateTextPosition=XA;$e.adjustTextPositionOnRect=rI;$e.truncateText=KA;$e.getLineHeight=nd;$e.measureText=JA;$e.parsePlainText=eT;$e.parseRichText=tT;$e.makeFont=iI;var od={};function nI(e,t){var r=t.x,a=t.y,i=t.width,o=t.height,l=t.r,c,n,h,s;i<0&&(r=r+i,i=-i),o<0&&(a=a+o,o=-o),typeof l=="number"?c=n=h=s=l:l instanceof Array?l.length===1?c=n=h=s=l[0]:l.length===2?(c=h=l[0],n=s=l[1]):l.length===3?(c=l[0],n=s=l[1],h=l[2]):(c=l[0],n=l[1],h=l[2],s=l[3]):c=n=h=s=0;var v;c+n>i&&(v=c+n,c*=i/v,n*=i/v),h+s>i&&(v=h+s,h*=i/v,s*=i/v),n+h>o&&(v=n+h,n*=o/v,h*=o/v),c+s>o&&(v=c+s,c*=o/v,s*=o/v),e.moveTo(r+c,a),e.lineTo(r+i-n,a),n!==0&&e.arc(r+i-n,a+n,n,-Math.PI/2,0),e.lineTo(r+i,a+o-h),h!==0&&e.arc(r+i-h,a+o-h,h,0,Math.PI/2),e.lineTo(r+s,a+o),s!==0&&e.arc(r+s,a+o-s,s,Math.PI/2,Math.PI),e.lineTo(r,a+c),c!==0&&e.arc(r+c,a+c,c,Math.PI,Math.PI*1.5)}od.buildPath=nI;var oi=W,oI=oi.retrieve2,Os=oi.retrieve3,sI=oi.each,lI=oi.normalizeCssArray,uI=oi.isString,vI=oi.isObject,yr=$e,hI=od,qg=ni,rT=qA,aT=ii,Fi=aT.ContextCachedBy,iT=aT.WILL_BE_RESTORED,Tf=yr.DEFAULT_FONT,cI={left:1,right:1,center:1},fI={top:1,bottom:1,middle:1},Gg=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Fg={},nT={};function dI(e){return Ug(e),sI(e.rich,Ug),e}function Ug(e){if(e){e.font=yr.makeFont(e);var t=e.textAlign;t==="middle"&&(t="center"),e.textAlign=t==null||cI[t]?t:"left";var r=e.textVerticalAlign||e.textBaseline;r==="center"&&(r="middle"),e.textVerticalAlign=r==null||fI[r]?r:"top";var a=e.textPadding;a&&(e.textPadding=lI(e.textPadding))}}function gI(e,t,r,a,i,o){a.rich?mI(e,t,r,a,i,o):pI(e,t,r,a,i,o)}function pI(e,t,r,a,i,o){var l=sd(a),c,n=!1,h=t.__attrCachedBy===Fi.PLAIN_TEXT;o!==iT?(o&&(c=o.style,n=!l&&h&&c),t.__attrCachedBy=l?Fi.NONE:Fi.PLAIN_TEXT):h&&(t.__attrCachedBy=Fi.NONE);var s=a.font||Tf;(!n||s!==(c.font||Tf))&&(t.font=s);var v=e.__computedFont;e.__styleFont!==s&&(e.__styleFont=s,v=e.__computedFont=t.font);var u=a.textPadding,d=a.textLineHeight,f=e.__textCotentBlock;(!f||e.__dirtyText)&&(f=e.__textCotentBlock=yr.parsePlainText(r,v,u,d,a.truncate));var m=f.outerHeight,p=f.lines,g=f.lineHeight,y=ud(nT,e,a,i),_=y.baseX,A=y.baseY,S=y.textAlign||"left",b=y.textVerticalAlign;oT(t,a,i,_,A);var x=yr.adjustTextY(A,m,b),w=_,T=x;if(l||u){var M=yr.getWidth(r,v),C=M;u&&(C+=u[1]+u[3]);var D=yr.adjustTextX(_,C,S);l&&ld(e,t,a,D,x,C,m),u&&(w=sT(_,S,u),T+=u[0])}t.textAlign=S,t.textBaseline="middle",t.globalAlpha=a.opacity||1;for(var L=0;L<Gg.length;L++){var P=Gg[L],I=P[0],E=P[1],z=a[I];(!n||z!==c[I])&&(t[E]=rT(t,E,z||P[2]))}T+=g/2;var N=a.textStrokeWidth,G=n?c.textStrokeWidth:null,V=!n||N!==G,R=!n||V||a.textStroke!==c.textStroke,O=vd(a.textStroke,N),k=hd(a.textFill);if(O&&(V&&(t.lineWidth=N),R&&(t.strokeStyle=O)),k&&(!n||a.textFill!==c.textFill)&&(t.fillStyle=k),p.length===1)O&&t.strokeText(p[0],w,T),k&&t.fillText(p[0],w,T);else for(var L=0;L<p.length;L++)O&&t.strokeText(p[L],w,T),k&&t.fillText(p[L],w,T),T+=g}function mI(e,t,r,a,i,o){o!==iT&&(t.__attrCachedBy=Fi.NONE);var l=e.__textCotentBlock;(!l||e.__dirtyText)&&(l=e.__textCotentBlock=yr.parseRichText(r,a)),yI(e,t,l,a,i)}function yI(e,t,r,a,i){var o=r.width,l=r.outerWidth,c=r.outerHeight,n=a.textPadding,h=ud(nT,e,a,i),s=h.baseX,v=h.baseY,u=h.textAlign,d=h.textVerticalAlign;oT(t,a,i,s,v);var f=yr.adjustTextX(s,l,u),m=yr.adjustTextY(v,c,d),p=f,g=m;n&&(p+=n[3],g+=n[0]);var y=p+o;sd(a)&&ld(e,t,a,f,m,l,c);for(var _=0;_<r.lines.length;_++){for(var A=r.lines[_],S=A.tokens,b=S.length,x=A.lineHeight,w=A.width,T=0,M=p,C=y,D=b-1,L;T<b&&(L=S[T],!L.textAlign||L.textAlign==="left");)zs(e,t,L,a,x,g,M,"left"),w-=L.width,M+=L.width,T++;for(;D>=0&&(L=S[D],L.textAlign==="right");)zs(e,t,L,a,x,g,C,"right"),w-=L.width,C-=L.width,D--;for(M+=(o-(M-p)-(y-C)-w)/2;T<=D;)L=S[T],zs(e,t,L,a,x,g,M+L.width/2,"center"),M+=L.width,T++;g+=x}}function oT(e,t,r,a,i){if(r&&t.textRotation){var o=t.textOrigin;o==="center"?(a=r.width/2+r.x,i=r.height/2+r.y):o&&(a=o[0]+r.x,i=o[1]+r.y),e.translate(a,i),e.rotate(-t.textRotation),e.translate(-a,-i)}}function zs(e,t,r,a,i,o,l,c){var n=a.rich[r.styleName]||{};n.text=r.text;var h=r.textVerticalAlign,s=o+i/2;h==="top"?s=o+r.height/2:h==="bottom"&&(s=o+i-r.height/2),!r.isLineHolder&&sd(n)&&ld(e,t,n,c==="right"?l-r.width:c==="center"?l-r.width/2:l,s-r.height/2,r.width,r.height);var v=r.textPadding;v&&(l=sT(l,c,v),s-=r.height/2-v[2]-r.textHeight/2),xt(t,"shadowBlur",Os(n.textShadowBlur,a.textShadowBlur,0)),xt(t,"shadowColor",n.textShadowColor||a.textShadowColor||"transparent"),xt(t,"shadowOffsetX",Os(n.textShadowOffsetX,a.textShadowOffsetX,0)),xt(t,"shadowOffsetY",Os(n.textShadowOffsetY,a.textShadowOffsetY,0)),xt(t,"textAlign",c),xt(t,"textBaseline","middle"),xt(t,"font",r.font||Tf);var u=vd(n.textStroke||a.textStroke,f),d=hd(n.textFill||a.textFill),f=oI(n.textStrokeWidth,a.textStrokeWidth);u&&(xt(t,"lineWidth",f),xt(t,"strokeStyle",u),t.strokeText(r.text,l,s)),d&&(xt(t,"fillStyle",d),t.fillText(r.text,l,s))}function sd(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function ld(e,t,r,a,i,o,l){var c=r.textBackgroundColor,n=r.textBorderWidth,h=r.textBorderColor,s=uI(c);if(xt(t,"shadowBlur",r.textBoxShadowBlur||0),xt(t,"shadowColor",r.textBoxShadowColor||"transparent"),xt(t,"shadowOffsetX",r.textBoxShadowOffsetX||0),xt(t,"shadowOffsetY",r.textBoxShadowOffsetY||0),s||n&&h){t.beginPath();var v=r.textBorderRadius;v?hI.buildPath(t,{x:a,y:i,width:o,height:l,r:v}):t.rect(a,i,o,l),t.closePath()}if(s)if(xt(t,"fillStyle",c),r.fillOpacity!=null){var u=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,t.fill(),t.globalAlpha=u}else t.fill();else if(vI(c)){var d=c.image;d=qg.createOrUpdateImage(d,null,e,_I,c),d&&qg.isImageReady(d)&&t.drawImage(d,a,i,o,l)}if(n&&h)if(xt(t,"lineWidth",n),xt(t,"strokeStyle",h),r.strokeOpacity!=null){var u=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,t.stroke(),t.globalAlpha=u}else t.stroke()}function _I(e,t){t.image=e}function ud(e,t,r,a){var i=r.x||0,o=r.y||0,l=r.textAlign,c=r.textVerticalAlign;if(a){var n=r.textPosition;if(n instanceof Array)i=a.x+Cf(n[0],a.width),o=a.y+Cf(n[1],a.height);else{var h=t&&t.calculateTextPosition?t.calculateTextPosition(Fg,r,a):yr.calculateTextPosition(Fg,r,a);i=h.x,o=h.y,l=l||h.textAlign,c=c||h.textVerticalAlign}var s=r.textOffset;s&&(i+=s[0],o+=s[1])}return e=e||{},e.baseX=i,e.baseY=o,e.textAlign=l,e.textVerticalAlign=c,e}function xt(e,t,r){return e[t]=rT(e,t,r),e[t]}function vd(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function hd(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function Cf(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function sT(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function xI(e,t){return e!=null&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}rr.normalizeTextStyle=dI;rr.renderText=gI;rr.getBoxPosition=ud;rr.getStroke=vd;rr.getFill=hd;rr.parsePercent=Cf;rr.needDrawText=xI;var Bs,$g;function lT(){if($g)return Bs;$g=1;var e=rr,t=Ke,r=ii,a=r.WILL_BE_RESTORED,i=new t,o=function(){};o.prototype={constructor:o,drawRectText:function(c,n){var h=this.style;n=h.textRect||n,this.__dirty&&e.normalizeTextStyle(h,!0);var s=h.text;if(s!=null&&(s+=""),!!e.needDrawText(s,h)){c.save();var v=this.transform;h.transformText?this.setTransform(c):v&&(i.copy(n),i.applyTransform(v),n=i),e.renderText(this,c,s,h,n,a),c.restore()}}};var l=o;return Bs=l,Bs}var uT=W,vT=ed,cd=BA,SI=lT();function Ki(e){e=e||{},cd.call(this,e);for(var t in e)e.hasOwnProperty(t)&&t!=="style"&&(this[t]=e[t]);this.style=new vT(e.style),this._rect=null,this.__clipPaths=null}Ki.prototype={constructor:Ki,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return a.contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){e!=="style"?cd.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new vT(e),this.dirty(!1),this},calculateTextPosition:null};uT.inherits(Ki,cd);uT.mixin(Ki,SI);var bI=Ki,hn=bI,hT=hn,wI=Ke,AI=W,Wg=ni;function Io(e){hT.call(this,e)}Io.prototype={constructor:Io,type:"image",brush:function(e,t){var r=this.style,a=r.image;r.bind(e,this,t);var i=this._image=Wg.createOrUpdateImage(a,this._image,this,this.onload);if(!(!i||!Wg.isImageReady(i))){var o=r.x||0,l=r.y||0,c=r.width,n=r.height,h=i.width/i.height;if(c==null&&n!=null?c=n*h:n==null&&c!=null?n=c/h:c==null&&n==null&&(c=i.width,n=i.height),this.setTransform(e),r.sWidth&&r.sHeight){var s=r.sx||0,v=r.sy||0;e.drawImage(i,s,v,r.sWidth,r.sHeight,o,l,c,n)}else if(r.sx&&r.sy){var s=r.sx,v=r.sy,u=c-s,d=n-v;e.drawImage(i,s,v,u,d,o,l,c,n)}else e.drawImage(i,o,l,c,n);r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new wI(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}};AI.inherits(Io,hT);var TI=Io,si=TI,CI=ai,MI=CI.devicePixelRatio,Cr=W,Ns=sn,cT=Ke,DI=Jf,Mf=qP,LI=WA,PI=si,II=nt,Zg=1e5,ga=314159,Hn=.01,RI=.001;function qn(e){return parseInt(e,10)}function EI(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}var Vs=new cT(0,0,0,0),Hs=new cT(0,0,0,0);function kI(e,t,r){return Vs.copy(e.getBoundingRect()),e.transform&&Vs.applyTransform(e.transform),Hs.width=t,Hs.height=r,!Vs.intersect(Hs)}function OI(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function zI(e,t){for(var r=0;r<e.length;r++){var a=e[r];a.setTransform(t),t.beginPath(),a.buildPath(t,a.shape),t.clip(),a.restoreTransform(t)}}function BI(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var Df=function(e,t,r){this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=Cr.extend({},r||{}),this.dpr=r.devicePixelRatio||MI,this._singleCanvas=a,this.root=e;var i=e.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var o=this._zlevelList=[],l=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,a){var n=e.width,h=e.height;r.width!=null&&(n=r.width),r.height!=null&&(h=r.height),this.dpr=r.devicePixelRatio||1,e.width=n*this.dpr,e.height=h*this.dpr,this._width=n,this._height=h;var s=new Mf(e,this,this.dpr);s.__builtin__=!0,s.initContext(),l[ga]=s,s.zlevel=ga,o.push(ga),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var c=this._domRoot=BI(this._width,this._height);e.appendChild(c)}this._hoverlayer=null,this._hoverElements=[]};Df.prototype={constructor:Df,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var a=0;a<r.length;a++){var i=r[a],o=this._layers[i];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var r=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return r.__from=e,e.__hoverMir=r,t&&r.setStyle(t),this._hoverElements.push(r),r}},removeHover:function(e){var t=e.__hoverMir,r=this._hoverElements,a=Cr.indexOf(r,t);a>=0&&r.splice(a,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,r=0;r<t.length;r++){var a=t[r].__from;a&&(a.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){DI(e,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(Zg));var a={};r.ctx.save();for(var i=0;i<t;){var o=e[i],l=o.__from;if(!(l&&l.__zr)){e.splice(i,1),l.__hoverMir=null,t--;continue}i++,l.invisible||(o.transform=l.transform,o.invTransform=l.invTransform,o.__clipPaths=l.__clipPaths,this._doPaintEl(o,r,!0,a))}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(Zg)},_paintList:function(e,t,r){if(this._redrawId===r){t=t||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var i=this;LI(function(){i._paintList(e,t,r)})}}},_compositeManually:function(){var e=this.getLayer(ga).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,r)})},_doPaintList:function(e,t){for(var r=[],a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a],o=this._layers[i];o.__builtin__&&o!==this._hoverlayer&&(o.__dirty||t)&&r.push(o)}for(var l=!0,c=0;c<r.length;c++){var o=r[c],n=o.ctx,h={};n.save();var s=t?o.__startIndex:o.__drawIndex,v=!t&&o.incremental&&Date.now,u=v&&Date.now(),d=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,d);else if(s===o.__startIndex){var f=e[s];(!f.incremental||!f.notClear||t)&&o.clear(!1,d)}s===-1&&(console.error("For some unknown reason. drawIndex is -1"),s=o.__startIndex);for(var m=s;m<o.__endIndex;m++){var p=e[m];if(this._doPaintEl(p,o,t,h),p.__dirty=p.__dirtyText=!1,v){var g=Date.now()-u;if(g>15)break}}o.__drawIndex=m,o.__drawIndex<o.__endIndex&&(l=!1),h.prevElClipPaths&&n.restore(),n.restore()}return II.wxa&&Cr.each(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),l},_doPaintEl:function(e,t,r,a){var i=t.ctx,o=e.transform;if((t.__dirty||r)&&!e.invisible&&e.style.opacity!==0&&!(o&&!o[0]&&!o[3])&&!(e.culling&&kI(e,this._width,this._height))){var l=e.__clipPaths,c=a.prevElClipPaths;(!c||OI(l,c))&&(c&&(i.restore(),a.prevElClipPaths=null,a.prevEl=null),l&&(i.save(),zI(l,i),a.prevElClipPaths=l)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,a.prevEl||null),a.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=ga);var r=this._layers[e];return r||(r=new Mf("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?Cr.merge(r,this._layerConfig[e],!0):this._layerConfig[e-Hn]&&Cr.merge(r,this._layerConfig[e-Hn],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},insertLayer:function(e,t){var r=this._layers,a=this._zlevelList,i=a.length,o=null,l=-1,c=this._domRoot;if(r[e]){Ns("ZLevel "+e+" has been used already");return}if(!EI(t)){Ns("Layer of zlevel "+e+" is not valid");return}if(i>0&&e>a[0]){for(l=0;l<i-1&&!(a[l]<e&&a[l+1]>e);l++);o=r[a[l]]}if(a.splice(l+1,0,e),r[e]=t,!t.virtual)if(o){var n=o.dom;n.nextSibling?c.insertBefore(t.dom,n.nextSibling):c.appendChild(t.dom)}else c.firstChild?c.insertBefore(t.dom,c.firstChild):c.appendChild(t.dom)},eachLayer:function(e,t){var r=this._zlevelList,a,i;for(i=0;i<r.length;i++)a=r[i],e.call(t,this._layers[a],a)},eachBuiltinLayer:function(e,t){var r=this._zlevelList,a,i,o;for(o=0;o<r.length;o++)i=r[o],a=this._layers[i],a.__builtin__&&e.call(t,a,i)},eachOtherLayer:function(e,t){var r=this._zlevelList,a,i,o;for(o=0;o<r.length;o++)i=r[o],a=this._layers[i],a.__builtin__||e.call(t,a,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){this.eachBuiltinLayer(function(h,s){h.__dirty=h.__used=!1});function t(h){i&&(i.__endIndex!==h&&(i.__dirty=!0),i.__endIndex=h)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var a=e[r];if(a.zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}for(var i=null,o=0,l,r=0;r<e.length;r++){var a=e[r],c=a.zlevel,n;l!==c&&(l=c,o=0),a.incremental?(n=this.getLayer(c+RI,this._needsManuallyCompositing),n.incremental=!0,o=1):n=this.getLayer(c+(o>0?Hn:0),this._needsManuallyCompositing),n.__builtin__||Ns("ZLevel "+c+" has been used by unkown layer "+n.id),n!==i&&(n.__used=!0,n.__startIndex!==r&&(n.__dirty=!0),n.__startIndex=r,n.incremental?n.__drawIndex=-1:n.__drawIndex=r,t(r),i=n),a.__dirty&&(n.__dirty=!0,n.incremental&&n.__drawIndex<0&&(n.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(h,s){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var r=this._layerConfig;r[e]?Cr.merge(r[e],t,!0):r[e]=t;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+Hn){var o=this._layers[i];Cr.merge(o,r[e],!0)}}}},delLayer:function(e){var t=this._layers,r=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],r.splice(Cr.indexOf(r,e),1))},resize:function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);Cr.each(this._progressiveLayers,function(o){o.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(ga).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[ga].dom;var t=new Mf("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height,i=t.ctx;this.eachLayer(function(h){h.__builtin__?i.drawImage(h.dom,0,0,r,a):h.renderToCanvas&&(t.ctx.save(),h.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var o={},l=this.storage.getDisplayList(!0),c=0;c<l.length;c++){var n=l[c];this._doPaintEl(n,t,!0,o)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,r=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var l=this.root,c=document.defaultView.getComputedStyle(l);return(l[a]||qn(c[r])||qn(l.style[r]))-(qn(c[i])||0)-(qn(c[o])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),a=r.getContext("2d"),i=e.getBoundingRect(),o=e.style,l=o.shadowBlur*t,c=o.shadowOffsetX*t,n=o.shadowOffsetY*t,h=o.hasStroke()?o.lineWidth:0,s=Math.max(h/2,-c+l),v=Math.max(h/2,c+l),u=Math.max(h/2,-n+l),d=Math.max(h/2,n+l),f=i.width+s+v,m=i.height+u+d;r.width=f*t,r.height=m*t,a.scale(t,t),a.clearRect(0,0,f,m),a.dpr=t;var p={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[s-i.x,u-i.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(a);var g=PI,y=new g({style:{x:0,y:0,image:r}});return p.position!=null&&(y.position=e.position=p.position),p.rotation!=null&&(y.rotation=e.rotation=p.rotation),p.scale!=null&&(y.scale=e.scale=p.scale),y}};var NI=Df,VI=NI,fT=W,HI=ht,dT=HI.Dispatcher,Yg=WA,qI=PA,Ro=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,dT.call(this)};Ro.prototype={constructor:Ro,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),r=0;r<t.length;r++)this.addClip(t[r])},removeClip:function(e){var t=fT.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),r=0;r<t.length;r++)this.removeClip(t[r]);e.animation=null},_update:function(){for(var e=new Date().getTime()-this._pausedTime,t=e-this._time,r=this._clips,a=r.length,i=[],o=[],l=0;l<a;l++){var c=r[l],n=c.step(e,t);n&&(i.push(n),o.push(c))}for(var l=0;l<a;)r[l]._needsRemove?(r[l]=r[a-1],r.pop(),a--):l++;a=i.length;for(var l=0;l<a;l++)o[l].fire(i[l]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0;function t(){e._running&&(Yg(t),!e._paused&&e._update())}Yg(t)},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var r=new qI(e,t.loop,t.getter,t.setter);return this.addAnimator(r),r}};fT.mixin(Ro,dT);var GI=Ro,FI=GI,Yo=ht,UI=Yo.addEventListener,$I=Yo.removeEventListener,Pr=Yo.normalizeEvent,gT=Yo.getNativeEvent,Er=W,pT=xa,ja=nt,WI=300,fd=ja.domSupported,qs=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=Er.map(e,function(i){var o=i.replace("mouse","pointer");return r.hasOwnProperty(o)?o:i});return{mouse:e,touch:t,pointer:a}}(),Xg={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function mT(e){return e==="mousewheel"&&ja.browser.firefox?"DOMMouseScroll":e}function Lf(e){var t=e.pointerType;return t==="pen"||t==="touch"}function ZI(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function Gs(e){e&&(e.zrByTouch=!0)}function YI(e,t){return Pr(e.dom,new _T(e,t),!0)}function yT(e,t){for(var r=t,a=!1;r&&r.nodeType!==9&&!(a=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return a}function _T(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var Fs=_T.prototype;Fs.stopPropagation=Fs.stopImmediatePropagation=Fs.preventDefault=Er.noop;var jt={mousedown:function(e){e=Pr(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Pr(this.dom,e);var t=this._mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&Rf(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Pr(this.dom,e),Rf(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Pr(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=yT(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=Pr(this.dom,e),Gs(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),jt.mousemove.call(this,e),jt.mousedown.call(this,e)},touchmove:function(e){e=Pr(this.dom,e),Gs(e),this.handler.processGesture(e,"change"),jt.mousemove.call(this,e)},touchend:function(e){e=Pr(this.dom,e),Gs(e),this.handler.processGesture(e,"end"),jt.mouseup.call(this,e),+new Date-this._lastTouchMoment<WI&&jt.click.call(this,e)},pointerdown:function(e){jt.mousedown.call(this,e)},pointermove:function(e){Lf(e)||jt.mousemove.call(this,e)},pointerup:function(e){jt.mouseup.call(this,e)},pointerout:function(e){Lf(e)||jt.mouseout.call(this,e)}};Er.each(["click","mousewheel","dblclick","contextmenu"],function(e){jt[e]=function(t){t=Pr(this.dom,t),this.trigger(e,t)}});var Pf={pointermove:function(e){Lf(e)||Pf.mousemove.call(this,e)},pointerup:function(e){Pf.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;Rf(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function XI(e,t){var r=t.domHandlers;ja.pointerEventsSupported?Er.each(qs.pointer,function(a){mo(t,a,function(i){r[a].call(e,i)})}):(ja.touchEventsSupported&&Er.each(qs.touch,function(a){mo(t,a,function(i){r[a].call(e,i),ZI(t)})}),Er.each(qs.mouse,function(a){mo(t,a,function(i){i=gT(i),t.touching||r[a].call(e,i)})}))}function KI(e,t){ja.pointerEventsSupported?Er.each(Xg.pointer,r):ja.touchEventsSupported||Er.each(Xg.mouse,r);function r(a){function i(o){o=gT(o),yT(e,o.target)||(o=YI(e,o),t.domHandlers[a].call(e,o))}mo(t,a,i,{capture:!0})}}function mo(e,t,r,a){e.mounted[t]=r,e.listenerOpts[t]=a,UI(e.domTarget,mT(t),r,a)}function If(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&$I(e.domTarget,mT(r),t[r],e.listenerOpts[r]);e.mounted={}}function Rf(e,t){if(e._mayPointerCapture=null,fd&&e._pointerCapturing^t){e._pointerCapturing=t;var r=e._globalHandlerScope;t?KI(e,r):If(r)}}function Kg(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function dd(e,t){pT.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new Kg(e,jt),fd&&(this._globalHandlerScope=new Kg(document,Pf)),this._pointerCapturing=!1,this._mayPointerCapture=null,XI(this,this._localHandlerScope)}var xT=dd.prototype;xT.dispose=function(){If(this._localHandlerScope),fd&&If(this._globalHandlerScope)};xT.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};Er.mixin(dd,pT);var QI=dd,jI=QI,JI=iA,Ef=nt,eR=W,tR=AL,rR=AP,aR=VI,iR=FI,nR=jI;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var oR=!Ef.canvasSupported,yo={canvas:aR},pa={},sR="4.3.1";function lR(e,t){var r=new kf(JI(),e,t);return pa[r.id]=r,r}function uR(e){if(e)e.dispose();else{for(var t in pa)pa.hasOwnProperty(t)&&pa[t].dispose();pa={}}return this}function vR(e){return pa[e]}function hR(e,t){yo[e]=t}function cR(e){delete pa[e]}var kf=function(e,t,r){r=r||{},this.dom=t,this.id=e;var a=this,i=new rR,o=r.renderer;if(oR){if(!yo.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else(!o||!yo[o])&&(o="canvas");var l=new yo[o](t,i,r,e);this.storage=i,this.painter=l;var c=!Ef.node&&!Ef.worker?new nR(l.getViewportRoot(),l.root):null;this.handler=new tR(i,l,c,l.root),this.animation=new iR({stage:{update:eR.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var n=i.delFromStorage,h=i.addToStorage;i.delFromStorage=function(s){n.call(i,s),s&&s.removeSelfFromZr(a)},i.addToStorage=function(s){h.call(i,s),s.addSelfToZr(a)}};kf.prototype={constructor:kf,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var r=this.painter.addHover(e,t);return this.refreshHover(),r}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,r){this.handler.on(e,t,r)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,cR(this.id)}};Or.version=sR;Or.init=lR;Or.dispose=uR;Or.getInstance=vR;Or.registerPainter=hR;var Pe={},Et=W,fR=nt,Wa=Et.each,Ja=Et.isObject,dR=Et.isArray,ST="series\0";function bT(e){return e instanceof Array?e:e==null?[]:[e]}function gR(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var a=0,i=r.length;a<i;a++){var o=r[a];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var pR=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function mR(e){return Ja(e)&&!dR(e)&&!(e instanceof Date)?e.value:e}function yR(e){return Ja(e)&&!(e instanceof Array)}function _R(e,t){t=(t||[]).slice();var r=Et.map(e||[],function(a,i){return{exist:a}});return Wa(t,function(a,i){if(Ja(a)){for(var o=0;o<r.length;o++)if(!r[o].option&&a.id!=null&&r[o].exist.id===a.id+""){r[o].option=a,t[i]=null;return}for(var o=0;o<r.length;o++){var l=r[o].exist;if(!r[o].option&&(l.id==null||a.id==null)&&a.name!=null&&!_o(a)&&!_o(l)&&l.name===a.name+""){r[o].option=a,t[i]=null;return}}}}),Wa(t,function(a,i){if(Ja(a)){for(var o=0;o<r.length;o++){var l=r[o].exist;if(!r[o].option&&!_o(l)&&a.id==null){r[o].option=a;break}}o>=r.length&&r.push({option:a})}}),r}function xR(e){var t=Et.createHashMap();Wa(e,function(r,a){var i=r.exist;i&&t.set(i.id,r)}),Wa(e,function(r,a){var i=r.option;Et.assert(!i||i.id==null||!t.get(i.id)||t.get(i.id)===r,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,r),!r.keyInfo&&(r.keyInfo={})}),Wa(e,function(r,a){var i=r.exist,o=r.option,l=r.keyInfo;if(Ja(o)){if(l.name=o.name!=null?o.name+"":i?i.name:ST+a,i)l.id=i.id;else if(o.id!=null)l.id=o.id+"";else{var c=0;do l.id="\0"+l.name+"\0"+c++;while(t.get(l.id))}t.set(l.id,r)}})}function SR(e){var t=e.name;return!!(t&&t.indexOf(ST))}function _o(e){return Ja(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function bR(e,t){var r={},a={};return i(e||[],r),i(t||[],a,r),[o(r),o(a)];function i(l,c,n){for(var h=0,s=l.length;h<s;h++)for(var v=l[h].seriesId,u=bT(l[h].dataIndex),d=n&&n[v],f=0,m=u.length;f<m;f++){var p=u[f];d&&d[p]?d[p]=null:(c[v]||(c[v]={}))[p]=1}}function o(l,c){var n=[];for(var h in l)if(l.hasOwnProperty(h)&&l[h]!=null)if(c)n.push(+h);else{var s=o(l[h],!0);s.length&&n.push({seriesId:h,dataIndex:s})}return n}}function wR(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Et.isArray(t.dataIndex)?Et.map(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Et.isArray(t.name)?Et.map(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function AR(){var e="__\0ec_inner_"+TR+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var TR=0;function CR(e,t,r){if(Et.isString(t)){var a={};a[t+"Index"]=0,t=a}var i=r&&r.defaultMainType;i&&!Us(t,i+"Index")&&!Us(t,i+"Id")&&!Us(t,i+"Name")&&(t[i+"Index"]=0);var o={};return Wa(t,function(n,c){var n=t[c];if(c==="dataIndex"||c==="dataIndexInside"){o[c]=n;return}var h=c.match(/^(\w+)(Index|Id|Name)$/)||[],s=h[1],v=(h[2]||"").toLowerCase();if(!(!s||!v||n==null||v==="index"&&n==="none"||r&&r.includeMainTypes&&Et.indexOf(r.includeMainTypes,s)<0)){var u={mainType:s};(v!=="index"||n!=="all")&&(u[v]=n);var d=e.queryComponents(u);o[s+"Models"]=d,o[s+"Model"]=d[0]}}),o}function Us(e,t){return e&&e.hasOwnProperty(t)}function MR(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function DR(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function LR(e){return e==="auto"?fR.domSupported?"html":"richText":e||"html"}function PR(e,t){var r=Et.createHashMap(),a=[];return Et.each(e,function(i){var o=t(i);(r.get(o)||(a.push(o),r.set(o,[]))).push(i)}),{keys:a,buckets:r}}Pe.normalizeToArray=bT;Pe.defaultEmphasis=gR;Pe.TEXT_STYLE_OPTIONS=pR;Pe.getDataItemValue=mR;Pe.isDataItemOption=yR;Pe.mappingToExists=_R;Pe.makeIdAndName=xR;Pe.isNameSpecified=SR;Pe.isIdInner=_o;Pe.compressBatches=bR;Pe.queryDataIndex=wR;Pe.makeInner=AR;Pe.parseFinder=CR;Pe.setAttribute=MR;Pe.getAttribute=DR;Pe.getTooltipRenderMode=LR;Pe.groupData=PR;var kt={},ei=W,IR=".",sa="___EC__COMPONENT__CONTAINER___";function Ga(e){var t={main:"",sub:""};return e&&(e=e.split(IR),t.main=e[0]||"",t.sub=e[1]||""),t}function RR(e){ei.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function ER(e,t){e.$constructor=e,e.extend=function(r){var a=this,i=function(){r.$constructor?r.$constructor.apply(this,arguments):a.apply(this,arguments)};return ei.extend(i.prototype,r),i.extend=this.extend,i.superCall=zR,i.superApply=BR,ei.inherits(i,this),i.superClass=a,i}}var kR=0;function OR(e){var t=["__\0is_clz",kR++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function zR(e,t){var r=ei.slice(arguments,2);return this.superClass.prototype[t].apply(e,r)}function BR(e,t,r){return this.superClass.prototype[t].apply(e,r)}function NR(e,t){t=t||{};var r={};e.registerClass=function(o,l){if(l){if(RR(l),l=Ga(l),!l.sub)r[l.main]=o;else if(l.sub!==sa){var c=a(l);c[l.sub]=o}}return o},e.getClass=function(o,l,c){var n=r[o];if(n&&n[sa]&&(n=l?n[l]:null),c&&!n)throw new Error(l?"Component "+o+"."+(l||"")+" not exists. Load it first.":o+".type should be specified.");return n},e.getClassesByMainType=function(o){o=Ga(o);var l=[],c=r[o.main];return c&&c[sa]?ei.each(c,function(n,h){h!==sa&&l.push(n)}):l.push(c),l},e.hasClass=function(o){return o=Ga(o),!!r[o.main]},e.getAllClassMainTypes=function(){var o=[];return ei.each(r,function(l,c){o.push(c)}),o},e.hasSubTypes=function(o){o=Ga(o);var l=r[o.main];return l&&l[sa]},e.parseClassType=Ga;function a(o){var l=r[o.main];return(!l||!l[sa])&&(l=r[o.main]={},l[sa]=!0),l}if(t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(o){var l=i.call(this,o);return e.registerClass(l,o.type)})}return e}function VR(e,t){}kt.parseClassType=Ga;kt.enableClassExtend=ER;kt.enableClassCheck=OR;kt.enableClassManagement=NR;kt.setReadOnly=VR;var $s,Qg;function li(){if(Qg)return $s;Qg=1;var e=W;function t(r){for(var a=0;a<r.length;a++)r[a][1]||(r[a][1]=r[a][0]);return function(i,o,l){for(var c={},n=0;n<r.length;n++){var h=r[n][1];if(!(o&&e.indexOf(o,h)>=0||l&&e.indexOf(l,h)<0)){var s=i.getShallow(h);s!=null&&(c[r[n][0]]=s)}}return c}}return $s=t,$s}var Ws,jg;function HR(){if(jg)return Ws;jg=1;var e=li(),t=e([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getLineStyle:function(a){var i=t(this,a);return i.lineDash=this.getLineDash(i.lineWidth),i},getLineDash:function(a){a==null&&(a=1);var i=this.get("type"),o=Math.max(a,2),l=a*4;return i==="solid"||i==null?!1:i==="dashed"?[l,l]:[o,o]}};return Ws=r,Ws}var Zs,Jg;function qR(){if(Jg)return Zs;Jg=1;var e=li(),t=e([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),r={getAreaStyle:function(a,i){return t(this,a,i)}};return Zs=r,Zs}var de={},cn={},vt={},wT=Ye(),gd=wT.create,Za=wT.distSquare,Gn=Math.pow,Jr=Math.sqrt,Eo=1e-8,AT=1e-4,ep=Jr(3),Fn=1/3,pr=gd(),Ut=gd(),Ya=gd();function Kr(e){return e>-Eo&&e<Eo}function TT(e){return e>Eo||e<-Eo}function Mr(e,t,r,a,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*a+3*o*r)}function GR(e,t,r,a,i){var o=1-i;return 3*(((t-e)*o+2*(r-t)*i)*o+(a-r)*i*i)}function FR(e,t,r,a,i,o){var l=a+3*(t-r)-e,c=3*(r-t*2+e),n=3*(t-e),h=e-i,s=c*c-3*l*n,v=c*n-9*l*h,u=n*n-3*c*h,d=0;if(Kr(s)&&Kr(v))if(Kr(c))o[0]=0;else{var f=-n/c;f>=0&&f<=1&&(o[d++]=f)}else{var m=v*v-4*s*u;if(Kr(m)){var p=v/s,f=-c/l+p,g=-p/2;f>=0&&f<=1&&(o[d++]=f),g>=0&&g<=1&&(o[d++]=g)}else if(m>0){var y=Jr(m),_=s*c+1.5*l*(-v+y),A=s*c+1.5*l*(-v-y);_<0?_=-Gn(-_,Fn):_=Gn(_,Fn),A<0?A=-Gn(-A,Fn):A=Gn(A,Fn);var f=(-c-(_+A))/(3*l);f>=0&&f<=1&&(o[d++]=f)}else{var S=(2*s*c-3*l*v)/(2*Jr(s*s*s)),b=Math.acos(S)/3,x=Jr(s),w=Math.cos(b),f=(-c-2*x*w)/(3*l),g=(-c+x*(w+ep*Math.sin(b)))/(3*l),T=(-c+x*(w-ep*Math.sin(b)))/(3*l);f>=0&&f<=1&&(o[d++]=f),g>=0&&g<=1&&(o[d++]=g),T>=0&&T<=1&&(o[d++]=T)}}return d}function UR(e,t,r,a,i){var o=6*r-12*t+6*e,l=9*t+3*a-3*e-9*r,c=3*t-3*e,n=0;if(Kr(l)){if(TT(o)){var h=-c/o;h>=0&&h<=1&&(i[n++]=h)}}else{var s=o*o-4*l*c;if(Kr(s))i[0]=-o/(2*l);else if(s>0){var v=Jr(s),h=(-o+v)/(2*l),u=(-o-v)/(2*l);h>=0&&h<=1&&(i[n++]=h),u>=0&&u<=1&&(i[n++]=u)}}return n}function $R(e,t,r,a,i,o){var l=(t-e)*i+e,c=(r-t)*i+t,n=(a-r)*i+r,h=(c-l)*i+l,s=(n-c)*i+c,v=(s-h)*i+h;o[0]=e,o[1]=l,o[2]=h,o[3]=v,o[4]=v,o[5]=s,o[6]=n,o[7]=a}function WR(e,t,r,a,i,o,l,c,n,h,s){var v,u=.005,d=1/0,f,m,p,g;pr[0]=n,pr[1]=h;for(var y=0;y<1;y+=.05)Ut[0]=Mr(e,r,i,l,y),Ut[1]=Mr(t,a,o,c,y),p=Za(pr,Ut),p<d&&(v=y,d=p);d=1/0;for(var _=0;_<32&&!(u<AT);_++)f=v-u,m=v+u,Ut[0]=Mr(e,r,i,l,f),Ut[1]=Mr(t,a,o,c,f),p=Za(Ut,pr),f>=0&&p<d?(v=f,d=p):(Ya[0]=Mr(e,r,i,l,m),Ya[1]=Mr(t,a,o,c,m),g=Za(Ya,pr),m<=1&&g<d?(v=m,d=g):u*=.5);return s&&(s[0]=Mr(e,r,i,l,v),s[1]=Mr(t,a,o,c,v)),Jr(d)}function Dr(e,t,r,a){var i=1-a;return i*(i*e+2*a*t)+a*a*r}function ZR(e,t,r,a){return 2*((1-a)*(t-e)+a*(r-t))}function YR(e,t,r,a,i){var o=e-2*t+r,l=2*(t-e),c=e-a,n=0;if(Kr(o)){if(TT(l)){var h=-c/l;h>=0&&h<=1&&(i[n++]=h)}}else{var s=l*l-4*o*c;if(Kr(s)){var h=-l/(2*o);h>=0&&h<=1&&(i[n++]=h)}else if(s>0){var v=Jr(s),h=(-l+v)/(2*o),u=(-l-v)/(2*o);h>=0&&h<=1&&(i[n++]=h),u>=0&&u<=1&&(i[n++]=u)}}return n}function XR(e,t,r){var a=e+r-2*t;return a===0?.5:(e-t)/a}function KR(e,t,r,a,i){var o=(t-e)*a+e,l=(r-t)*a+t,c=(l-o)*a+o;i[0]=e,i[1]=o,i[2]=c,i[3]=c,i[4]=l,i[5]=r}function QR(e,t,r,a,i,o,l,c,n){var h,s=.005,v=1/0;pr[0]=l,pr[1]=c;for(var u=0;u<1;u+=.05){Ut[0]=Dr(e,r,i,u),Ut[1]=Dr(t,a,o,u);var d=Za(pr,Ut);d<v&&(h=u,v=d)}v=1/0;for(var f=0;f<32&&!(s<AT);f++){var m=h-s,p=h+s;Ut[0]=Dr(e,r,i,m),Ut[1]=Dr(t,a,o,m);var d=Za(Ut,pr);if(m>=0&&d<v)h=m,v=d;else{Ya[0]=Dr(e,r,i,p),Ya[1]=Dr(t,a,o,p);var g=Za(Ya,pr);p<=1&&g<v?(h=p,v=g):s*=.5}}return n&&(n[0]=Dr(e,r,i,h),n[1]=Dr(t,a,o,h)),Jr(v)}vt.cubicAt=Mr;vt.cubicDerivativeAt=GR;vt.cubicRootAt=FR;vt.cubicExtrema=UR;vt.cubicSubdivide=$R;vt.cubicProjectPoint=WR;vt.quadraticAt=Dr;vt.quadraticDerivativeAt=ZR;vt.quadraticRootAt=YR;vt.quadraticExtremum=XR;vt.quadraticSubdivide=KR;vt.quadraticProjectPoint=QR;var la={},tp;function fn(){if(tp)return la;tp=1;var e=Ye(),t=vt,r=Math.min,a=Math.max,i=Math.sin,o=Math.cos,l=Math.PI*2,c=e.create(),n=e.create(),h=e.create();function s(g,y,_){if(g.length!==0){var A=g[0],S=A[0],b=A[0],x=A[1],w=A[1],T;for(T=1;T<g.length;T++)A=g[T],S=r(S,A[0]),b=a(b,A[0]),x=r(x,A[1]),w=a(w,A[1]);y[0]=S,y[1]=x,_[0]=b,_[1]=w}}function v(g,y,_,A,S,b){S[0]=r(g,_),S[1]=r(y,A),b[0]=a(g,_),b[1]=a(y,A)}var u=[],d=[];function f(g,y,_,A,S,b,x,w,T,M){var C=t.cubicExtrema,D=t.cubicAt,L,P=C(g,_,S,x,u);for(T[0]=1/0,T[1]=1/0,M[0]=-1/0,M[1]=-1/0,L=0;L<P;L++){var I=D(g,_,S,x,u[L]);T[0]=r(I,T[0]),M[0]=a(I,M[0])}for(P=C(y,A,b,w,d),L=0;L<P;L++){var E=D(y,A,b,w,d[L]);T[1]=r(E,T[1]),M[1]=a(E,M[1])}T[0]=r(g,T[0]),M[0]=a(g,M[0]),T[0]=r(x,T[0]),M[0]=a(x,M[0]),T[1]=r(y,T[1]),M[1]=a(y,M[1]),T[1]=r(w,T[1]),M[1]=a(w,M[1])}function m(g,y,_,A,S,b,x,w){var T=t.quadraticExtremum,M=t.quadraticAt,C=a(r(T(g,_,S),1),0),D=a(r(T(y,A,b),1),0),L=M(g,_,S,C),P=M(y,A,b,D);x[0]=r(g,S,L),x[1]=r(y,b,P),w[0]=a(g,S,L),w[1]=a(y,b,P)}function p(g,y,_,A,S,b,x,w,T){var M=e.min,C=e.max,D=Math.abs(S-b);if(D%l<1e-4&&D>1e-4){w[0]=g-_,w[1]=y-A,T[0]=g+_,T[1]=y+A;return}if(c[0]=o(S)*_+g,c[1]=i(S)*A+y,n[0]=o(b)*_+g,n[1]=i(b)*A+y,M(w,c,n),C(T,c,n),S=S%l,S<0&&(S=S+l),b=b%l,b<0&&(b=b+l),S>b&&!x?b+=l:S<b&&x&&(S+=l),x){var L=b;b=S,S=L}for(var P=0;P<b;P+=Math.PI/2)P>S&&(h[0]=o(P)*_+g,h[1]=i(P)*A+y,M(w,h,w),C(T,h,T))}return la.fromPoints=s,la.fromLine=v,la.fromCubic=f,la.fromQuadratic=m,la.fromArc=p,la}var jR=vt,rp=Ye(),bi=fn(),JR=Ke,e2=ai,ap=e2.devicePixelRatio,rt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},lr=[],Hr=[],ur=[],vr=[],ip=Math.min,np=Math.max,wi=Math.cos,Ai=Math.sin,Un=Math.sqrt,ka=Math.abs,Ys=typeof Float32Array<"u",ko=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};ko.prototype={constructor:ko,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,r){r=r||0,this._ux=ka(r/ap/e)||0,this._uy=ka(r/ap/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(rt.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var r=ka(e-this._xi)>this._ux||ka(t-this._yi)>this._uy||this._len<5;return this.addData(rt.L,e,t),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),r&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,r,a,i,o){return this.addData(rt.C,e,t,r,a,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,r,a,i,o):this._ctx.bezierCurveTo(e,t,r,a,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(e,t,r,a){return this.addData(rt.Q,e,t,r,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,r,a):this._ctx.quadraticCurveTo(e,t,r,a)),this._xi=r,this._yi=a,this},arc:function(e,t,r,a,i,o){return this.addData(rt.A,e,t,r,r,a,i-a,0,o?0:1),this._ctx&&this._ctx.arc(e,t,r,a,i,o),this._xi=wi(i)*r+e,this._yi=Ai(i)*r+t,this},arcTo:function(e,t,r,a,i){return this._ctx&&this._ctx.arcTo(e,t,r,a,i),this},rect:function(e,t,r,a){return this._ctx&&this._ctx.rect(e,t,r,a),this.addData(rt.R,e,t,r,a),this},closePath:function(){this.addData(rt.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,r),e.closePath()),this._xi=t,this._yi=r,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,r=0;r<e.length;r++)t+=e[r];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;!(this.data&&this.data.length===t)&&Ys&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,a=this._len,i=0;i<t;i++)r+=e[i].len();Ys&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var i=0;i<t;i++)for(var o=e[i].data,l=0;l<o.length;l++)this.data[a++]=o[l];this._len=a},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var r=0;r<arguments.length;r++)t[this._len++]=arguments[r];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var r=this._dashSum,a=this._dashOffset,i=this._lineDash,o=this._ctx,l=this._xi,c=this._yi,n=e-l,h=t-c,s=Un(n*n+h*h),v=l,u=c,d,f=i.length,m;for(n/=s,h/=s,a<0&&(a=r+a),a%=r,v-=a*n,u-=a*h;n>0&&v<=e||n<0&&v>=e||n===0&&(h>0&&u<=t||h<0&&u>=t);)m=this._dashIdx,d=i[m],v+=n*d,u+=h*d,this._dashIdx=(m+1)%f,!(n>0&&v<l||n<0&&v>l||h>0&&u<c||h<0&&u>c)&&o[m%2?"moveTo":"lineTo"](n>=0?ip(v,e):np(v,e),h>=0?ip(u,t):np(u,t));n=v-e,h=u-t,this._dashOffset=-Un(n*n+h*h)},_dashedBezierTo:function(e,t,r,a,i,o){var l=this._dashSum,c=this._dashOffset,n=this._lineDash,h=this._ctx,s=this._xi,v=this._yi,u,d,f,m=jR.cubicAt,p=0,g=this._dashIdx,y=n.length,_,A,S=0;for(c<0&&(c=l+c),c%=l,u=0;u<1;u+=.1)d=m(s,e,r,i,u+.1)-m(s,e,r,i,u),f=m(v,t,a,o,u+.1)-m(v,t,a,o,u),p+=Un(d*d+f*f);for(;g<y&&(S+=n[g],!(S>c));g++);for(u=(S-c)/p;u<=1;)_=m(s,e,r,i,u),A=m(v,t,a,o,u),g%2?h.moveTo(_,A):h.lineTo(_,A),u+=n[g]/p,g=(g+1)%y;g%2!==0&&h.lineTo(i,o),d=i-_,f=o-A,this._dashOffset=-Un(d*d+f*f)},_dashedQuadraticTo:function(e,t,r,a){var i=r,o=a;r=(r+2*e)/3,a=(a+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,r,a,i,o)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,Ys&&(this.data=new Float32Array(e)))},getBoundingRect:function(){lr[0]=lr[1]=ur[0]=ur[1]=Number.MAX_VALUE,Hr[0]=Hr[1]=vr[0]=vr[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,r=0,a=0,i=0,o=0;o<e.length;){var l=e[o++];switch(o===1&&(t=e[o],r=e[o+1],a=t,i=r),l){case rt.M:a=e[o++],i=e[o++],t=a,r=i,ur[0]=a,ur[1]=i,vr[0]=a,vr[1]=i;break;case rt.L:bi.fromLine(t,r,e[o],e[o+1],ur,vr),t=e[o++],r=e[o++];break;case rt.C:bi.fromCubic(t,r,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],ur,vr),t=e[o++],r=e[o++];break;case rt.Q:bi.fromQuadratic(t,r,e[o++],e[o++],e[o],e[o+1],ur,vr),t=e[o++],r=e[o++];break;case rt.A:var c=e[o++],n=e[o++],h=e[o++],s=e[o++],v=e[o++],u=e[o++]+v;o+=1;var d=1-e[o++];o===1&&(a=wi(v)*h+c,i=Ai(v)*s+n),bi.fromArc(c,n,h,s,v,u,d,ur,vr),t=wi(u)*h+c,r=Ai(u)*s+n;break;case rt.R:a=t=e[o++],i=r=e[o++];var f=e[o++],m=e[o++];bi.fromLine(a,i,a+f,i+m,ur,vr);break;case rt.Z:t=a,r=i;break}rp.min(lr,lr,ur),rp.max(Hr,Hr,vr)}return o===0&&(lr[0]=lr[1]=Hr[0]=Hr[1]=0),new JR(lr[0],lr[1],Hr[0]-lr[0],Hr[1]-lr[1])},rebuildPath:function(e){for(var t=this.data,r,a,i,o,l,c,n=this._ux,h=this._uy,s=this._len,v=0;v<s;){var u=t[v++];switch(v===1&&(i=t[v],o=t[v+1],r=i,a=o),u){case rt.M:r=i=t[v++],a=o=t[v++],e.moveTo(i,o);break;case rt.L:l=t[v++],c=t[v++],(ka(l-i)>n||ka(c-o)>h||v===s-1)&&(e.lineTo(l,c),i=l,o=c);break;case rt.C:e.bezierCurveTo(t[v++],t[v++],t[v++],t[v++],t[v++],t[v++]),i=t[v-2],o=t[v-1];break;case rt.Q:e.quadraticCurveTo(t[v++],t[v++],t[v++],t[v++]),i=t[v-2],o=t[v-1];break;case rt.A:var d=t[v++],f=t[v++],m=t[v++],p=t[v++],g=t[v++],y=t[v++],_=t[v++],A=t[v++],S=m>p?m:p,b=m>p?1:m/p,x=m>p?p/m:1,w=Math.abs(m-p)>.001,T=g+y;w?(e.translate(d,f),e.rotate(_),e.scale(b,x),e.arc(0,0,S,g,T,1-A),e.scale(1/b,1/x),e.rotate(-_),e.translate(-d,-f)):e.arc(d,f,S,g,T,1-A),v===1&&(r=wi(g)*m+d,a=Ai(g)*p+f),i=wi(T)*m+d,o=Ai(T)*p+f;break;case rt.R:r=i=t[v],a=o=t[v+1],e.rect(t[v++],t[v++],t[v++],t[v++]);break;case rt.Z:e.closePath(),i=r,o=a}}}};ko.CMD=rt;var t2=ko,ui=t2,pd={},md={};function r2(e,t,r,a,i,o,l){if(i===0)return!1;var c=i,n=0,h=e;if(l>t+c&&l>a+c||l<t-c&&l<a-c||o>e+c&&o>r+c||o<e-c&&o<r-c)return!1;if(e!==r)n=(t-a)/(e-r),h=(e*a-r*t)/(e-r);else return Math.abs(o-e)<=c/2;var s=n*o-l+h,v=s*s/(n*n+1);return v<=c/2*c/2}md.containStroke=r2;var CT={},a2=vt;function i2(e,t,r,a,i,o,l,c,n,h,s){if(n===0)return!1;var v=n;if(s>t+v&&s>a+v&&s>o+v&&s>c+v||s<t-v&&s<a-v&&s<o-v&&s<c-v||h>e+v&&h>r+v&&h>i+v&&h>l+v||h<e-v&&h<r-v&&h<i-v&&h<l-v)return!1;var u=a2.cubicProjectPoint(e,t,r,a,i,o,l,c,h,s,null);return u<=v/2}CT.containStroke=i2;var yd={},n2=vt,o2=n2.quadraticProjectPoint;function s2(e,t,r,a,i,o,l,c,n){if(l===0)return!1;var h=l;if(n>t+h&&n>a+h&&n>o+h||n<t-h&&n<a-h&&n<o-h||c>e+h&&c>r+h&&c>i+h||c<e-h&&c<r-h&&c<i-h)return!1;var s=o2(e,t,r,a,i,o,c,n,null);return s<=h/2}yd.containStroke=s2;var MT={},_d={},op=Math.PI*2;function l2(e){return e%=op,e<0&&(e+=op),e}_d.normalizeRadian=l2;var u2=_d,$n=u2.normalizeRadian,Ti=Math.PI*2;function v2(e,t,r,a,i,o,l,c,n){if(l===0)return!1;var h=l;c-=e,n-=t;var s=Math.sqrt(c*c+n*n);if(s-h>r||s+h<r)return!1;if(Math.abs(a-i)%Ti<1e-4)return!0;if(o){var v=a;a=$n(i),i=$n(v)}else a=$n(a),i=$n(i);a>i&&(i+=Ti);var u=Math.atan2(n,c);return u<0&&(u+=Ti),u>=a&&u<=i||u+Ti>=a&&u+Ti<=i}MT.containStroke=v2;function h2(e,t,r,a,i,o){if(o>t&&o>a||o<t&&o<a||a===t)return 0;var l=a<t?1:-1,c=(o-t)/(a-t);(c===1||c===0)&&(l=a<t?.5:-.5);var n=c*(r-e)+e;return n===i?1/0:n>i?l:0}var DT=h2,c2=ui,Oa=md,f2=CT,d2=yd,g2=MT,p2=_d,Wn=p2.normalizeRadian,mr=vt,ua=DT,qr=c2.CMD,za=Math.PI*2,m2=1e-4;function y2(e,t){return Math.abs(e-t)<m2}var Dt=[-1,-1,-1],Ft=[-1,-1];function _2(){var e=Ft[0];Ft[0]=Ft[1],Ft[1]=e}function x2(e,t,r,a,i,o,l,c,n,h){if(h>t&&h>a&&h>o&&h>c||h<t&&h<a&&h<o&&h<c)return 0;var s=mr.cubicRootAt(t,a,o,c,h,Dt);if(s===0)return 0;for(var v=0,u=-1,d,f,m=0;m<s;m++){var p=Dt[m],g=p===0||p===1?.5:1,y=mr.cubicAt(e,r,i,l,p);y<n||(u<0&&(u=mr.cubicExtrema(t,a,o,c,Ft),Ft[1]<Ft[0]&&u>1&&_2(),d=mr.cubicAt(t,a,o,c,Ft[0]),u>1&&(f=mr.cubicAt(t,a,o,c,Ft[1]))),u===2?p<Ft[0]?v+=d<t?g:-g:p<Ft[1]?v+=f<d?g:-g:v+=c<f?g:-g:p<Ft[0]?v+=d<t?g:-g:v+=c<d?g:-g)}return v}function S2(e,t,r,a,i,o,l,c){if(c>t&&c>a&&c>o||c<t&&c<a&&c<o)return 0;var n=mr.quadraticRootAt(t,a,o,c,Dt);if(n===0)return 0;var h=mr.quadraticExtremum(t,a,o);if(h>=0&&h<=1){for(var s=0,v=mr.quadraticAt(t,a,o,h),u=0;u<n;u++){var d=Dt[u]===0||Dt[u]===1?.5:1,f=mr.quadraticAt(e,r,i,Dt[u]);f<l||(Dt[u]<h?s+=v<t?d:-d:s+=o<v?d:-d)}return s}else{var d=Dt[0]===0||Dt[0]===1?.5:1,f=mr.quadraticAt(e,r,i,Dt[0]);return f<l?0:o<t?d:-d}}function b2(e,t,r,a,i,o,l,c){if(c-=t,c>r||c<-r)return 0;var n=Math.sqrt(r*r-c*c);Dt[0]=-n,Dt[1]=n;var h=Math.abs(a-i);if(h<1e-4)return 0;if(h%za<1e-4){a=0,i=za;var s=o?1:-1;return l>=Dt[0]+e&&l<=Dt[1]+e?s:0}if(o){var n=a;a=Wn(i),i=Wn(n)}else a=Wn(a),i=Wn(i);a>i&&(i+=za);for(var v=0,u=0;u<2;u++){var d=Dt[u];if(d+e>l){var f=Math.atan2(c,d),s=o?1:-1;f<0&&(f=za+f),(f>=a&&f<=i||f+za>=a&&f+za<=i)&&(f>Math.PI/2&&f<Math.PI*1.5&&(s=-s),v+=s)}}return v}function LT(e,t,r,a,i){for(var o=0,l=0,c=0,n=0,h=0,s=0;s<e.length;){var v=e[s++];switch(v===qr.M&&s>1&&(r||(o+=ua(l,c,n,h,a,i))),s===1&&(l=e[s],c=e[s+1],n=l,h=c),v){case qr.M:n=e[s++],h=e[s++],l=n,c=h;break;case qr.L:if(r){if(Oa.containStroke(l,c,e[s],e[s+1],t,a,i))return!0}else o+=ua(l,c,e[s],e[s+1],a,i)||0;l=e[s++],c=e[s++];break;case qr.C:if(r){if(f2.containStroke(l,c,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],t,a,i))return!0}else o+=x2(l,c,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],a,i)||0;l=e[s++],c=e[s++];break;case qr.Q:if(r){if(d2.containStroke(l,c,e[s++],e[s++],e[s],e[s+1],t,a,i))return!0}else o+=S2(l,c,e[s++],e[s++],e[s],e[s+1],a,i)||0;l=e[s++],c=e[s++];break;case qr.A:var u=e[s++],d=e[s++],f=e[s++],m=e[s++],p=e[s++],g=e[s++];s+=1;var y=1-e[s++],b=Math.cos(p)*f+u,x=Math.sin(p)*m+d;s>1?o+=ua(l,c,b,x,a,i):(n=b,h=x);var _=(a-u)*m/f+u;if(r){if(g2.containStroke(u,d,m,p,p+g,y,t,_,i))return!0}else o+=b2(u,d,m,p,p+g,y,_,i);l=Math.cos(p+g)*f+u,c=Math.sin(p+g)*m+d;break;case qr.R:n=l=e[s++],h=c=e[s++];var A=e[s++],S=e[s++],b=n+A,x=h+S;if(r){if(Oa.containStroke(n,h,b,h,t,a,i)||Oa.containStroke(b,h,b,x,t,a,i)||Oa.containStroke(b,x,n,x,t,a,i)||Oa.containStroke(n,x,n,h,t,a,i))return!0}else o+=ua(b,h,b,x,a,i),o+=ua(n,x,n,h,a,i);break;case qr.Z:if(r){if(Oa.containStroke(l,c,n,h,t,a,i))return!0}else o+=ua(l,c,n,h,a,i);l=n,c=h;break}}return!r&&!y2(c,h)&&(o+=ua(l,c,n,h,a,i)||0),o!==0}function w2(e,t,r){return LT(e,0,!1,t,r)}function A2(e,t,r,a){return LT(e,t,!0,r,a)}pd.contain=w2;pd.containStroke=A2;var xd=hn,Sd=W,Of=ui,sp=pd,T2=FA,lp=T2.prototype.getCanvasPattern,Xs=Math.abs,C2=new Of(!0);function ya(e){xd.call(this,e),this.path=null}ya.prototype={constructor:ya,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var r=this.style,a=this.path||C2,i=r.hasStroke(),o=r.hasFill(),l=r.fill,c=r.stroke,n=o&&!!l.colorStops,h=i&&!!c.colorStops,s=o&&!!l.image,v=i&&!!c.image;if(r.bind(e,this,t),this.setTransform(e),this.__dirty){var u;n&&(u=u||this.getBoundingRect(),this._fillGradient=r.getGradient(e,l,u)),h&&(u=u||this.getBoundingRect(),this._strokeGradient=r.getGradient(e,c,u))}n?e.fillStyle=this._fillGradient:s&&(e.fillStyle=lp.call(l,e)),h?e.strokeStyle=this._strokeGradient:v&&(e.strokeStyle=lp.call(c,e));var d=r.lineDash,f=r.lineDashOffset,m=!!e.setLineDash,p=this.getGlobalScale();if(a.setScale(p[0],p[1],this.segmentIgnoreThreshold),this.__dirtyPath||d&&!m&&i?(a.beginPath(e),d&&!m&&(a.setLineDash(d),a.setLineDashOffset(f)),this.buildPath(a,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),o)if(r.fillOpacity!=null){var g=e.globalAlpha;e.globalAlpha=r.fillOpacity*r.opacity,a.fill(e),e.globalAlpha=g}else a.fill(e);if(d&&m&&(e.setLineDash(d),e.lineDashOffset=f),i)if(r.strokeOpacity!=null){var g=e.globalAlpha;e.globalAlpha=r.strokeOpacity*r.opacity,a.stroke(e),e.globalAlpha=g}else a.stroke(e);d&&m&&e.setLineDash([]),r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,r){},createPathProxy:function(){this.path=new Of},getBoundingRect:function(){var e=this._rect,t=this.style,r=!e;if(r){var a=this.path;a||(a=this.path=new Of),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),e=a.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){i.copy(e);var o=t.lineWidth,l=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),l>1e-10&&(i.width+=o/l,i.height+=o/l,i.x-=o/l/2,i.y-=o/l/2)}return i}return e},contain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect(),i=this.style;if(e=r[0],t=r[1],a.contain(e,t)){var o=this.path.data;if(i.hasStroke()){var l=i.lineWidth,c=i.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(i.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),sp.containStroke(o,l/c,e,t)))return!0}if(i.hasFill())return sp.contain(o,e,t)}return!1},dirty:function(e){e==null&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){e==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):xd.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var r=this.shape;if(r){if(Sd.isObject(e))for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);else r[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&Xs(e[0]-1)>1e-10&&Xs(e[3]-1)>1e-10?Math.sqrt(Xs(e[0]*e[3]-e[2]*e[1])):1}};ya.extend=function(e){var t=function(a){ya.call(this,a),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var o=this.shape;for(var l in i)!o.hasOwnProperty(l)&&i.hasOwnProperty(l)&&(o[l]=i[l])}e.init&&e.init.call(this,a)};Sd.inherits(t,ya);for(var r in e)r!=="style"&&r!=="shape"&&(t.prototype[r]=e[r]);return t};Sd.inherits(ya,xd);var M2=ya,at=M2,D2=ui,L2=Ye(),Ks=L2.applyTransform,Ba=D2.CMD,P2=[[],[],[]],up=Math.sqrt,I2=Math.atan2;function R2(e,t){var r=e.data,a,i,o,l,c,n,h=Ba.M,s=Ba.C,v=Ba.L,u=Ba.R,d=Ba.A,f=Ba.Q;for(o=0,l=0;o<r.length;){switch(a=r[o++],l=o,i=0,a){case h:i=1;break;case v:i=1;break;case s:i=3;break;case f:i=2;break;case d:var m=t[4],p=t[5],g=up(t[0]*t[0]+t[1]*t[1]),y=up(t[2]*t[2]+t[3]*t[3]),_=I2(-t[1]/y,t[0]/g);r[o]*=g,r[o++]+=m,r[o]*=y,r[o++]+=p,r[o++]*=g,r[o++]*=y,r[o++]+=_,r[o++]+=_,o+=2,l=o;break;case u:n[0]=r[o++],n[1]=r[o++],Ks(n,n,t),r[l++]=n[0],r[l++]=n[1],n[0]+=r[o++],n[1]+=r[o++],Ks(n,n,t),r[l++]=n[0],r[l++]=n[1]}for(c=0;c<i;c++){var n=P2[c];n[0]=r[o++],n[1]=r[o++],Ks(n,n,t),r[l++]=n[0],r[l++]=n[1]}}}var E2=R2,bd=at,Qs=ui,k2=E2,js=Math.sqrt,Zn=Math.sin,Yn=Math.cos,Xn=Math.PI,vp=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},zf=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(vp(e)*vp(t))},hp=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(zf(e,t))};function cp(e,t,r,a,i,o,l,c,n,h,s){var v=n*(Xn/180),u=Yn(v)*(e-r)/2+Zn(v)*(t-a)/2,d=-1*Zn(v)*(e-r)/2+Yn(v)*(t-a)/2,f=u*u/(l*l)+d*d/(c*c);f>1&&(l*=js(f),c*=js(f));var m=(i===o?-1:1)*js((l*l*(c*c)-l*l*(d*d)-c*c*(u*u))/(l*l*(d*d)+c*c*(u*u)))||0,p=m*l*d/c,g=m*-c*u/l,y=(e+r)/2+Yn(v)*p-Zn(v)*g,_=(t+a)/2+Zn(v)*p+Yn(v)*g,A=hp([1,0],[(u-p)/l,(d-g)/c]),S=[(u-p)/l,(d-g)/c],b=[(-1*u-p)/l,(-1*d-g)/c],x=hp(S,b);zf(S,b)<=-1&&(x=Xn),zf(S,b)>=1&&(x=0),o===0&&x>0&&(x=x-2*Xn),o===1&&x<0&&(x=x+2*Xn),s.addData(h,y,_,l,c,A,x,v,o)}var O2=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,z2=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function B2(e){if(!e)return new Qs;for(var t=0,r=0,a=t,i=r,o,l=new Qs,c=Qs.CMD,n=e.match(O2),h=0;h<n.length;h++){for(var s=n[h],v=s.charAt(0),u,d=s.match(z2)||[],f=d.length,m=0;m<f;m++)d[m]=parseFloat(d[m]);for(var p=0;p<f;){var g,y,_,A,S,b,x,w=t,T=r;switch(v){case"l":t+=d[p++],r+=d[p++],u=c.L,l.addData(u,t,r);break;case"L":t=d[p++],r=d[p++],u=c.L,l.addData(u,t,r);break;case"m":t+=d[p++],r+=d[p++],u=c.M,l.addData(u,t,r),a=t,i=r,v="l";break;case"M":t=d[p++],r=d[p++],u=c.M,l.addData(u,t,r),a=t,i=r,v="L";break;case"h":t+=d[p++],u=c.L,l.addData(u,t,r);break;case"H":t=d[p++],u=c.L,l.addData(u,t,r);break;case"v":r+=d[p++],u=c.L,l.addData(u,t,r);break;case"V":r=d[p++],u=c.L,l.addData(u,t,r);break;case"C":u=c.C,l.addData(u,d[p++],d[p++],d[p++],d[p++],d[p++],d[p++]),t=d[p-2],r=d[p-1];break;case"c":u=c.C,l.addData(u,d[p++]+t,d[p++]+r,d[p++]+t,d[p++]+r,d[p++]+t,d[p++]+r),t+=d[p-2],r+=d[p-1];break;case"S":g=t,y=r;var M=l.len(),C=l.data;o===c.C&&(g+=t-C[M-4],y+=r-C[M-3]),u=c.C,w=d[p++],T=d[p++],t=d[p++],r=d[p++],l.addData(u,g,y,w,T,t,r);break;case"s":g=t,y=r;var M=l.len(),C=l.data;o===c.C&&(g+=t-C[M-4],y+=r-C[M-3]),u=c.C,w=t+d[p++],T=r+d[p++],t+=d[p++],r+=d[p++],l.addData(u,g,y,w,T,t,r);break;case"Q":w=d[p++],T=d[p++],t=d[p++],r=d[p++],u=c.Q,l.addData(u,w,T,t,r);break;case"q":w=d[p++]+t,T=d[p++]+r,t+=d[p++],r+=d[p++],u=c.Q,l.addData(u,w,T,t,r);break;case"T":g=t,y=r;var M=l.len(),C=l.data;o===c.Q&&(g+=t-C[M-4],y+=r-C[M-3]),t=d[p++],r=d[p++],u=c.Q,l.addData(u,g,y,t,r);break;case"t":g=t,y=r;var M=l.len(),C=l.data;o===c.Q&&(g+=t-C[M-4],y+=r-C[M-3]),t+=d[p++],r+=d[p++],u=c.Q,l.addData(u,g,y,t,r);break;case"A":_=d[p++],A=d[p++],S=d[p++],b=d[p++],x=d[p++],w=t,T=r,t=d[p++],r=d[p++],u=c.A,cp(w,T,t,r,b,x,_,A,S,u,l);break;case"a":_=d[p++],A=d[p++],S=d[p++],b=d[p++],x=d[p++],w=t,T=r,t+=d[p++],r+=d[p++],u=c.A,cp(w,T,t,r,b,x,_,A,S,u,l);break}}(v==="z"||v==="Z")&&(u=c.Z,l.addData(u),t=a,r=i),o=u}return l.toStatic(),l}function PT(e,t){var r=B2(e);return t=t||{},t.buildPath=function(a){if(a.setData){a.setData(r.data);var i=a.getContext();i&&a.rebuildPath(i)}else{var i=a;r.rebuildPath(i)}},t.applyTransform=function(a){k2(r,a),this.dirty(!0)},t}function N2(e,t){return new bd(PT(e,t))}function V2(e,t){return bd.extend(PT(e,t))}function H2(e,t){for(var r=[],a=e.length,i=0;i<a;i++){var o=e[i];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),r.push(o.path)}var l=new bd(t);return l.createPathProxy(),l.buildPath=function(c){c.appendPath(r);var n=c.getContext();n&&c.rebuildPath(n)},l}cn.createFromString=N2;cn.extendFromString=V2;cn.mergePath=H2;var IT=hn,q2=W,G2=$e,Ci=rr,F2=ii,U2=F2.ContextCachedBy,Oo=function(e){IT.call(this,e)};Oo.prototype={constructor:Oo,type:"text",brush:function(e,t){var r=this.style;this.__dirty&&Ci.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var a=r.text;if(a!=null&&(a+=""),!Ci.needDrawText(a,r)){e.__attrCachedBy=U2.NONE;return}this.setTransform(e),Ci.renderText(this,e,a,r,null,t),this.restoreTransform(e)},getBoundingRect:function(){var e=this.style;if(this.__dirty&&Ci.normalizeTextStyle(e,!0),!this._rect){e.text;var t=G2.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(t.x+=e.x||0,t.y+=e.y||0,Ci.getStroke(e.textStroke,e.textStrokeWidth)){var r=e.textStrokeWidth;t.x-=r/2,t.y-=r/2,t.width+=r,t.height+=r}this._rect=t}return this._rect}};q2.inherits(Oo,IT);var $2=Oo,ba=$2,W2=at,Z2=W2.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,r){r&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0)}}),RT=Z2,fp=nt,Gr=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function Y2(e){return fp.browser.ie&&fp.browser.version>=11?function(){var t=this.__clipPaths,r=this.style,a;if(t)for(var i=0;i<t.length;i++){var o=t[i],l=o&&o.shape,c=o&&o.type;if(l&&(c==="sector"&&l.startAngle===l.endAngle||c==="rect"&&(!l.width||!l.height))){for(var n=0;n<Gr.length;n++)Gr[n][2]=r[Gr[n][0]],r[Gr[n][0]]=Gr[n][1];a=!0;break}}if(e.apply(this,arguments),a)for(var n=0;n<Gr.length;n++)r[Gr[n][0]]=Gr[n][2]}:e}var ET=Y2,dp=at,X2=ET,K2=dp.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:X2(dp.prototype.brush),buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),l=t.startAngle,c=t.endAngle,n=t.clockwise,h=Math.cos(l),s=Math.sin(l);e.moveTo(h*i+r,s*i+a),e.lineTo(h*o+r,s*o+a),e.arc(r,a,o,l,c,!n),e.lineTo(Math.cos(c)*i+r,Math.sin(c)*i+a),i!==0&&e.arc(r,a,i,c,l,n),e.closePath()}}),Q2=K2,j2=at,J2=j2.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.PI*2;e.moveTo(r+t.r,a),e.arc(r,a,t.r,0,i,!1),e.moveTo(r+t.r0,a),e.arc(r,a,t.r0,0,i,!0)}}),eE=J2,wd={},tE=Ye(),rE=tE.distance;function gp(e,t,r,a,i,o,l){var c=(r-e)*.5,n=(a-t)*.5;return(2*(t-r)+c+n)*l+(-3*(t-r)-2*c-n)*o+c*i+t}function aE(e,t){for(var r=e.length,a=[],i=0,o=1;o<r;o++)i+=rE(e[o-1],e[o]);var l=i/2;l=l<r?r:l;for(var o=0;o<l;o++){var c=o/(l-1)*(t?r:r-1),n=Math.floor(c),h=c-n,s,v=e[n%r],u,d;t?(s=e[(n-1+r)%r],u=e[(n+1)%r],d=e[(n+2)%r]):(s=e[n===0?n:n-1],u=e[n>r-2?r-1:n+1],d=e[n>r-3?r-1:n+2]);var f=h*h,m=h*f;a.push([gp(s[0],v[0],u[0],d[0],h,f,m),gp(s[1],v[1],u[1],d[1],h,f,m)])}return a}var iE=aE,wa=Ye(),Kn=wa.min,Qn=wa.max,Js=wa.scale,pp=wa.distance,mp=wa.add,nE=wa.clone,oE=wa.sub;function sE(e,t,r,a){var i=[],o=[],l=[],c=[],n,h,s,v;if(a){s=[1/0,1/0],v=[-1/0,-1/0];for(var u=0,d=e.length;u<d;u++)Kn(s,s,e[u]),Qn(v,v,e[u]);Kn(s,s,a[0]),Qn(v,v,a[1])}for(var u=0,d=e.length;u<d;u++){var f=e[u];if(r)n=e[u?u-1:d-1],h=e[(u+1)%d];else if(u===0||u===d-1){i.push(nE(e[u]));continue}else n=e[u-1],h=e[u+1];oE(o,h,n),Js(o,o,t);var m=pp(f,n),p=pp(f,h),g=m+p;g!==0&&(m/=g,p/=g),Js(l,o,-m),Js(c,o,p);var y=mp([],f,l),_=mp([],f,c);a&&(Qn(y,y,s),Kn(y,y,v),Qn(_,_,s),Kn(_,_,v)),i.push(y),i.push(_)}return r&&i.push(i.shift()),i}var lE=sE,uE=iE,vE=lE;function hE(e,t,r){var a=t.points,i=t.smooth;if(a&&a.length>=2){if(i&&i!=="spline"){var o=vE(a,i,r,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var l=a.length,c=0;c<(r?l:l-1);c++){var n=o[c*2],h=o[c*2+1],s=a[(c+1)%l];e.bezierCurveTo(n[0],n[1],h[0],h[1],s[0],s[1])}}else{i==="spline"&&(a=uE(a,r)),e.moveTo(a[0][0],a[0][1]);for(var c=1,v=a.length;c<v;c++)e.lineTo(a[c][0],a[c][1])}r&&e.closePath()}}wd.buildPath=hE;var cE=at,fE=wd,dE=cE.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){fE.buildPath(e,t,!0)}}),kT=dE,gE=at,pE=wd,mE=gE.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){pE.buildPath(e,t,!1)}}),OT=mE,vi={},Fa=Math.round;function yE(e,t,r){if(t){var a=t.x1,i=t.x2,o=t.y1,l=t.y2;e.x1=a,e.x2=i,e.y1=o,e.y2=l;var c=r&&r.lineWidth;c&&(Fa(a*2)===Fa(i*2)&&(e.x1=e.x2=ma(a,c,!0)),Fa(o*2)===Fa(l*2)&&(e.y1=e.y2=ma(o,c,!0)))}}function _E(e,t,r){if(t){var a=t.x,i=t.y,o=t.width,l=t.height;e.x=a,e.y=i,e.width=o,e.height=l;var c=r&&r.lineWidth;c&&(e.x=ma(a,c,!0),e.y=ma(i,c,!0),e.width=Math.max(ma(a+o,c,!1)-e.x,o===0?0:1),e.height=Math.max(ma(i+l,c,!1)-e.y,l===0?0:1))}}function ma(e,t,r){if(!t)return e;var a=Fa(e*2);return(a+Fa(t))%2===0?a/2:(a+(r?1:-1))/2}vi.subPixelOptimizeLine=yE;vi.subPixelOptimizeRect=_E;vi.subPixelOptimize=ma;var xE=at,SE=od,bE=vi,wE=bE.subPixelOptimizeRect,va={},AE=xE.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var r,a,i,o;this.subPixelOptimize?(wE(va,t,this.style),r=va.x,a=va.y,i=va.width,o=va.height,va.r=t.r,t=va):(r=t.x,a=t.y,i=t.width,o=t.height),t.r?SE.buildPath(e,t):e.rect(r,a,i,o),e.closePath()}}),Ad=AE,TE=at,CE=vi,ME=CE.subPixelOptimizeLine,Mi={},DE=TE.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r,a,i,o;this.subPixelOptimize?(ME(Mi,t,this.style),r=Mi.x1,a=Mi.y1,i=Mi.x2,o=Mi.y2):(r=t.x1,a=t.y1,i=t.x2,o=t.y2);var l=t.percent;l!==0&&(e.moveTo(r,a),l<1&&(i=r*(1-l)+i*l,o=a*(1-l)+o*l),e.lineTo(i,o))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),zT=DE,LE=at,PE=Ye(),hi=vt,yp=hi.quadraticSubdivide,_p=hi.cubicSubdivide,xp=hi.quadraticAt,Sp=hi.cubicAt,bp=hi.quadraticDerivativeAt,wp=hi.cubicDerivativeAt,It=[];function Ap(e,t,r){var a=e.cpx2,i=e.cpy2;return a===null||i===null?[(r?wp:Sp)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?wp:Sp)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?bp:xp)(e.x1,e.cpx1,e.x2,t),(r?bp:xp)(e.y1,e.cpy1,e.y2,t)]}var IE=LE.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.cpx1,c=t.cpy1,n=t.cpx2,h=t.cpy2,s=t.percent;s!==0&&(e.moveTo(r,a),n==null||h==null?(s<1&&(yp(r,l,i,s,It),l=It[1],i=It[2],yp(a,c,o,s,It),c=It[1],o=It[2]),e.quadraticCurveTo(l,c,i,o)):(s<1&&(_p(r,l,n,i,s,It),l=It[1],n=It[2],i=It[3],_p(a,c,h,o,s,It),c=It[1],h=It[2],o=It[3]),e.bezierCurveTo(l,c,n,h,i,o)))},pointAt:function(e){return Ap(this.shape,e,!1)},tangentAt:function(e){var t=Ap(this.shape,e,!0);return PE.normalize(t,t)}}),RE=IE,EE=at,kE=EE.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r,0),o=t.startAngle,l=t.endAngle,c=t.clockwise,n=Math.cos(o),h=Math.sin(o);e.moveTo(n*i+r,h*i+a),e.arc(r,a,i,o,l,!c)}}),OE=kE,Tp=at,zE=Tp.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,r=0;r<t.length;r++)e=e||t[r].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(t[0],t[1],e[r].segmentIgnoreThreshold)},buildPath:function(e,t){for(var r=t.paths||[],a=0;a<r.length;a++)r[a].buildPath(e,r[a].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Tp.prototype.getBoundingRect.call(this)}}),BE=zE,Bf=function(e){this.colorStops=e||[]};Bf.prototype={constructor:Bf,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var NE=Bf,Xo=NE,VE=W,BT=Xo,zo=function(e,t,r,a,i,o){this.x=e??0,this.y=t??0,this.x2=r??1,this.y2=a??0,this.type="linear",this.global=o||!1,BT.call(this,i)};zo.prototype={constructor:zo};VE.inherits(zo,BT);var HE=zo,Td=HE,qE=W,NT=Xo,Bo=function(e,t,r,a,i){this.x=e??.5,this.y=t??.5,this.r=r??.5,this.type="radial",this.global=i||!1,NT.call(this,a)};Bo.prototype={constructor:Bo};qE.inherits(Bo,NT);var GE=Bo,FE=GE,UE=W,$E=UE.inherits,VT=hn,WE=Ke;function ar(e){VT.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}ar.prototype.incremental=!0;ar.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1};ar.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()};ar.prototype.addDisplayables=function(e,t){t=t||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],t)};ar.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])};ar.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}};ar.prototype.brush=function(e,t){for(var r=this._cursor;r<this._displayables.length;r++){var a=this._displayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===this._cursor?null:this._displayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._cursor=r;for(var r=0;r<this._temporaryDisplayables.length;r++){var a=this._temporaryDisplayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===0?null:this._temporaryDisplayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var ZE=[];ar.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new WE(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var r=this._displayables[t],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(ZE)),e.union(a)}this._rect=e}return this._rect};ar.prototype.contain=function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var i=0;i<this._displayables.length;i++){var o=this._displayables[i];if(o.contain(e,t))return!0}return!1};$E(ar,VT);var YE=ar,Cd=YE,Bt=W,Md=cn,XE=ut,Nf=Pt(),HT=Ye(),KE=at,QE=Wo,Dd=si;de.Image=Dd;var jE=Sa;de.Group=jE;var JE=ba;de.Text=JE;var qT=RT;de.Circle=qT;var GT=Q2;de.Sector=GT;var FT=eE;de.Ring=FT;var UT=kT;de.Polygon=UT;var $T=OT;de.Polyline=$T;var WT=Ad;de.Rect=WT;var ZT=zT;de.Line=ZT;var YT=RE;de.BezierCurve=YT;var XT=OE;de.Arc=XT;var ek=BE;de.CompoundPath=ek;var tk=Td;de.LinearGradient=tk;var rk=FE;de.RadialGradient=rk;var ak=Ke;de.BoundingRect=ak;var ik=Cd;de.IncrementalDisplayable=ik;var Ld=vi,No=Math.max,Vo=Math.min,Ko={},Pd=1,nk={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Cp="emphasis",Mp="normal",Dp=1,Lp={},Vf={};function ok(e){return KE.extend(e)}function sk(e,t){return Md.extendFromString(e,t)}function xr(e,t){Vf[e]=t}function lk(e){if(Vf.hasOwnProperty(e))return Vf[e]}function KT(e,t,r,a){var i=Md.createFromString(e,t);return r&&(a==="center"&&(r=QT(r,i.getBoundingRect())),jT(i,r)),i}function uk(e,t,r){var a=new Dd({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var o={width:i.width,height:i.height};a.setStyle(QT(t,o))}}});return a}function QT(e,t){var r=t.width/t.height,a=e.height*r,i;a<=e.width?i=e.height:(a=e.width,i=a/r);var o=e.x+e.width/2,l=e.y+e.height/2;return{x:o-a/2,y:l-i/2,width:a,height:i}}var vk=Md.mergePath;function jT(e,t){if(e.applyTransform){var r=e.getBoundingRect(),a=r.calculateTransform(t);e.applyTransform(a)}}function hk(e){return Ld.subPixelOptimizeLine(e.shape,e.shape,e.style),e}function ck(e){return Ld.subPixelOptimizeRect(e.shape,e.shape,e.style),e}var fk=Ld.subPixelOptimize;function Pp(e){return e!=null&&e!=="none"}var Ip=Bt.createHashMap(),Rp=0;function dk(e){if(typeof e!="string")return e;var t=Ip.get(e);return t||(t=XE.lift(e,-.1),Rp<1e4&&(Ip.set(e,t),Rp++)),t}function gk(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t){e.__cachedNormalStl=e.__cachedNormalZ2=null;return}var r=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var a=e.style;for(var i in t)t[i]!=null&&(r[i]=a[i]);r.fill=a.fill,r.stroke=a.stroke}}function Id(e){var t=e.__hoverStl;if(!(!t||e.__highlighted)){var r=e.__zr,a=e.useHoverLayer&&r&&r.painter.type==="canvas";if(e.__highlighted=a?"layer":"plain",!(e.isGroup||!r&&e.useHoverLayer)){var i=e,o=e.style;a&&(i=r.addHover(e),o=i.style),Ho(o),a||gk(i),o.extendFrom(t),Ep(o,t,"fill"),Ep(o,t,"stroke"),Qi(o),a||(e.dirty(!1),e.z2+=Pd)}}}function Ep(e,t,r){!Pp(t[r])&&Pp(e[r])&&(e[r]=dk(e[r]))}function Rd(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if(t==="layer")e.__zr&&e.__zr.removeHover(e);else{var r=e.style,a=e.__cachedNormalStl;a&&(Ho(r),e.setStyle(a),Qi(r));var i=e.__cachedNormalZ2;i!=null&&e.z2-i===Pd&&(e.z2=i)}}function dn(e,t,r){var a=Mp,i=Mp,o;e.__highlighted&&(a=Cp,o=!0),t(e,r),e.__highlighted&&(i=Cp,o=!0),e.isGroup&&e.traverse(function(l){!l.isGroup&&t(l,r)}),o&&e.__highDownOnUpdate&&e.__highDownOnUpdate(a,i)}function JT(e,t){t=e.__hoverStl=t!==!1&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,Rd(e),Id(e))}function pk(e){!eC(this,e)&&!this.__highByOuter&&dn(this,Id)}function mk(e){!eC(this,e)&&!this.__highByOuter&&dn(this,Rd)}function yk(e){this.__highByOuter|=1<<(e||0),dn(this,Id)}function _k(e){!(this.__highByOuter&=~(1<<(e||0)))&&dn(this,Rd)}function eC(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function xk(e,t){tC(e,!0),dn(e,JT,t)}function tC(e,t){var r=t===!1;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!r||e.__highDownDispatcher){var a=r?"off":"on";e[a]("mouseover",pk)[a]("mouseout",mk),e[a]("emphasis",yk)[a]("normal",_k),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!r}}function Sk(e){return!!(e&&e.__highDownDispatcher)}function bk(e){var t=Lp[e];return t==null&&Dp<=32&&(t=Lp[e]=Dp++),t}function wk(e,t,r,a,i,o,l){i=i||Ko;var c=i.labelFetcher,n=i.labelDataIndex,h=i.labelDimIndex,s=i.labelProp,v=r.getShallow("show"),u=a.getShallow("show"),d;(v||u)&&(c&&(d=c.getFormattedLabel(n,"normal",null,h,s)),d==null&&(d=Bt.isFunction(i.defaultText)?i.defaultText(n,i):i.defaultText));var f=v?d:null,m=u?Bt.retrieve2(c?c.getFormattedLabel(n,"emphasis",null,h,s):null,d):null;(f!=null||m!=null)&&(Hf(e,r,o,i),Hf(t,a,l,i,!0)),e.text=f,t.text=m}function Ak(e,t,r){var a=e.style;t&&(Ho(a),e.setStyle(t),Qi(a)),a=e.__hoverStl,r&&a&&(Ho(a),Bt.extend(a,r),Qi(a))}function Hf(e,t,r,a,i){return rC(e,t,a,i),r&&Bt.extend(e,r),e}function Tk(e,t,r){var a={isRectText:!0},i;r===!1?i=!0:a.autoColor=r,rC(e,t,a,i)}function rC(e,t,r,a){if(r=r||Ko,r.isRectText){var i;r.getTextPosition?i=r.getTextPosition(t,a):(i=t.getShallow("position")||(a?null:"inside"),i==="outside"&&(i="top")),e.textPosition=i,e.textOffset=t.getShallow("offset");var o=t.getShallow("rotate");o!=null&&(o*=Math.PI/180),e.textRotation=o,e.textDistance=Bt.retrieve2(t.getShallow("distance"),a?null:5)}var l=t.ecModel,c=l&&l.option.textStyle,n=Ck(t),h;if(n){h={};for(var s in n)if(n.hasOwnProperty(s)){var v=t.getModel(["rich",s]);kp(h[s]={},v,c,r,a)}}return e.rich=h,kp(e,t,c,r,a,!0),r.forceRich&&!r.textStyle&&(r.textStyle={}),e}function Ck(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||Ko).rich;if(r){t=t||{};for(var a in r)r.hasOwnProperty(a)&&(t[a]=1)}e=e.parentModel}return t}function kp(e,t,r,a,i,o){r=!i&&r||Ko,e.textFill=jn(t.getShallow("color"),a)||r.color,e.textStroke=jn(t.getShallow("textBorderColor"),a)||r.textBorderColor,e.textStrokeWidth=Bt.retrieve2(t.getShallow("textBorderWidth"),r.textBorderWidth),i||(o&&(e.insideRollbackOpt=a,Qi(e)),e.textFill==null&&(e.textFill=a.autoColor)),e.fontStyle=t.getShallow("fontStyle")||r.fontStyle,e.fontWeight=t.getShallow("fontWeight")||r.fontWeight,e.fontSize=t.getShallow("fontSize")||r.fontSize,e.fontFamily=t.getShallow("fontFamily")||r.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),(!o||!a.disableBox)&&(e.textBackgroundColor=jn(t.getShallow("backgroundColor"),a),e.textPadding=t.getShallow("padding"),e.textBorderColor=jn(t.getShallow("borderColor"),a),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||r.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||r.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||r.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function jn(e,t){return e!=="auto"?e:t&&t.autoColor?t.autoColor:null}function Qi(e){var t=e.textPosition,r=e.insideRollbackOpt,a;if(r&&e.textFill==null){var i=r.autoColor,o=r.isRectText,l=r.useInsideStyle,c=l!==!1&&(l===!0||o&&t&&typeof t=="string"&&t.indexOf("inside")>=0),n=!c&&i!=null;(c||n)&&(a={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),c&&(e.textFill="#fff",e.textStroke==null&&(e.textStroke=i,e.textStrokeWidth==null&&(e.textStrokeWidth=2))),n&&(e.textFill=i)}e.insideRollback=a}function Ho(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function Mk(e,t){var r=t&&t.getModel("textStyle");return Bt.trim([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}function aC(e,t,r,a,i,o){typeof i=="function"&&(o=i,i=null);var l=a&&a.isAnimationEnabled();if(l){var c=e?"Update":"",n=a.getShallow("animationDuration"+c),h=a.getShallow("animationEasing"+c),s=a.getShallow("animationDelay"+c);typeof s=="function"&&(s=s(i,a.getAnimationDelayParams?a.getAnimationDelayParams(t,i):null)),typeof n=="function"&&(n=n(i)),n>0?t.animateTo(r,n,s||0,h,o,!!o):(t.stopAnimation(),t.attr(r),o&&o())}else t.stopAnimation(),t.attr(r),o&&o()}function iC(e,t,r,a,i){aC(!0,e,t,r,a,i)}function Dk(e,t,r,a,i){aC(!1,e,t,r,a,i)}function Lk(e,t){for(var r=Nf.identity([]);e&&e!==t;)Nf.mul(r,e.getLocalTransform(),r),e=e.parent;return r}function nC(e,t,r){return t&&!Bt.isArrayLike(t)&&(t=QE.getLocalTransform(t)),r&&(t=Nf.invert([],t)),HT.applyTransform([],e,t)}function Pk(e,t,r){var a=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[e==="left"?-a:e==="right"?a:0,e==="top"?-i:e==="bottom"?i:0];return o=nC(o,t,r),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Ik(e,t,r,a){if(!e||!t)return;function i(c){var n={};return c.traverse(function(h){!h.isGroup&&h.anid&&(n[h.anid]=h)}),n}function o(c){var n={position:HT.clone(c.position),rotation:c.rotation};return c.shape&&(n.shape=Bt.extend({},c.shape)),n}var l=i(e);t.traverse(function(c){if(!c.isGroup&&c.anid){var n=l[c.anid];if(n){var h=o(c);c.attr(o(n)),iC(c,h,r,c.dataIndex)}}})}function Rk(e,t){return Bt.map(e,function(r){var a=r[0];a=No(a,t.x),a=Vo(a,t.x+t.width);var i=r[1];return i=No(i,t.y),i=Vo(i,t.y+t.height),[a,i]})}function Ek(e,t){var r=No(e.x,t.x),a=Vo(e.x+e.width,t.x+t.width),i=No(e.y,t.y),o=Vo(e.y+e.height,t.y+t.height);if(a>=r&&o>=i)return{x:r,y:i,width:a-r,height:o-i}}function kk(e,t,r){t=Bt.extend({rectHover:!0},t);var a=t.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),Bt.defaults(a,r),new Dd(t)):KT(e.replace("path://",""),t,r,"center")}function Ok(e,t,r,a,i){for(var o=0,l=i[i.length-1];o<i.length;o++){var c=i[o];if(oC(e,t,r,a,c[0],c[1],l[0],l[1]))return!0;l=c}}function oC(e,t,r,a,i,o,l,c){var n=r-e,h=a-t,s=l-i,v=c-o,u=el(s,v,n,h);if(zk(u))return!1;var d=e-i,f=t-o,m=el(d,f,n,h)/u;if(m<0||m>1)return!1;var p=el(d,f,s,v)/u;return!(p<0||p>1)}function el(e,t,r,a){return e*a-r*t}function zk(e){return e<=1e-6&&e>=-1e-6}xr("circle",qT);xr("sector",GT);xr("ring",FT);xr("polygon",UT);xr("polyline",$T);xr("rect",WT);xr("line",ZT);xr("bezierCurve",YT);xr("arc",XT);de.Z2_EMPHASIS_LIFT=Pd;de.CACHED_LABEL_STYLE_PROPERTIES=nk;de.extendShape=ok;de.extendPath=sk;de.registerShape=xr;de.getShapeClass=lk;de.makePath=KT;de.makeImage=uk;de.mergePath=vk;de.resizePath=jT;de.subPixelOptimizeLine=hk;de.subPixelOptimizeRect=ck;de.subPixelOptimize=fk;de.setElementHoverStyle=JT;de.setHoverStyle=xk;de.setAsHighDownDispatcher=tC;de.isHighDownDispatcher=Sk;de.getHighlightDigit=bk;de.setLabelStyle=wk;de.modifyLabelStyle=Ak;de.setTextStyle=Hf;de.setText=Tk;de.getFont=Mk;de.updateProps=iC;de.initProps=Dk;de.getTransform=Lk;de.applyTransform=nC;de.transformDirection=Pk;de.groupTransition=Ik;de.clipPointsByRect=Rk;de.clipRectByRect=Ek;de.createIcon=kk;de.linePolygonIntersect=Ok;de.lineLineIntersect=oC;var tl,Op;function Bk(){if(Op)return tl;Op=1;var e=$e,t=de,r=["textStyle","color"],a={getTextColor:function(i){var o=this.ecModel;return this.getShallow("color")||(!i&&o?o.get(r):null)},getFont:function(){return t.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(i){return e.getBoundingRect(i,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};return tl=a,tl}var rl,zp;function Nk(){if(zp)return rl;zp=1;var e=li(),t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),r={getItemStyle:function(a,i){var o=t(this,a,i),l=this.getBorderLineDash();return l&&(o.lineDash=l),o},getBorderLineDash:function(){var a=this.get("borderType");return a==="solid"||a==null?null:a==="dashed"?[5,5]:[1,1]}};return rl=r,rl}var al,Bp;function ot(){if(Bp)return al;Bp=1;var e=W,t=nt,r=Pe,a=r.makeInner,i=kt,o=i.enableClassExtend,l=i.enableClassCheck,c=HR(),n=qR(),h=Bk(),s=Nk(),v=e.mixin,u=a();function d(g,y,_){this.parentModel=y,this.ecModel=_,this.option=g}d.prototype={constructor:d,init:null,mergeOption:function(g){e.merge(this.option,g,!0)},get:function(g,y){return g==null?this.option:f(this.option,this.parsePath(g),!y&&m(this,g))},getShallow:function(g,y){var _=this.option,A=_==null?_:_[g],S=!y&&m(this,g);return A==null&&S&&(A=S.getShallow(g)),A},getModel:function(g,y){var _=g==null?this.option:f(this.option,g=this.parsePath(g)),A;return y=y||(A=m(this,g))&&A.getModel(g),new d(_,y,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var g=this.constructor;return new g(e.clone(this.option))},setReadOnly:function(g){},parsePath:function(g){return typeof g=="string"&&(g=g.split(".")),g},customizeGetParent:function(g){u(this).getParent=g},isAnimationEnabled:function(){if(!t.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};function f(g,y,_){for(var A=0;A<y.length&&!(y[A]&&(g=g&&typeof g=="object"?g[y[A]]:null,g==null));A++);return g==null&&_&&(g=_.get(y)),g}function m(g,y){var _=u(g).getParent;return _?_.call(g,y):g.parentModel}o(d),l(d),v(d,c),v(d,n),v(d,h),v(d,s);var p=d;return al=p,al}var ea={},Ar=W,Vk=kt,Np=Vk.parseClassType,Hk=0;function qk(e){return[e||"",Hk++,Math.random().toFixed(5)].join("_")}function Gk(e){var t={};return e.registerSubTypeDefaulter=function(r,a){r=Np(r),t[r.main]=a},e.determineSubType=function(r,a){var i=a.type;if(!i){var o=Np(r).main;e.hasSubTypes(r)&&t[o]&&(i=t[o](a))}return i},e}function Fk(e,t){e.topologicalTravel=function(o,l,c,n){if(!o.length)return;var h=r(l),s=h.graph,v=h.noEntryList,u={};for(Ar.each(o,function(y){u[y]=!0});v.length;){var d=v.pop(),f=s[d],m=!!u[d];m&&(c.call(n,d,f.originalDeps.slice()),delete u[d]),Ar.each(f.successor,m?g:p)}Ar.each(u,function(){throw new Error("Circle dependency may exists")});function p(y){s[y].entryCount--,s[y].entryCount===0&&v.push(y)}function g(y){u[y]=!0,p(y)}};function r(o){var l={},c=[];return Ar.each(o,function(n){var h=a(l,n),s=h.originalDeps=t(n),v=i(s,o);h.entryCount=v.length,h.entryCount===0&&c.push(n),Ar.each(v,function(u){Ar.indexOf(h.predecessor,u)<0&&h.predecessor.push(u);var d=a(l,u);Ar.indexOf(d.successor,u)<0&&d.successor.push(n)})}),{graph:l,noEntryList:c}}function a(o,l){return o[l]||(o[l]={predecessor:[],successor:[]}),o[l]}function i(o,l){var c=[];return Ar.each(o,function(n){Ar.indexOf(l,n)>=0&&c.push(n)}),c}}ea.getUID=qk;ea.enableSubTypeDefaulter=Gk;ea.enableTopologicalTravel=Fk;var ze={},lt={},Vp;function Re(){if(Vp)return lt;Vp=1;var e=W,t=1e-4;function r(b){return b.replace(/^\s+|\s+$/g,"")}function a(b,x,w,T){var M=x[1]-x[0],C=w[1]-w[0];if(M===0)return C===0?w[0]:(w[0]+w[1])/2;if(T)if(M>0){if(b<=x[0])return w[0];if(b>=x[1])return w[1]}else{if(b>=x[0])return w[0];if(b<=x[1])return w[1]}else{if(b===x[0])return w[0];if(b===x[1])return w[1]}return(b-x[0])/M*C+w[0]}function i(b,x){switch(b){case"center":case"middle":b="50%";break;case"left":case"top":b="0%";break;case"right":case"bottom":b="100%";break}return typeof b=="string"?r(b).match(/%$/)?parseFloat(b)/100*x:parseFloat(b):b==null?NaN:+b}function o(b,x,w){return x==null&&(x=10),x=Math.min(Math.max(0,x),20),b=(+b).toFixed(x),w?b:+b}function l(b){return b.sort(function(x,w){return x-w}),b}function c(b){if(b=+b,isNaN(b))return 0;for(var x=1,w=0;Math.round(b*x)/x!==b;)x*=10,w++;return w}function n(b){var x=b.toString(),w=x.indexOf("e");if(w>0){var T=+x.slice(w+1);return T<0?-T:0}else{var M=x.indexOf(".");return M<0?0:x.length-1-M}}function h(b,x){var w=Math.log,T=Math.LN10,M=Math.floor(w(b[1]-b[0])/T),C=Math.round(w(Math.abs(x[1]-x[0]))/T),D=Math.min(Math.max(-M+C,0),20);return isFinite(D)?D:20}function s(b,x,w){if(!b[x])return 0;var T=e.reduce(b,function(V,R){return V+(isNaN(R)?0:R)},0);if(T===0)return 0;for(var M=Math.pow(10,w),C=e.map(b,function(V){return(isNaN(V)?0:V)/T*M*100}),D=M*100,L=e.map(C,function(V){return Math.floor(V)}),P=e.reduce(L,function(V,R){return V+R},0),I=e.map(C,function(V,R){return V-L[R]});P<D;){for(var E=Number.NEGATIVE_INFINITY,z=null,N=0,G=I.length;N<G;++N)I[N]>E&&(E=I[N],z=N);++L[z],I[z]=0,++P}return L[x]/M}var v=9007199254740991;function u(b){var x=Math.PI*2;return(b%x+x)%x}function d(b){return b>-t&&b<t}var f=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function m(b){if(b instanceof Date)return b;if(typeof b=="string"){var x=f.exec(b);if(!x)return new Date(NaN);if(x[8]){var w=+x[4]||0;return x[8].toUpperCase()!=="Z"&&(w-=x[8].slice(0,3)),new Date(Date.UTC(+x[1],+(x[2]||1)-1,+x[3]||1,w,+(x[5]||0),+x[6]||0,+x[7]||0))}else return new Date(+x[1],+(x[2]||1)-1,+x[3]||1,+x[4]||0,+(x[5]||0),+x[6]||0,+x[7]||0)}else if(b==null)return new Date(NaN);return new Date(Math.round(b))}function p(b){return Math.pow(10,g(b))}function g(b){if(b===0)return 0;var x=Math.floor(Math.log(b)/Math.LN10);return b/Math.pow(10,x)>=10&&x++,x}function y(b,x){var w=g(b),T=Math.pow(10,w),M=b/T,C;return x?M<1.5?C=1:M<2.5?C=2:M<4?C=3:M<7?C=5:C=10:M<1?C=1:M<2?C=2:M<3?C=3:M<5?C=5:C=10,b=C*T,w>=-20?+b.toFixed(w<0?-w:0):b}function _(b,x){var w=(b.length-1)*x+1,T=Math.floor(w),M=+b[T-1],C=w-T;return C?M+C*(b[T]-M):M}function A(b){b.sort(function(P,I){return L(P,I,0)?-1:1});for(var x=-1/0,w=1,T=0;T<b.length;){for(var M=b[T].interval,C=b[T].close,D=0;D<2;D++)M[D]<=x&&(M[D]=x,C[D]=D?1:1-w),x=M[D],w=C[D];M[0]===M[1]&&C[0]*C[1]!==1?b.splice(T,1):T++}return b;function L(P,I,E){return P.interval[E]<I.interval[E]||P.interval[E]===I.interval[E]&&(P.close[E]-I.close[E]===(E?-1:1)||!E&&L(P,I,1))}}function S(b){return b-parseFloat(b)>=0}return lt.linearMap=a,lt.parsePercent=i,lt.round=o,lt.asc=l,lt.getPrecision=c,lt.getPrecisionSafe=n,lt.getPixelPrecision=h,lt.getPercentWithPrecision=s,lt.MAX_SAFE_INTEGER=v,lt.remRadian=u,lt.isRadianAroundZero=d,lt.parseDate=m,lt.quantity=p,lt.quantityExponent=g,lt.nice=y,lt.quantile=_,lt.reformIntervals=A,lt.isNumeric=S,lt}var Ct={},Hp;function Ge(){if(Hp)return Ct;Hp=1;var e=W,t=$e,r=Re();function a(S){return isNaN(S)?"-":(S=(S+"").split("."),S[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(S.length>1?"."+S[1]:""))}function i(S,b){return S=(S||"").toLowerCase().replace(/-(.)/g,function(x,w){return w.toUpperCase()}),b&&S&&(S=S.charAt(0).toUpperCase()+S.slice(1)),S}var o=e.normalizeCssArray,l=/([&<>"'])/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function n(S){return S==null?"":(S+"").replace(l,function(b,x){return c[x]})}var h=["a","b","c","d","e","f","g"],s=function(S,b){return"{"+S+(b??"")+"}"};function v(S,b,x){e.isArray(b)||(b=[b]);var w=b.length;if(!w)return"";for(var T=b[0].$vars||[],M=0;M<T.length;M++){var C=h[M];S=S.replace(s(C),s(C,0))}for(var D=0;D<w;D++)for(var L=0;L<T.length;L++){var P=b[D][T[L]];S=S.replace(s(h[L],D),x?n(P):P)}return S}function u(S,b,x){return e.each(b,function(w,T){S=S.replace("{"+T+"}",x?n(w):w)}),S}function d(S,T){S=e.isString(S)?{color:S,extraCssText:T}:S||{};var x=S.color,w=S.type,T=S.extraCssText,M=S.renderMode||"html",C=S.markerId||"X";return x?M==="html"?w==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+n(x)+";"+(T||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+n(x)+";"+(T||"")+'"></span>':{renderMode:M,content:"{marker"+C+"|}  ",style:{color:x}}:""}function f(S,b){return S+="","0000".substr(0,b-S.length)+S}function m(S,b,x){(S==="week"||S==="month"||S==="quarter"||S==="half-year"||S==="year")&&(S=`MM-dd
yyyy`);var w=r.parseDate(b),T=x?"UTC":"",M=w["get"+T+"FullYear"](),C=w["get"+T+"Month"]()+1,D=w["get"+T+"Date"](),L=w["get"+T+"Hours"](),P=w["get"+T+"Minutes"](),I=w["get"+T+"Seconds"](),E=w["get"+T+"Milliseconds"]();return S=S.replace("MM",f(C,2)).replace("M",C).replace("yyyy",M).replace("yy",M%100).replace("dd",f(D,2)).replace("d",D).replace("hh",f(L,2)).replace("h",L).replace("mm",f(P,2)).replace("m",P).replace("ss",f(I,2)).replace("s",I).replace("SSS",f(E,3)),S}function p(S){return S&&S.charAt(0).toUpperCase()+S.substr(1)}var g=t.truncateText;function y(S){return t.getBoundingRect(S.text,S.font,S.textAlign,S.textVerticalAlign,S.textPadding,S.textLineHeight,S.rich,S.truncate)}function _(S,b,x,w,T,M,C,D){return t.getBoundingRect(S,b,x,w,T,D,M,C)}function A(S,b){if(b==="_blank"||b==="blank"){var x=window.open();x.opener=null,x.location=S}else window.open(S,b)}return Ct.addCommas=a,Ct.toCamelCase=i,Ct.normalizeCssArray=o,Ct.encodeHTML=n,Ct.formatTpl=v,Ct.formatTplSimple=u,Ct.getTooltipMarker=d,Ct.formatTime=m,Ct.capitalFirst=p,Ct.truncateText=g,Ct.getTextBoundingRect=y,Ct.getTextRect=_,Ct.windowOpen=A,Ct}var ti=W,sC=Ke,Uk=Re(),gr=Uk.parsePercent,lC=Ge(),xo=ti.each,uC=["left","right","top","bottom","width","height"],Qr=[["width","left","right"],["height","top","bottom"]];function Ed(e,t,r,a,i){var o=0,l=0;a==null&&(a=1/0),i==null&&(i=1/0);var c=0;t.eachChild(function(n,h){var s=n.position,v=n.getBoundingRect(),u=t.childAt(h+1),d=u&&u.getBoundingRect(),f,m;if(e==="horizontal"){var p=v.width+(d?-d.x+v.x:0);f=o+p,f>a||n.newline?(o=0,f=p,l+=c+r,c=v.height):c=Math.max(c,v.height)}else{var g=v.height+(d?-d.y+v.y:0);m=l+g,m>i||n.newline?(o+=c+r,l=0,m=g,c=v.width):c=Math.max(c,v.width)}n.newline||(s[0]=o,s[1]=l,e==="horizontal"?o=f+r:l=m+r)})}var $k=Ed,Wk=ti.curry(Ed,"vertical"),Zk=ti.curry(Ed,"horizontal");function Yk(e,t,r){var a=t.width,i=t.height,o=gr(e.x,a),l=gr(e.y,i),c=gr(e.x2,a),n=gr(e.y2,i);return(isNaN(o)||isNaN(parseFloat(e.x)))&&(o=0),(isNaN(c)||isNaN(parseFloat(e.x2)))&&(c=a),(isNaN(l)||isNaN(parseFloat(e.y)))&&(l=0),(isNaN(n)||isNaN(parseFloat(e.y2)))&&(n=i),r=lC.normalizeCssArray(r||0),{width:Math.max(c-o-r[1]-r[3],0),height:Math.max(n-l-r[0]-r[2],0)}}function vC(e,t,r){r=lC.normalizeCssArray(r||0);var a=t.width,i=t.height,o=gr(e.left,a),l=gr(e.top,i),c=gr(e.right,a),n=gr(e.bottom,i),h=gr(e.width,a),s=gr(e.height,i),v=r[2]+r[0],u=r[1]+r[3],d=e.aspect;switch(isNaN(h)&&(h=a-c-u-o),isNaN(s)&&(s=i-n-v-l),d!=null&&(isNaN(h)&&isNaN(s)&&(d>a/i?h=a*.8:s=i*.8),isNaN(h)&&(h=d*s),isNaN(s)&&(s=h/d)),isNaN(o)&&(o=a-c-h-u),isNaN(l)&&(l=i-n-s-v),e.left||e.right){case"center":o=a/2-h/2-r[3];break;case"right":o=a-h-u;break}switch(e.top||e.bottom){case"middle":case"center":l=i/2-s/2-r[0];break;case"bottom":l=i-s-v;break}o=o||0,l=l||0,isNaN(h)&&(h=a-u-o-(c||0)),isNaN(s)&&(s=i-v-l-(n||0));var f=new sC(o+r[3],l+r[0],h,s);return f.margin=r,f}function Xk(e,t,r,a,i){var o=!i||!i.hv||i.hv[0],l=!i||!i.hv||i.hv[1],c=i&&i.boundingMode||"all";if(!(!o&&!l)){var n;if(c==="raw")n=e.type==="group"?new sC(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(n=e.getBoundingRect(),e.needLocalTransform()){var h=e.getLocalTransform();n=n.clone(),n.applyTransform(h)}t=vC(ti.defaults({width:n.width,height:n.height},t),r,a);var s=e.position,v=o?t.x-n.x:0,u=l?t.y-n.y:0;e.attr("position",c==="raw"?[v,u]:[s[0]+v,s[1]+u])}}function Kk(e,t){return e[Qr[t][0]]!=null||e[Qr[t][1]]!=null&&e[Qr[t][2]]!=null}function Qk(e,t,r){!ti.isObject(r)&&(r={});var a=r.ignoreSize;!ti.isArray(a)&&(a=[a,a]);var i=l(Qr[0],0),o=l(Qr[1],1);h(Qr[0],e,i),h(Qr[1],e,o);function l(s,v){var u={},d=0,f={},m=0,p=2;if(xo(s,function(_){f[_]=e[_]}),xo(s,function(_){c(t,_)&&(u[_]=f[_]=t[_]),n(u,_)&&d++,n(f,_)&&m++}),a[v])return n(t,s[1])?f[s[2]]=null:n(t,s[2])&&(f[s[1]]=null),f;if(m===p||!d)return f;if(d>=p)return u;for(var g=0;g<s.length;g++){var y=s[g];if(!c(u,y)&&c(e,y)){u[y]=e[y];break}}return u}function c(s,v){return s.hasOwnProperty(v)}function n(s,v){return s[v]!=null&&s[v]!=="auto"}function h(s,v,u){xo(s,function(d){v[d]=u[d]})}}function jk(e){return hC({},e)}function hC(e,t){return t&&e&&xo(uC,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}ze.LOCATION_PARAMS=uC;ze.HV_NAMES=Qr;ze.box=$k;ze.vbox=Wk;ze.hbox=Zk;ze.getAvailableSize=Yk;ze.getLayoutRect=vC;ze.positionElement=Xk;ze.sizeCalculable=Kk;ze.mergeLayoutParam=Qk;ze.getLayoutParams=jk;ze.copyLayoutParams=hC;var Jk={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},eO=Jk,jr=W,qp=ot(),kd=ea,cC=kt,tO=cC.enableClassManagement,rO=cC.parseClassType,aO=Pe,iO=aO.makeInner,il=ze,nO=eO,oO=iO(),ci=qp.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,r,a){qp.call(this,e,t,r,a),this.uid=kd.getUID("ec_cpt_model")},init:function(e,t,r,a){this.mergeDefaultAndTheme(e,r)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?il.getLayoutParams(e):{},i=t.getTheme();jr.merge(e,i.get(this.mainType)),jr.merge(e,this.getDefaultOption()),r&&il.mergeLayoutParam(e,a,r)},mergeOption:function(e,t){jr.merge(this.option,e,!0);var r=this.layoutMode;r&&il.mergeLayoutParam(this.option,e,r)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=oO(this);if(!e.defaultOption){for(var t=[],r=this.constructor;r;){var a=r.prototype.defaultOption;a&&t.push(a),r=r.superClass}for(var i={},o=t.length-1;o>=0;o--)i=jr.merge(i,t[o],!0);e.defaultOption=i}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});tO(ci,{registerWhenExtend:!0});kd.enableSubTypeDefaulter(ci);kd.enableTopologicalTravel(ci,sO);function sO(e){var t=[];return jr.each(ci.getClassesByMainType(e),function(r){t=t.concat(r.prototype.dependencies||[])}),t=jr.map(t,function(r){return rO(r).main}),e!=="dataset"&&jr.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}jr.mixin(ci,nO);var lO=ci,ct=lO,fC="";typeof navigator<"u"&&(fC=navigator.platform||"");var uO={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:fC.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},vO=uO,dC=Pe,hO=dC.makeInner,cO=dC.normalizeToArray,nl=hO();function fO(e,t){for(var r=e.length,a=0;a<r;a++)if(e[a].length>t)return e[a];return e[r-1]}var dO={clearColorPalette:function(){nl(this).colorIdx=0,nl(this).colorNameMap={}},getColorFromPalette:function(e,t,r){t=t||this;var a=nl(t),i=a.colorIdx||0,o=a.colorNameMap=a.colorNameMap||{};if(o.hasOwnProperty(e))return o[e];var l=cO(this.get("color",!0)),c=this.get("colorLayer",!0),n=r==null||!c?l:fO(c,r);if(n=n||l,!(!n||!n.length)){var h=n[i];return e&&(o[e]=h),a.colorIdx=(i+1)%n.length,h}}},gC=dO,hr={},cr={},Gp;function gn(){if(Gp)return cr;Gp=1;var e="original",t="arrayRows",r="objectRows",a="keyedColumns",i="unknown",o="typedArray",l="column",c="row";return cr.SOURCE_FORMAT_ORIGINAL=e,cr.SOURCE_FORMAT_ARRAY_ROWS=t,cr.SOURCE_FORMAT_OBJECT_ROWS=r,cr.SOURCE_FORMAT_KEYED_COLUMNS=a,cr.SOURCE_FORMAT_UNKNOWN=i,cr.SOURCE_FORMAT_TYPED_ARRAY=o,cr.SERIES_LAYOUT_BY_COLUMN=l,cr.SERIES_LAYOUT_BY_ROW=c,cr}var pC=W,gO=pC.createHashMap,pO=pC.isTypedArray,mO=kt,yO=mO.enableClassCheck,pn=gn(),_O=pn.SOURCE_FORMAT_ORIGINAL,xO=pn.SERIES_LAYOUT_BY_COLUMN,SO=pn.SOURCE_FORMAT_UNKNOWN,bO=pn.SOURCE_FORMAT_TYPED_ARRAY,wO=pn.SOURCE_FORMAT_KEYED_COLUMNS;function qo(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===wO?{}:[]),this.sourceFormat=e.sourceFormat||SO,this.seriesLayoutBy=e.seriesLayoutBy||xO,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&gO(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}qo.seriesDataToSource=function(e){return new qo({data:e,sourceFormat:pO(e)?bO:_O,fromDataset:!1})};yO(qo);var AO=qo,mn=AO,Fp;function zr(){if(Fp)return hr;Fp=1;var e=Pe,t=e.makeInner,r=e.getDataItemValue,a=W,i=a.createHashMap,o=a.each,l=a.map,c=a.isArray,n=a.isString,h=a.isObject,s=a.isTypedArray,v=a.isArrayLike,u=a.extend;a.assert;var d=mn,f=gn(),m=f.SOURCE_FORMAT_ORIGINAL,p=f.SOURCE_FORMAT_ARRAY_ROWS,g=f.SOURCE_FORMAT_OBJECT_ROWS,y=f.SOURCE_FORMAT_KEYED_COLUMNS,_=f.SOURCE_FORMAT_UNKNOWN,A=f.SOURCE_FORMAT_TYPED_ARRAY,S=f.SERIES_LAYOUT_BY_ROW,b={Must:1,Might:2,Not:3},x=t();function w(R){var O=R.option.source,k=_;if(s(O))k=A;else if(c(O)){O.length===0&&(k=p);for(var B=0,q=O.length;B<q;B++){var H=O[B];if(H!=null){if(c(H)){k=p;break}else if(h(H)){k=g;break}}}}else if(h(O)){for(var F in O)if(O.hasOwnProperty(F)&&v(O[F])){k=y;break}}else if(O!=null)throw new Error("Invalid data");x(R).sourceFormat=k}function T(R){return x(R).source}function M(R){x(R).datasetMap=i()}function C(R){var O=R.option,k=O.data,B=s(k)?A:m,q=!1,H=O.seriesLayoutBy,F=O.sourceHeader,U=O.dimensions,$=N(R);if($){var Y=$.option;k=Y.source,B=x($).sourceFormat,q=!0,H=H||Y.seriesLayoutBy,F==null&&(F=Y.sourceHeader),U=U||Y.dimensions}var K=D(k,B,H,F,U);x(R).source=new d({data:k,fromDataset:q,seriesLayoutBy:H,sourceFormat:B,dimensionsDefine:K.dimensionsDefine,startIndex:K.startIndex,dimensionsDetectCount:K.dimensionsDetectCount,encodeDefine:O.encode})}function D(R,O,k,B,q){if(!R)return{dimensionsDefine:L(q)};var H,F;if(O===p)B==="auto"||B==null?P(function($){$!=null&&$!=="-"&&(n($)?F==null&&(F=1):F=0)},k,R,10):F=B?1:0,!q&&F===1&&(q=[],P(function($,Y){q[Y]=$??""},k,R)),H=q?q.length:k===S?R.length:R[0]?R[0].length:null;else if(O===g)q||(q=I(R));else if(O===y)q||(q=[],o(R,function($,Y){q.push(Y)}));else if(O===m){var U=r(R[0]);H=c(U)&&U.length||1}return{startIndex:F,dimensionsDefine:L(q),dimensionsDetectCount:H}}function L(R){if(R){var O=i();return l(R,function(k,B){if(k=u({},h(k)?k:{name:k}),k.name==null)return k;k.name+="",k.displayName==null&&(k.displayName=k.name);var q=O.get(k.name);return q?k.name+="-"+q.count++:O.set(k.name,{count:1}),k})}}function P(R,O,k,B){if(B==null&&(B=1/0),O===S)for(var q=0;q<k.length&&q<B;q++)R(k[q]?k[q][0]:null,q);else for(var H=k[0]||[],q=0;q<H.length&&q<B;q++)R(H[q],q)}function I(R){for(var O=0,k;O<R.length&&!(k=R[O++]););if(k){var B=[];return o(k,function(q,H){B.push(H)}),B}}function E(R,O,k){var B={},q=N(O);if(!q||!R)return B;var H=[],F=[],U=O.ecModel,$=x(U).datasetMap,Y=q.uid+"_"+k.seriesLayoutBy,K,J;R=R.slice(),o(R,function(ie,ge){!h(ie)&&(R[ge]={name:ie}),ie.type==="ordinal"&&K==null&&(K=ge,J=te(R[ge])),B[ie.name]=[]});var j=$.get(Y)||$.set(Y,{categoryWayDim:J,valueWayDim:0});o(R,function(ie,ge){var oe=ie.name,fe=te(ie);if(K==null){var pe=j.valueWayDim;ee(B[oe],pe,fe),ee(F,pe,fe),j.valueWayDim+=fe}else if(K===ge)ee(B[oe],0,fe),ee(H,0,fe);else{var pe=j.categoryWayDim;ee(B[oe],pe,fe),ee(F,pe,fe),j.categoryWayDim+=fe}});function ee(ie,ge,oe){for(var fe=0;fe<oe;fe++)ie.push(ge+fe)}function te(ie){var ge=ie.dimsDef;return ge?ge.length:1}return H.length&&(B.itemName=H),F.length&&(B.seriesName=F),B}function z(R,O,k){var B={},q=N(R);if(!q)return B;var H=O.sourceFormat,F=O.dimensionsDefine,U;(H===g||H===y)&&o(F,function(K,J){(h(K)?K.name:K)==="name"&&(U=J)});var $=function(){for(var K={},J={},j=[],ee=0,te=Math.min(5,k);ee<te;ee++){var ie=V(O.data,H,O.seriesLayoutBy,F,O.startIndex,ee);j.push(ie);var ge=ie===b.Not;if(ge&&K.v==null&&ee!==U&&(K.v=ee),(K.n==null||K.n===K.v||!ge&&j[K.n]===b.Not)&&(K.n=ee),oe(K)&&j[K.n]!==b.Not)return K;ge||(ie===b.Might&&J.v==null&&ee!==U&&(J.v=ee),(J.n==null||J.n===J.v)&&(J.n=ee))}function oe(fe){return fe.v!=null&&fe.n!=null}return oe(K)?K:oe(J)?J:null}();if($){B.value=$.v;var Y=U??$.n;B.itemName=[Y],B.seriesName=[Y]}return B}function N(R){var O=R.option,k=O.data;if(!k)return R.ecModel.getComponent("dataset",O.datasetIndex||0)}function G(R,O){return V(R.data,R.sourceFormat,R.seriesLayoutBy,R.dimensionsDefine,R.startIndex,O)}function V(R,O,k,B,q,H){var F,U=5;if(s(R))return b.Not;var $,Y;if(B){var K=B[H];h(K)?($=K.name,Y=K.type):n(K)&&($=K)}if(Y!=null)return Y==="ordinal"?b.Must:b.Not;if(O===p)if(k===S){for(var J=R[H],j=0;j<(J||[]).length&&j<U;j++)if((F=ge(J[q+j]))!=null)return F}else for(var j=0;j<R.length&&j<U;j++){var ee=R[q+j];if(ee&&(F=ge(ee[H]))!=null)return F}else if(O===g){if(!$)return b.Not;for(var j=0;j<R.length&&j<U;j++){var te=R[j];if(te&&(F=ge(te[$]))!=null)return F}}else if(O===y){if(!$)return b.Not;var J=R[$];if(!J||s(J))return b.Not;for(var j=0;j<J.length&&j<U;j++)if((F=ge(J[j]))!=null)return F}else if(O===m)for(var j=0;j<R.length&&j<U;j++){var te=R[j],ie=r(te);if(!c(ie))return b.Not;if((F=ge(ie[H]))!=null)return F}function ge(oe){var fe=n(oe);if(oe!=null&&isFinite(oe)&&oe!=="")return fe?b.Might:b.Not;if(fe&&oe!=="-")return b.Must}return b.Not}return hr.BE_ORDINAL=b,hr.detectSourceFormat=w,hr.getSource=T,hr.resetSourceDefaulter=M,hr.prepareSource=C,hr.makeSeriesEncodeForAxisCoordSys=E,hr.makeSeriesEncodeForNameBased=z,hr.guessOrdinal=G,hr}var Nt=W,Mt=Nt.each,$r=Nt.filter,mC=Nt.map,So=Nt.isArray,Up=Nt.indexOf,ol=Nt.isObject,TO=Nt.isString,Od=Nt.createHashMap,$p=Nt.assert,qf=Nt.clone,zd=Nt.merge,Wp=Nt.extend,CO=Nt.mixin,Di=Pe,Zp=ot(),Ir=ct,MO=vO,DO=gC,LO=zr(),PO=LO.resetSourceDefaulter,Gf="\0_ec_inner",yC=Zp.extend({init:function(e,t,r,a){r=r||{},this.option=null,this._theme=new Zp(r),this._optionManager=a},setOption:function(e,t){$p(!(Gf in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,r=this._optionManager;if(!e||e==="recreate"){var a=r.mountOption(e==="recreate");!this.option||e==="recreate"?EO.call(this,a):(this.restoreData(),this.mergeOption(a)),t=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var i=r.getTimelineOption(this);i&&(this.mergeOption(i),t=!0)}if(!e||e==="recreate"||e==="media"){var o=r.getMediaOption(this,this._api);o.length&&Mt(o,function(l){this.mergeOption(l,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,r=this._componentsMap,a=[];PO(this),Mt(e,function(o,l){o!=null&&(Ir.hasClass(l)?l&&a.push(l):t[l]=t[l]==null?qf(o):zd(t[l],o,!0))}),Ir.topologicalTravel(a,Ir.getAllClassMainTypes(),i,this);function i(o,l){var c=Di.normalizeToArray(e[o]),n=Di.mappingToExists(r.get(o),c);Di.makeIdAndName(n),Mt(n,function(s,v){var u=s.option;ol(u)&&(s.keyInfo.mainType=o,s.keyInfo.subType=OO(o,u,s.exist))});var h=kO(r,l);t[o]=[],r.set(o,[]),Mt(n,function(s,v){var u=s.exist,d=s.option;if($p(ol(d)||u,"Empty component definition"),!d)u.mergeOption({},this),u.optionUpdated({},!1);else{var f=Ir.getClass(o,s.keyInfo.subType,!0);if(u&&u.constructor===f)u.name=s.keyInfo.name,u.mergeOption(d,this),u.optionUpdated(d,!1);else{var m=Wp({dependentModels:h,componentIndex:v},s.keyInfo);u=new f(d,this,this,m),Wp(u,m),u.init(d,this,this,m),u.optionUpdated(null,!0)}}r.get(o)[v]=u,t[o][v]=u.option},this),o==="series"&&sl(this,r.get("series"))}this._seriesIndicesMap=Od(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=qf(this.option);return Mt(e,function(t,r){if(Ir.hasClass(r)){for(var t=Di.normalizeToArray(t),a=t.length-1;a>=0;a--)Di.isIdInner(t[a])&&t.splice(a,1);e[r]=t}}),delete e[Gf],e},getTheme:function(){return this._theme},getComponent:function(e,t){var r=this._componentsMap.get(e);if(r)return r[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var r=e.index,a=e.id,i=e.name,o=this._componentsMap.get(t);if(!o||!o.length)return[];var l;if(r!=null)So(r)||(r=[r]),l=$r(mC(r,function(h){return o[h]}),function(h){return!!h});else if(a!=null){var c=So(a);l=$r(o,function(h){return c&&Up(a,h.id)>=0||!c&&h.id===a})}else if(i!=null){var n=So(i);l=$r(o,function(h){return n&&Up(i,h.name)>=0||!n&&h.name===i})}else l=o.slice();return Yp(l,e)},findComponents:function(e){var t=e.query,r=e.mainType,a=o(t),i=a?this.queryComponents(a):this._componentsMap.get(r);return l(Yp(i,e));function o(c){var n=r+"Index",h=r+"Id",s=r+"Name";return c&&(c[n]!=null||c[h]!=null||c[s]!=null)?{mainType:r,index:c[n],id:c[h],name:c[s]}:null}function l(c){return e.filter?$r(c,e.filter):c}},eachComponent:function(e,t,r){var a=this._componentsMap;if(typeof e=="function")r=t,t=e,a.each(function(o,l){Mt(o,function(c,n){t.call(r,l,c,n)})});else if(TO(e))Mt(a.get(e),t,r);else if(ol(e)){var i=this.findComponents(e);Mt(i,t,r)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return $r(t,function(r){return r.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return $r(t,function(r){return r.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){Mt(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];e.call(t,a,r)},this)},eachRawSeries:function(e,t){Mt(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,r){Mt(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];i.subType===e&&t.call(r,i,a)},this)},eachRawSeriesByType:function(e,t,r){return Mt(this.getSeriesByType(e),t,r)},isSeriesFiltered:function(e){return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){var r=$r(this._componentsMap.get("series"),e,t);sl(this,r)},restoreData:function(e){var t=this._componentsMap;sl(this,t.get("series"));var r=[];t.each(function(a,i){r.push(i)}),Ir.topologicalTravel(r,Ir.getAllClassMainTypes(),function(a,i){Mt(t.get(a),function(o){(a!=="series"||!IO(o,e))&&o.restoreData()})})}});function IO(e,t){if(t){var r=t.seiresIndex,a=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||a!=null&&e.id!==a||i!=null&&e.name!==i}}function RO(e,t){var r=e.color&&!e.colorLayer;Mt(t,function(a,i){i==="colorLayer"&&r||Ir.hasClass(i)||(typeof a=="object"?e[i]=e[i]?zd(e[i],a,!1):qf(a):e[i]==null&&(e[i]=a))})}function EO(e){e=e,this.option={},this.option[Gf]=1,this._componentsMap=Od({series:[]}),this._seriesIndices,this._seriesIndicesMap,RO(e,this._theme.option),zd(e,MO,!1),this.mergeOption(e)}function kO(e,t){So(t)||(t=t?[t]:[]);var r={};return Mt(t,function(a){r[a]=(e.get(a)||[]).slice()}),r}function OO(e,t,r){var a=t.type?t.type:r?r.subType:Ir.determineSubType(e,t);return a}function sl(e,t){e._seriesIndicesMap=Od(e._seriesIndices=mC(t,function(r){return r.componentIndex})||[])}function Yp(e,t){return t.hasOwnProperty("subType")?$r(e,function(r){return r.subType===t.subType}):e}CO(yC,DO);var zO=yC,_C=zO,Xp=W,BO=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function NO(e){Xp.each(BO,function(t){this[t]=Xp.bind(e[t],e)},this)}var VO=NO,xC=VO,Kp=W,Bd={};function ji(){this._coordinateSystems=[]}ji.prototype={constructor:ji,create:function(e,t){var r=[];Kp.each(Bd,function(a,i){var o=a.create(e,t);r=r.concat(o||[])}),this._coordinateSystems=r},update:function(e,t){Kp.each(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};ji.register=function(e,t){Bd[e]=t};ji.get=function(e){return Bd[e]};var HO=ji,Sr=HO,kr=W,bo=Pe,qO=ct,wo=kr.each,ha=kr.clone,Ao=kr.map,Qp=kr.merge,GO=/^(min|max)?(.+)$/;function Ff(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}Ff.prototype={constructor:Ff,setOption:function(e,t){e&&kr.each(bo.normalizeToArray(e.series),function(i){i&&i.data&&kr.isTypedArray(i.data)&&kr.setAsPrimitive(i.data)}),e=ha(e);var r=this._optionBackup,a=FO.call(this,e,t,!r);this._newBaseOption=a.baseOption,r?(ZO(r.baseOption,a.baseOption),a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Ao(t.timelineOptions,ha),this._mediaList=Ao(t.mediaList,ha),this._mediaDefault=ha(t.mediaDefault),this._currentMediaIndices=[],ha(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,r=this._timelineOptions;if(r.length){var a=e.getComponent("timeline");a&&(t=ha(r[a.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],l=[];if(!a.length&&!i)return l;for(var c=0,n=a.length;c<n;c++)UO(a[c].query,t,r)&&o.push(c);return!o.length&&i&&(o=[-1]),o.length&&!WO(o,this._currentMediaIndices)&&(l=Ao(o,function(h){return ha(h===-1?i.option:a[h].option)})),this._currentMediaIndices=o,l}};function FO(e,t,r){var a=[],i=[],o,l,c=e.timeline;if(e.baseOption&&(l=e.baseOption),(c||e.options)&&(l=l||{},a=(e.options||[]).slice()),e.media){l=l||{};var n=e.media;wo(n,function(h){h&&h.option&&(h.query?i.push(h):o||(o=h))})}return l||(l=e),l.timeline||(l.timeline=c),wo([l].concat(a).concat(kr.map(i,function(h){return h.option})),function(h){wo(t,function(s){s(h,r)})}),{baseOption:l,timelineOptions:a,mediaDefault:o,mediaList:i}}function UO(e,t,r){var a={width:t,height:r,aspectratio:t/r},i=!0;return kr.each(e,function(o,l){var c=l.match(GO);if(!(!c||!c[1]||!c[2])){var n=c[1],h=c[2].toLowerCase();$O(a[h],o,n)||(i=!1)}}),i}function $O(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function WO(e,t){return e.join(",")===t.join(",")}function ZO(e,t){t=t||{},wo(t,function(r,a){if(r!=null){var i=e[a];if(!qO.hasClass(a))e[a]=Qp(i,r,!0);else{r=bo.normalizeToArray(r),i=bo.normalizeToArray(i);var o=bo.mappingToExists(i,r);e[a]=Ao(o,function(l){return l.option&&l.exist?Qp(l.exist,l.option,!0):l.exist||l.option})}}})}var YO=Ff,XO=YO,Lt=W,jp=Pe,Xt=Lt.each,Ji=Lt.isObject,Jp=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ll(e){var t=e&&e.itemStyle;if(t)for(var r=0,a=Jp.length;r<a;r++){var i=Jp[r],o=t.normal,l=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?Lt.merge(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),l&&l[i]&&(e[i]=e[i]||{},e[i].emphasis?Lt.merge(e[i].emphasis,l[i]):e[i].emphasis=l[i],l[i]=null)}}function At(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var a=e[t].normal,i=e[t].emphasis;a&&(r?(e[t].normal=e[t].emphasis=null,Lt.defaults(e[t],a)):e[t]=a),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i)}}function Ui(e){At(e,"itemStyle"),At(e,"lineStyle"),At(e,"areaStyle"),At(e,"label"),At(e,"labelLine"),At(e,"upperLabel"),At(e,"edgeLabel")}function it(e,t){var r=Ji(e)&&e[t],a=Ji(r)&&r.textStyle;if(a)for(var i=0,o=jp.TEXT_STYLE_OPTIONS.length;i<o;i++){var t=jp.TEXT_STYLE_OPTIONS[i];a.hasOwnProperty(t)&&(r[t]=a[t])}}function Gt(e){e&&(Ui(e),it(e,"label"),e.emphasis&&it(e.emphasis,"label"))}function KO(e){if(Ji(e)){ll(e),Ui(e),it(e,"label"),it(e,"upperLabel"),it(e,"edgeLabel"),e.emphasis&&(it(e.emphasis,"label"),it(e.emphasis,"upperLabel"),it(e.emphasis,"edgeLabel"));var o=e.markPoint;o&&(ll(o),Gt(o));var c=e.markLine;c&&(ll(c),Gt(c));var t=e.markArea;t&&Gt(t);var r=e.data;if(e.type==="graph"){r=r||e.nodes;var a=e.links||e.edges;if(a&&!Lt.isTypedArray(a))for(var i=0;i<a.length;i++)Gt(a[i]);Lt.each(e.categories,function(h){Ui(h)})}if(r&&!Lt.isTypedArray(r))for(var i=0;i<r.length;i++)Gt(r[i]);var o=e.markPoint;if(o&&o.data)for(var l=o.data,i=0;i<l.length;i++)Gt(l[i]);var c=e.markLine;if(c&&c.data)for(var n=c.data,i=0;i<n.length;i++)Lt.isArray(n[i])?(Gt(n[i][0]),Gt(n[i][1])):Gt(n[i]);e.type==="gauge"?(it(e,"axisLabel"),it(e,"title"),it(e,"detail")):e.type==="treemap"?(At(e.breadcrumb,"itemStyle"),Lt.each(e.levels,function(h){Ui(h)})):e.type==="tree"&&Ui(e.leaves)}}function Tr(e){return Lt.isArray(e)?e:e?[e]:[]}function em(e){return(Lt.isArray(e)?e[0]:e)||{}}function QO(e,t){Xt(Tr(e.series),function(a){Ji(a)&&KO(a)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Xt(r,function(a){Xt(Tr(e[a]),function(i){i&&(it(i,"axisLabel"),it(i.axisPointer,"label"))})}),Xt(Tr(e.parallel),function(a){var i=a&&a.parallelAxisDefault;it(i,"axisLabel"),it(i&&i.axisPointer,"label")}),Xt(Tr(e.calendar),function(a){At(a,"itemStyle"),it(a,"dayLabel"),it(a,"monthLabel"),it(a,"yearLabel")}),Xt(Tr(e.radar),function(a){it(a,"name")}),Xt(Tr(e.geo),function(a){Ji(a)&&(Gt(a),Xt(Tr(a.regions),function(i){Gt(i)}))}),Xt(Tr(e.timeline),function(a){Gt(a),At(a,"label"),At(a,"itemStyle"),At(a,"controlStyle",!0);var i=a.data;Lt.isArray(i)&&Lt.each(i,function(o){Lt.isObject(o)&&(At(o,"label"),At(o,"itemStyle"))})}),Xt(Tr(e.toolbox),function(a){At(a,"iconStyle"),Xt(a.feature,function(i){At(i,"iconStyle")})}),it(em(e.axisPointer),"label"),it(em(e.tooltip).axisPointer,"label")}var jO=QO,Nd=W,To=Nd.each,JO=Nd.isArray,ez=Nd.isObject,tz=jO,rz=Pe,az=rz.normalizeToArray;function iz(e,t){t=t.split(",");for(var r=e,a=0;a<t.length&&(r=r&&r[t[a]],r!=null);a++);return r}function nz(e,t,r,a){t=t.split(",");for(var i=e,o,l=0;l<t.length-1;l++)o=t[l],i[o]==null&&(i[o]={}),i=i[o];(a||i[t[l]]==null)&&(i[t[l]]=r)}function tm(e){To(oz,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var oz=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],sz=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function lz(e,t){tz(e,t),e.series=az(e.series),To(e.series,function(r){if(ez(r)){var a=r.type;if(a==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(a==="pie"||a==="gauge")r.clockWise!=null&&(r.clockwise=r.clockWise);else if(a==="gauge"){var i=iz(r,"pointer.color");i!=null&&nz(r,"itemStyle.color",i)}tm(r)}}),e.dataRange&&(e.visualMap=e.dataRange),To(sz,function(r){var a=e[r];a&&(JO(a)||(a=[a]),To(a,function(i){tm(i)}))})}var uz=lz,SC=W,vz=SC.createHashMap,hz=SC.each;function cz(e){var t=vz();e.eachSeries(function(r){var a=r.get("stack");if(a){var i=t.get(a)||t.set(a,[]),o=r.getData(),l={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:r};if(!l.stackedDimension||!(l.isStackedByIndex||l.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(l)}}),t.each(fz)}function fz(e){hz(e,function(t,r){var a=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],l=t.data,c=t.isStackedByIndex,n=l.map(o,function(h,s,v){var u=l.get(t.stackedDimension,v);if(isNaN(u))return i;var d,f;c?f=l.getRawIndex(v):d=l.get(t.stackedByDimension,v);for(var m=NaN,p=r-1;p>=0;p--){var g=e[p];if(c||(f=g.data.rawIndexOf(g.stackedByDimension,d)),f>=0){var y=g.data.getByRawIndex(g.stackResultDimension,f);if(u>=0&&y>0||u<=0&&y<0){u+=y,m=y;break}}}return a[0]=u,a[1]=m,a});l.hostModel.setData(n),t.data=n})}var dz=cz,ir={},yn=W;yn.isTypedArray;var gz=yn.extend;yn.assert;var pz=yn.each,mz=yn.isObject,bC=Pe,yz=bC.getDataItemValue,_z=bC.isDataItemOption,xz=Re(),Sz=xz.parseDate,rm=mn,Qo=gn(),bz=Qo.SOURCE_FORMAT_TYPED_ARRAY,wz=Qo.SOURCE_FORMAT_ARRAY_ROWS,am=Qo.SOURCE_FORMAT_ORIGINAL,Az=Qo.SOURCE_FORMAT_OBJECT_ROWS;function wC(e,t){rm.isInstance(e)||(e=rm.seriesDataToSource(e)),this._source=e;var r=this._data=e.data,a=e.sourceFormat;a===bz&&(this._offset=0,this._dimSize=t,this._data=r);var i=Tz[a===wz?a+"_"+e.seriesLayoutBy:a];gz(this,i)}var Vd=wC.prototype;Vd.pure=!1;Vd.persistent=!0;Vd.getSource=function(){return this._source};var Tz={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:ul},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],r=this._data,a=0;a<r.length;a++){var i=r[a];t.push(i?i[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:im,getItem:nm,appendData:ul},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],r=this._source.dimensionsDefine,a=0;a<r.length;a++){var i=this._data[r[a].name];t.push(i?i[e]:null)}return t},appendData:function(e){var t=this._data;pz(e,function(r,a){for(var i=t[a]||(t[a]=[]),o=0;o<(r||[]).length;o++)i.push(r[o])})}},original:{count:im,getItem:nm,appendData:ul},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e=e-this._offset,t=t||[];for(var r=this._dimSize*e,a=0;a<this._dimSize;a++)t[a]=this._data[r+a];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function im(){return this._data.length}function nm(e){return this._data[e]}function ul(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var Cz={arrayRows:vl,objectRows:function(e,t,r,a){return r!=null?e[a]:e},keyedColumns:vl,original:function(e,t,r,a){var i=yz(e);return r==null||!(i instanceof Array)?i:i[r]},typedArray:vl};function vl(e,t,r,a){return r!=null?e[r]:e}var Mz={arrayRows:om,objectRows:function(e,t,r,a){return Uf(e[t],this._dimensionInfos[t])},keyedColumns:om,original:function(e,t,r,a){var i=e&&(e.value==null?e:e.value);return!this._rawData.pure&&_z(e)&&(this.hasItemOption=!0),Uf(i instanceof Array?i[a]:i,this._dimensionInfos[t])},typedArray:function(e,t,r,a){return e[a]}};function om(e,t,r,a){return Uf(e[a],this._dimensionInfos[t])}function Uf(e,t){var r=t&&t.type;if(r==="ordinal"){var a=t&&t.ordinalMeta;return a?a.parseAndCollect(e):e}return r==="time"&&typeof e!="number"&&e!=null&&e!=="-"&&(e=+Sz(e)),e==null||e===""?NaN:+e}function Dz(e,t,r){if(e){var a=e.getRawDataItem(t);if(a!=null){var i=e.getProvider().getSource().sourceFormat,o,l,c=e.getDimensionInfo(r);return c&&(o=c.name,l=c.index),Cz[i](a,t,l,o)}}}function Lz(e,t,r){if(e){var a=e.getProvider().getSource().sourceFormat;if(!(a!==am&&a!==Az)){var i=e.getRawDataItem(t);if(a===am&&!mz(i)&&(i=null),i)return i[r]}}}ir.DefaultDataProvider=wC;ir.defaultDimValueGetters=Mz;ir.retrieveRawValue=Dz;ir.retrieveRawAttr=Lz;var Pz=ir,sm=Pz.retrieveRawValue,AC=Ge(),Iz=AC.getTooltipMarker,Rz=AC.formatTpl,Ez=Pe,kz=Ez.getTooltipRenderMode,Oz=/\{@(.+?)\}/g,zz={getDataParams:function(e,t){var r=this.getData(t),a=this.getRawValue(e,t),i=r.getRawIndex(e),o=r.getName(e),l=r.getRawDataItem(e),c=r.getItemVisual(e,"color"),n=r.getItemVisual(e,"borderColor"),h=this.ecModel.getComponent("tooltip"),s=h&&h.get("renderMode"),v=kz(s),u=this.mainType,d=u==="series",f=r.userOutput;return{componentType:u,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:i,data:l,dataType:t,value:a,color:c,borderColor:n,dimensionNames:f?f.dimensionNames:null,encode:f?f.encode:null,marker:Iz({color:c,renderMode:v}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,r,a,i){t=t||"normal";var o=this.getData(r),l=o.getItemModel(e),c=this.getDataParams(e,r);a!=null&&c.value instanceof Array&&(c.value=c.value[a]);var n=l.get(t==="normal"?[i||"label","formatter"]:[t,i||"label","formatter"]);if(typeof n=="function")return c.status=t,c.dimensionIndex=a,n(c);if(typeof n=="string"){var h=Rz(n,c);return h.replace(Oz,function(s,v){var u=v.length;return v.charAt(0)==="["&&v.charAt(u-1)==="]"&&(v=+v.slice(1,u-1)),sm(o,e,v)})}},getRawValue:function(e,t){return sm(this.getData(t),e)},formatTooltip:function(){}},Hd=zz,jo={},TC=W;TC.assert;var CC=TC.isArray;function Bz(e){return new MC(e)}function MC(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var ta=MC.prototype;ta.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var a=this.context;a.data=a.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var o=h(this._modBy),l=this._modDataCount||0,c=h(e&&e.modBy),n=e&&e.modDataCount||0;(o!==c||l!==n)&&(i="reset");function h(g){return!(g>=1)&&(g=1),g}var s;(this._dirty||i==="reset")&&(this._dirty=!1,s=Nz(this,r)),this._modBy=c,this._modDataCount=n;var v=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var u=this._dueIndex,d=Math.min(v!=null?this._dueIndex+v:1/0,this._dueEnd);if(!r&&(s||u<d)){var f=this._progress;if(CC(f))for(var m=0;m<f.length;m++)um(this,f[m],u,d,c,n);else um(this,f,u,d,c,n)}this._dueIndex=d;var p=this._settedOutputEnd!=null?this._settedOutputEnd:d;this._outputDueEnd=p}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var lm=function(){var e,t,r,a,i,o={reset:function(n,h,s,v){t=n,e=h,r=s,a=v,i=Math.ceil(a/r),o.next=r>1&&a>0?c:l}};return o;function l(){return t<e?t++:null}function c(){var n=t%i*r+Math.ceil(t/i),h=t>=e?null:n<a?n:t;return t++,h}}();ta.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)};function um(e,t,r,a,i,o){lm.reset(r,a,i,o),e._callingProgress=t,e._callingProgress({start:r,end:a,count:a-r,next:lm.next},e.context)}function Nz(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var r,a;!t&&e._reset&&(r=e._reset(e.context),r&&r.progress&&(a=r.forceFirstProgress,r=r.progress),CC(r)&&!r.length&&(r=null)),e._progress=r,e._modBy=e._modDataCount=null;var i=e._downstream;return i&&i.dirty(),a}ta.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};ta.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())};ta.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};ta.getUpstream=function(){return this._upstream};ta.getDownstream=function(){return this._downstream};ta.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};jo.createTask=Bz;var Rt=W,Vz=nt,Jo=Ge(),Hz=Jo.formatTime,Li=Jo.encodeHTML,vm=Jo.addCommas,hm=Jo.getTooltipMarker,$i=Pe,cm=ct,DC=gC,qz=Hd,LC=ze,Gz=LC.getLayoutParams,fm=LC.mergeLayoutParam,Fz=jo,Uz=Fz.createTask,PC=zr(),dm=PC.prepareSource,$z=PC.getSource,Wz=ir,gm=Wz.retrieveRawValue,Pi=$i.makeInner(),qd=cm.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,r,a){this.seriesIndex=this.componentIndex,this.dataTask=Uz({count:Yz,reset:Xz}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),dm(this);var i=this.getInitialData(e,r);mm(i,this),this.dataTask.context.data=i,Pi(this).dataBeforeProcessed=i,pm(this)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?Gz(e):{},i=this.subType;cm.hasClass(i)&&(i+="Series"),Rt.merge(e,t.getTheme().get(this.subType)),Rt.merge(e,this.getDefaultOption()),$i.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&fm(e,a,r)},mergeOption:function(e,t){e=Rt.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var r=this.layoutMode;r&&fm(this.option,e,r),dm(this);var a=this.getInitialData(e,t);mm(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Pi(this).dataBeforeProcessed=a,pm(this)},fillDataTextStyle:function(e){if(e&&!Rt.isTypedArray(e))for(var t=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&$i.defaultEmphasis(e[r],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=$f(this);if(t){var r=t.context.data;return e==null?r:r.getLinkedData(e)}else return Pi(this).data},setData:function(e){var t=$f(this);if(t){var r=t.context;r.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),r.outputData=e,t!==this.dataTask&&(r.data=e)}Pi(this).data=e},getSource:function(){return $z(this)},getRawData:function(){return Pi(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,r,a){var i=this;a=a||"html";var o=a==="html"?"<br/>":`
`,l=a==="richText",c={},n=0;function h(T){var M=Rt.reduce(T,function(I,E,z){var N=v.getDimensionInfo(z);return I|=N&&N.tooltip!==!1&&N.displayName!=null},0),C=[];u.length?Rt.each(u,function(I){D(gm(v,e,I),I)}):Rt.each(T,D);function D(I,E){var z=v.getDimensionInfo(E);if(!(!z||z.otherDims.tooltip===!1)){var N=z.type,G="sub"+i.seriesIndex+"at"+n,V=hm({color:p,type:"subItem",renderMode:a,markerId:G}),R=typeof V=="string"?V:V.content,O=(M?R+Li(z.displayName||"-")+": ":"")+Li(N==="ordinal"?I+"":N==="time"?t?"":Hz("yyyy/MM/dd hh:mm:ss",I):vm(I));O&&C.push(O),l&&(c[G]=p,++n)}}var L=M?l?`
`:"<br/>":"",P=L+C.join(L||", ");return{renderMode:a,content:P,style:c}}function s(T){return{renderMode:a,content:Li(vm(T)),style:c}}var v=this.getData(),u=v.mapDimension("defaultedTooltip",!0),d=u.length,f=this.getRawValue(e),m=Rt.isArray(f),p=v.getItemVisual(e,"color");Rt.isObject(p)&&p.colorStops&&(p=(p.colorStops[0]||{}).color),p=p||"transparent";var g=d>1||m&&!d?h(f):s(d?gm(v,e,u[0]):m?f[0]:f),y=g.content,_=i.seriesIndex+"at"+n,A=hm({color:p,type:"item",renderMode:a,markerId:_});c[_]=p,++n;var S=v.getName(e),b=this.name;$i.isNameSpecified(this)||(b=""),b=b?Li(b)+(t?": ":o):"";var x=typeof A=="string"?A:A.content,w=t?x+b+y:b+x+(S?Li(S)+": "+y:y);return{html:w,markers:c}},isAnimationEnabled:function(){if(Vz.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,r){var a=this.ecModel,i=DC.getColorFromPalette.call(this,e,t,r);return i||(i=a.getColorFromPalette(e,t,r)),i},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});Rt.mixin(qd,qz);Rt.mixin(qd,DC);function pm(e){var t=e.name;$i.isNameSpecified(e)||(e.name=Zz(e)||t)}function Zz(e){var t=e.getRawData(),r=t.mapDimension("seriesName",!0),a=[];return Rt.each(r,function(i){var o=t.getDimensionInfo(i);o.displayName&&a.push(o.displayName)}),a.join(" ")}function Yz(e){return e.model.getRawData().count()}function Xz(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),Kz}function Kz(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function mm(e,t){Rt.each(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,Rt.curry(Qz,t))})}function Qz(e){var t=$f(e);t&&t.setOutputEnd(this.count())}function $f(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var a=r.currentTask;if(a){var i=a.agentStubMap;i&&(a=i.get(e.uid))}return a}}var jz=qd,ft=jz,Jz=Sa,eB=ea,IC=kt,ri=function(){this.group=new Jz,this.uid=eB.getUID("viewComponent")};ri.prototype={constructor:ri,init:function(e,t){},render:function(e,t,r,a){},dispose:function(){},filterForExposedEvent:null};var hl=ri.prototype;hl.updateView=hl.updateLayout=hl.updateVisual=function(e,t,r,a){};IC.enableClassExtend(ri);IC.enableClassManagement(ri,{registerWhenExtend:!0});var tB=ri,es=tB,rB=Pe,aB=rB.makeInner;function iB(){var e=aB();return function(t){var r=e(t),a=t.pipelineContext,i=r.large,o=r.progressiveRender,l=r.large=a&&a.large,c=r.progressiveRender=a&&a.progressiveRender;return!!(i^l||o^c)&&"reset"}}var fi=iB,nB=W,oB=nB.each,sB=Sa,lB=ea,RC=kt,Wf=Pe,EC=de,uB=jo,vB=uB.createTask,hB=fi,kC=Wf.makeInner(),cB=hB();function di(){this.group=new sB,this.uid=lB.getUID("viewChart"),this.renderTask=vB({plan:fB,reset:dB}),this.renderTask.context={view:this}}di.prototype={type:"chart",init:function(e,t){},render:function(e,t,r,a){},highlight:function(e,t,r,a){ym(e.getData(),a,"emphasis")},downplay:function(e,t,r,a){ym(e.getData(),a,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var cl=di.prototype;cl.updateView=cl.updateLayout=cl.updateVisual=function(e,t,r,a){this.render(e,t,r,a)};function Zf(e,t,r){if(e&&(e.trigger(t,r),e.isGroup&&!EC.isHighDownDispatcher(e)))for(var a=0,i=e.childCount();a<i;a++)Zf(e.childAt(a),t,r)}function ym(e,t,r){var a=Wf.queryDataIndex(e,t),i=t&&t.highlightKey!=null?EC.getHighlightDigit(t.highlightKey):null;a!=null?oB(Wf.normalizeToArray(a),function(o){Zf(e.getItemGraphicEl(o),r,i)}):e.eachItemGraphicEl(function(o){Zf(o,r,i)})}RC.enableClassExtend(di,["dispose"]);RC.enableClassManagement(di,{registerWhenExtend:!0});di.markUpdateMethod=function(e,t){kC(e).updateMethod=t};function fB(e){return cB(e.model)}function dB(e){var t=e.model,r=e.ecModel,a=e.api,i=e.payload,o=t.pipelineContext.progressiveRender,l=e.view,c=i&&kC(i).updateMethod,n=o?"incrementalPrepareRender":c&&l[c]?c:"render";return n!=="render"&&l[n](t,r,a,i),gB[n]}var gB={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},pB=di,br=pB,nr={},Go="\0__throttleOriginMethod",_m="\0__throttleRate",xm="\0__throttleType";function OC(e,t,r){var a,i=0,o=0,l=null,c,n,h,s;t=t||0;function v(){o=new Date().getTime(),l=null,e.apply(n,h||[])}var u=function(){a=new Date().getTime(),n=this,h=arguments;var d=s||t,f=s||r;s=null,c=a-(f?i:o)-d,clearTimeout(l),f?l=setTimeout(v,d):c>=0?v():l=setTimeout(v,-c),i=a};return u.clear=function(){l&&(clearTimeout(l),l=null)},u.debounceNextCall=function(d){s=d},u}function mB(e,t,r,a){var i=e[t];if(i){var o=i[Go]||i,l=i[xm],c=i[_m];if(c!==r||l!==a){if(r==null||!a)return e[t]=o;i=e[t]=OC(o,r,a==="debounce"),i[Go]=o,i[xm]=a,i[_m]=r}return i}}function yB(e,t){var r=e[t];r&&r[Go]&&(e[t]=r[Go])}nr.throttle=OC;nr.createOrUpdate=mB;nr.clear=yB;var _B=Xo,xB=W,SB=xB.isFunction,bB={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),a=(e.visualColorAccessPath||"itemStyle.color").split("."),i=e.get(a),o=SB(i)&&!(i instanceof _B)?i:null;(!i||o)&&(i=e.getColorFromPalette(e.name,null,t.getSeriesCount())),r.setVisual("color",i);var l=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),c=e.get(l);if(r.setVisual("borderColor",c),!t.isSeriesFiltered(e)){o&&r.each(function(h){r.setItemVisual(h,"color",o(e.getDataParams(h)))});var n=function(h,s){var v=h.getItemModel(s),u=v.get(a,!0),d=v.get(l,!0);u!=null&&h.setItemVisual(s,"color",u),d!=null&&h.setItemVisual(s,"borderColor",d)};return{dataEach:r.hasItemOption?n:null}}}},wB=bB,AB={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},ra=AB,TB=W,Sm=ra,CB=ir,MB=CB.retrieveRawValue;function DB(e,t){var r=t.getModel("aria");if(r.get("show")){if(r.get("description")){e.setAttribute("aria-label",r.get("description"));return}}else return;var a=0;t.eachSeries(function(m,p){++a},this);var i=r.get("data.maxCount")||10,o=r.get("series.maxCount")||10,l=Math.min(a,o),c;if(a<1)return;var n=d();n?c=v(u("general.withTitle"),{title:n}):c=u("general.withoutTitle");var h=[],s=a>1?"series.multiple.prefix":"series.single.prefix";c+=v(u(s),{seriesCount:a}),t.eachSeries(function(m,p){if(p<l){var g,y=m.get("name"),_="series."+(a>1?"multiple":"single")+".";g=u(y?_+"withName":_+"withoutName"),g=v(g,{seriesId:m.seriesIndex,seriesName:m.get("name"),seriesType:f(m.subType)});var A=m.getData();window.data=A,A.count()>i?g+=v(u("data.partialData"),{displayCnt:i}):g+=u("data.allData");for(var S=[],b=0;b<A.count();b++)if(b<i){var x=A.getName(b),w=MB(A,b);S.push(v(u(x?"data.withName":"data.withoutName"),{name:x,value:w}))}g+=S.join(u("data.separator.middle"))+u("data.separator.end"),h.push(g)}}),c+=h.join(u("series.multiple.separator.middle"))+u("series.multiple.separator.end"),e.setAttribute("aria-label",c);function v(m,p){if(typeof m!="string")return m;var g=m;return TB.each(p,function(y,_){g=g.replace(new RegExp("\\{\\s*"+_+"\\s*\\}","g"),y)}),g}function u(m){var p=r.get(m);if(p==null){for(var g=m.split("."),y=Sm.aria,_=0;_<g.length;++_)y=y[g[_]];return y}else return p}function d(){var m=t.getModel("title").option;return m&&m.length&&(m=m[0]),m&&m.text}function f(m){return Sm.series.typeNames[m]||"自定义图"}}var LB=DB,PB=W,Jn=de,IB=$e,eo=Math.PI;function RB(e,t){t=t||{},PB.defaults(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Jn.Group,a=new Jn.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(a);var i=t.fontSize+" sans-serif",o=new Jn.Rect({style:{fill:"none",text:t.text,font:i,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(r.add(o),t.showSpinner){var l=new Jn.Arc({shape:{startAngle:-eo/2,endAngle:-eo/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});l.animateShape(!0).when(1e3,{endAngle:eo*3/2}).start("circularInOut"),l.animateShape(!0).when(1e3,{startAngle:eo*3/2}).delay(300).start("circularInOut"),r.add(l)}return r.resize=function(){var c=IB.getWidth(t.text,i),n=t.showSpinner?t.spinnerRadius:0,h=(e.getWidth()-n*2-(t.showSpinner&&c?10:0)-c)/2-(t.showSpinner?0:c/2),s=e.getHeight()/2;t.showSpinner&&l.setShape({cx:h,cy:s}),o.setShape({x:h-n,y:s-n,width:n*2,height:n*2}),a.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var EB=RB,_n=W,Gd=_n.each,kB=_n.map,OB=_n.isFunction,ts=_n.createHashMap,zB=_n.noop,BB=jo,Yf=BB.createTask,NB=ea,VB=NB.getUID,HB=_C,qB=xC,GB=Pe,FB=GB.normalizeToArray;function Fd(e,t,i,o){this.ecInstance=e,this.api=t,this.unfinished;var i=this._dataProcessorHandlers=i.slice(),o=this._visualHandlers=o.slice();this._allHandlers=i.concat(o),this._stageTaskMap=ts()}var $t=Fd.prototype;$t.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var a=r.overallTask;a&&a.dirty()})};$t.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),a=r.context,i=!t&&r.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>r.blockIndex,o=i?r.step:null,l=a&&a.modDataCount,c=l!=null?Math.ceil(l/o):null;return{step:o,modBy:c,modDataCount:l}}};$t.getPipeline=function(e){return this._pipelineMap.get(e)};$t.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),o=r.progressiveEnabled&&t.incrementalPrepareRender&&i>=r.threshold,l=e.get("large")&&i>=e.get("largeThreshold"),c=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=r.context={progressiveRender:o,modDataCount:c,large:l}};$t.restorePipelines=function(e){var t=this,r=t._pipelineMap=ts();e.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;r.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),rs(t,a,a.dataTask)})};$t.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),r=this.api;Gd(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,[]);a.reset&&UB(this,a,i,t,r),a.overallReset&&$B(this,a,i,t,r)},this)};$t.prepareView=function(e,t,r,a){var i=e.renderTask,o=i.context;o.model=t,o.ecModel=r,o.api=a,i.__block=!e.incrementalPrepareRender,rs(this,t,i)};$t.performDataProcessorTasks=function(e,t){zC(this,this._dataProcessorHandlers,e,t,{block:!0})};$t.performVisualTasks=function(e,t,r){zC(this,this._visualHandlers,e,t,r)};function zC(e,t,r,a,i){i=i||{};var o;Gd(t,function(c,n){if(!(i.visualType&&i.visualType!==c.visualType)){var h=e._stageTaskMap.get(c.uid),s=h.seriesTaskMap,v=h.overallTask;if(v){var u,d=v.agentStubMap;d.each(function(m){l(i,m)&&(m.dirty(),u=!0)}),u&&v.dirty(),bm(v,a);var f=e.getPerformArgs(v,i.block);d.each(function(m){m.perform(f)}),o|=v.perform(f)}else s&&s.each(function(m,p){l(i,m)&&m.dirty();var g=e.getPerformArgs(m,i.block);g.skip=!c.performRawSeries&&r.isSeriesFiltered(m.context.model),bm(m,a),o|=m.perform(g)})}});function l(c,n){return c.setDirty&&(!c.dirtyMap||c.dirtyMap.get(n.__pipeline.id))}e.unfinished|=o}$t.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t|=r.dataTask.perform()}),this.unfinished|=t};$t.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var bm=$t.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};function UB(e,t,r,a,i){var o=r.seriesTaskMap||(r.seriesTaskMap=ts()),l=t.seriesType,c=t.getTargetSeries;t.createOnAllSeries?a.eachRawSeries(n):l?a.eachRawSeriesByType(l,n):c&&c(a,i).each(n);function n(s){var v=s.uid,u=o.get(v)||o.set(v,Yf({plan:KB,reset:QB,count:JB}));u.context={model:s,ecModel:a,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},rs(e,s,u)}var h=e._pipelineMap;o.each(function(s,v){h.get(v)||(s.dispose(),o.removeKey(v))})}function $B(e,t,r,a,i){var o=r.overallTask=r.overallTask||Yf({reset:WB});o.context={ecModel:a,api:i,overallReset:t.overallReset,scheduler:e};var l=o.agentStubMap=o.agentStubMap||ts(),c=t.seriesType,n=t.getTargetSeries,h=!0,s=t.modifyOutputEnd;c?a.eachRawSeriesByType(c,v):n?n(a,i).each(v):(h=!1,Gd(a.getSeries(),v));function v(d){var f=d.uid,m=l.get(f);m||(m=l.set(f,Yf({reset:ZB,onDirty:XB})),o.dirty()),m.context={model:d,overallProgress:h,modifyOutputEnd:s},m.agent=o,m.__block=h,rs(e,d,m)}var u=e._pipelineMap;l.each(function(d,f){u.get(f)||(d.dispose(),o.dirty(),l.removeKey(f))})}function WB(e){e.overallReset(e.ecModel,e.api,e.payload)}function ZB(e,t){return e.overallProgress&&YB}function YB(){this.agent.dirty(),this.getDownstream().dirty()}function XB(){this.agent&&this.agent.dirty()}function KB(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function QB(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=FB(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?kB(t,function(r,a){return BC(a)}):jB}var jB=BC(0);function BC(e){return function(t,r){var a=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(a,o);else i&&i.progress&&i.progress(t,a)}}function JB(e){return e.data.count()}function rs(e,t,r){var a=t.uid,i=e._pipelineMap.get(a);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i}Fd.wrapStageHandler=function(e,t){return OB(e)&&(e={overallReset:e,seriesType:eN(e)}),e.uid=VB("stageHandler"),t&&(e.visualType=t),e};function eN(e){Fo=null;try{e(en,NC)}catch{}return Fo}var en={},NC={},Fo;VC(en,HB);VC(NC,qB);en.eachSeriesByType=en.eachRawSeriesByType=function(e){Fo=e};en.eachComponent=function(e){e.mainType==="series"&&e.subType&&(Fo=e.subType)};function VC(e,t){for(var r in t.prototype)e[r]=zB}var tN=Fd,rN=tN,wm=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],aN={color:wm,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],wm]},iN=aN,_t="#eee",to=function(){return{axisLine:{lineStyle:{color:_t}},axisTick:{lineStyle:{color:_t}},axisLabel:{textStyle:{color:_t}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:_t}}}},fl=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],HC={color:fl,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:_t},crossStyle:{color:_t},label:{color:"#000"}}},legend:{textStyle:{color:_t}},textStyle:{color:_t},title:{textStyle:{color:_t}},toolbox:{iconStyle:{normal:{borderColor:_t}}},dataZoom:{textStyle:{color:_t}},visualMap:{textStyle:{color:_t}},timeline:{lineStyle:{color:_t},itemStyle:{normal:{color:fl[1]}},label:{normal:{textStyle:{color:_t}}},controlStyle:{normal:{color:_t,borderColor:_t}}},timeAxis:to(),logAxis:to(),valueAxis:to(),categoryAxis:to(),line:{symbol:"circle"},graph:{color:fl},gauge:{title:{textStyle:{color:_t}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};HC.categoryAxis.splitLine.show=!1;var nN=HC,oN=nN,Am={},Tm;function qC(){if(Tm)return Am;Tm=1;var e=ct,t=es,r=zr(),a=r.detectSourceFormat,i=gn(),o=i.SERIES_LAYOUT_BY_COLUMN;return e.extend({type:"dataset",defaultOption:{seriesLayoutBy:o,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){a(this)}}),t.extend({type:"dataset"}),Am}var xn={},sN=at,lN=sN.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var r=.5522848,a=t.cx,i=t.cy,o=t.rx,l=t.ry,c=o*r,n=l*r;e.moveTo(a-o,i),e.bezierCurveTo(a-o,i-n,a-c,i-l,a,i-l),e.bezierCurveTo(a+c,i-l,a+o,i-n,a+o,i),e.bezierCurveTo(a+o,i+n,a+c,i+l,a,i+l),e.bezierCurveTo(a-c,i+l,a-o,i+n,a-o,i),e.closePath()}}),uN=lN,Wi=Sa,vN=si,hN=ba,cN=RT,GC=Ad,fN=uN,dN=zT,gN=at,pN=kT,mN=OT,yN=Td,_N=ed,ro=Pt(),xN=cn,SN=xN.createFromString,Sn=W,bN=Sn.isString,wN=Sn.extend,AN=Sn.defaults,Rr=Sn.trim,Cm=Sn.each,Zr=/[\s,]+/;function FC(e){if(bN(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}function as(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}as.prototype.parse=function(e,t){t=t||{};var r=FC(e);if(!r)throw new Error("Illegal svg");var a=new Wi;this._root=a;var i=r.getAttribute("viewBox")||"",o=parseFloat(r.getAttribute("width")||t.width),l=parseFloat(r.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),zt(r,a,null,!0);for(var c=r.firstChild;c;)this._parseNode(c,a),c=c.nextSibling;var n,h;if(i){var s=Rr(i).split(Zr);s.length>=4&&(n={x:parseFloat(s[0]||0),y:parseFloat(s[1]||0),width:parseFloat(s[2]),height:parseFloat(s[3])})}if(n&&o!=null&&l!=null&&(h=UC(n,o,l),!t.ignoreViewBox)){var v=a;a=new Wi,a.add(v),v.scale=h.scale.slice(),v.position=h.position.slice()}return!t.ignoreRootClip&&o!=null&&l!=null&&a.setClipPath(new GC({shape:{x:0,y:0,width:o,height:l}})),{root:a,width:o,height:l,viewBoxRect:n,viewBoxTransform:h}};as.prototype._parseNode=function(e,t){var r=e.nodeName.toLowerCase();r==="defs"?this._isDefine=!0:r==="text"&&(this._isText=!0);var a;if(this._isDefine){var i=CN[r];if(i){var o=i.call(this,e),l=e.getAttribute("id");l&&(this._defs[l]=o)}}else{var i=TN[r];i&&(a=i.call(this,e,t),t.add(a))}for(var c=e.firstChild;c;)c.nodeType===1&&this._parseNode(c,a),c.nodeType===3&&this._isText&&this._parseText(c,a),c=c.nextSibling;r==="defs"?this._isDefine=!1:r==="text"&&(this._isText=!1)};as.prototype._parseText=function(e,t){if(e.nodeType===1){var r=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(a)}var i=new hN({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});qt(t,i),zt(e,i,this._defs);var o=i.style.fontSize;o&&o<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=o/9,i.scale[1]*=o/9);var l=i.getBoundingRect();return this._textX+=l.width,t.add(i),i};var TN={g:function(e,t){var r=new Wi;return qt(t,r),zt(e,r,this._defs),r},rect:function(e,t){var r=new GC;return qt(t,r),zt(e,r,this._defs),r.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),r},circle:function(e,t){var r=new cN;return qt(t,r),zt(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),r},line:function(e,t){var r=new dN;return qt(t,r),zt(e,r,this._defs),r.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),r},ellipse:function(e,t){var r=new fN;return qt(t,r),zt(e,r,this._defs),r.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),r},polygon:function(e,t){var r=e.getAttribute("points");r&&(r=Mm(r));var a=new pN({shape:{points:r||[]}});return qt(t,a),zt(e,a,this._defs),a},polyline:function(e,t){var r=new gN;qt(t,r),zt(e,r,this._defs);var a=e.getAttribute("points");a&&(a=Mm(a));var i=new mN({shape:{points:a||[]}});return i},image:function(e,t){var r=new vN;return qt(t,r),zt(e,r,this._defs),r.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),r},text:function(e,t){var r=e.getAttribute("x")||0,a=e.getAttribute("y")||0,i=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(o);var l=new Wi;return qt(t,l),zt(e,l,this._defs),l},tspan:function(e,t){var r=e.getAttribute("x"),a=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),a!=null&&(this._textY=parseFloat(a));var i=e.getAttribute("dx")||0,o=e.getAttribute("dy")||0,l=new Wi;return qt(t,l),zt(e,l,this._defs),this._textX+=i,this._textY+=o,l},path:function(e,t){var r=e.getAttribute("d")||"",a=SN(r);return qt(t,a),zt(e,a,this._defs),a}},CN={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),r=parseInt(e.getAttribute("y1")||0,10),a=parseInt(e.getAttribute("x2")||10,10),i=parseInt(e.getAttribute("y2")||0,10),o=new yN(t,r,a,i);return MN(e,o),o},radialgradient:function(e){}};function MN(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1){var a=r.getAttribute("offset");a.indexOf("%")>0?a=parseInt(a,10)/100:a?a=parseFloat(a):a=0;var i=r.getAttribute("stop-color")||"#000000";t.addColorStop(a,i)}r=r.nextSibling}}function qt(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),AN(t.__inheritedStyle,e.__inheritedStyle))}function Mm(e){for(var t=Rr(e).split(Zr),r=[],a=0;a<t.length;a+=2){var i=parseFloat(t[a]),o=parseFloat(t[a+1]);r.push([i,o])}return r}var Xa={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function zt(e,t,r,a){var i=t.__inheritedStyle||{},o=t.type==="text";if(e.nodeType===1&&(PN(e,t),wN(i,IN(e)),!a)){for(var l in Xa)if(Xa.hasOwnProperty(l)){var c=e.getAttribute(l);c!=null&&(i[Xa[l]]=c)}}var n=o?"textFill":"fill",h=o?"textStroke":"stroke";t.style=t.style||new _N;var s=t.style;i.fill!=null&&s.set(n,Dm(i.fill,r)),i.stroke!=null&&s.set(h,Dm(i.stroke,r)),Cm(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(v){var u=v==="lineWidth"&&o?"textStrokeWidth":v;i[v]!=null&&s.set(u,parseFloat(i[v]))}),(!i.textBaseline||i.textBaseline==="auto")&&(i.textBaseline="alphabetic"),i.textBaseline==="alphabetic"&&(i.textBaseline="bottom"),i.textAlign==="start"&&(i.textAlign="left"),i.textAlign==="end"&&(i.textAlign="right"),Cm(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(v){i[v]!=null&&s.set(v,i[v])}),i.lineDash&&(t.style.lineDash=Rr(i.lineDash).split(Zr)),s[h]&&s[h]!=="none"&&(t[h]=!0),t.__inheritedStyle=i}var DN=/url\(\s*#(.*?)\)/;function Dm(e,t){var r=t&&e&&e.match(DN);if(r){var a=Rr(r[1]),i=t[a];return i}return e}var LN=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function PN(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var a=null,i=[];r.replace(LN,function(n,h,s){i.push(h,s)});for(var o=i.length-1;o>0;o-=2){var l=i[o],c=i[o-1];switch(a=a||ro.create(),c){case"translate":l=Rr(l).split(Zr),ro.translate(a,a,[parseFloat(l[0]),parseFloat(l[1]||0)]);break;case"scale":l=Rr(l).split(Zr),ro.scale(a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":l=Rr(l).split(Zr),ro.rotate(a,a,parseFloat(l[0]));break;case"skew":l=Rr(l).split(Zr),console.warn("Skew transform is not supported yet");break;case"matrix":var l=Rr(l).split(Zr);a[0]=parseFloat(l[0]),a[1]=parseFloat(l[1]),a[2]=parseFloat(l[2]),a[3]=parseFloat(l[3]),a[4]=parseFloat(l[4]),a[5]=parseFloat(l[5]);break}}t.setLocalTransform(a)}}var Lm=/([^\s:;]+)\s*:\s*([^:;]+)/g;function IN(e){var t=e.getAttribute("style"),r={};if(!t)return r;var a={};Lm.lastIndex=0;for(var i;(i=Lm.exec(t))!=null;)a[i[1]]=i[2];for(var o in Xa)Xa.hasOwnProperty(o)&&a[o]!=null&&(r[Xa[o]]=a[o]);return r}function UC(e,t,r){var a=t/e.width,i=r/e.height,o=Math.min(a,i),l=[o,o],c=[-(e.x+e.width/2)*o+t/2,-(e.y+e.height/2)*o+r/2];return{scale:l,position:c}}function RN(e,t){var r=new as;return r.parse(e,t)}xn.parseXML=FC;xn.makeViewBoxTransform=UC;xn.parseSVG=RN;var bn=W,EN=bn.createHashMap,kN=bn.isString,ON=bn.isArray,zN=bn.each;bn.assert;var BN=xn,NN=BN.parseXML,Pm=EN(),VN={registerMap:function(e,t,r){var a;return ON(t)?a=t:t.svg?a=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(r=t.specialAreas,t=t.geoJson),a=[{type:"geoJSON",source:t,specialAreas:r}]),zN(a,function(i){var o=i.type;o==="geoJson"&&(o=i.type="geoJSON");var l=HN[o];l(i)}),Pm.set(e,a)},retrieveMap:function(e){return Pm.get(e)}},HN={geoJSON:function(e){var t=e.source;e.geoJSON=kN(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=NN(e.source)}},Ud=VN,pt={},fr={},dl,Im;function Aa(){if(Im)return dl;Im=1;function e(i){return i}function t(i,o,l,c,n){this._old=i,this._new=o,this._oldKeyGetter=l||e,this._newKeyGetter=c||e,this.context=n}t.prototype={constructor:t,add:function(i){return this._add=i,this},update:function(i){return this._update=i,this},remove:function(i){return this._remove=i,this},execute:function(){var i=this._old,o=this._new,l={},c={},n=[],h=[],s;for(r(i,l,n,"_oldKeyGetter",this),r(o,c,h,"_newKeyGetter",this),s=0;s<i.length;s++){var v=n[s],u=c[v];if(u!=null){var d=u.length;d?(d===1&&(c[v]=null),u=u.shift()):c[v]=null,this._update&&this._update(u,s)}else this._remove&&this._remove(s)}for(var s=0;s<h.length;s++){var v=h[s];if(c.hasOwnProperty(v)){var u=c[v];if(u==null)continue;if(!u.length)this._add&&this._add(u);else for(var f=0,d=u.length;f<d;f++)this._add&&this._add(u[f])}}}};function r(i,o,l,c,n){for(var h=0;h<i.length;h++){var s="_ec_"+n[c](i[h],h),v=o[s];v==null?(l.push(s),o[s]=h):(v.length||(o[s]=v=[v]),v.push(h))}}var a=t;return dl=a,dl}var Ii={},Rm;function wn(){if(Rm)return Ii;Rm=1;var e=W,t=e.each,r=e.createHashMap;e.assert;var a=r(["tooltip","label","itemName","itemId","seriesName"]);function i(n){var h={},s=h.encode={},v=r(),u=[],d=[],f=h.userOutput={dimensionNames:n.dimensions.slice(),encode:{}};t(n.dimensions,function(_){var A=n.getDimensionInfo(_),S=A.coordDim;if(S){var b=A.coordDimIndex;o(s,S)[b]=_,A.isExtraCoord||(v.set(S,1),c(A.type)&&(u[0]=_),o(f.encode,S)[b]=A.index),A.defaultTooltip&&d.push(_)}a.each(function(x,w){var T=o(s,w),M=A.otherDims[w];M!=null&&M!==!1&&(T[M]=A.name)})});var m=[],p={};v.each(function(_,A){var S=s[A];p[A]=S[0],m=m.concat(S)}),h.dataDimsOnCoord=m,h.encodeFirstDimNotExtra=p;var g=s.label;g&&g.length&&(u=g.slice());var y=s.tooltip;return y&&y.length?d=y.slice():d.length||(d=u.slice()),s.defaultedLabel=u,s.defaultedTooltip=d,h}function o(n,h){return n.hasOwnProperty(h)||(n[h]=[]),n[h]}function l(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function c(n){return!(n==="ordinal"||n==="time")}return Ii.OTHER_DIMENSIONS=a,Ii.summarizeDimensions=i,Ii.getDimensionTypeByAxis=l,Ii}var gl,Em;function $C(){if(Em)return gl;Em=1;var e=W;function t(a){a!=null&&e.extend(this,a),this.otherDims={}}var r=t;return gl=r,gl}var pl,km;function Wt(){if(km)return pl;km=1;var e=W,t=ot(),r=Aa(),a=mn,i=ir,o=i.defaultDimValueGetters,l=i.DefaultDataProvider,c=wn(),n=c.summarizeDimensions,h=$C(),s=e.isObject,v="undefined",u=-1,d="e\0\0",f={float:typeof Float64Array===v?Array:Float64Array,int:typeof Int32Array===v?Array:Int32Array,ordinal:Array,number:Array,time:Array},m=typeof Uint32Array===v?Array:Uint32Array,p=typeof Int32Array===v?Array:Int32Array,g=typeof Uint16Array===v?Array:Uint16Array;function y(R){return R._rawCount>65535?m:g}function _(R){var O=R.constructor;return O===Array?R.slice():new O(R)}var A=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],S=["_extent","_approximateExtent","_rawExtent"];function b(R,O){e.each(A.concat(O.__wrappedMethods||[]),function(k){O.hasOwnProperty(k)&&(R[k]=O[k])}),R.__wrappedMethods=O.__wrappedMethods,e.each(S,function(k){R[k]=e.clone(O[k])}),R._calculationInfo=e.extend(O._calculationInfo)}var x=function(R,O){R=R||["x","y"];for(var k={},B=[],q={},H=0;H<R.length;H++){var F=R[H];e.isString(F)?F=new h({name:F}):F instanceof h||(F=new h(F));var U=F.name;F.type=F.type||"float",F.coordDim||(F.coordDim=U,F.coordDimIndex=0),F.otherDims=F.otherDims||{},B.push(U),k[U]=F,F.index=H,F.createInvertedIndices&&(q[U]=[])}this.dimensions=B,this._dimensionInfos=k,this.hostModel=O,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=n(this),this._invertedIndicesMap=q,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},w=x.prototype;w.type="list",w.hasItemOption=!0,w.getDimension=function(R){return(typeof R=="number"||!isNaN(R)&&!this._dimensionInfos.hasOwnProperty(R))&&(R=this.dimensions[R]),R},w.getDimensionInfo=function(R){return this._dimensionInfos[this.getDimension(R)]},w.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},w.mapDimension=function(R,O){var k=this._dimensionsSummary;if(O==null)return k.encodeFirstDimNotExtra[R];var B=k.encode[R];return O===!0?(B||[]).slice():B&&B[O]},w.initData=function(R,O,k){var B=a.isInstance(R)||e.isArrayLike(R);B&&(R=new l(R,this.dimensions.length)),this._rawData=R,this._storage={},this._indices=null,this._nameList=O||[],this._idList=[],this._nameRepeatCount={},k||(this.hasItemOption=!1),this.defaultDimValueGetter=o[this._rawData.getSource().sourceFormat],this._dimValueGetter=k=k||this.defaultDimValueGetter,this._dimValueGetterArrayRows=o.arrayRows,this._rawExtent={},this._initDataFromProvider(0,R.count()),R.pure&&(this.hasItemOption=!1)},w.getProvider=function(){return this._rawData},w.appendData=function(R){var O=this._rawData,k=this.count();O.appendData(R);var B=O.count();O.persistent||(B+=k),this._initDataFromProvider(k,B)},w.appendValues=function(R,O){for(var k=this._chunkSize,B=this._storage,q=this.dimensions,H=q.length,F=this._rawExtent,U=this.count(),$=U+Math.max(R.length,O?O.length:0),Y=this._chunkCount,K=0;K<H;K++){var J=q[K];F[J]||(F[J]=N()),B[J]||(B[J]=[]),T(B,this._dimensionInfos[J],k,Y,$),this._chunkCount=B[J].length}for(var j=new Array(H),ee=U;ee<$;ee++){for(var te=ee-U,ie=Math.floor(ee/k),ge=ee%k,oe=0;oe<H;oe++){var J=q[oe],fe=this._dimValueGetterArrayRows(R[te]||j,J,te,oe);B[J][ie][ge]=fe;var pe=F[J];fe<pe[0]&&(pe[0]=fe),fe>pe[1]&&(pe[1]=fe)}O&&(this._nameList[ee]=O[te])}this._rawCount=this._count=$,this._extent={},M(this)},w._initDataFromProvider=function(R,O){if(!(R>=O)){for(var k=this._chunkSize,B=this._rawData,q=this._storage,H=this.dimensions,F=H.length,U=this._dimensionInfos,$=this._nameList,Y=this._idList,K=this._rawExtent,J=this._nameRepeatCount={},j,ee=this._chunkCount,te=0;te<F;te++){var ie=H[te];K[ie]||(K[ie]=N());var ge=U[ie];ge.otherDims.itemName===0&&(j=this._nameDimIdx=te),ge.otherDims.itemId===0&&(this._idDimIdx=te),q[ie]||(q[ie]=[]),T(q,ge,k,ee,O),this._chunkCount=q[ie].length}for(var oe=new Array(F),fe=R;fe<O;fe++){oe=B.getItem(fe,oe);for(var pe=Math.floor(fe/k),ne=fe%k,se=0;se<F;se++){var ie=H[se],me=q[ie][pe],Z=this._dimValueGetter(oe,ie,fe,se);me[ne]=Z;var Q=K[ie];Z<Q[0]&&(Q[0]=Z),Z>Q[1]&&(Q[1]=Z)}if(!B.pure){var re=$[fe];if(oe&&re==null){if(oe.name!=null)$[fe]=re=oe.name;else if(j!=null){var le=H[j],ue=q[le][pe];if(ue){re=ue[ne];var ve=U[le].ordinalMeta;ve&&ve.categories.length&&(re=ve.categories[re])}}}var he=oe==null?null:oe.id;he==null&&re!=null&&(J[re]=J[re]||0,he=re,J[re]>0&&(he+="__ec__"+J[re]),J[re]++),he!=null&&(Y[fe]=he)}}!B.persistent&&B.clean&&B.clean(),this._rawCount=this._count=O,this._extent={},M(this)}};function T(R,O,k,B,q){var H=f[O.type],F=B-1,U=O.name,$=R[U][F];if($&&$.length<k){for(var Y=new H(Math.min(q-F*k,k)),K=0;K<$.length;K++)Y[K]=$[K];R[U][F]=Y}for(var J=B*k;J<q;J+=k)R[U].push(new H(Math.min(q-J,k)))}function M(R){var O=R._invertedIndicesMap;e.each(O,function(k,B){var q=R._dimensionInfos[B],H=q.ordinalMeta;if(H){k=O[B]=new p(H.categories.length);for(var F=0;F<k.length;F++)k[F]=u;for(var F=0;F<R._count;F++)k[R.get(B,F)]=F}})}function C(R,O,k){var B;if(O!=null){var q=R._chunkSize,H=Math.floor(k/q),F=k%q,U=R.dimensions[O],$=R._storage[U][H];if($){B=$[F];var Y=R._dimensionInfos[U].ordinalMeta;Y&&Y.categories.length&&(B=Y.categories[B])}}return B}w.count=function(){return this._count},w.getIndices=function(){var R,O=this._indices;if(O){var k=O.constructor,B=this._count;if(k===Array){R=new k(B);for(var q=0;q<B;q++)R[q]=O[q]}else R=new k(O.buffer,0,B)}else for(var k=y(this),R=new k(this.count()),q=0;q<R.length;q++)R[q]=q;return R},w.get=function(R,O){if(!(O>=0&&O<this._count))return NaN;var k=this._storage;if(!k[R])return NaN;O=this.getRawIndex(O);var B=Math.floor(O/this._chunkSize),q=O%this._chunkSize,H=k[R][B],F=H[q];return F},w.getByRawIndex=function(R,O){if(!(O>=0&&O<this._rawCount))return NaN;var k=this._storage[R];if(!k)return NaN;var B=Math.floor(O/this._chunkSize),q=O%this._chunkSize,H=k[B];return H[q]},w._getFast=function(R,O){var k=Math.floor(O/this._chunkSize),B=O%this._chunkSize,q=this._storage[R][k];return q[B]},w.getValues=function(R,O){var k=[];e.isArray(R)||(O=R,R=this.dimensions);for(var B=0,q=R.length;B<q;B++)k.push(this.get(R[B],O));return k},w.hasValue=function(R){for(var O=this._dimensionsSummary.dataDimsOnCoord,k=0,B=O.length;k<B;k++)if(isNaN(this.get(O[k],R)))return!1;return!0},w.getDataExtent=function(R){R=this.getDimension(R);var O=this._storage[R],k=N();if(!O)return k;var B=this.count(),q=!this._indices,H;if(q)return this._rawExtent[R].slice();if(H=this._extent[R],H)return H.slice();H=k;for(var F=H[0],U=H[1],$=0;$<B;$++){var Y=this._getFast(R,this.getRawIndex($));Y<F&&(F=Y),Y>U&&(U=Y)}return H=[F,U],this._extent[R]=H,H},w.getApproximateExtent=function(R){return R=this.getDimension(R),this._approximateExtent[R]||this.getDataExtent(R)},w.setApproximateExtent=function(R,O){O=this.getDimension(O),this._approximateExtent[O]=R.slice()},w.getCalculationInfo=function(R){return this._calculationInfo[R]},w.setCalculationInfo=function(R,O){s(R)?e.extend(this._calculationInfo,R):this._calculationInfo[R]=O},w.getSum=function(R){var O=this._storage[R],k=0;if(O)for(var B=0,q=this.count();B<q;B++){var H=this.get(R,B);isNaN(H)||(k+=H)}return k},w.getMedian=function(R){var O=[];this.each(R,function(q,H){isNaN(q)||O.push(q)});var k=[].concat(O).sort(function(q,H){return q-H}),B=this.count();return B===0?0:B%2===1?k[(B-1)/2]:(k[B/2]+k[B/2-1])/2},w.rawIndexOf=function(R,O){var k=R&&this._invertedIndicesMap[R],B=k[O];return B==null||isNaN(B)?u:B},w.indexOfName=function(R){for(var O=0,k=this.count();O<k;O++)if(this.getName(O)===R)return O;return-1},w.indexOfRawIndex=function(R){if(R>=this._rawCount||R<0)return-1;if(!this._indices)return R;var O=this._indices,k=O[R];if(k!=null&&k<this._count&&k===R)return R;for(var B=0,q=this._count-1;B<=q;){var H=(B+q)/2|0;if(O[H]<R)B=H+1;else if(O[H]>R)q=H-1;else return H}return-1},w.indicesOfNearest=function(R,O,k){var B=this._storage,q=B[R],H=[];if(!q)return H;k==null&&(k=1/0);for(var F=1/0,U=-1,$=0,Y=0,K=this.count();Y<K;Y++){var J=O-this.get(R,Y),j=Math.abs(J);j<=k&&((j<F||j===F&&J>=0&&U<0)&&(F=j,U=J,$=0),J===U&&(H[$++]=Y))}return H.length=$,H},w.getRawIndex=D;function D(R){return R}function L(R){return R<this._count&&R>=0?this._indices[R]:-1}w.getRawDataItem=function(R){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(R));for(var O=[],k=0;k<this.dimensions.length;k++){var B=this.dimensions[k];O.push(this.get(B,R))}return O},w.getName=function(R){var O=this.getRawIndex(R);return this._nameList[O]||C(this,this._nameDimIdx,O)||""},w.getId=function(R){return P(this,this.getRawIndex(R))};function P(R,O){var k=R._idList[O];return k==null&&(k=C(R,R._idDimIdx,O)),k==null&&(k=d+O),k}function I(R){return e.isArray(R)||(R=[R]),R}w.each=function(R,O,k,B){if(this._count){typeof R=="function"&&(B=k,k=O,O=R,R=[]),k=k||B||this,R=e.map(I(R),this.getDimension,this);for(var q=R.length,H=0;H<this.count();H++)switch(q){case 0:O.call(k,H);break;case 1:O.call(k,this.get(R[0],H),H);break;case 2:O.call(k,this.get(R[0],H),this.get(R[1],H),H);break;default:for(var F=0,U=[];F<q;F++)U[F]=this.get(R[F],H);U[F]=H,O.apply(k,U)}}},w.filterSelf=function(R,O,k,B){if(this._count){typeof R=="function"&&(B=k,k=O,O=R,R=[]),k=k||B||this,R=e.map(I(R),this.getDimension,this);for(var q=this.count(),H=y(this),F=new H(q),U=[],$=R.length,Y=0,K=R[0],J=0;J<q;J++){var j,ee=this.getRawIndex(J);if($===0)j=O.call(k,J);else if($===1){var te=this._getFast(K,ee);j=O.call(k,te,J)}else{for(var ie=0;ie<$;ie++)U[ie]=this._getFast(K,ee);U[ie]=J,j=O.apply(k,U)}j&&(F[Y++]=ee)}return Y<q&&(this._indices=F),this._count=Y,this._extent={},this.getRawIndex=this._indices?L:D,this}},w.selectRange=function(R){if(this._count){var O=[];for(var k in R)R.hasOwnProperty(k)&&O.push(k);var B=O.length;if(B){var q=this.count(),H=y(this),F=new H(q),U=0,$=O[0],Y=R[$][0],K=R[$][1],J=!1;if(!this._indices){var j=0;if(B===1){for(var ee=this._storage[O[0]],te=0;te<this._chunkCount;te++)for(var ie=ee[te],ge=Math.min(this._count-te*this._chunkSize,this._chunkSize),oe=0;oe<ge;oe++){var fe=ie[oe];(fe>=Y&&fe<=K||isNaN(fe))&&(F[U++]=j),j++}J=!0}else if(B===2){for(var ee=this._storage[$],pe=this._storage[O[1]],ne=R[O[1]][0],se=R[O[1]][1],te=0;te<this._chunkCount;te++)for(var ie=ee[te],me=pe[te],ge=Math.min(this._count-te*this._chunkSize,this._chunkSize),oe=0;oe<ge;oe++){var fe=ie[oe],Z=me[oe];(fe>=Y&&fe<=K||isNaN(fe))&&(Z>=ne&&Z<=se||isNaN(Z))&&(F[U++]=j),j++}J=!0}}if(!J)if(B===1)for(var oe=0;oe<q;oe++){var Q=this.getRawIndex(oe),fe=this._getFast($,Q);(fe>=Y&&fe<=K||isNaN(fe))&&(F[U++]=Q)}else for(var oe=0;oe<q;oe++){for(var re=!0,Q=this.getRawIndex(oe),te=0;te<B;te++){var le=O[te],fe=this._getFast(k,Q);(fe<R[le][0]||fe>R[le][1])&&(re=!1)}re&&(F[U++]=this.getRawIndex(oe))}return U<q&&(this._indices=F),this._count=U,this._extent={},this.getRawIndex=this._indices?L:D,this}}},w.mapArray=function(R,O,k,B){typeof R=="function"&&(B=k,k=O,O=R,R=[]),k=k||B||this;var q=[];return this.each(R,function(){q.push(O&&O.apply(this,arguments))},k),q};function E(R,O){var k=R.dimensions,B=new x(e.map(k,R.getDimensionInfo,R),R.hostModel);b(B,R);for(var q=B._storage={},H=R._storage,F=0;F<k.length;F++){var U=k[F];H[U]&&(e.indexOf(O,U)>=0?(q[U]=z(H[U]),B._rawExtent[U]=N(),B._extent[U]=null):q[U]=H[U])}return B}function z(R){for(var O=new Array(R.length),k=0;k<R.length;k++)O[k]=_(R[k]);return O}function N(){return[1/0,-1/0]}w.map=function(R,O,k,B){k=k||B||this,R=e.map(I(R),this.getDimension,this);var q=E(this,R);q._indices=this._indices,q.getRawIndex=q._indices?L:D;for(var H=q._storage,F=[],U=this._chunkSize,$=R.length,Y=this.count(),K=[],J=q._rawExtent,j=0;j<Y;j++){for(var ee=0;ee<$;ee++)K[ee]=this.get(R[ee],j);K[$]=j;var te=O&&O.apply(k,K);if(te!=null){typeof te!="object"&&(F[0]=te,te=F);for(var ie=this.getRawIndex(j),ge=Math.floor(ie/U),oe=ie%U,fe=0;fe<te.length;fe++){var pe=R[fe],ne=te[fe],se=J[pe],me=H[pe];me&&(me[ge][oe]=ne),ne<se[0]&&(se[0]=ne),ne>se[1]&&(se[1]=ne)}}}return q},w.downSample=function(R,O,k,B){for(var q=E(this,[R]),H=q._storage,F=[],U=Math.floor(1/O),$=H[R],Y=this.count(),K=this._chunkSize,J=q._rawExtent[R],j=new(y(this))(Y),ee=0,te=0;te<Y;te+=U){U>Y-te&&(U=Y-te,F.length=U);for(var ie=0;ie<U;ie++){var ge=this.getRawIndex(te+ie),oe=Math.floor(ge/K),fe=ge%K;F[ie]=$[oe][fe]}var pe=k(F),ne=this.getRawIndex(Math.min(te+B(F,pe)||0,Y-1)),se=Math.floor(ne/K),me=ne%K;$[se][me]=pe,pe<J[0]&&(J[0]=pe),pe>J[1]&&(J[1]=pe),j[ee++]=ne}return q._count=ee,q._indices=j,q.getRawIndex=L,q},w.getItemModel=function(R){var O=this.hostModel;return new t(this.getRawDataItem(R),O,O&&O.ecModel)},w.diff=function(R){var O=this;return new r(R?R.getIndices():[],this.getIndices(),function(k){return P(R,k)},function(k){return P(O,k)})},w.getVisual=function(R){var O=this._visual;return O&&O[R]},w.setVisual=function(R,O){if(s(R)){for(var k in R)R.hasOwnProperty(k)&&this.setVisual(k,R[k]);return}this._visual=this._visual||{},this._visual[R]=O},w.setLayout=function(R,O){if(s(R)){for(var k in R)R.hasOwnProperty(k)&&this.setLayout(k,R[k]);return}this._layout[R]=O},w.getLayout=function(R){return this._layout[R]},w.getItemLayout=function(R){return this._itemLayouts[R]},w.setItemLayout=function(R,O,k){this._itemLayouts[R]=k?e.extend(this._itemLayouts[R]||{},O):O},w.clearItemLayouts=function(){this._itemLayouts.length=0},w.getItemVisual=function(R,O,k){var B=this._itemVisuals[R],q=B&&B[O];return q==null&&!k?this.getVisual(O):q},w.setItemVisual=function(R,O,k){var B=this._itemVisuals[R]||{},q=this.hasItemVisual;if(this._itemVisuals[R]=B,s(O)){for(var H in O)O.hasOwnProperty(H)&&(B[H]=O[H],q[H]=!0);return}B[O]=k,q[O]=!0},w.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var G=function(R){R.seriesIndex=this.seriesIndex,R.dataIndex=this.dataIndex,R.dataType=this.dataType};w.setItemGraphicEl=function(R,O){var k=this.hostModel;O&&(O.dataIndex=R,O.dataType=this.dataType,O.seriesIndex=k&&k.seriesIndex,O.type==="group"&&O.traverse(G,O)),this._graphicEls[R]=O},w.getItemGraphicEl=function(R){return this._graphicEls[R]},w.eachItemGraphicEl=function(R,O){e.each(this._graphicEls,function(k,B){k&&R&&R.call(O,k,B)})},w.cloneShallow=function(R){if(!R){var O=e.map(this.dimensions,this.getDimensionInfo,this);R=new x(O,this.hostModel)}if(R._storage=this._storage,b(R,this),this._indices){var k=this._indices.constructor;R._indices=new k(this._indices)}else R._indices=null;return R.getRawIndex=R._indices?L:D,R},w.wrapMethod=function(R,O){var k=this[R];typeof k=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(R),this[R]=function(){var B=k.apply(this,arguments);return O.apply(this,[B].concat(e.slice(arguments)))})},w.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],w.CHANGABLE_METHODS=["filterSelf","selectRange"];var V=x;return pl=V,pl}var ml,Om;function WC(){if(Om)return ml;Om=1;var e=W,t=e.createHashMap,r=e.each,a=e.isString,i=e.defaults,o=e.extend,l=e.isObject,c=e.clone,n=Pe,h=n.normalizeToArray,s=zr(),v=s.guessOrdinal,u=s.BE_ORDINAL,d=mn,f=wn(),m=f.OTHER_DIMENSIONS,p=$C();function g(S,b,x){d.isInstance(b)||(b=d.seriesDataToSource(b)),x=x||{},S=(S||[]).slice();for(var w=(x.dimsDef||[]).slice(),T=t(),M=t(),C=[],D=y(b,S,w,x.dimCount),L=0;L<D;L++){var P=w[L]=o({},l(w[L])?w[L]:{name:w[L]}),I=P.name,E=C[L]=new p;I!=null&&T.get(I)==null&&(E.name=E.displayName=I,T.set(I,L)),P.type!=null&&(E.type=P.type),P.displayName!=null&&(E.displayName=P.displayName)}var z=x.encodeDef;!z&&x.encodeDefaulter&&(z=x.encodeDefaulter(b,D)),z=t(z),z.each(function(H,F){if(H=h(H).slice(),H.length===1&&!a(H[0])&&H[0]<0){z.set(F,!1);return}var U=z.set(F,[]);r(H,function($,Y){a($)&&($=T.get($)),$!=null&&$<D&&(U[Y]=$,G(C[$],F,Y))})});var N=0;r(S,function($,F){var U,$,Y,K;if(a($))U=$,$={};else{U=$.name;var J=$.ordinalMeta;$.ordinalMeta=null,$=c($),$.ordinalMeta=J,Y=$.dimsDef,K=$.otherDims,$.name=$.coordDim=$.coordDimIndex=$.dimsDef=$.otherDims=null}var j=z.get(U);if(j!==!1){var j=h(j);if(!j.length)for(var ee=0;ee<(Y&&Y.length||1);ee++){for(;N<C.length&&C[N].coordDim!=null;)N++;N<C.length&&j.push(N++)}r(j,function(te,ie){var ge=C[te];if(G(i(ge,$),U,ie),ge.name==null&&Y){var oe=Y[ie];!l(oe)&&(oe={name:oe}),ge.name=ge.displayName=oe.name,ge.defaultTooltip=oe.defaultTooltip}K&&i(ge.otherDims,K)})}});function G(H,F,U){m.get(F)!=null?H.otherDims[F]=U:(H.coordDim=F,H.coordDimIndex=U,M.set(F,!0))}var V=x.generateCoord,R=x.generateCoordCount,O=R!=null;R=V?R||1:0;for(var k=V||"value",B=0;B<D;B++){var E=C[B]=C[B]||new p,q=E.coordDim;q==null&&(E.coordDim=_(k,M,O),E.coordDimIndex=0,(!V||R<=0)&&(E.isExtraCoord=!0),R--),E.name==null&&(E.name=_(E.coordDim,T)),E.type==null&&(v(b,B,E.name)===u.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type="ordinal")}return C}function y(S,b,x,w){var T=Math.max(S.dimensionsDetectCount||1,b.length,x.length,w||0);return r(b,function(M){var C=M.dimsDef;C&&(T=Math.max(T,C.length))}),T}function _(S,b,x){if(x||b.get(S)!=null){for(var w=0;b.get(S+w)!=null;)w++;S+=w}return b.set(S,!0),S}var A=g;return ml=A,ml}var yl,zm;function gi(){if(zm)return yl;zm=1;var e=WC();function t(r,a){return a=a||{},e(a.coordDimensions||[],r,{dimsDef:a.dimensionsDefine||r.dimensionsDefine,encodeDef:a.encodeDefine||r.encodeDefine,dimCount:a.dimensionsCount,encodeDefaulter:a.encodeDefaulter,generateCoord:a.generateCoord,generateCoordCount:a.generateCoordCount})}return yl=t,yl}var _l={},Bm;function qN(){if(Bm)return _l;Bm=1;var e=W,t=e.createHashMap;e.retrieve;var r=e.each;function a(c){this.coordSysName=c,this.coordSysDims=[],this.axisMap=t(),this.categoryAxisMap=t(),this.firstCategoryDimIndex=null}function i(c){var n=c.get("coordinateSystem"),h=new a(n),s=o[n];if(s)return s(c,h,h.axisMap,h.categoryAxisMap),h}var o={cartesian2d:function(c,n,h,s){var v=c.getReferringComponents("xAxis")[0],u=c.getReferringComponents("yAxis")[0];n.coordSysDims=["x","y"],h.set("x",v),h.set("y",u),l(v)&&(s.set("x",v),n.firstCategoryDimIndex=0),l(u)&&(s.set("y",u),n.firstCategoryDimIndex==null&(n.firstCategoryDimIndex=1))},singleAxis:function(c,n,h,s){var v=c.getReferringComponents("singleAxis")[0];n.coordSysDims=["single"],h.set("single",v),l(v)&&(s.set("single",v),n.firstCategoryDimIndex=0)},polar:function(c,n,h,s){var v=c.getReferringComponents("polar")[0],u=v.findAxisModel("radiusAxis"),d=v.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],h.set("radius",u),h.set("angle",d),l(u)&&(s.set("radius",u),n.firstCategoryDimIndex=0),l(d)&&(s.set("angle",d),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(c,n,h,s){n.coordSysDims=["lng","lat"]},parallel:function(c,n,h,s){var v=c.ecModel,u=v.getComponent("parallel",c.get("parallelIndex")),d=n.coordSysDims=u.dimensions.slice();r(u.parallelAxisIndex,function(f,m){var p=v.getComponent("parallelAxis",f),g=d[m];h.set(g,p),l(p)&&n.firstCategoryDimIndex==null&&(s.set(g,p),n.firstCategoryDimIndex=m)})}};function l(c){return c.get("type")==="category"}return _l.getCoordSysInfoBySeries=i,_l}var Ri={},Nm;function wr(){if(Nm)return Ri;Nm=1;var e=W,t=e.each,r=e.isString;function a(l,c,n){n=n||{};var h=n.byIndex,s=n.stackedCoordDimension,v=!!(l&&l.get("stack")),u,d,f,m;if(t(c,function(_,A){r(_)&&(c[A]=_={name:_}),v&&!_.isExtraCoord&&(!h&&!u&&_.ordinalMeta&&(u=_),!d&&_.type!=="ordinal"&&_.type!=="time"&&(!s||s===_.coordDim)&&(d=_))}),d&&!h&&!u&&(h=!0),d){f="__\0ecstackresult",m="__\0ecstackedover",u&&(u.createInvertedIndices=!0);var p=d.coordDim,g=d.type,y=0;t(c,function(_){_.coordDim===p&&y++}),c.push({name:f,coordDim:p,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0}),y++,c.push({name:m,coordDim:m,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:d&&d.name,stackedByDimension:u&&u.name,isStackedByIndex:h,stackedOverDimension:m,stackResultDimension:f}}function i(l,c){return!!c&&c===l.getCalculationInfo("stackedDimension")}function o(l,c){return i(l,c)?l.getCalculationInfo("stackResultDimension"):c}return Ri.enableDataStack=a,Ri.isDimensionStacked=i,Ri.getStackedDimension=o,Ri}var xl,Vm;function Br(){if(Vm)return xl;Vm=1;var e=W,t=Wt(),r=gi(),a=gn(),i=a.SOURCE_FORMAT_ORIGINAL,o=wn(),l=o.getDimensionTypeByAxis,c=Pe,n=c.getDataItemValue,h=Sr,s=qN(),v=s.getCoordSysInfoBySeries,u=mn,d=wr(),f=d.enableDataStack,m=zr(),p=m.makeSeriesEncodeForAxisCoordSys;function g(S,b,x){x=x||{},u.isInstance(S)||(S=u.seriesDataToSource(S));var w=b.get("coordinateSystem"),T=h.get(w),M=v(b),C;M&&(C=e.map(M.coordSysDims,function(N){var G={name:N},V=M.axisMap.get(N);if(V){var R=V.get("type");G.type=l(R)}return G})),C||(C=T&&(T.getDimensionsInfo?T.getDimensionsInfo():T.dimensions.slice())||["x","y"]);var D=r(S,{coordDimensions:C,generateCoord:x.generateCoord,encodeDefaulter:x.useEncodeDefaulter?e.curry(p,C,b):null}),L,P;M&&e.each(D,function(N,G){var V=N.coordDim,R=M.categoryAxisMap.get(V);R&&(L==null&&(L=G),N.ordinalMeta=R.getOrdinalMeta()),N.otherDims.itemName!=null&&(P=!0)}),!P&&L!=null&&(D[L].otherDims.itemName=0);var I=f(b,D),E=new t(D,b);E.setCalculationInfo(I);var z=L!=null&&y(S)?function(N,G,V,R){return R===L?V:this.defaultDimValueGetter(N,G,V,R)}:null;return E.hasItemOption=!1,E.initData(S,null,z),E}function y(S){if(S.sourceFormat===i){var b=_(S.data||[]);return b!=null&&!e.isArray(n(b))}}function _(S){for(var b=0;b<S.length&&S[b]==null;)b++;return S[b]}var A=g;return xl=A,xl}var Kt={},Sl,Hm;function is(){if(Hm)return Sl;Hm=1;var e=kt;function t(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}t.prototype.parse=function(a){return a},t.prototype.getSetting=function(a){return this._setting[a]},t.prototype.contain=function(a){var i=this._extent;return a>=i[0]&&a<=i[1]},t.prototype.normalize=function(a){var i=this._extent;return i[1]===i[0]?.5:(a-i[0])/(i[1]-i[0])},t.prototype.scale=function(a){var i=this._extent;return a*(i[1]-i[0])+i[0]},t.prototype.unionExtent=function(a){var i=this._extent;a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])},t.prototype.unionExtentFromData=function(a,i){this.unionExtent(a.getApproximateExtent(i))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(a,i){var o=this._extent;isNaN(a)||(o[0]=a),isNaN(i)||(o[1]=i)},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(a){this._isBlank=a},t.prototype.getLabel=null,e.enableClassExtend(t),e.enableClassManagement(t,{registerWhenExtend:!0});var r=t;return Sl=r,Sl}var bl,qm;function ZC(){if(qm)return bl;qm=1;var e=W,t=e.createHashMap,r=e.isObject,a=e.map;function i(h){this.categories=h.categories||[],this._needCollect=h.needCollect,this._deduplication=h.deduplication,this._map}i.createByAxisModel=function(h){var s=h.option,v=s.data,u=v&&a(v,c);return new i({categories:u,needCollect:!u,deduplication:s.dedplication!==!1})};var o=i.prototype;o.getOrdinal=function(h){return l(this).get(h)},o.parseAndCollect=function(h){var s,v=this._needCollect;if(typeof h!="string"&&!v)return h;if(v&&!this._deduplication)return s=this.categories.length,this.categories[s]=h,s;var u=l(this);return s=u.get(h),s==null&&(v?(s=this.categories.length,this.categories[s]=h,u.set(h,s)):s=NaN),s};function l(h){return h._map||(h._map=t(h.categories))}function c(h){return r(h)&&h.value!=null?h.value:h+""}var n=i;return bl=n,bl}var wl,Gm;function GN(){if(Gm)return wl;Gm=1;var e=W,t=is(),r=ZC(),a=t.prototype,i=t.extend({type:"ordinal",init:function(l,c){(!l||e.isArray(l))&&(l=new r({categories:l})),this._ordinalMeta=l,this._extent=c||[0,l.categories.length-1]},parse:function(l){return typeof l=="string"?this._ordinalMeta.getOrdinal(l):Math.round(l)},contain:function(l){return l=this.parse(l),a.contain.call(this,l)&&this._ordinalMeta.categories[l]!=null},normalize:function(l){return a.normalize.call(this,this.parse(l))},scale:function(l){return Math.round(a.scale.call(this,l))},getTicks:function(){for(var l=[],c=this._extent,n=c[0];n<=c[1];)l.push(n),n++;return l},getLabel:function(l){if(!this.isBlank())return this._ordinalMeta.categories[l]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(l,c){this.unionExtent(l.getApproximateExtent(c))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:e.noop,niceExtent:e.noop});i.create=function(){return new i};var o=i;return wl=o,wl}var Ei={},Fm;function YC(){if(Fm)return Ei;Fm=1;var e=Re(),t=e.round;function r(l,c,n,h){var s={},v=l[1]-l[0],u=s.interval=e.nice(v/c,!0);n!=null&&u<n&&(u=s.interval=n),h!=null&&u>h&&(u=s.interval=h);var d=s.intervalPrecision=a(u),f=s.niceTickExtent=[t(Math.ceil(l[0]/u)*u,d),t(Math.floor(l[1]/u)*u,d)];return o(f,l),s}function a(l){return e.getPrecisionSafe(l)+2}function i(l,c,n){l[c]=Math.max(Math.min(l[c],n[1]),n[0])}function o(l,c){!isFinite(l[0])&&(l[0]=c[0]),!isFinite(l[1])&&(l[1]=c[1]),i(l,0,c),i(l,1,c),l[0]>l[1]&&(l[0]=l[1])}return Ei.intervalScaleNiceTicks=r,Ei.getIntervalPrecision=a,Ei.fixExtent=o,Ei}var Al,Um;function ns(){if(Um)return Al;Um=1;var e=Re(),t=Ge(),r=is(),a=YC(),i=e.round,o=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(c,n){var h=this._extent;isNaN(c)||(h[0]=parseFloat(c)),isNaN(n)||(h[1]=parseFloat(n))},unionExtent:function(c){var n=this._extent;c[0]<n[0]&&(n[0]=c[0]),c[1]>n[1]&&(n[1]=c[1]),o.prototype.setExtent.call(this,n[0],n[1])},getInterval:function(){return this._interval},setInterval:function(c){this._interval=c,this._niceExtent=this._extent.slice(),this._intervalPrecision=a.getIntervalPrecision(c)},getTicks:function(c){var n=this._interval,h=this._extent,s=this._niceExtent,v=this._intervalPrecision,u=[];if(!n)return u;var d=1e4;h[0]<s[0]&&(c?u.push(i(s[0]-n,v)):u.push(h[0]));for(var f=s[0];f<=s[1]&&(u.push(f),f=i(f+n,v),f!==u[u.length-1]);)if(u.length>d)return[];var m=u.length?u[u.length-1]:s[1];return h[1]>m&&(c?u.push(i(m+n,v)):u.push(h[1])),u},getMinorTicks:function(c){for(var n=this.getTicks(!0),h=[],s=this.getExtent(),v=1;v<n.length;v++){for(var u=n[v],d=n[v-1],f=0,m=[],p=u-d,g=p/c;f<c-1;){var y=e.round(d+(f+1)*g);y>s[0]&&y<s[1]&&m.push(y),f++}h.push(m)}return h},getLabel:function(c,n){if(c==null)return"";var h=n&&n.precision;return h==null?h=e.getPrecisionSafe(c)||0:h==="auto"&&(h=this._intervalPrecision),c=i(c,h,!0),t.addCommas(c)},niceTicks:function(c,n,h){c=c||5;var s=this._extent,v=s[1]-s[0];if(isFinite(v)){v<0&&(v=-v,s.reverse());var u=a.intervalScaleNiceTicks(s,c,n,h);this._intervalPrecision=u.intervalPrecision,this._interval=u.interval,this._niceExtent=u.niceTickExtent}},niceExtent:function(c){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var h=n[0];c.fixMax||(n[1]+=h/2),n[0]-=h/2}else n[1]=1;var s=n[1]-n[0];isFinite(s)||(n[0]=0,n[1]=1),this.niceTicks(c.splitNumber,c.minInterval,c.maxInterval);var v=this._interval;c.fixMin||(n[0]=i(Math.floor(n[0]/v)*v)),c.fixMax||(n[1]=i(Math.ceil(n[1]/v)*v))}});o.create=function(){return new o};var l=o;return Al=l,Al}var Fr={},$m;function os(){if($m)return Fr;$m=1;var e=W,t=Re(),r=t.parsePercent,a=wr(),i=a.isDimensionStacked,o=fi,l="__ec_stack_",c=.5,n=typeof Float32Array<"u"?Float32Array:Array;function h(b){return b.get("stack")||l+b.seriesIndex}function s(b){return b.dim+b.index}function v(b){var x=[],w=b.axis,T="axis0";if(w.type==="category"){for(var M=w.getBandWidth(),C=0;C<b.count;C++)x.push(e.defaults({bandWidth:M,axisKey:T,stackId:l+C},b));for(var D=m(x),L=[],C=0;C<b.count;C++){var P=D[T][l+C];P.offsetCenter=P.offset+P.width/2,L.push(P)}return L}}function u(b,x){var w=[];return x.eachSeriesByType(b,function(T){_(T)&&!A(T)&&w.push(T)}),w}function d(b){var x={};e.each(b,function(P){var I=P.coordinateSystem,E=I.getBaseAxis();if(!(E.type!=="time"&&E.type!=="value"))for(var z=P.getData(),N=E.dim+"_"+E.index,G=z.mapDimension(E.dim),V=0,R=z.count();V<R;++V){var O=z.get(G,V);x[N]?x[N].push(O):x[N]=[O]}});var w=[];for(var T in x)if(x.hasOwnProperty(T)){var M=x[T];if(M){M.sort(function(P,I){return P-I});for(var C=null,D=1;D<M.length;++D){var L=M[D]-M[D-1];L>0&&(C=C===null?L:Math.min(C,L))}w[T]=C}}return w}function f(b){var x=d(b),w=[];return e.each(b,function(T){var M=T.coordinateSystem,C=M.getBaseAxis(),D=C.getExtent(),L;if(C.type==="category")L=C.getBandWidth();else if(C.type==="value"||C.type==="time"){var P=C.dim+"_"+C.index,I=x[P],E=Math.abs(D[1]-D[0]),z=C.scale.getExtent(),N=Math.abs(z[1]-z[0]);L=I?E/N*I:E}else{var G=T.getData();L=Math.abs(D[1]-D[0])/G.count()}var V=r(T.get("barWidth"),L),R=r(T.get("barMaxWidth"),L),O=r(T.get("barMinWidth")||1,L),k=T.get("barGap"),B=T.get("barCategoryGap");w.push({bandWidth:L,barWidth:V,barMaxWidth:R,barMinWidth:O,barGap:k,barCategoryGap:B,axisKey:s(C),stackId:h(T)})}),m(w)}function m(b){var x={};e.each(b,function(T,M){var C=T.axisKey,D=T.bandWidth,L=x[C]||{bandWidth:D,remainedWidth:D,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},P=L.stacks;x[C]=L;var I=T.stackId;P[I]||L.autoWidthCount++,P[I]=P[I]||{width:0,maxWidth:0};var E=T.barWidth;E&&!P[I].width&&(P[I].width=E,E=Math.min(L.remainedWidth,E),L.remainedWidth-=E);var z=T.barMaxWidth;z&&(P[I].maxWidth=z);var N=T.barMinWidth;N&&(P[I].minWidth=N);var G=T.barGap;G!=null&&(L.gap=G);var V=T.barCategoryGap;V!=null&&(L.categoryGap=V)});var w={};return e.each(x,function(T,M){w[M]={};var C=T.stacks,D=T.bandWidth,L=r(T.categoryGap,D),P=r(T.gap,1),I=T.remainedWidth,E=T.autoWidthCount,z=(I-L)/(E+(E-1)*P);z=Math.max(z,0),e.each(C,function(R){var O=R.maxWidth,k=R.minWidth;if(R.width){var B=R.width;O&&(B=Math.min(B,O)),k&&(B=Math.max(B,k)),R.width=B,I-=B+P*B,E--}else{var B=z;O&&O<B&&(B=Math.min(O,I)),k&&k>B&&(B=k),B!==z&&(R.width=B,I-=B+P*B,E--)}}),z=(I-L)/(E+(E-1)*P),z=Math.max(z,0);var N=0,G;e.each(C,function(R,O){R.width||(R.width=z),G=R,N+=R.width*(1+P)}),G&&(N-=G.width*P);var V=-N/2;e.each(C,function(R,O){w[M][O]=w[M][O]||{bandWidth:D,offset:V,width:R.width},V+=R.width*(1+P)})}),w}function p(b,x,w){if(b&&x){var T=b[s(x)];return T!=null&&w!=null&&(T=T[h(w)]),T}}function g(b,x){var w=u(b,x),T=f(w),M={};e.each(w,function(C){var D=C.getData(),L=C.coordinateSystem,P=L.getBaseAxis(),I=h(C),E=T[s(P)][I],z=E.offset,N=E.width,G=L.getOtherAxis(P),V=C.get("barMinHeight")||0;M[I]=M[I]||[],D.setLayout({bandWidth:E.bandWidth,offset:z,size:N});for(var R=D.mapDimension(G.dim),O=D.mapDimension(P.dim),k=i(D,R),B=G.isHorizontal(),q=S(P,G),H=0,F=D.count();H<F;H++){var U=D.get(R,H),$=D.get(O,H),Y=U>=0?"p":"n",K=q;k&&(M[I][$]||(M[I][$]={p:q,n:q}),K=M[I][$][Y]);var J,j,ee,te;if(B){var ie=L.dataToPoint([U,$]);J=K,j=ie[1]+z,ee=ie[0]-q,te=N,Math.abs(ee)<V&&(ee=(ee<0?-1:1)*V),isNaN(ee)||k&&(M[I][$][Y]+=ee)}else{var ie=L.dataToPoint([$,U]);J=ie[0]+z,j=K,ee=N,te=ie[1]-q,Math.abs(te)<V&&(te=(te<=0?-1:1)*V),isNaN(te)||k&&(M[I][$][Y]+=te)}D.setItemLayout(H,{x:J,y:j,width:ee,height:te})}},this)}var y={seriesType:"bar",plan:o(),reset:function(b){if(!_(b)||!A(b))return;var x=b.getData(),w=b.coordinateSystem,T=w.grid.getRect(),M=w.getBaseAxis(),C=w.getOtherAxis(M),D=x.mapDimension(C.dim),L=x.mapDimension(M.dim),P=C.isHorizontal(),I=P?0:1,E=p(f([b]),M,b).width;return E>c||(E=c),{progress:z};function z(N,G){for(var V=N.count,R=new n(V*2),O=new n(V*2),k=new n(V),B,q=[],H=[],F=0,U=0;(B=N.next())!=null;)H[I]=G.get(D,B),H[1-I]=G.get(L,B),q=w.dataToPoint(H,null,q),O[F]=P?T.x+T.width:q[0],R[F++]=q[0],O[F]=P?q[1]:T.y+T.height,R[F++]=q[1],k[U++]=B;G.setLayout({largePoints:R,largeDataIndices:k,largeBackgroundPoints:O,barWidth:E,valueAxisStart:S(M,C),backgroundStart:P?T.x:T.y,valueAxisHorizontal:P})}}};function _(b){return b.coordinateSystem&&b.coordinateSystem.type==="cartesian2d"}function A(b){return b.pipelineContext&&b.pipelineContext.large}function S(b,x,w){return x.toGlobalCoord(x.dataToCoord(x.type==="log"?1:0))}return Fr.getLayoutOnAxis=v,Fr.prepareLayoutBarSeries=u,Fr.makeColumnLayout=f,Fr.retrieveColumnLayout=p,Fr.layout=g,Fr.largeLayout=y,Fr}var Tl,Wm;function FN(){if(Wm)return Tl;Wm=1;var e=W,t=Re(),r=Ge(),a=YC(),i=ns(),o=i.prototype,l=Math.ceil,c=Math.floor,n=1e3,h=n*60,s=h*60,v=s*24,u=function(p,g,y,_){for(;y<_;){var A=y+_>>>1;p[A][1]<g?y=A+1:_=A}return y},d=i.extend({type:"time",getLabel:function(p){var g=this._stepLvl,y=new Date(p);return r.formatTime(g[0],y,this.getSetting("useUTC"))},niceExtent:function(p){var g=this._extent;if(g[0]===g[1]&&(g[0]-=v,g[1]+=v),g[1]===-1/0&&g[0]===1/0){var y=new Date;g[1]=+new Date(y.getFullYear(),y.getMonth(),y.getDate()),g[0]=g[1]-v}this.niceTicks(p.splitNumber,p.minInterval,p.maxInterval);var _=this._interval;p.fixMin||(g[0]=t.round(c(g[0]/_)*_)),p.fixMax||(g[1]=t.round(l(g[1]/_)*_))},niceTicks:function(p,g,y){p=p||10;var _=this._extent,A=_[1]-_[0],S=A/p;g!=null&&S<g&&(S=g),y!=null&&S>y&&(S=y);var b=f.length,x=u(f,S,0,b),w=f[Math.min(x,b-1)],T=w[1];if(w[0]==="year"){var M=A/T,C=t.nice(M/p,!0);T*=C}var D=this.getSetting("useUTC")?0:new Date(+_[0]||+_[1]).getTimezoneOffset()*60*1e3,L=[Math.round(l((_[0]-D)/T)*T+D),Math.round(c((_[1]-D)/T)*T+D)];a.fixExtent(L,_),this._stepLvl=w,this._interval=T,this._niceExtent=L},parse:function(p){return+t.parseDate(p)}});e.each(["contain","normalize"],function(p){d.prototype[p]=function(g){return o[p].call(this,this.parse(g))}});var f=[["hh:mm:ss",n],["hh:mm:ss",n*5],["hh:mm:ss",n*10],["hh:mm:ss",n*15],["hh:mm:ss",n*30],[`hh:mm
MM-dd`,h],[`hh:mm
MM-dd`,h*5],[`hh:mm
MM-dd`,h*10],[`hh:mm
MM-dd`,h*15],[`hh:mm
MM-dd`,h*30],[`hh:mm
MM-dd`,s],[`hh:mm
MM-dd`,s*2],[`hh:mm
MM-dd`,s*6],[`hh:mm
MM-dd`,s*12],[`MM-dd
yyyy`,v],[`MM-dd
yyyy`,v*2],[`MM-dd
yyyy`,v*3],[`MM-dd
yyyy`,v*4],[`MM-dd
yyyy`,v*5],[`MM-dd
yyyy`,v*6],["week",v*7],[`MM-dd
yyyy`,v*10],["week",v*14],["week",v*21],["month",v*31],["week",v*42],["month",v*62],["week",v*70],["quarter",v*95],["month",v*31*4],["month",v*31*5],["half-year",v*380/2],["month",v*31*8],["month",v*31*10],["year",v*380]];d.create=function(p){return new d({useUTC:p.ecModel.get("useUTC")})};var m=d;return Tl=m,Tl}var Cl,Zm;function XC(){if(Zm)return Cl;Zm=1;var e=W,t=is(),r=Re(),a=ns(),i=t.prototype,o=a.prototype,l=r.getPrecisionSafe,c=r.round,n=Math.floor,h=Math.ceil,s=Math.pow,v=Math.log,u=t.extend({type:"log",base:10,$constructor:function(){t.apply(this,arguments),this._originalScale=new a},getTicks:function(m){var p=this._originalScale,g=this._extent,y=p.getExtent();return e.map(o.getTicks.call(this,m),function(_){var A=r.round(s(this.base,_));return A=_===g[0]&&p.__fixMin?d(A,y[0]):A,A=_===g[1]&&p.__fixMax?d(A,y[1]):A,A},this)},getMinorTicks:o.getMinorTicks,getLabel:o.getLabel,scale:function(m){return m=i.scale.call(this,m),s(this.base,m)},setExtent:function(m,p){var g=this.base;m=v(m)/v(g),p=v(p)/v(g),o.setExtent.call(this,m,p)},getExtent:function(){var m=this.base,p=i.getExtent.call(this);p[0]=s(m,p[0]),p[1]=s(m,p[1]);var g=this._originalScale,y=g.getExtent();return g.__fixMin&&(p[0]=d(p[0],y[0])),g.__fixMax&&(p[1]=d(p[1],y[1])),p},unionExtent:function(m){this._originalScale.unionExtent(m);var p=this.base;m[0]=v(m[0])/v(p),m[1]=v(m[1])/v(p),i.unionExtent.call(this,m)},unionExtentFromData:function(m,p){this.unionExtent(m.getApproximateExtent(p))},niceTicks:function(m){m=m||10;var p=this._extent,g=p[1]-p[0];if(!(g===1/0||g<=0)){var y=r.quantity(g),_=m/g*y;for(_<=.5&&(y*=10);!isNaN(y)&&Math.abs(y)<1&&Math.abs(y)>0;)y*=10;var A=[r.round(h(p[0]/y)*y),r.round(n(p[1]/y)*y)];this._interval=y,this._niceExtent=A}},niceExtent:function(m){o.niceExtent.call(this,m);var p=this._originalScale;p.__fixMin=m.fixMin,p.__fixMax=m.fixMax}});e.each(["contain","normalize"],function(m){u.prototype[m]=function(p){return p=v(p)/v(this.base),i[m].call(this,p)}}),u.create=function(){return new u};function d(m,p){return c(m,l(p))}var f=u;return Cl=f,Cl}var Ym;function or(){if(Ym)return Kt;Ym=1;var e=W,t=GN(),r=ns(),a=is(),i=Re(),o=os(),l=o.prepareLayoutBarSeries,c=o.makeColumnLayout,n=o.retrieveColumnLayout,h=Ke;FN(),XC();function s(S,b){var x=S.type,w=b.getMin(),T=b.getMax(),M=S.getExtent(),C,D,L;x==="ordinal"?C=b.getCategories().length:(D=b.get("boundaryGap"),e.isArray(D)||(D=[D||0,D||0]),typeof D[0]=="boolean"&&(D=[0,0]),D[0]=i.parsePercent(D[0],1),D[1]=i.parsePercent(D[1],1),L=M[1]-M[0]||Math.abs(M[0])),w==="dataMin"?w=M[0]:typeof w=="function"&&(w=w({min:M[0],max:M[1]})),T==="dataMax"?T=M[1]:typeof T=="function"&&(T=T({min:M[0],max:M[1]}));var P=w!=null,I=T!=null;w==null&&(w=x==="ordinal"?C?0:NaN:M[0]-D[0]*L),T==null&&(T=x==="ordinal"?C?C-1:NaN:M[1]+D[1]*L),(w==null||!isFinite(w))&&(w=NaN),(T==null||!isFinite(T))&&(T=NaN),S.setBlank(e.eqNaN(w)||e.eqNaN(T)||x==="ordinal"&&!S.getOrdinalMeta().categories.length),b.getNeedCrossZero()&&(w>0&&T>0&&!P&&(w=0),w<0&&T<0&&!I&&(T=0));var E=b.ecModel;if(E&&x==="time"){var z=l("bar",E),N;if(e.each(z,function(R){N|=R.getBaseAxis()===b.axis}),N){var G=c(z),V=v(w,T,b,G);w=V.min,T=V.max}}return{extent:[w,T],fixMin:P,fixMax:I}}function v(S,b,x,w){var T=x.axis.getExtent(),M=T[1]-T[0],C=n(w,x.axis);if(C===void 0)return{min:S,max:b};var D=1/0;e.each(C,function(N){D=Math.min(N.offset,D)});var L=-1/0;e.each(C,function(N){L=Math.max(N.offset+N.width,L)}),D=Math.abs(D),L=Math.abs(L);var P=D+L,I=b-S,E=1-(D+L)/M,z=I/E-I;return b+=z*(L/P),S-=z*(D/P),{min:S,max:b}}function u(S,b){var x=s(S,b),w=x.extent,T=b.get("splitNumber");S.type==="log"&&(S.base=b.get("logBase"));var M=S.type;S.setExtent(w[0],w[1]),S.niceExtent({splitNumber:T,fixMin:x.fixMin,fixMax:x.fixMax,minInterval:M==="interval"||M==="time"?b.get("minInterval"):null,maxInterval:M==="interval"||M==="time"?b.get("maxInterval"):null});var C=b.get("interval");C!=null&&S.setInterval&&S.setInterval(C)}function d(S,b){if(b=b||S.get("type"),b)switch(b){case"category":return new t(S.getOrdinalMeta?S.getOrdinalMeta():S.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(a.getClass(b)||r).create(S)}}function f(S){var b=S.scale.getExtent(),x=b[0],w=b[1];return!(x>0&&w>0||x<0&&w<0)}function m(S){var b=S.getLabelModel().get("formatter"),x=S.type==="category"?S.scale.getExtent()[0]:null;return typeof b=="string"?(b=function(w){return function(T){return T=S.scale.getLabel(T),w.replace("{value}",T??"")}}(b),b):typeof b=="function"?function(w,T){return x!=null&&(T=w-x),b(p(S,w),T)}:function(w){return S.scale.getLabel(w)}}function p(S,b){return S.type==="category"?S.scale.getLabel(b):b}function g(S){var b=S.model,x=S.scale;if(!(!b.get("axisLabel.show")||x.isBlank())){var w=S.type==="category",T,M,C=x.getExtent();w?M=x.count():(T=x.getTicks(),M=T.length);var D=S.getLabelModel(),L=m(S),P,I=1;M>40&&(I=Math.ceil(M/40));for(var E=0;E<M;E+=I){var z=T?T[E]:C[0]+E,N=L(z),G=D.getTextRect(N),V=y(G,D.get("rotate")||0);P?P.union(V):P=V}return P}}function y(S,b){var x=b*Math.PI/180,w=S.plain(),T=w.width,M=w.height,C=T*Math.cos(x)+M*Math.sin(x),D=T*Math.sin(x)+M*Math.cos(x),L=new h(w.x,w.y,C,D);return L}function _(S){var b=S.get("interval");return b??"auto"}function A(S){return S.type==="category"&&_(S.getLabelModel())===0}return Kt.getScaleExtent=s,Kt.niceScaleExtent=u,Kt.createScaleByModel=d,Kt.ifAxisCrossZero=f,Kt.makeLabelFormatter=m,Kt.getAxisRawValue=p,Kt.estimateLabelUnionRect=g,Kt.getOptionCategoryInterval=_,Kt.shouldShowAllLabels=A,Kt}var Ml,Xm;function pi(){if(Xm)return Ml;Xm=1;var e=W,t={getMin:function(r){var a=this.option,i=!r&&a.rangeStart!=null?a.rangeStart:a.min;return this.axis&&i!=null&&i!=="dataMin"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(r){var a=this.option,i=!r&&a.rangeEnd!=null?a.rangeEnd:a.max;return this.axis&&i!=null&&i!=="dataMax"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var r=this.option;return r.rangeStart!=null||r.rangeEnd!=null?!1:!r.scale},getCoordSysModel:e.noop,setRange:function(r,a){this.option.rangeStart=r,this.option.rangeEnd=a},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};return Ml=t,Ml}var Dl={},Km;function Zt(){if(Km)return Dl;Km=1;var e=W,t=de,r=Ke,a=$e,i=a.calculateTextPosition,o=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,p){var g=p.cx,y=p.cy,_=p.width/2,A=p.height/2;m.moveTo(g,y-A),m.lineTo(g+_,y+A),m.lineTo(g-_,y+A),m.closePath()}}),l=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,p){var g=p.cx,y=p.cy,_=p.width/2,A=p.height/2;m.moveTo(g,y-A),m.lineTo(g+_,y),m.lineTo(g,y+A),m.lineTo(g-_,y),m.closePath()}}),c=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,p){var g=p.x,y=p.y,_=p.width/5*3,A=Math.max(_,p.height),S=_/2,b=S*S/(A-S),x=y-A+S+b,w=Math.asin(b/S),T=Math.cos(w)*S,M=Math.sin(w),C=Math.cos(w),D=S*.6,L=S*.7;m.moveTo(g-T,x+b),m.arc(g,x,S,Math.PI-w,Math.PI*2+w),m.bezierCurveTo(g+T-M*D,x+b+C*D,g,y-L,g,y),m.bezierCurveTo(g,y-L,g-T+M*D,x+b+C*D,g-T,x+b),m.closePath()}}),n=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,p){var g=p.height,y=p.width,_=p.x,A=p.y,S=y/3*2;m.moveTo(_,A),m.lineTo(_+S,A+g),m.lineTo(_,A+g/4*3),m.lineTo(_-S,A+g),m.lineTo(_,A),m.closePath()}}),h={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:l,pin:c,arrow:n,triangle:o},s={line:function(m,p,g,y,_){_.x1=m,_.y1=p+y/2,_.x2=m+g,_.y2=p+y/2},rect:function(m,p,g,y,_){_.x=m,_.y=p,_.width=g,_.height=y},roundRect:function(m,p,g,y,_){_.x=m,_.y=p,_.width=g,_.height=y,_.r=Math.min(g,y)/4},square:function(m,p,g,y,_){var A=Math.min(g,y);_.x=m,_.y=p,_.width=A,_.height=A},circle:function(m,p,g,y,_){_.cx=m+g/2,_.cy=p+y/2,_.r=Math.min(g,y)/2},diamond:function(m,p,g,y,_){_.cx=m+g/2,_.cy=p+y/2,_.width=g,_.height=y},pin:function(m,p,g,y,_){_.x=m+g/2,_.y=p+y/2,_.width=g,_.height=y},arrow:function(m,p,g,y,_){_.x=m+g/2,_.y=p+y/2,_.width=g,_.height=y},triangle:function(m,p,g,y,_){_.cx=m+g/2,_.cy=p+y/2,_.width=g,_.height=y}},v={};e.each(h,function(m,p){v[p]=new m});var u=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(m,p,g){var y=i(m,p,g),_=this.shape;return _&&_.symbolType==="pin"&&p.textPosition==="inside"&&(y.y=g.y+g.height*.4),y},buildPath:function(m,p,g){var y=p.symbolType;if(y!=="none"){var _=v[y];_||(y="rect",_=v[y]),s[y](p.x,p.y,p.width,p.height,_.shape),_.buildPath(m,_.shape,g)}}});function d(m,p){if(this.type!=="image"){var g=this.style,y=this.shape;y&&y.symbolType==="line"?g.stroke=m:this.__isEmptyBrush?(g.stroke=m,g.fill=p||"#fff"):(g.fill&&(g.fill=m),g.stroke&&(g.stroke=m)),this.dirty(!1)}}function f(m,p,g,y,_,A,S){var b=m.indexOf("empty")===0;b&&(m=m.substr(5,1).toLowerCase()+m.substr(6));var x;return m.indexOf("image://")===0?x=t.makeImage(m.slice(8),new r(p,g,y,_),S?"center":"cover"):m.indexOf("path://")===0?x=t.makePath(m.slice(7),{},new r(p,g,y,_),S?"center":"cover"):x=new u({shape:{symbolType:m,x:p,y:g,width:y,height:_}}),x.__isEmptyBrush=b,x.setColor=d,x.setColor(A),x}return Dl.createSymbol=f,Dl}var Qm;function UN(){if(Qm)return fr;Qm=1;var e=W,t=Br(),r=or(),a=pi(),i=ot(),o=ze;o.getLayoutRect,fr.getLayoutRect=o.getLayoutRect;var l=wr(),c=l.enableDataStack,n=l.isDimensionStacked,h=l.getStackedDimension,s=WC();fr.completeDimensions=s;var v=gi();fr.createDimensions=v;var u=Zt();fr.createSymbol=u.createSymbol;function d(g){return t(g.getSource(),g)}var f={isDimensionStacked:n,enableDataStack:c,getStackedDimension:h};function m(g,y){var _=y;i.isInstance(y)||(_=new i(y),e.mixin(_,a));var A=r.createScaleByModel(_);return A.setExtent(g[0],g[1]),r.niceScaleExtent(A,_),A}function p(g){e.mixin(g,a)}return fr.createList=d,fr.dataStack=f,fr.createScale=m,fr.mixinAxisModelCommonMethods=p,fr}var Ll={},jm;function KC(){if(jm)return Ll;jm=1;var e=DT,t=1e-8;function r(i,o){return Math.abs(i-o)<t}function a(i,o,l){var c=0,n=i[0];if(!n)return!1;for(var h=1;h<i.length;h++){var s=i[h];c+=e(n[0],n[1],s[0],s[1],o,l),n=s}var v=i[0];return(!r(n[0],v[0])||!r(n[1],v[1]))&&(c+=e(n[0],n[1],v[0],v[1],o,l)),c!==0}return Ll.contain=a,Ll}var Pl,Jm;function QC(){if(Jm)return Pl;Jm=1;var e=Ke,t=fn(),r=Ye(),a=KC();function i(l,c,n){if(this.name=l,this.geometries=c,n)n=[n[0],n[1]];else{var h=this.getBoundingRect();n=[h.x+h.width/2,h.y+h.height/2]}this.center=n}i.prototype={constructor:i,properties:null,getBoundingRect:function(){var l=this._rect;if(l)return l;for(var c=Number.MAX_VALUE,n=[c,c],h=[-c,-c],s=[],v=[],u=this.geometries,d=0;d<u.length;d++)if(u[d].type==="polygon"){var f=u[d].exterior;t.fromPoints(f,s,v),r.min(n,n,s),r.max(h,h,v)}return d===0&&(n[0]=n[1]=h[0]=h[1]=0),this._rect=new e(n[0],n[1],h[0]-n[0],h[1]-n[1])},contain:function(l){var c=this.getBoundingRect(),n=this.geometries;if(!c.contain(l[0],l[1]))return!1;e:for(var h=0,s=n.length;h<s;h++)if(n[h].type==="polygon"){var v=n[h].exterior,u=n[h].interiors;if(a.contain(v,l[0],l[1])){for(var d=0;d<(u?u.length:0);d++)if(a.contain(u[d]))continue e;return!0}}return!1},transformTo:function(l,c,n,h){var s=this.getBoundingRect(),v=s.width/s.height;n?h||(h=n/v):n=v*h;for(var u=new e(l,c,n,h),d=s.calculateTransform(u),f=this.geometries,m=0;m<f.length;m++)if(f[m].type==="polygon"){for(var p=f[m].exterior,g=f[m].interiors,y=0;y<p.length;y++)r.applyTransform(p[y],p[y],d);for(var _=0;_<(g?g.length:0);_++)for(var y=0;y<g[_].length;y++)r.applyTransform(g[_][y],g[_][y],d)}s=this._rect,s.copy(u),this.center=[s.x+s.width/2,s.y+s.height/2]},cloneShallow:function(l){l==null&&(l=this.name);var c=new i(l,this.geometries,this.center);return c._rect=this._rect,c.transformTo=null,c}};var o=i;return Pl=o,Pl}var Il,ey;function jC(){if(ey)return Il;ey=1;var e=W,t=QC();function r(o){if(!o.UTF8Encoding)return o;var l=o.UTF8Scale;l==null&&(l=1024);for(var c=o.features,n=0;n<c.length;n++)for(var h=c[n],s=h.geometry,v=s.coordinates,u=s.encodeOffsets,d=0;d<v.length;d++){var f=v[d];if(s.type==="Polygon")v[d]=a(f,u[d],l);else if(s.type==="MultiPolygon")for(var m=0;m<f.length;m++){var p=f[m];f[m]=a(p,u[d][m],l)}}return o.UTF8Encoding=!1,o}function a(o,l,c){for(var n=[],h=l[0],s=l[1],v=0;v<o.length;v+=2){var u=o.charCodeAt(v)-64,d=o.charCodeAt(v+1)-64;u=u>>1^-(u&1),d=d>>1^-(d&1),u+=h,d+=s,h=u,s=d,n.push([u/c,d/c])}return n}function i(o,l){return r(o),e.map(e.filter(o.features,function(c){return c.geometry&&c.properties&&c.geometry.coordinates.length>0}),function(c){var n=c.properties,h=c.geometry,s=h.coordinates,v=[];h.type==="Polygon"&&v.push({type:"polygon",exterior:s[0],interiors:s.slice(1)}),h.type==="MultiPolygon"&&e.each(s,function(d){d[0]&&v.push({type:"polygon",exterior:d[0],interiors:d.slice(1)})});var u=new t(n[l||"name"],v,n.cp);return u.properties=n,u})}return Il=i,Il}var ki={},ty;function $N(){if(ty)return ki;ty=1;var e=W,t=$e,r=Pe,a=r.makeInner,i=or(),o=i.makeLabelFormatter,l=i.getOptionCategoryInterval,c=i.shouldShowAllLabels,n=a();function h(x){return x.type==="category"?v(x):f(x)}function s(x,w){return x.type==="category"?d(x,w):{ticks:x.scale.getTicks()}}function v(x){var w=x.getLabelModel(),T=u(x,w);return!w.get("show")||x.scale.isBlank()?{labels:[],labelCategoryInterval:T.labelCategoryInterval}:T}function u(x,w){var T=m(x,"labels"),M=l(w),C=p(T,M);if(C)return C;var D,L;return e.isFunction(M)?D=b(x,M):(L=M==="auto"?y(x):M,D=S(x,L)),g(T,M,{labels:D,labelCategoryInterval:L})}function d(x,w){var T=m(x,"ticks"),M=l(w),C=p(T,M);if(C)return C;var D,L;if((!w.get("show")||x.scale.isBlank())&&(D=[]),e.isFunction(M))D=b(x,M,!0);else if(M==="auto"){var P=u(x,x.getLabelModel());L=P.labelCategoryInterval,D=e.map(P.labels,function(I){return I.tickValue})}else L=M,D=S(x,L,!0);return g(T,M,{ticks:D,tickCategoryInterval:L})}function f(x){var w=x.scale.getTicks(),T=o(x);return{labels:e.map(w,function(M,C){return{formattedLabel:T(M,C),rawLabel:x.scale.getLabel(M),tickValue:M}})}}function m(x,w){return n(x)[w]||(n(x)[w]=[])}function p(x,w){for(var T=0;T<x.length;T++)if(x[T].key===w)return x[T].value}function g(x,w,T){return x.push({key:w,value:T}),T}function y(x){var w=n(x).autoInterval;return w??(n(x).autoInterval=x.calculateCategoryInterval())}function _(x){var w=A(x),T=o(x),M=(w.axisRotate-w.labelRotate)/180*Math.PI,C=x.scale,D=C.getExtent(),L=C.count();if(D[1]-D[0]<1)return 0;var P=1;L>40&&(P=Math.max(1,Math.floor(L/40)));for(var I=D[0],E=x.dataToCoord(I+1)-x.dataToCoord(I),z=Math.abs(E*Math.cos(M)),N=Math.abs(E*Math.sin(M)),G=0,V=0;I<=D[1];I+=P){var R=0,O=0,k=t.getBoundingRect(T(I),w.font,"center","top");R=k.width*1.3,O=k.height*1.3,G=Math.max(G,R,7),V=Math.max(V,O,7)}var B=G/z,q=V/N;isNaN(B)&&(B=1/0),isNaN(q)&&(q=1/0);var H=Math.max(0,Math.floor(Math.min(B,q))),F=n(x.model),U=x.getExtent(),$=F.lastAutoInterval,Y=F.lastTickCount;return $!=null&&Y!=null&&Math.abs($-H)<=1&&Math.abs(Y-L)<=1&&$>H&&F.axisExtend0===U[0]&&F.axisExtend1===U[1]?H=$:(F.lastTickCount=L,F.lastAutoInterval=H,F.axisExtend0=U[0],F.axisExtend1=U[1]),H}function A(x){var w=x.getLabelModel();return{axisRotate:x.getRotate?x.getRotate():x.isHorizontal&&!x.isHorizontal()?90:0,labelRotate:w.get("rotate")||0,font:w.getFont()}}function S(x,w,T){var M=o(x),C=x.scale,D=C.getExtent(),L=x.getLabelModel(),P=[],I=Math.max((w||0)+1,1),E=D[0],z=C.count();E!==0&&I>1&&z/I>2&&(E=Math.round(Math.ceil(E/I)*I));var N=c(x),G=L.get("showMinLabel")||N,V=L.get("showMaxLabel")||N;G&&E!==D[0]&&O(D[0]);for(var R=E;R<=D[1];R+=I)O(R);V&&R-I!==D[1]&&O(D[1]);function O(k){P.push(T?k:{formattedLabel:M(k),rawLabel:C.getLabel(k),tickValue:k})}return P}function b(x,w,T){var M=x.scale,C=o(x),D=[];return e.each(M.getTicks(),function(L){var P=M.getLabel(L);w(L,P)&&D.push(T?L:{formattedLabel:C(L),rawLabel:P,tickValue:L})}),D}return ki.createAxisLabels=h,ki.createAxisTicks=s,ki.calculateCategoryInterval=_,ki}var Rl,ry;function aa(){if(ry)return Rl;ry=1;var e=W,t=e.each,r=e.map,a=Re(),i=a.linearMap,o=a.getPixelPrecision,l=a.round,c=$N(),n=c.createAxisTicks,h=c.createAxisLabels,s=c.calculateCategoryInterval,v=[0,1],u=function(p,g,y){this.dim=p,this.scale=g,this._extent=y||[0,0],this.inverse=!1,this.onBand=!1};u.prototype={constructor:u,contain:function(p){var g=this._extent,y=Math.min(g[0],g[1]),_=Math.max(g[0],g[1]);return p>=y&&p<=_},containData:function(p){return this.scale.contain(p)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(p){return o(p||this.scale.getExtent(),this._extent)},setExtent:function(p,g){var y=this._extent;y[0]=p,y[1]=g},dataToCoord:function(p,g){var y=this._extent,_=this.scale;return p=_.normalize(p),this.onBand&&_.type==="ordinal"&&(y=y.slice(),d(y,_.count())),i(p,v,y,g)},coordToData:function(p,g){var y=this._extent,_=this.scale;this.onBand&&_.type==="ordinal"&&(y=y.slice(),d(y,_.count()));var A=i(p,y,v,g);return this.scale.scale(A)},pointToData:function(p,g){},getTicksCoords:function(p){p=p||{};var g=p.tickModel||this.getTickModel(),y=n(this,g),_=y.ticks,A=r(_,function(b){return{coord:this.dataToCoord(b),tickValue:b}},this),S=g.get("alignWithLabel");return f(this,A,S,p.clamp),A},getMinorTicksCoords:function(){if(this.scale.type==="ordinal")return[];var p=this.model.getModel("minorTick"),g=p.get("splitNumber");g>0&&g<100||(g=5);var y=this.scale.getMinorTicks(g),_=r(y,function(A){return r(A,function(S){return{coord:this.dataToCoord(S),tickValue:S}},this)},this);return _},getViewLabels:function(){return h(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var p=this._extent,g=this.scale.getExtent(),y=g[1]-g[0]+(this.onBand?1:0);y===0&&(y=1);var _=Math.abs(p[1]-p[0]);return Math.abs(_)/y},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return s(this)}};function d(p,g){var y=p[1]-p[0],_=g,A=y/_/2;p[0]+=A,p[1]-=A}function f(p,g,y,_){var A=g.length;if(!p.onBand||y||!A)return;var S=p.getExtent(),b,x;if(A===1)g[0].coord=S[0],b=g[1]={coord:S[0]};else{var w=g[A-1].tickValue-g[0].tickValue,T=(g[A-1].coord-g[0].coord)/w;t(g,function(L){L.coord-=T/2});var M=p.scale.getExtent();x=1+M[1]-g[A-1].tickValue,b={coord:g[A-1].coord+T*x},g.push(b)}var C=S[0]>S[1];D(g[0].coord,S[0])&&(_?g[0].coord=S[0]:g.shift()),_&&D(S[0],g[0].coord)&&g.unshift({coord:S[0]}),D(S[1],b.coord)&&(_?b.coord=S[1]:g.pop()),_&&D(b.coord,S[1])&&g.push({coord:S[1]});function D(L,P){return L=l(L),P=l(P),C?L>P:L<P}}var m=u;return Rl=m,Rl}var ay;function JC(){if(ay)return pt;ay=1;var e=Or;pt.zrender=e;var t=Pt();pt.matrix=t;var r=Ye();pt.vector=r;var a=W,i=ut;pt.color=i;var o=de,l=Re();pt.number=l;var c=Ge();pt.format=c;var n=nr;n.throttle,pt.throttle=n.throttle;var h=UN();pt.helper=h;var s=jC();pt.parseGeoJSON=s;var v=Wt();pt.List=v;var u=ot();pt.Model=u;var d=aa();pt.Axis=d;var f=nt;pt.env=f;var m=s,p={};a.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(y){p[y]=a[y]});var g={};return a.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(y){g[y]=o[y]}),pt.parseGeoJson=m,pt.util=p,pt.graphic=g,pt}(function(e){var t=Or,r=W,a=ut,i=nt,o=Jf,l=xa,c=_C,n=xC,h=Sr,s=XO,v=uz,u=dz,d=ct,f=ft,m=es,p=br,g=de,y=Pe,_=nr,A=_.throttle,S=wB,b=LB,x=EB,w=rN,T=iN,M=oN;qC();var C=Ud,D=r.assert,L=r.each,P=r.isFunction,I=r.isObject,E=d.parseClassType,z="4.8.0",N={zrender:"4.3.1"},G=1,V=1e3,R=800,O=900,k=5e3,B=1e3,q=1100,H=2e3,F=3e3,U=3500,$=4e3,Y=5e3,K={PROCESSOR:{FILTER:V,SERIES_FILTER:R,STATISTIC:k},VISUAL:{LAYOUT:B,PROGRESSIVE_LAYOUT:q,GLOBAL:H,CHART:F,POST_CHART_LAYOUT:U,COMPONENT:$,BRUSH:Y}},J="__flagInMainProcess",j="__optionUpdated",ee=/^[a-zA-Z0-9_]+$/;function te(X,ae){return function(ce,_e,be){if(!ae&&this._disposed){this.id;return}ce=ce&&ce.toLowerCase(),l.prototype[X].call(this,ce,_e,be)}}function ie(){l.call(this)}ie.prototype.on=te("on",!0),ie.prototype.off=te("off",!0),ie.prototype.one=te("one",!0),r.mixin(ie,l);function ge(X,we,ce){ce=ce||{},typeof we=="string"&&(we=et[we]),this.id,this.group,this._dom=X;var _e="canvas",be=this._zr=t.init(X,{renderer:ce.renderer||_e,devicePixelRatio:ce.devicePixelRatio,width:ce.width,height:ce.height});this._throttledZrFlush=A(r.bind(be.flush,be),17);var we=r.clone(we);we&&v(we,!0),this._theme=we,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new h;var Te=this._api=He(this);function Le(De,Ee){return De.__prio-Ee.__prio}o(Fe,Le),o(qe,Le),this._scheduler=new w(this,Te,qe,Fe),l.call(this,this._ecEventProcessor=new Ze),this._messageCenter=new ie,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],be.animation.on("frame",this._onframe,this),le(be,this),r.setAsPrimitive(this)}var oe=ge.prototype;oe._onframe=function(){if(!this._disposed){var X=this._scheduler;if(this[j]){var ae=this[j].silent;this[J]=!0,ne(this),pe.update.call(this),this[J]=!1,this[j]=!1,Q.call(this,ae),re.call(this,ae)}else if(X.unfinished){var ce=G,_e=this._model,be=this._api;X.unfinished=!1;do{var we=+new Date;X.performSeriesTasks(_e),X.performDataProcessorTasks(_e),me(this,_e),X.performVisualTasks(_e),Se(this,this._model,be,"remain"),ce-=+new Date-we}while(ce>0&&X.unfinished);X.unfinished||this._zr.flush()}}},oe.getDom=function(){return this._dom},oe.getZr=function(){return this._zr},oe.setOption=function(X,ae,ce){if(this._disposed){this.id;return}var _e;if(I(ae)&&(ce=ae.lazyUpdate,_e=ae.silent,ae=ae.notMerge),this[J]=!0,!this._model||ae){var be=new s(this._api),we=this._theme,Te=this._model=new c;Te.scheduler=this._scheduler,Te.init(null,null,we,be)}this._model.setOption(X,Ne),ce?(this[j]={silent:_e},this[J]=!1):(ne(this),pe.update.call(this),this._zr.flush(),this[j]=!1,this[J]=!1,Q.call(this,_e),re.call(this,_e))},oe.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},oe.getModel=function(){return this._model},oe.getOption=function(){return this._model&&this._model.getOption()},oe.getWidth=function(){return this._zr.getWidth()},oe.getHeight=function(){return this._zr.getHeight()},oe.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},oe.getRenderedCanvas=function(X){if(i.canvasSupported){X=X||{},X.pixelRatio=X.pixelRatio||1,X.backgroundColor=X.backgroundColor||this._model.get("backgroundColor");var ae=this._zr;return ae.painter.getRenderedCanvas(X)}},oe.getSvgDataURL=function(){if(i.svgSupported){var X=this._zr,ae=X.storage.getDisplayList();return r.each(ae,function(ce){ce.stopAnimation(!0)}),X.painter.toDataURL()}},oe.getDataURL=function(X){if(this._disposed){this.id;return}X=X||{};var ae=X.excludeComponents,ce=this._model,_e=[],be=this;L(ae,function(Te){ce.eachComponent({mainType:Te},function(Le){var De=be._componentsMap[Le.__viewId];De.group.ignore||(_e.push(De),De.group.ignore=!0)})});var we=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(X).toDataURL("image/"+(X&&X.type||"png"));return L(_e,function(Te){Te.group.ignore=!1}),we},oe.getConnectedDataURL=function(X){if(this._disposed){this.id;return}if(i.canvasSupported){var ae=X.type==="svg",ce=this.group,_e=Math.min,be=Math.max,we=1/0;if(Ot[ce]){var Te=we,Le=we,De=-we,Ee=-we,ke=[],Oe=X&&X.pixelRatio||1;r.each(St,function(Ht,En){if(Ht.group===ce){var _s=ae?Ht.getZr().painter.getSvgDom().innerHTML:Ht.getRenderedCanvas(r.clone(X)),Pa=Ht.getDom().getBoundingClientRect();Te=_e(Pa.left,Te),Le=_e(Pa.top,Le),De=be(Pa.right,De),Ee=be(Pa.bottom,Ee),ke.push({dom:_s,left:Pa.left,top:Pa.top})}}),Te*=Oe,Le*=Oe,De*=Oe,Ee*=Oe;var tt=De-Te,Xe=Ee-Le,wt=r.createCanvas(),Vt=t.init(wt,{renderer:ae?"svg":"canvas"});if(Vt.resize({width:tt,height:Xe}),ae){var Rn="";return L(ke,function(Ht){var En=Ht.left-Te,_s=Ht.top-Le;Rn+='<g transform="translate('+En+","+_s+')">'+Ht.dom+"</g>"}),Vt.painter.getSvgRoot().innerHTML=Rn,X.connectedBackgroundColor&&Vt.painter.setBackgroundColor(X.connectedBackgroundColor),Vt.refreshImmediately(),Vt.painter.toDataURL()}else return X.connectedBackgroundColor&&Vt.add(new g.Rect({shape:{x:0,y:0,width:tt,height:Xe},style:{fill:X.connectedBackgroundColor}})),L(ke,function(Ht){var En=new g.Image({style:{x:Ht.left*Oe-Te,y:Ht.top*Oe-Le,image:Ht.dom}});Vt.add(En)}),Vt.refreshImmediately(),wt.toDataURL("image/"+(X&&X.type||"png"))}else return this.getDataURL(X)}},oe.convertToPixel=r.curry(fe,"convertToPixel"),oe.convertFromPixel=r.curry(fe,"convertFromPixel");function fe(X,ae,ce){if(this._disposed){this.id;return}var _e=this._model,be=this._coordSysMgr.getCoordinateSystems(),we;ae=y.parseFinder(_e,ae);for(var Te=0;Te<be.length;Te++){var Le=be[Te];if(Le[X]&&(we=Le[X](_e,ae,ce))!=null)return we}}oe.containPixel=function(X,ae){if(this._disposed){this.id;return}var ce=this._model,_e;return X=y.parseFinder(ce,X),r.each(X,function(be,we){we.indexOf("Models")>=0&&r.each(be,function(Te){var Le=Te.coordinateSystem;if(Le&&Le.containPoint)_e|=!!Le.containPoint(ae);else if(we==="seriesModels"){var De=this._chartsMap[Te.__viewId];De&&De.containPoint&&(_e|=De.containPoint(ae,Te))}},this)},this),!!_e},oe.getVisual=function(X,ae){var ce=this._model;X=y.parseFinder(ce,X,{defaultMainType:"series"});var _e=X.seriesModel,be=_e.getData(),we=X.hasOwnProperty("dataIndexInside")?X.dataIndexInside:X.hasOwnProperty("dataIndex")?be.indexOfRawIndex(X.dataIndex):null;return we!=null?be.getItemVisual(we,ae):be.getVisual(ae)},oe.getViewOfComponentModel=function(X){return this._componentsMap[X.__viewId]},oe.getViewOfSeriesModel=function(X){return this._chartsMap[X.__viewId]};var pe={prepareAndUpdate:function(X){ne(this),pe.update.call(this,X)},update:function(X){var ae=this._model,ce=this._api,_e=this._zr,be=this._coordSysMgr,we=this._scheduler;if(ae){we.restoreData(ae,X),we.performSeriesTasks(ae),be.create(ae,ce),we.performDataProcessorTasks(ae,X),me(this,ae),be.update(ae,ce),ve(ae),we.performVisualTasks(ae,X),he(this,ae,ce,X);var Te=ae.get("backgroundColor")||"transparent";if(i.canvasSupported)_e.setBackgroundColor(Te);else{var Le=a.parse(Te);Te=a.stringify(Le,"rgb"),Le[3]===0&&(Te="transparent")}Ce(ae,ce)}},updateTransform:function(X){var ae=this._model,ce=this,_e=this._api;if(ae){var be=[];ae.eachComponent(function(Te,Le){var De=ce.getViewOfComponentModel(Le);if(De&&De.__alive)if(De.updateTransform){var Ee=De.updateTransform(Le,ae,_e,X);Ee&&Ee.update&&be.push(De)}else be.push(De)});var we=r.createHashMap();ae.eachSeries(function(Te){var Le=ce._chartsMap[Te.__viewId];if(Le.updateTransform){var De=Le.updateTransform(Te,ae,_e,X);De&&De.update&&we.set(Te.uid,1)}else we.set(Te.uid,1)}),ve(ae),this._scheduler.performVisualTasks(ae,X,{setDirty:!0,dirtyMap:we}),Se(ce,ae,_e,X,we),Ce(ae,this._api)}},updateView:function(X){var ae=this._model;ae&&(p.markUpdateMethod(X,"updateView"),ve(ae),this._scheduler.performVisualTasks(ae,X,{setDirty:!0}),he(this,this._model,this._api,X),Ce(ae,this._api))},updateVisual:function(X){pe.update.call(this,X)},updateLayout:function(X){pe.update.call(this,X)}};function ne(X){var ae=X._model,ce=X._scheduler;ce.restorePipelines(ae),ce.prepareStageTasks(),ue(X,"component",ae,ce),ue(X,"chart",ae,ce),ce.plan()}function se(X,ae,ce,_e,be){var we=X._model;if(!_e){L(X._componentsViews.concat(X._chartsViews),Ee);return}var Te={};Te[_e+"Id"]=ce[_e+"Id"],Te[_e+"Index"]=ce[_e+"Index"],Te[_e+"Name"]=ce[_e+"Name"];var Le={mainType:_e,query:Te};be&&(Le.subType=be);var De=ce.excludeSeriesId;De!=null&&(De=r.createHashMap(y.normalizeToArray(De))),we&&we.eachComponent(Le,function(ke){(!De||De.get(ke.id)==null)&&Ee(X[_e==="series"?"_chartsMap":"_componentsMap"][ke.__viewId])},X);function Ee(ke){ke&&ke.__alive&&ke[ae]&&ke[ae](ke.__model,we,X._api,ce)}}oe.resize=function(X){if(this._disposed){this.id;return}this._zr.resize(X);var ae=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!ae){var ce=ae.resetOption("media"),_e=X&&X.silent;this[J]=!0,ce&&ne(this),pe.update.call(this),this[J]=!1,Q.call(this,_e),re.call(this,_e)}};function me(X,ae){var ce=X._chartsMap,_e=X._scheduler;ae.eachSeries(function(be){_e.updateStreamModes(be,ce[be.__viewId])})}oe.showLoading=function(X,ae){if(this._disposed){this.id;return}if(I(X)&&(ae=X,X=""),X=X||"default",this.hideLoading(),!!mt[X]){var ce=mt[X](this._api,ae),_e=this._zr;this._loadingFX=ce,_e.add(ce)}},oe.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},oe.makeActionFromEvent=function(X){var ae=r.extend({},X);return ae.type=Ie[X.type],ae},oe.dispatchAction=function(X,ae){if(this._disposed){this.id;return}if(I(ae)||(ae={silent:!!ae}),!!Qe[X.type]&&this._model){if(this[J]){this._pendingActions.push(X);return}Z.call(this,X,ae.silent),ae.flush?this._zr.flush(!0):ae.flush!==!1&&i.browser.weChat&&this._throttledZrFlush(),Q.call(this,ae.silent),re.call(this,ae.silent)}};function Z(X,ae){var ce=X.type,_e=X.escapeConnect,be=Qe[ce],we=be.actionInfo,Te=(we.update||"update").split(":"),Le=Te.pop();Te=Te[0]!=null&&E(Te[0]),this[J]=!0;var De=[X],Ee=!1;X.batch&&(Ee=!0,De=r.map(X.batch,function(Xe){return Xe=r.defaults(r.extend({},Xe),X),Xe.batch=null,Xe}));var ke=[],Oe,tt=ce==="highlight"||ce==="downplay";L(De,function(Xe){Oe=be.action(Xe,this._model,this._api),Oe=Oe||r.extend({},Xe),Oe.type=we.event||Oe.type,ke.push(Oe),tt?se(this,Le,Xe,"series"):Te&&se(this,Le,Xe,Te.main,Te.sub)},this),Le!=="none"&&!tt&&!Te&&(this[j]?(ne(this),pe.update.call(this,X),this[j]=!1):pe[Le].call(this,X)),Ee?Oe={type:we.event||ce,escapeConnect:_e,batch:ke}:Oe=ke[0],this[J]=!1,!ae&&this._messageCenter.trigger(Oe.type,Oe)}function Q(X){for(var ae=this._pendingActions;ae.length;){var ce=ae.shift();Z.call(this,ce,X)}}function re(X){!X&&this.trigger("updated")}function le(X,ae){X.on("rendered",function(){ae.trigger("rendered"),X.animation.isFinished()&&!ae[j]&&!ae._scheduler.unfinished&&!ae._pendingActions.length&&ae.trigger("finished")})}oe.appendData=function(X){if(this._disposed){this.id;return}var ae=X.seriesIndex,ce=this.getModel(),_e=ce.getSeriesByIndex(ae);_e.appendData(X),this._scheduler.unfinished=!0},oe.on=te("on",!1),oe.off=te("off",!1),oe.one=te("one",!1);function ue(X,ae,ce,_e){for(var be=ae==="component",we=be?X._componentsViews:X._chartsViews,Te=be?X._componentsMap:X._chartsMap,Le=X._zr,De=X._api,Ee=0;Ee<we.length;Ee++)we[Ee].__alive=!1;be?ce.eachComponent(function(tt,Xe){tt!=="series"&&ke(Xe)}):ce.eachSeries(ke);function ke(tt){var Xe="_ec_"+tt.id+"_"+tt.type,wt=Te[Xe];if(!wt){var Vt=E(tt.type),Rn=be?m.getClass(Vt.main,Vt.sub):p.getClass(Vt.sub);wt=new Rn,wt.init(ce,De),Te[Xe]=wt,we.push(wt),Le.add(wt.group)}tt.__viewId=wt.__id=Xe,wt.__alive=!0,wt.__model=tt,wt.group.__ecComponentInfo={mainType:tt.mainType,index:tt.componentIndex},!be&&_e.prepareView(wt,tt,ce,De)}for(var Ee=0;Ee<we.length;){var Oe=we[Ee];Oe.__alive?Ee++:(!be&&Oe.renderTask.dispose(),Le.remove(Oe.group),Oe.dispose(ce,De),we.splice(Ee,1),delete Te[Oe.__id],Oe.__id=Oe.group.__ecComponentInfo=null)}}function ve(X){X.clearColorPalette(),X.eachSeries(function(ae){ae.clearColorPalette()})}function he(X,ae,ce,_e){ye(X,ae,ce,_e),L(X._chartsViews,function(be){be.__alive=!1}),Se(X,ae,ce,_e),L(X._chartsViews,function(be){be.__alive||be.remove(ae,ce)})}function ye(X,ae,ce,_e,be){L(be||X._componentsViews,function(we){var Te=we.__model;we.render(Te,ae,ce,_e),We(Te,we)})}function Se(X,ae,ce,_e,be){var we=X._scheduler,Te;ae.eachSeries(function(Le){var De=X._chartsMap[Le.__viewId];De.__alive=!0;var Ee=De.renderTask;we.updatePayload(Ee,_e),be&&be.get(Le.uid)&&Ee.dirty(),Te|=Ee.perform(we.getPerformArgs(Ee)),De.group.silent=!!Le.get("silent"),We(Le,De),Ve(Le,De)}),we.unfinished|=Te,Be(X,ae),b(X._zr.dom,ae)}function Ce(X,ae){L(je,function(ce){ce(X,ae)})}var Me=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];oe._initEvents=function(){L(Me,function(X){var ae=function(ce){var _e=this.getModel(),be=ce.target,we,Te=X==="globalout";if(Te)we={};else if(be&&be.dataIndex!=null){var Le=be.dataModel||_e.getSeriesByIndex(be.seriesIndex);we=Le&&Le.getDataParams(be.dataIndex,be.dataType,be)||{}}else be&&be.eventData&&(we=r.extend({},be.eventData));if(we){var De=we.componentType,Ee=we.componentIndex;(De==="markLine"||De==="markPoint"||De==="markArea")&&(De="series",Ee=we.seriesIndex);var ke=De&&Ee!=null&&_e.getComponent(De,Ee),Oe=ke&&this[ke.mainType==="series"?"_chartsMap":"_componentsMap"][ke.__viewId];we.event=ce,we.type=X,this._ecEventProcessor.eventInfo={targetEl:be,packedEvent:we,model:ke,view:Oe},this.trigger(X,we)}};ae.zrEventfulCallAtLast=!0,this._zr.on(X,ae,this)},this),L(Ie,function(X,ae){this._messageCenter.on(ae,function(ce){this.trigger(ae,ce)},this)},this)},oe.isDisposed=function(){return this._disposed},oe.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},oe.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,y.setAttribute(this.getDom(),Je,"");var X=this._api,ae=this._model;L(this._componentsViews,function(ce){ce.dispose(ae,X)}),L(this._chartsViews,function(ce){ce.dispose(ae,X)}),this._zr.dispose(),delete St[this.id]},r.mixin(ge,l);function Ae(X){}function Be(X,ae){var ce=X._zr,_e=ce.storage,be=0;_e.traverse(function(we){be++}),be>ae.get("hoverLayerThreshold")&&!i.node&&ae.eachSeries(function(we){if(!we.preventUsingHoverLayer){var Te=X._chartsMap[we.__viewId];Te.__alive&&Te.group.traverse(function(Le){Le.useHoverLayer=!0})}})}function Ve(X,ae){var ce=X.get("blendMode")||null;ae.group.traverse(function(_e){_e.isGroup||_e.style.blend!==ce&&_e.setStyle("blend",ce),_e.eachPendingDisplayable&&_e.eachPendingDisplayable(function(be){be.setStyle("blend",ce)})})}function We(X,ae){var ce=X.get("z"),_e=X.get("zlevel");ae.group.traverse(function(be){be.type!=="group"&&(ce!=null&&(be.z=ce),_e!=null&&(be.zlevel=_e))})}function He(X){var ae=X._coordSysMgr;return r.extend(new n(X),{getCoordinateSystems:r.bind(ae.getCoordinateSystems,ae),getComponentByElement:function(ce){for(;ce;){var _e=ce.__ecComponentInfo;if(_e!=null)return X._model.getComponent(_e.mainType,_e.index);ce=ce.parent}}})}function Ze(){this.eventInfo}Ze.prototype={constructor:Ze,normalizeQuery:function(X){var ae={},ce={},_e={};if(r.isString(X)){var be=E(X);ae.mainType=be.main||null,ae.subType=be.sub||null}else{var we=["Index","Name","Id"],Te={name:1,dataIndex:1,dataType:1};r.each(X,function(Le,De){for(var Ee=!1,ke=0;ke<we.length;ke++){var Oe=we[ke],tt=De.lastIndexOf(Oe);if(tt>0&&tt===De.length-Oe.length){var Xe=De.slice(0,tt);Xe!=="data"&&(ae.mainType=Xe,ae[Oe.toLowerCase()]=Le,Ee=!0)}}Te.hasOwnProperty(De)&&(ce[De]=Le,Ee=!0),Ee||(_e[De]=Le)})}return{cptQuery:ae,dataQuery:ce,otherQuery:_e}},filter:function(X,ae,ce){var _e=this.eventInfo;if(!_e)return!0;var be=_e.targetEl,we=_e.packedEvent,Te=_e.model,Le=_e.view;if(!Te||!Le)return!0;var De=ae.cptQuery,Ee=ae.dataQuery;return ke(De,Te,"mainType")&&ke(De,Te,"subType")&&ke(De,Te,"index","componentIndex")&&ke(De,Te,"name")&&ke(De,Te,"id")&&ke(Ee,we,"name")&&ke(Ee,we,"dataIndex")&&ke(Ee,we,"dataType")&&(!Le.filterForExposedEvent||Le.filterForExposedEvent(X,ae.otherQuery,be,we));function ke(Oe,tt,Xe,wt){return Oe[Xe]==null||tt[wt||Xe]===Oe[Xe]}},afterTrigger:function(){this.eventInfo=null}};var Qe={},Ie={},qe=[],Ne=[],je=[],Fe=[],et={},mt={},St={},Ot={},sr=new Date-0,dt=new Date-0,Je="_echarts_instance_";function bt(X){var ae=0,ce=1,_e=2,be="__connectUpdateStatus";function we(Te,Le){for(var De=0;De<Te.length;De++){var Ee=Te[De];Ee[be]=Le}}L(Ie,function(Te,Le){X._messageCenter.on(Le,function(De){if(Ot[X.group]&&X[be]!==ae){if(De&&De.escapeConnect)return;var Ee=X.makeActionFromEvent(De),ke=[];L(St,function(Oe){Oe!==X&&Oe.group===X.group&&ke.push(Oe)}),we(ke,ae),L(ke,function(Oe){Oe[be]!==ce&&Oe.dispatchAction(Ee)}),we(ke,_e)}})})}function gt(X,ae,ce){var _e=Vr(X);if(_e)return _e;var be=new ge(X,ae,ce);return be.id="ec_"+sr++,St[be.id]=be,y.setAttribute(X,Je,be.id),bt(be),be}function Tt(X){if(r.isArray(X)){var ae=X;X=null,L(ae,function(ce){ce.group!=null&&(X=ce.group)}),X=X||"g_"+dt++,L(ae,function(ce){ce.group=X})}return Ot[X]=!0,X}function Nr(X){Ot[X]=!1}var st=Nr;function yt(X){typeof X=="string"?X=St[X]:X instanceof ge||(X=Vr(X)),X instanceof ge&&!X.isDisposed()&&X.dispose()}function Vr(X){return St[y.getAttribute(X,Je)]}function La(X){return St[X]}function gs(X,ae){et[X]=ae}function gg(X){Ne.push(X)}function pg(X,ae){ms(qe,X,ae,V)}function KM(X){je.push(X)}function ps(X,ae,ce){typeof ae=="function"&&(ce=ae,ae="");var _e=I(X)?X.type:[X,X={event:ae}][0];X.event=(X.event||_e).toLowerCase(),ae=X.event,D(ee.test(_e)&&ee.test(ae)),Qe[_e]||(Qe[_e]={action:ce,actionInfo:X}),Ie[ae]=_e}function QM(X,ae){h.register(X,ae)}function jM(X){var ae=h.get(X);if(ae)return ae.getDimensionsInfo?ae.getDimensionsInfo():ae.dimensions.slice()}function JM(X,ae){ms(Fe,X,ae,B,"layout")}function mg(X,ae){ms(Fe,X,ae,F,"visual")}function ms(X,ae,ce,_e,be){(P(ae)||I(ae))&&(ce=ae,ae=_e);var we=w.wrapStageHandler(ce,be);return we.__prio=ae,we.__raw=ce,X.push(we),we}function yg(X,ae){mt[X]=ae}function eD(X){return d.extend(X)}function tD(X){return m.extend(X)}function rD(X){return f.extend(X)}function aD(X){return p.extend(X)}function iD(X){r.$override("createCanvas",X)}function nD(X,ae,ce){C.registerMap(X,ae,ce)}function oD(X){var ae=C.retrieveMap(X);return ae&&ae[0]&&{geoJson:ae[0].geoJSON,specialAreas:ae[0].specialAreas}}mg(H,S),gg(v),pg(O,u),yg("default",x),ps({type:"highlight",event:"highlight",update:"highlight"},r.noop),ps({type:"downplay",event:"downplay",update:"downplay"},r.noop),gs("light",T),gs("dark",M);var sD={};e.version=z,e.dependencies=N,e.PRIORITY=K,e.init=gt,e.connect=Tt,e.disConnect=Nr,e.disconnect=st,e.dispose=yt,e.getInstanceByDom=Vr,e.getInstanceById=La,e.registerTheme=gs,e.registerPreprocessor=gg,e.registerProcessor=pg,e.registerPostUpdate=KM,e.registerAction=ps,e.registerCoordinateSystem=QM,e.getCoordinateSystemDimensions=jM,e.registerLayout=JM,e.registerVisual=mg,e.registerLoading=yg,e.extendComponentModel=eD,e.extendComponentView=tD,e.extendSeriesModel=rD,e.extendChartView=aD,e.setCanvasCreator=iD,e.registerMap=nD,e.getMap=oD,e.dataTool=sD;var ys=JC();(function(){for(var X in ys)ys.hasOwnProperty(X)&&(e[X]=ys[X])})()})(xe);var iy={},El,ny;function WN(){if(ny)return El;ny=1;var e=Br(),t=ft,r=t.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});return El=r,El}var kl={},oy;function $d(){if(oy)return kl;oy=1;var e=ir,t=e.retrieveRawValue;function r(a,i){var o=a.mapDimension("defaultedLabel",!0),l=o.length;if(l===1)return t(a,i,o[0]);if(l){for(var c=[],n=0;n<o.length;n++){var h=t(a,i,o[n]);c.push(h)}return c.join(" ")}}return kl.getDefaultLabel=r,kl}var Ol,sy;function ss(){if(sy)return Ol;sy=1;var e=W,t=Zt(),r=t.createSymbol,a=de,i=Re(),o=i.parsePercent,l=$d(),c=l.getDefaultLabel;function n(_,A,S){a.Group.call(this),this.updateData(_,A,S)}var h=n.prototype,s=n.getSymbolSize=function(_,A){var S=_.getItemVisual(A,"symbolSize");return S instanceof Array?S.slice():[+S,+S]};function v(_){return[_[0]/2,_[1]/2]}function u(_,A){this.parent.drift(_,A)}h._createSymbol=function(_,A,S,b,x){this.removeAll();var w=A.getItemVisual(S,"color"),T=r(_,-1,-1,2,2,w,x);T.attr({z2:100,culling:!0,scale:v(b)}),T.drift=u,this._symbolType=_,this.add(T)},h.stopSymbolAnimation=function(_){this.childAt(0).stopAnimation(_)},h.getSymbolPath=function(){return this.childAt(0)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(_,A){var S=this.childAt(0);S.zlevel=_,S.z=A},h.setDraggable=function(_){var A=this.childAt(0);A.draggable=_,A.cursor=_?"move":A.cursor},h.updateData=function(_,A,S){this.silent=!1;var b=_.getItemVisual(A,"symbol")||"circle",x=_.hostModel,w=s(_,A),T=b!==this._symbolType;if(T){var M=_.getItemVisual(A,"symbolKeepAspect");this._createSymbol(b,_,A,w,M)}else{var C=this.childAt(0);C.silent=!1,a.updateProps(C,{scale:v(w)},x,A)}if(this._updateCommon(_,A,w,S),T){var C=this.childAt(0),D=S&&S.fadeIn,L={scale:C.scale.slice()};D&&(L.style={opacity:C.style.opacity}),C.scale=[0,0],D&&(C.style.opacity=0),a.initProps(C,L,x,A)}this._seriesModel=x};var d=["itemStyle"],f=["emphasis","itemStyle"],m=["label"],p=["emphasis","label"];h._updateCommon=function(_,A,S,b){var x=this.childAt(0),w=_.hostModel,T=_.getItemVisual(A,"color");x.type!=="image"?x.useStyle({strokeNoScale:!0}):x.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var M=b&&b.itemStyle,C=b&&b.hoverItemStyle,D=b&&b.symbolOffset,L=b&&b.labelModel,P=b&&b.hoverLabelModel,I=b&&b.hoverAnimation,E=b&&b.cursorStyle;if(!b||_.hasItemOption){var z=b&&b.itemModel?b.itemModel:_.getItemModel(A);M=z.getModel(d).getItemStyle(["color"]),C=z.getModel(f).getItemStyle(),D=z.getShallow("symbolOffset"),L=z.getModel(m),P=z.getModel(p),I=z.getShallow("hoverAnimation"),E=z.getShallow("cursor")}else C=e.extend({},C);var N=x.style,G=_.getItemVisual(A,"symbolRotate");x.attr("rotation",(G||0)*Math.PI/180||0),D&&x.attr("position",[o(D[0],S[0]),o(D[1],S[1])]),E&&x.attr("cursor",E),x.setColor(T,b&&b.symbolInnerColor),x.setStyle(M);var V=_.getItemVisual(A,"opacity");V!=null&&(N.opacity=V);var R=_.getItemVisual(A,"liftZ"),O=x.__z2Origin;R!=null?O==null&&(x.__z2Origin=x.z2,x.z2+=R):O!=null&&(x.z2=O,x.__z2Origin=null);var k=b&&b.useNameLabel;a.setLabelStyle(N,C,L,P,{labelFetcher:w,labelDataIndex:A,defaultText:B,isRectText:!0,autoColor:T});function B(q,H){return k?_.getName(q):c(_,q)}x.__symbolOriginalScale=v(S),x.hoverStyle=C,x.highDownOnUpdate=I&&w.isAnimationEnabled()?g:null,a.setHoverStyle(x)};function g(_,A){if(!(this.incremental||this.useHoverLayer))if(A==="emphasis"){var S=this.__symbolOriginalScale,b=S[1]/S[0],x={scale:[Math.max(S[0]*1.1,S[0]+3),Math.max(S[1]*1.1,S[1]+3*b)]};this.animateTo(x,400,"elasticOut")}else A==="normal"&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}h.fadeOut=function(_,A){var S=this.childAt(0);this.silent=S.silent=!0,!(A&&A.keepLabel)&&(S.style.text=null),a.updateProps(S,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,_)},e.inherits(n,a.Group);var y=n;return Ol=y,Ol}var zl,ly;function An(){if(ly)return zl;ly=1;var e=de,t=ss(),r=W,a=r.isObject;function i(s){this.group=new e.Group,this._symbolCtor=s||t}var o=i.prototype;function l(s,v,u,d){return v&&!isNaN(v[0])&&!isNaN(v[1])&&!(d.isIgnore&&d.isIgnore(u))&&!(d.clipShape&&!d.clipShape.contain(v[0],v[1]))&&s.getItemVisual(u,"symbol")!=="none"}o.updateData=function(s,v){v=c(v);var u=this.group,d=s.hostModel,f=this._data,m=this._symbolCtor,p=n(s);f||u.removeAll(),s.diff(f).add(function(g){var y=s.getItemLayout(g);if(l(s,y,g,v)){var _=new m(s,g,p);_.attr("position",y),s.setItemGraphicEl(g,_),u.add(_)}}).update(function(g,y){var _=f.getItemGraphicEl(y),A=s.getItemLayout(g);if(!l(s,A,g,v)){u.remove(_);return}_?(_.updateData(s,g,p),e.updateProps(_,{position:A},d)):(_=new m(s,g),_.attr("position",A)),u.add(_),s.setItemGraphicEl(g,_)}).remove(function(g){var y=f.getItemGraphicEl(g);y&&y.fadeOut(function(){u.remove(y)})}).execute(),this._data=s},o.isPersistent=function(){return!0},o.updateLayout=function(){var s=this._data;s&&s.eachItemGraphicEl(function(v,u){var d=s.getItemLayout(u);v.attr("position",d)})},o.incrementalPrepareUpdate=function(s){this._seriesScope=n(s),this._data=null,this.group.removeAll()},o.incrementalUpdate=function(s,v,u){u=c(u);function d(g){g.isGroup||(g.incremental=g.useHoverLayer=!0)}for(var f=s.start;f<s.end;f++){var m=v.getItemLayout(f);if(l(v,m,f,u)){var p=new this._symbolCtor(v,f,this._seriesScope);p.traverse(d),p.attr("position",m),this.group.add(p),v.setItemGraphicEl(f,p)}}};function c(s){return s!=null&&!a(s)&&(s={isIgnore:s}),s||{}}o.remove=function(s){var v=this.group,u=this._data;u&&s?u.eachItemGraphicEl(function(d){d.fadeOut(function(){v.remove(d)})}):v.removeAll()};function n(s){var v=s.hostModel;return{itemStyle:v.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:v.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:v.get("symbolRotate"),symbolOffset:v.get("symbolOffset"),hoverAnimation:v.get("hoverAnimation"),labelModel:v.getModel("label"),hoverLabelModel:v.getModel("emphasis.label"),cursorStyle:v.get("cursor")}}var h=i;return zl=h,zl}var ao={},uy;function eM(){if(uy)return ao;uy=1;var e=wr(),t=e.isDimensionStacked,r=W,a=r.map;function i(c,n,h){var s=c.getBaseAxis(),v=c.getOtherAxis(s),u=o(v,h),d=s.dim,f=v.dim,m=n.mapDimension(f),p=n.mapDimension(d),g=f==="x"||f==="radius"?1:0,y=a(c.dimensions,function(S){return n.mapDimension(S)}),_,A=n.getCalculationInfo("stackResultDimension");return(_|=t(n,y[0]))&&(y[0]=A),(_|=t(n,y[1]))&&(y[1]=A),{dataDimsForPoint:y,valueStart:u,valueAxisDim:f,baseAxisDim:d,stacked:!!_,valueDim:m,baseDim:p,baseDataOffset:g,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function o(c,n){var h=0,s=c.scale.getExtent();return n==="start"?h=s[0]:n==="end"?h=s[1]:s[0]>0?h=s[0]:s[1]<0&&(h=s[1]),h}function l(c,n,h,s){var v=NaN;c.stacked&&(v=h.get(h.getCalculationInfo("stackedOverDimension"),s)),isNaN(v)&&(v=c.valueStart);var u=c.baseDataOffset,d=[];return d[u]=h.get(c.baseDim,s),d[1-u]=v,n.dataToPoint(d)}return ao.prepareDataCoordInfo=i,ao.getStackedOnPoint=l,ao}var Bl,vy;function ZN(){if(vy)return Bl;vy=1;var e=eM(),t=e.prepareDataCoordInfo,r=e.getStackedOnPoint;function a(o,l){var c=[];return l.diff(o).add(function(n){c.push({cmd:"+",idx:n})}).update(function(n,h){c.push({cmd:"=",idx:h,idx1:n})}).remove(function(n){c.push({cmd:"-",idx:n})}).execute(),c}function i(o,l,c,n,h,s,v,u){for(var d=a(o,l),f=[],m=[],p=[],g=[],y=[],_=[],A=[],S=t(h,l,v),b=t(s,o,u),x=0;x<d.length;x++){var w=d[x],T=!0;switch(w.cmd){case"=":var M=o.getItemLayout(w.idx),C=l.getItemLayout(w.idx1);(isNaN(M[0])||isNaN(M[1]))&&(M=C.slice()),f.push(M),m.push(C),p.push(c[w.idx]),g.push(n[w.idx1]),A.push(l.getRawIndex(w.idx1));break;case"+":var D=w.idx;f.push(h.dataToPoint([l.get(S.dataDimsForPoint[0],D),l.get(S.dataDimsForPoint[1],D)])),m.push(l.getItemLayout(D).slice()),p.push(r(S,h,l,D)),g.push(n[D]),A.push(l.getRawIndex(D));break;case"-":var D=w.idx,L=o.getRawIndex(D);L!==D?(f.push(o.getItemLayout(D)),m.push(s.dataToPoint([o.get(b.dataDimsForPoint[0],D),o.get(b.dataDimsForPoint[1],D)])),p.push(c[D]),g.push(r(b,s,o,D)),A.push(L)):T=!1}T&&(y.push(w),_.push(_.length))}_.sort(function(G,V){return A[G]-A[V]});for(var P=[],I=[],E=[],z=[],N=[],x=0;x<_.length;x++){var D=_[x];P[x]=f[D],I[x]=m[D],E[x]=p[D],z[x]=g[D],N[x]=y[D]}return{current:P,next:I,stackedOnCurrent:E,stackedOnNext:z,status:N}}return Bl=i,Bl}var io={},hy;function tM(){if(hy)return io;hy=1;var e=at,t=Ye(),r=ET,a=t.min,i=t.max,o=t.scaleAndAdd,l=t.copy,c=[],n=[],h=[];function s(g){return isNaN(g[0])||isNaN(g[1])}function v(g,y,_,A,S,b,x,w,T,M,C){return M==="none"||!M?d.apply(this,arguments):u.apply(this,arguments)}function u(g,y,_,A,S,b,x,w,T,M,C){for(var D=0,L=_,P=0;P<A;P++){var I=y[L];if(L>=S||L<0)break;if(s(I)){if(C){L+=b;continue}break}if(L===_)g[b>0?"moveTo":"lineTo"](I[0],I[1]);else if(T>0){var E=y[D],z=M==="y"?1:0,N=(I[z]-E[z])*T;l(n,E),n[z]=E[z]+N,l(h,I),h[z]=I[z]-N,g.bezierCurveTo(n[0],n[1],h[0],h[1],I[0],I[1])}else g.lineTo(I[0],I[1]);D=L,L+=b}return P}function d(g,y,_,A,S,b,x,w,T,M,C){for(var D=0,L=_,P=0;P<A;P++){var I=y[L];if(L>=S||L<0)break;if(s(I)){if(C){L+=b;continue}break}if(L===_)g[b>0?"moveTo":"lineTo"](I[0],I[1]),l(n,I);else if(T>0){var E=L+b,G=y[E];if(C)for(;G&&s(y[E]);)E+=b,G=y[E];var z=.5,N=y[D],G=y[E];if(!G||s(G))l(h,I);else{s(G)&&!C&&(G=I),t.sub(c,G,N);var V,R;if(M==="x"||M==="y"){var O=M==="x"?0:1;V=Math.abs(I[O]-N[O]),R=Math.abs(I[O]-G[O])}else V=t.dist(I,N),R=t.dist(I,G);z=R/(R+V),o(h,I,c,-T*(1-z))}a(n,n,w),i(n,n,x),a(h,h,w),i(h,h,x),g.bezierCurveTo(n[0],n[1],h[0],h[1],I[0],I[1]),o(n,I,c,T*z)}else g.lineTo(I[0],I[1]);D=L,L+=b}return P}function f(g,y){var _=[1/0,1/0],A=[-1/0,-1/0];if(y)for(var S=0;S<g.length;S++){var b=g[S];b[0]<_[0]&&(_[0]=b[0]),b[1]<_[1]&&(_[1]=b[1]),b[0]>A[0]&&(A[0]=b[0]),b[1]>A[1]&&(A[1]=b[1])}return{min:y?_:A,max:y?A:_}}var m=e.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(e.prototype.brush),buildPath:function(g,y){var _=y.points,A=0,S=_.length,b=f(_,y.smoothConstraint);if(y.connectNulls){for(;S>0&&s(_[S-1]);S--);for(;A<S&&s(_[A]);A++);}for(;A<S;)A+=v(g,_,A,S,S,1,b.min,b.max,y.smooth,y.smoothMonotone,y.connectNulls)+1}}),p=e.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(e.prototype.brush),buildPath:function(g,y){var _=y.points,A=y.stackedOnPoints,S=0,b=_.length,x=y.smoothMonotone,w=f(_,y.smoothConstraint),T=f(A,y.smoothConstraint);if(y.connectNulls){for(;b>0&&s(_[b-1]);b--);for(;S<b&&s(_[S]);S++);}for(;S<b;){var M=v(g,_,S,b,b,1,w.min,w.max,y.smooth,x,y.connectNulls);v(g,A,S+M-1,M,b,-1,T.min,T.max,y.stackedOnSmooth,x,y.connectNulls),S+=M+1,g.closePath()}}});return io.Polyline=m,io.Polygon=p,io}var Oi={},cy;function Tn(){if(cy)return Oi;cy=1;var e=de,t=Re(),r=t.round;function a(l,c,n){var h=l.getArea(),s=l.getBaseAxis().isHorizontal(),v=h.x,u=h.y,d=h.width,f=h.height,m=n.get("lineStyle.width")||2;v-=m/2,u-=m/2,d+=m,f+=m,v=Math.floor(v),d=Math.round(d);var p=new e.Rect({shape:{x:v,y:u,width:d,height:f}});return c&&(p.shape[s?"width":"height"]=0,e.initProps(p,{shape:{width:d,height:f}},n)),p}function i(l,c,n){var h=l.getArea(),s=new e.Sector({shape:{cx:r(l.cx,1),cy:r(l.cy,1),r0:r(h.r0,1),r:r(h.r,1),startAngle:h.startAngle,endAngle:h.endAngle,clockwise:h.clockwise}});return c&&(s.shape.endAngle=h.startAngle,e.initProps(s,{shape:{endAngle:h.endAngle}},n)),s}function o(l,c,n){if(l){if(l.type==="polar")return i(l,c,n);if(l.type==="cartesian2d")return a(l,c,n)}else return null;return null}return Oi.createGridClipPath=a,Oi.createPolarClipPath=i,Oi.createClipPath=o,Oi}var Nl,fy;function YN(){if(fy)return Nl;fy=1;var e=W,t=fn(),r=t.fromPoints,a=An(),i=ss(),o=ZN(),l=de,c=Pe,n=tM(),h=n.Polyline,s=n.Polygon,v=br,u=eM(),d=u.prepareDataCoordInfo,f=u.getStackedOnPoint,m=Tn(),p=m.createGridClipPath,g=m.createPolarClipPath;function y(D,L){if(D.length===L.length){for(var P=0;P<D.length;P++){var I=D[P],E=L[P];if(I[0]!==E[0]||I[1]!==E[1])return}return!0}}function _(D,L){var P=[],I=[],E=[],z=[];return r(D,P,I),r(L,E,z),Math.max(Math.abs(P[0]-E[0]),Math.abs(P[1]-E[1]),Math.abs(I[0]-z[0]),Math.abs(I[1]-z[1]))}function A(D){return typeof D=="number"?D:D?.5:0}function S(D,L,P){if(!P.valueDim)return[];for(var I=[],E=0,z=L.count();E<z;E++)I.push(f(P,D,L,E));return I}function b(D,L,P){for(var I=L.getBaseAxis(),E=I.dim==="x"||I.dim==="radius"?0:1,z=[],N=0;N<D.length-1;N++){var G=D[N+1],V=D[N];z.push(V);var R=[];switch(P){case"end":R[E]=G[E],R[1-E]=V[1-E],z.push(R);break;case"middle":var O=(V[E]+G[E])/2,k=[];R[E]=k[E]=O,R[1-E]=V[1-E],k[1-E]=G[1-E],z.push(R),z.push(k);break;default:R[E]=V[E],R[1-E]=G[1-E],z.push(R)}}return D[N]&&z.push(D[N]),z}function x(D,L){var P=D.getVisual("visualMeta");if(!(!P||!P.length||!D.count())&&L.type==="cartesian2d"){for(var I,E,z=P.length-1;z>=0;z--){var N=P[z].dimension,G=D.dimensions[N],V=D.getDimensionInfo(G);if(I=V&&V.coordDim,I==="x"||I==="y"){E=P[z];break}}if(E){var R=L.getAxis(I),O=e.map(E.stops,function(Y){return{coord:R.toGlobalCoord(R.dataToCoord(Y.value)),color:Y.color}}),k=O.length,B=E.outerColors.slice();k&&O[0].coord>O[k-1].coord&&(O.reverse(),B.reverse());var q=10,H=O[0].coord-q,F=O[k-1].coord+q,U=F-H;if(U<.001)return"transparent";e.each(O,function(Y){Y.offset=(Y.coord-H)/U}),O.push({offset:k?O[k-1].offset:.5,color:B[1]||"transparent"}),O.unshift({offset:k?O[0].offset:.5,color:B[0]||"transparent"});var $=new l.LinearGradient(0,0,0,0,O,!0);return $[I]=H,$[I+"2"]=F,$}}}function w(D,L,P){var I=D.get("showAllSymbol"),E=I==="auto";if(!(I&&!E)){var z=P.getAxesByScale("ordinal")[0];if(z&&!(E&&T(z,L))){var N=L.mapDimension(z.dim),G={};return e.each(z.getViewLabels(),function(V){G[V.tickValue]=1}),function(V){return!G.hasOwnProperty(L.get(N,V))}}}}function T(D,L){var P=D.getExtent(),I=Math.abs(P[1]-P[0])/D.scale.count();isNaN(I)&&(I=0);for(var E=L.count(),z=Math.max(1,Math.round(E/5)),N=0;N<E;N+=z)if(i.getSymbolSize(L,N)[D.isHorizontal()?1:0]*1.5>I)return!1;return!0}function M(D,L,P){if(D.type==="cartesian2d"){var I=D.getBaseAxis().isHorizontal(),E=p(D,L,P);if(!P.get("clip",!0)){var z=E.shape,N=Math.max(z.width,z.height);I?(z.y-=N,z.height+=N*2):(z.x-=N,z.width+=N*2)}return E}else return g(D,L,P)}var C=v.extend({type:"line",init:function(){var D=new l.Group,L=new a;this.group.add(L.group),this._symbolDraw=L,this._lineGroup=D},render:function(D,L,P){var I=D.coordinateSystem,E=this.group,z=D.getData(),N=D.getModel("lineStyle"),G=D.getModel("areaStyle"),V=z.mapArray(z.getItemLayout),R=I.type==="polar",O=this._coordSys,k=this._symbolDraw,B=this._polyline,q=this._polygon,H=this._lineGroup,F=D.get("animation"),U=!G.isEmpty(),$=G.get("origin"),Y=d(I,z,$),K=S(I,z,Y),J=D.get("showSymbol"),j=J&&!R&&w(D,z,I),ee=this._data;ee&&ee.eachItemGraphicEl(function(ne,se){ne.__temp&&(E.remove(ne),ee.setItemGraphicEl(se,null))}),J||k.remove(),E.add(H);var te=!R&&D.get("step"),ie;I&&I.getArea&&D.get("clip",!0)&&(ie=I.getArea(),ie.width!=null?(ie.x-=.1,ie.y-=.1,ie.width+=.2,ie.height+=.2):ie.r0&&(ie.r0-=.5,ie.r1+=.5)),this._clipShapeForSymbol=ie,B&&O.type===I.type&&te===this._step?(U&&!q?q=this._newPolygon(V,K,I,F):q&&!U&&(H.remove(q),q=this._polygon=null),H.setClipPath(M(I,!1,D)),J&&k.updateData(z,{isIgnore:j,clipShape:ie}),z.eachItemGraphicEl(function(ne){ne.stopAnimation(!0)}),(!y(this._stackedOnPoints,K)||!y(this._points,V))&&(F?this._updateAnimation(z,K,I,P,te,$):(te&&(V=b(V,I,te),K=b(K,I,te)),B.setShape({points:V}),q&&q.setShape({points:V,stackedOnPoints:K})))):(J&&k.updateData(z,{isIgnore:j,clipShape:ie}),te&&(V=b(V,I,te),K=b(K,I,te)),B=this._newPolyline(V,I,F),U&&(q=this._newPolygon(V,K,I,F)),H.setClipPath(M(I,!0,D)));var ge=x(z,I)||z.getVisual("color");B.useStyle(e.defaults(N.getLineStyle(),{fill:"none",stroke:ge,lineJoin:"bevel"}));var oe=D.get("smooth");if(oe=A(D.get("smooth")),B.setShape({smooth:oe,smoothMonotone:D.get("smoothMonotone"),connectNulls:D.get("connectNulls")}),q){var fe=z.getCalculationInfo("stackedOnSeries"),pe=0;q.useStyle(e.defaults(G.getAreaStyle(),{fill:ge,opacity:.7,lineJoin:"bevel"})),fe&&(pe=A(fe.get("smooth"))),q.setShape({smooth:oe,stackedOnSmooth:pe,smoothMonotone:D.get("smoothMonotone"),connectNulls:D.get("connectNulls")})}this._data=z,this._coordSys=I,this._stackedOnPoints=K,this._points=V,this._step=te,this._valueOrigin=$},dispose:function(){},highlight:function(D,L,P,I){var E=D.getData(),z=c.queryDataIndex(E,I);if(!(z instanceof Array)&&z!=null&&z>=0){var N=E.getItemGraphicEl(z);if(!N){var G=E.getItemLayout(z);if(!G||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(G[0],G[1]))return;N=new i(E,z),N.position=G,N.setZ(D.get("zlevel"),D.get("z")),N.ignore=isNaN(G[0])||isNaN(G[1]),N.__temp=!0,E.setItemGraphicEl(z,N),N.stopSymbolAnimation(!0),this.group.add(N)}N.highlight()}else v.prototype.highlight.call(this,D,L,P,I)},downplay:function(D,L,P,I){var E=D.getData(),z=c.queryDataIndex(E,I);if(z!=null&&z>=0){var N=E.getItemGraphicEl(z);N&&(N.__temp?(E.setItemGraphicEl(z,null),this.group.remove(N)):N.downplay())}else v.prototype.downplay.call(this,D,L,P,I)},_newPolyline:function(D){var L=this._polyline;return L&&this._lineGroup.remove(L),L=new h({shape:{points:D},silent:!0,z2:10}),this._lineGroup.add(L),this._polyline=L,L},_newPolygon:function(D,L){var P=this._polygon;return P&&this._lineGroup.remove(P),P=new s({shape:{points:D,stackedOnPoints:L},silent:!0}),this._lineGroup.add(P),this._polygon=P,P},_updateAnimation:function(D,L,P,I,E,z){var N=this._polyline,G=this._polygon,V=D.hostModel,R=o(this._data,D,this._stackedOnPoints,L,this._coordSys,P,this._valueOrigin,z),O=R.current,k=R.stackedOnCurrent,B=R.next,q=R.stackedOnNext;if(E&&(O=b(R.current,P,E),k=b(R.stackedOnCurrent,P,E),B=b(R.next,P,E),q=b(R.stackedOnNext,P,E)),_(O,B)>3e3||G&&_(k,q)>3e3){N.setShape({points:B}),G&&G.setShape({points:B,stackedOnPoints:q});return}N.shape.__points=R.current,N.shape.points=O,l.updateProps(N,{shape:{points:B}},V),G&&(G.setShape({points:O,stackedOnPoints:k}),l.updateProps(G,{shape:{points:B,stackedOnPoints:q}},V));for(var H=[],F=R.status,U=0;U<F.length;U++){var $=F[U].cmd;if($==="="){var Y=D.getItemGraphicEl(F[U].idx1);Y&&H.push({el:Y,ptIdx:U})}}N.animators&&N.animators.length&&N.animators[0].during(function(){for(var K=0;K<H.length;K++){var J=H[K].el;J.attr("position",N.shape.__points[H[K].ptIdx])}})},remove:function(D){var L=this.group,P=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),P&&P.eachItemGraphicEl(function(I,E){I.__temp&&(L.remove(I),P.setItemGraphicEl(E,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});return Nl=C,Nl}var Vl,dy;function Ta(){if(dy)return Vl;dy=1;var e=W,t=e.isFunction;function r(a,i,o){return{seriesType:a,performRawSeries:!0,reset:function(l,c,n){var h=l.getData(),s=l.get("symbol"),v=l.get("symbolSize"),u=l.get("symbolKeepAspect"),d=l.get("symbolRotate"),f=t(s),m=t(v),p=t(d),g=f||m||p,y=!f&&s?s:i,_=m?null:v;if(h.setVisual({legendSymbol:o||y,symbol:y,symbolSize:_,symbolKeepAspect:u,symbolRotate:d}),c.isSeriesFiltered(l))return;function A(S,b){if(g){var x=l.getRawValue(b),w=l.getDataParams(b);f&&S.setItemVisual(b,"symbol",s(x,w)),m&&S.setItemVisual(b,"symbolSize",v(x,w)),p&&S.setItemVisual(b,"symbolRotate",d(x,w))}if(S.hasItemOption){var T=S.getItemModel(b),M=T.getShallow("symbol",!0),C=T.getShallow("symbolSize",!0),D=T.getShallow("symbolRotate",!0),L=T.getShallow("symbolKeepAspect",!0);M!=null&&S.setItemVisual(b,"symbol",M),C!=null&&S.setItemVisual(b,"symbolSize",C),D!=null&&S.setItemVisual(b,"symbolRotate",D),L!=null&&S.setItemVisual(b,"symbolKeepAspect",L)}}return{dataEach:h.hasItemOption||g?A:null}}}}return Vl=r,Vl}var Hl,gy;function Cn(){if(gy)return Hl;gy=1;var e=W,t=e.map,r=fi,a=wr(),i=a.isDimensionStacked;function o(l){return{seriesType:l,plan:r(),reset:function(c){var n=c.getData(),h=c.coordinateSystem,s=c.pipelineContext,v=s.large;if(!h)return;var u=t(h.dimensions,function(p){return n.mapDimension(p)}).slice(0,2),d=u.length,f=n.getCalculationInfo("stackResultDimension");i(n,u[0])&&(u[0]=f),i(n,u[1])&&(u[1]=f);function m(p,g){for(var y=p.end-p.start,_=v&&new Float32Array(y*d),A=p.start,S=0,b=[],x=[];A<p.end;A++){var w;if(d===1){var T=g.get(u[0],A);w=!isNaN(T)&&h.dataToPoint(T,null,x)}else{var T=b[0]=g.get(u[0],A),M=b[1]=g.get(u[1],A);w=!isNaN(T)&&!isNaN(M)&&h.dataToPoint(b,null,x)}v?(_[S++]=w?w[0]:NaN,_[S++]=w?w[1]:NaN):g.setItemLayout(A,w&&w.slice()||[NaN,NaN])}v&&g.setLayout("symbolPoints",_)}return d&&{progress:m}}}}return Hl=o,Hl}var ql,py;function XN(){if(py)return ql;py=1;var e={average:function(a){for(var i=0,o=0,l=0;l<a.length;l++)isNaN(a[l])||(i+=a[l],o++);return o===0?NaN:i/o},sum:function(a){for(var i=0,o=0;o<a.length;o++)i+=a[o]||0;return i},max:function(a){for(var i=-1/0,o=0;o<a.length;o++)a[o]>i&&(i=a[o]);return isFinite(i)?i:NaN},min:function(a){for(var i=1/0,o=0;o<a.length;o++)a[o]<i&&(i=a[o]);return isFinite(i)?i:NaN},nearest:function(a){return a[0]}},t=function(a,i){return Math.round(a.length/2)};function r(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(i,o,l){var c=i.getData(),n=i.get("sampling"),h=i.coordinateSystem;if(h.type==="cartesian2d"&&n){var s=h.getBaseAxis(),v=h.getOtherAxis(s),u=s.getExtent(),d=u[1]-u[0],f=Math.round(c.count()/d);if(f>1){var m;typeof n=="string"?m=e[n]:typeof n=="function"&&(m=n),m&&i.setData(c.downSample(c.mapDimension(v.dim),1/f,m,t))}}}}}return ql=r,ql}var my={},Gl,yy;function KN(){if(yy)return Gl;yy=1;var e=W;function t(i){return this._axes[i]}var r=function(i){this._axes={},this._dimList=[],this.name=i||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(i){return this._axes[i]},getAxes:function(){return e.map(this._dimList,t,this)},getAxesByScale:function(i){return i=i.toLowerCase(),e.filter(this.getAxes(),function(o){return o.scale.type===i})},addAxis:function(i){var o=i.dim;this._axes[o]=i,this._dimList.push(o)},dataToCoord:function(i){return this._dataCoordConvert(i,"dataToCoord")},coordToData:function(i){return this._dataCoordConvert(i,"coordToData")},_dataCoordConvert:function(i,o){for(var l=this._dimList,c=i instanceof Array?[]:{},n=0;n<l.length;n++){var h=l[n],s=this._axes[h];c[h]=s[o](i[h])}return c}};var a=r;return Gl=a,Gl}var Fl,_y;function QN(){if(_y)return Fl;_y=1;var e=W,t=Ke,r=KN();function a(o){r.call(this,o)}a.prototype={constructor:a,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(o){var l=this.getAxis("x"),c=this.getAxis("y");return l.contain(l.toLocalCoord(o[0]))&&c.contain(c.toLocalCoord(o[1]))},containData:function(o){return this.getAxis("x").containData(o[0])&&this.getAxis("y").containData(o[1])},dataToPoint:function(o,l,c){var n=this.getAxis("x"),h=this.getAxis("y");return c=c||[],c[0]=n.toGlobalCoord(n.dataToCoord(o[0])),c[1]=h.toGlobalCoord(h.dataToCoord(o[1])),c},clampData:function(o,l){var c=this.getAxis("x").scale,n=this.getAxis("y").scale,h=c.getExtent(),s=n.getExtent(),v=c.parse(o[0]),u=n.parse(o[1]);return l=l||[],l[0]=Math.min(Math.max(Math.min(h[0],h[1]),v),Math.max(h[0],h[1])),l[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),l},pointToData:function(o,l){var c=this.getAxis("x"),n=this.getAxis("y");return l=l||[],l[0]=c.coordToData(c.toLocalCoord(o[0])),l[1]=n.coordToData(n.toLocalCoord(o[1])),l},getOtherAxis:function(o){return this.getAxis(o.dim==="x"?"y":"x")},getArea:function(){var o=this.getAxis("x").getGlobalExtent(),l=this.getAxis("y").getGlobalExtent(),c=Math.min(o[0],o[1]),n=Math.min(l[0],l[1]),h=Math.max(o[0],o[1])-c,s=Math.max(l[0],l[1])-n,v=new t(c,n,h,s);return v}},e.inherits(a,r);var i=a;return Fl=i,Fl}var Ul,xy;function jN(){if(xy)return Ul;xy=1;var e=W,t=aa(),r=function(i,o,l,c,n){t.call(this,i,o,l),this.type=c||"value",this.position=n||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},getGlobalExtent:function(i){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),i&&o[0]>o[1]&&o.reverse(),o},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(i,o){return this.coordToData(this.toLocalCoord(i[this.dim==="x"?0:1]),o)},toLocalCoord:null,toGlobalCoord:null},e.inherits(r,t);var a=r;return Ul=a,Ul}var $l,Sy;function rM(){if(Sy)return $l;Sy=1;var e=W,t={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=e.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},t),r.valueAxis=e.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},t),r.timeAxis=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=e.defaults({scale:!0,logBase:10},r.valueAxis);var a=r;return $l=a,$l}var Wl,by;function ls(){if(by)return Wl;by=1;var e=W,t=rM(),r=ct,a=ze,i=a.getLayoutParams,o=a.mergeLayoutParam,l=ZC(),c=["value","category","time","log"];function n(h,s,v,u){e.each(c,function(d){s.extend({type:h+"Axis."+d,mergeDefaultAndTheme:function(f,m){var p=this.layoutMode,g=p?i(f):{},y=m.getTheme();e.merge(f,y.get(d+"Axis")),e.merge(f,this.getDefaultOption()),f.type=v(h,f),p&&o(f,g,p)},optionUpdated:function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=l.createByAxisModel(this))},getCategories:function(f){var m=this.option;if(m.type==="category")return f?m.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:e.mergeAll([{},t[d+"Axis"],u],!0)})}),r.registerSubTypeDefaulter(h+"Axis",e.curry(v,h))}return Wl=n,Wl}var Zl,wy;function aM(){if(wy)return Zl;wy=1;var e=W,t=ct,r=ls(),a=pi(),i=t.extend({type:"cartesian2dAxis",axis:null,init:function(){i.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){i.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){i.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function o(n,h){return h.type||(h.data?"category":"value")}e.merge(i.prototype,a);var l={offset:0};r("x",i,o,l),r("y",i,o,l);var c=i;return Zl=c,Zl}var Yl,Ay;function JN(){if(Ay)return Yl;Ay=1,aM();var e=ct,t=e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});return Yl=t,Yl}var Xl,Ty;function Wd(){if(Ty)return Xl;Ty=1;var e=W,t=e.isObject,r=e.each,a=e.map,i=e.indexOf;e.retrieve;var o=ze,l=o.getLayoutRect,c=or(),n=c.createScaleByModel,h=c.ifAxisCrossZero,s=c.niceScaleExtent,v=c.estimateLabelUnionRect,u=QN(),d=jN(),f=Sr,m=wr(),p=m.getStackedDimension;JN();function g(C,D,L){return C.getCoordSysModel()===D}function y(C,D,L){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(C,D,L),this.model=C}var _=y.prototype;_.type="grid",_.axisPointerEnabled=!0,_.getRect=function(){return this._rect},_.update=function(C,D){var L=this._axesMap;this._updateScale(C,this.model),r(L.x,function(I){s(I.scale,I.model)}),r(L.y,function(I){s(I.scale,I.model)});var P={};r(L.x,function(I){A(L,"y",I,P)}),r(L.y,function(I){A(L,"x",I,P)}),this.resize(this.model,D)};function A(C,D,L,P){L.getAxesOnZeroOf=function(){return E?[E]:[]};var I=C[D],E,z=L.model,N=z.get("axisLine.onZero"),G=z.get("axisLine.onZeroAxisIndex");if(!N)return;if(G!=null)S(I[G])&&(E=I[G]);else for(var V in I)if(I.hasOwnProperty(V)&&S(I[V])&&!P[R(I[V])]){E=I[V];break}E&&(P[R(E)]=!0);function R(O){return O.dim+"_"+O.index}}function S(C){return C&&C.type!=="category"&&C.type!=="time"&&h(C)}_.resize=function(C,D,L){var P=l(C.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()});this._rect=P;var I=this._axesList;E(),!L&&C.get("containLabel")&&(r(I,function(z){if(!z.model.get("axisLabel.inside")){var N=v(z);if(N){var G=z.isHorizontal()?"height":"width",V=z.model.get("axisLabel.margin");P[G]-=N[G]+V,z.position==="top"?P.y+=N.height+V:z.position==="left"&&(P.x+=N.width+V)}}}),E());function E(){r(I,function(z){var N=z.isHorizontal(),G=N?[0,P.width]:[0,P.height],V=z.inverse?1:0;z.setExtent(G[V],G[1-V]),b(z,N?P.x:P.y)})}},_.getAxis=function(C,D){var L=this._axesMap[C];if(L!=null){if(D==null){for(var P in L)if(L.hasOwnProperty(P))return L[P]}return L[D]}},_.getAxes=function(){return this._axesList.slice()},_.getCartesian=function(C,D){if(C!=null&&D!=null){var L="x"+C+"y"+D;return this._coordsMap[L]}t(C)&&(D=C.yAxisIndex,C=C.xAxisIndex);for(var P=0,I=this._coordsList;P<I.length;P++)if(I[P].getAxis("x").index===C||I[P].getAxis("y").index===D)return I[P]},_.getCartesians=function(){return this._coordsList.slice()},_.convertToPixel=function(C,D,L){var P=this._findConvertTarget(C,D);return P.cartesian?P.cartesian.dataToPoint(L):P.axis?P.axis.toGlobalCoord(P.axis.dataToCoord(L)):null},_.convertFromPixel=function(C,D,L){var P=this._findConvertTarget(C,D);return P.cartesian?P.cartesian.pointToData(L):P.axis?P.axis.coordToData(P.axis.toLocalCoord(L)):null},_._findConvertTarget=function(C,D){var L=D.seriesModel,P=D.xAxisModel||L&&L.getReferringComponents("xAxis")[0],I=D.yAxisModel||L&&L.getReferringComponents("yAxis")[0],E=D.gridModel,z=this._coordsList,N,G;if(L)N=L.coordinateSystem,i(z,N)<0&&(N=null);else if(P&&I)N=this.getCartesian(P.componentIndex,I.componentIndex);else if(P)G=this.getAxis("x",P.componentIndex);else if(I)G=this.getAxis("y",I.componentIndex);else if(E){var V=E.coordinateSystem;V===this&&(N=this._coordsList[0])}return{cartesian:N,axis:G}},_.containPoint=function(C){var D=this._coordsList[0];if(D)return D.containPoint(C)},_._initCartesian=function(C,D,L){var P={left:!1,right:!1,top:!1,bottom:!1},I={x:{},y:{}},E={x:0,y:0};if(D.eachComponent("xAxis",z("x"),this),D.eachComponent("yAxis",z("y"),this),!E.x||!E.y){this._axesMap={},this._axesList=[];return}this._axesMap=I,r(I.x,function(N,G){r(I.y,function(V,R){var O="x"+G+"y"+R,k=new u(O);k.grid=this,k.model=C,this._coordsMap[O]=k,this._coordsList.push(k),k.addAxis(N),k.addAxis(V)},this)},this);function z(N){return function(G,V){if(g(G,C)){var R=G.get("position");N==="x"?R!=="top"&&R!=="bottom"&&(R=P.bottom?"top":"bottom"):R!=="left"&&R!=="right"&&(R=P.left?"right":"left"),P[R]=!0;var O=new d(N,n(G),[0,0],G.get("type"),R),k=O.type==="category";O.onBand=k&&G.get("boundaryGap"),O.inverse=G.get("inverse"),G.axis=O,O.model=G,O.grid=this,O.index=V,this._axesList.push(O),I[N][V]=O,E[N]++}}}},_._updateScale=function(C,D){r(this._axesList,function(P){P.scale.setExtent(1/0,-1/0)}),C.eachSeries(function(P){if(T(P)){var I=w(P),E=I[0],z=I[1];if(!g(E,D)||!g(z,D))return;var N=this.getCartesian(E.componentIndex,z.componentIndex),G=P.getData(),V=N.getAxis("x"),R=N.getAxis("y");G.type==="list"&&(L(G,V),L(G,R))}},this);function L(P,I,E){r(P.mapDimension(I.dim,!0),function(z){I.scale.unionExtentFromData(P,p(P,z))})}},_.getTooltipAxes=function(C){var D=[],L=[];return r(this.getCartesians(),function(P){var I=C!=null&&C!=="auto"?P.getAxis(C):P.getBaseAxis(),E=P.getOtherAxis(I);i(D,I)<0&&D.push(I),i(L,E)<0&&L.push(E)}),{baseAxes:D,otherAxes:L}};function b(C,D){var L=C.getExtent(),P=L[0]+L[1];C.toGlobalCoord=C.dim==="x"?function(I){return I+D}:function(I){return P-I+D},C.toLocalCoord=C.dim==="x"?function(I){return I-D}:function(I){return P-I+D}}var x=["xAxis","yAxis"];function w(C,D){return a(x,function(L){var P=C.getReferringComponents(L)[0];return P})}function T(C){return C.get("coordinateSystem")==="cartesian2d"}y.create=function(C,D){var L=[];return C.eachComponent("grid",function(P,I){var E=new y(P,C,D);E.name="grid_"+I,E.resize(P,D,!0),P.coordinateSystem=E,L.push(E)}),C.eachSeries(function(P){if(T(P)){var I=w(P),E=I[0],z=I[1],N=E.getCoordSysModel(),G=N.coordinateSystem;P.coordinateSystem=G.getCartesian(E.componentIndex,z.componentIndex)}}),L},y.dimensions=y.prototype.dimensions=u.prototype.dimensions,f.register("cartesian2d",y);var M=y;return Xl=M,Xl}var Cy={},My={},Kl,Dy;function ia(){if(Dy)return Kl;Dy=1;var e=W,t=e.retrieve,r=e.defaults,a=e.extend,i=e.each,o=Ge(),l=de,c=ot(),n=Re(),h=n.isRadianAroundZero,s=n.remRadian,v=Zt(),u=v.createSymbol,d=Pt(),f=Ye(),m=f.applyTransform,p=or(),g=p.shouldShowAllLabels,y=Math.PI,_=function(N,G){this.opt=G,this.axisModel=N,r(G,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new l.Group;var V=new l.Group({position:G.position.slice(),rotation:G.rotation});V.updateTransform(),this._transform=V.transform,this._dumbGroup=V};_.prototype={constructor:_,hasBuilder:function(N){return!!A[N]},add:function(N){A[N].call(this)},getGroup:function(){return this.group}};var A={axisLine:function(){var N=this.opt,G=this.axisModel;if(G.get("axisLine.show")){var V=this.axisModel.axis.getExtent(),R=this._transform,O=[V[0],0],k=[V[1],0];R&&(m(O,O,R),m(k,k,R));var B=a({lineCap:"round"},G.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new l.Line({anid:"line",subPixelOptimize:!0,shape:{x1:O[0],y1:O[1],x2:k[0],y2:k[1]},style:B,strokeContainThreshold:N.strokeContainThreshold||5,silent:!0,z2:1}));var q=G.get("axisLine.symbol"),H=G.get("axisLine.symbolSize"),F=G.get("axisLine.symbolOffset")||0;if(typeof F=="number"&&(F=[F,F]),q!=null){typeof q=="string"&&(q=[q,q]),(typeof H=="string"||typeof H=="number")&&(H=[H,H]);var U=H[0],$=H[1];i([{rotate:N.rotation+Math.PI/2,offset:F[0],r:0},{rotate:N.rotation-Math.PI/2,offset:F[1],r:Math.sqrt((O[0]-k[0])*(O[0]-k[0])+(O[1]-k[1])*(O[1]-k[1]))}],function(Y,K){if(q[K]!=="none"&&q[K]!=null){var J=u(q[K],-U/2,-$/2,U,$,B.stroke,!0),j=Y.r+Y.offset,ee=[O[0]+j*Math.cos(N.rotation),O[1]-j*Math.sin(N.rotation)];J.attr({rotation:Y.rotate,position:ee,silent:!0,z2:11}),this.group.add(J)}},this)}}},axisTickLabel:function(){var N=this.axisModel,G=this.opt,V=P(this,N,G),R=E(this,N,G);T(N,R,V),I(this,N,G)},axisName:function(){var N=this.opt,G=this.axisModel,V=t(N.axisName,G.get("name"));if(V){var R=G.get("nameLocation"),O=N.nameDirection,k=G.getModel("nameTextStyle"),B=G.get("nameGap")||0,q=this.axisModel.axis.getExtent(),H=q[0]>q[1]?-1:1,F=[R==="start"?q[0]-H*B:R==="end"?q[1]+H*B:(q[0]+q[1])/2,D(R)?N.labelOffset+O*B:0],U,$=G.get("nameRotate");$!=null&&($=$*y/180);var Y;D(R)?U=b(N.rotation,$??N.rotation,O):(U=x(N,R,$||0,q),Y=N.axisNameAvailableWidth,Y!=null&&(Y=Math.abs(Y/Math.sin(U.rotation)),!isFinite(Y)&&(Y=null)));var K=k.getFont(),J=G.get("nameTruncate",!0)||{},j=J.ellipsis,ee=t(N.nameTruncateMaxWidth,J.maxWidth,Y),te=j!=null&&ee!=null?o.truncateText(V,ee,K,j,{minChar:2,placeholder:J.placeholder}):V,ie=G.get("tooltip",!0),ge=G.mainType,oe={componentType:ge,name:V,$vars:["name"]};oe[ge+"Index"]=G.componentIndex;var fe=new l.Text({anid:"name",__fullText:V,__truncatedText:te,position:F,rotation:U.rotation,silent:w(G),z2:1,tooltip:ie&&ie.show?a({content:V,formatter:function(){return V},formatterParams:oe},ie):null});l.setTextStyle(fe.style,k,{text:te,textFont:K,textFill:k.getTextColor()||G.get("axisLine.lineStyle.color"),textAlign:k.get("align")||U.textAlign,textVerticalAlign:k.get("verticalAlign")||U.textVerticalAlign}),G.get("triggerEvent")&&(fe.eventData=S(G),fe.eventData.targetType="axisName",fe.eventData.name=V),this._dumbGroup.add(fe),fe.updateTransform(),this.group.add(fe),fe.decomposeTransform()}}},S=_.makeAxisEventDataBase=function(N){var G={componentType:N.mainType,componentIndex:N.componentIndex};return G[N.mainType+"Index"]=N.componentIndex,G},b=_.innerTextLayout=function(N,G,V){var R=s(G-N),O,k;return h(R)?(k=V>0?"top":"bottom",O="center"):h(R-y)?(k=V>0?"bottom":"top",O="center"):(k="middle",R>0&&R<y?O=V>0?"right":"left":O=V>0?"left":"right"),{rotation:R,textAlign:O,textVerticalAlign:k}};function x(N,G,V,R){var O=s(V-N.rotation),k,B,q=R[0]>R[1],H=G==="start"&&!q||G!=="start"&&q;return h(O-y/2)?(B=H?"bottom":"top",k="center"):h(O-y*1.5)?(B=H?"top":"bottom",k="center"):(B="middle",O<y*1.5&&O>y/2?k=H?"left":"right":k=H?"right":"left"),{rotation:O,textAlign:k,textVerticalAlign:B}}var w=_.isLabelSilent=function(N){var G=N.get("tooltip");return N.get("silent")||!(N.get("triggerEvent")||G&&G.show)};function T(N,G,V){if(!g(N.axis)){var R=N.get("axisLabel.showMinLabel"),O=N.get("axisLabel.showMaxLabel");G=G||[],V=V||[];var k=G[0],B=G[1],q=G[G.length-1],H=G[G.length-2],F=V[0],U=V[1],$=V[V.length-1],Y=V[V.length-2];R===!1?(M(k),M(F)):C(k,B)&&(R?(M(B),M(U)):(M(k),M(F))),O===!1?(M(q),M($)):C(H,q)&&(O?(M(H),M(Y)):(M(q),M($)))}}function M(N){N&&(N.ignore=!0)}function C(N,G,V){var R=N&&N.getBoundingRect().clone(),O=G&&G.getBoundingRect().clone();if(!(!R||!O)){var k=d.identity([]);return d.rotate(k,k,-N.rotation),R.applyTransform(d.mul([],k,N.getLocalTransform())),O.applyTransform(d.mul([],k,G.getLocalTransform())),R.intersect(O)}}function D(N){return N==="middle"||N==="center"}function L(N,G,V,R,O){for(var k=[],B=[],q=[],H=0;H<N.length;H++){var F=N[H].coord;B[0]=F,B[1]=0,q[0]=F,q[1]=V,G&&(m(B,B,G),m(q,q,G));var U=new l.Line({anid:O+"_"+N[H].tickValue,subPixelOptimize:!0,shape:{x1:B[0],y1:B[1],x2:q[0],y2:q[1]},style:R,z2:2,silent:!0});k.push(U)}return k}function P(N,G,V){var R=G.axis,O=G.getModel("axisTick");if(!(!O.get("show")||R.scale.isBlank())){for(var k=O.getModel("lineStyle"),B=V.tickDirection*O.get("length"),q=R.getTicksCoords(),H=L(q,N._transform,B,r(k.getLineStyle(),{stroke:G.get("axisLine.lineStyle.color")}),"ticks"),F=0;F<H.length;F++)N.group.add(H[F]);return H}}function I(N,G,V){var R=G.axis,O=G.getModel("minorTick");if(!(!O.get("show")||R.scale.isBlank())){var k=R.getMinorTicksCoords();if(k.length)for(var B=O.getModel("lineStyle"),q=V.tickDirection*O.get("length"),H=r(B.getLineStyle(),r(G.getModel("axisTick").getLineStyle(),{stroke:G.get("axisLine.lineStyle.color")})),F=0;F<k.length;F++)for(var U=L(k[F],N._transform,q,H,"minorticks_"+F),$=0;$<U.length;$++)N.group.add(U[$])}}function E(N,G,V){var R=G.axis,O=t(V.axisLabelShow,G.get("axisLabel.show"));if(!(!O||R.scale.isBlank())){var k=G.getModel("axisLabel"),B=k.get("margin"),q=R.getViewLabels(),H=(t(V.labelRotate,k.get("rotate"))||0)*y/180,F=b(V.rotation,H,V.labelDirection),U=G.getCategories&&G.getCategories(!0),$=[],Y=w(G),K=G.get("triggerEvent");return i(q,function(J,j){var ee=J.tickValue,te=J.formattedLabel,ie=J.rawLabel,ge=k;U&&U[ee]&&U[ee].textStyle&&(ge=new c(U[ee].textStyle,k,G.ecModel));var oe=ge.getTextColor()||G.get("axisLine.lineStyle.color"),fe=R.dataToCoord(ee),pe=[fe,V.labelOffset+V.labelDirection*B],ne=new l.Text({anid:"label_"+ee,position:pe,rotation:F.rotation,silent:Y,z2:10});l.setTextStyle(ne.style,ge,{text:te,textAlign:ge.getShallow("align",!0)||F.textAlign,textVerticalAlign:ge.getShallow("verticalAlign",!0)||ge.getShallow("baseline",!0)||F.textVerticalAlign,textFill:typeof oe=="function"?oe(R.type==="category"?ie:R.type==="value"?ee+"":ee,j):oe}),K&&(ne.eventData=S(G),ne.eventData.targetType="axisLabel",ne.eventData.value=ie),N._dumbGroup.add(ne),ne.updateTransform(),$.push(ne),N.group.add(ne),ne.decomposeTransform()}),$}}var z=_;return Kl=z,Kl}var ca={},Ly;function us(){if(Ly)return ca;Ly=1;var e=W,t=ot(),r=e.each,a=e.curry;function i(m,p){var g={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return o(g,m,p),g.seriesInvolved&&c(g,m),g}function o(m,p,g){var y=p.getComponent("tooltip"),_=p.getComponent("axisPointer"),A=_.get("link",!0)||[],S=[];r(g.getCoordinateSystems(),function(b){if(!b.axisPointerEnabled)return;var x=f(b.model),w=m.coordSysAxesInfo[x]={};m.coordSysMap[x]=b;var T=b.model,M=T.getModel("tooltip",y);if(r(b.getAxes(),a(P,!1,null)),b.getTooltipAxes&&y&&M.get("show")){var C=M.get("trigger")==="axis",D=M.get("axisPointer.type")==="cross",L=b.getTooltipAxes(M.get("axisPointer.axis"));(C||D)&&r(L.baseAxes,a(P,D?"cross":!0,C)),D&&r(L.otherAxes,a(P,"cross",!1))}function P(I,E,z){var N=z.model.getModel("axisPointer",_),G=N.get("show");if(!(!G||G==="auto"&&!I&&!d(N))){E==null&&(E=N.get("triggerTooltip")),N=I?l(z,M,_,p,I,E):N;var V=N.get("snap"),R=f(z.model),O=E||V||z.type==="category",k=m.axesInfo[R]={key:R,axis:z,coordSys:b,axisPointerModel:N,triggerTooltip:E,involveSeries:O,snap:V,useHandle:d(N),seriesModels:[]};w[R]=k,m.seriesInvolved|=O;var B=n(A,z);if(B!=null){var q=S[B]||(S[B]={axesInfo:{}});q.axesInfo[R]=k,q.mapper=A[B].mapper,k.linkGroup=q}}}})}function l(m,p,g,y,_,A){var S=p.getModel("axisPointer"),b={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(M){b[M]=e.clone(S.get(M))}),b.snap=m.type!=="category"&&!!A,S.get("type")==="cross"&&(b.type="line");var x=b.label||(b.label={});if(x.show==null&&(x.show=!1),_==="cross"){var w=S.get("label.show");if(x.show=w??!0,!A){var T=b.lineStyle=S.get("crossStyle");T&&e.defaults(x,T.textStyle)}}return m.model.getModel("axisPointer",new t(b,g,y))}function c(m,p){p.eachSeries(function(g){var y=g.coordinateSystem,_=g.get("tooltip.trigger",!0),A=g.get("tooltip.show",!0);!y||_==="none"||_===!1||_==="item"||A===!1||g.get("axisPointer.show",!0)===!1||r(m.coordSysAxesInfo[f(y.model)],function(S){var b=S.axis;y.getAxis(b.dim)===b&&(S.seriesModels.push(g),S.seriesDataCount==null&&(S.seriesDataCount=0),S.seriesDataCount+=g.getData().count())})},this)}function n(m,p){for(var g=p.model,y=p.dim,_=0;_<m.length;_++){var A=m[_]||{};if(h(A[y+"AxisId"],g.id)||h(A[y+"AxisIndex"],g.componentIndex)||h(A[y+"AxisName"],g.name))return _}}function h(m,p){return m==="all"||e.isArray(m)&&e.indexOf(m,p)>=0||m===p}function s(m){var p=v(m);if(p){var g=p.axisPointerModel,y=p.axis.scale,_=g.option,A=g.get("status"),S=g.get("value");S!=null&&(S=y.parse(S));var b=d(g);A==null&&(_.status=b?"show":"hide");var x=y.getExtent().slice();x[0]>x[1]&&x.reverse(),(S==null||S>x[1])&&(S=x[1]),S<x[0]&&(S=x[0]),_.value=S,b&&(_.status=p.axis.scale.isBlank()?"hide":"show")}}function v(m){var p=(m.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return p&&p.axesInfo[f(m)]}function u(m){var p=v(m);return p&&p.axisPointerModel}function d(m){return!!m.get("handle.show")}function f(m){return m.type+"||"+m.id}return ca.collect=i,ca.fixValue=s,ca.getAxisInfo=v,ca.getAxisPointerModel=u,ca.makeKey=f,ca}var Ql,Py;function Ca(){if(Py)return Ql;Py=1;var e=xe,t=us(),r=e.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(c,n,h,s){this.axisPointerClass&&t.fixValue(c),r.superApply(this,"render",arguments),a(this,c,n,h,s,!0)},updateAxisPointer:function(c,n,h,s,v){a(this,c,n,h,s,!1)},remove:function(c,n){var h=this._axisPointer;h&&h.remove(n),r.superApply(this,"remove",arguments)},dispose:function(c,n){i(this,n),r.superApply(this,"dispose",arguments)}});function a(c,n,h,s,v,u){var d=r.getAxisPointerClass(c.axisPointerClass);if(d){var f=t.getAxisPointerModel(n);f?(c._axisPointer||(c._axisPointer=new d)).render(n,f,s,u):i(c,s)}}function i(c,n,h){var s=c._axisPointer;s&&s.dispose(n,h),c._axisPointer=null}var o=[];r.registerAxisPointerClass=function(c,n){o[c]=n},r.getAxisPointerClass=function(c){return c&&o[c]};var l=r;return Ql=l,Ql}var jl={},Iy;function iM(){if(Iy)return jl;Iy=1;var e=W;function t(r,a,i){i=i||{};var o=r.coordinateSystem,l=a.axis,c={},n=l.getAxesOnZeroOf()[0],h=l.position,s=n?"onZero":h,v=l.dim,u=o.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],f={left:0,right:1,top:0,bottom:1,onZero:2},m=a.get("offset")||0,p=v==="x"?[d[2]-m,d[3]+m]:[d[0]-m,d[1]+m];if(n){var g=n.toGlobalCoord(n.dataToCoord(0));p[f.onZero]=Math.max(Math.min(g,p[1]),p[0])}c.position=[v==="y"?p[f[s]]:d[0],v==="x"?p[f[s]]:d[3]],c.rotation=Math.PI/2*(v==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};c.labelDirection=c.tickDirection=c.nameDirection=y[h],c.labelOffset=n?p[f[h]]-p[f.onZero]:0,a.get("axisTick.inside")&&(c.tickDirection=-c.tickDirection),e.retrieve(i.labelInside,a.get("axisLabel.inside"))&&(c.labelDirection=-c.labelDirection);var _=a.get("axisLabel.rotate");return c.labelRotate=s==="top"?-_:_,c.z2=1,c}return jl.layout=t,jl}var no={},Ry;function nM(){if(Ry)return no;Ry=1;var e=W,t=de;function r(i,o,l,c){var n=l.axis;if(!n.scale.isBlank()){var h=l.getModel("splitArea"),s=h.getModel("areaStyle"),v=s.get("color"),u=c.coordinateSystem.getRect(),d=n.getTicksCoords({tickModel:h,clamp:!0});if(d.length){var f=v.length,m=i.__splitAreaColors,p=e.createHashMap(),g=0;if(m)for(var y=0;y<d.length;y++){var _=m.get(d[y].tickValue);if(_!=null){g=(_+(f-1)*y)%f;break}}var A=n.toGlobalCoord(d[0].coord),S=s.getAreaStyle();v=e.isArray(v)?v:[v];for(var y=1;y<d.length;y++){var b=n.toGlobalCoord(d[y].coord),x,w,T,M;n.isHorizontal()?(x=A,w=u.y,T=b-x,M=u.height,A=x+T):(x=u.x,w=A,T=u.width,M=b-w,A=w+M);var C=d[y-1].tickValue;C!=null&&p.set(C,g),o.add(new t.Rect({anid:C!=null?"area_"+C:null,shape:{x,y:w,width:T,height:M},style:e.defaults({fill:v[g]},S),silent:!0})),g=(g+1)%f}i.__splitAreaColors=p}}}function a(i){i.__splitAreaColors=null}return no.rectCoordAxisBuildSplitArea=r,no.rectCoordAxisHandleRemove=a,no}var Ey;function eV(){if(Ey)return My;Ey=1;var e=W,t=de,r=ia(),a=Ca(),i=iM(),o=nM(),l=o.rectCoordAxisBuildSplitArea,c=o.rectCoordAxisHandleRemove,n=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine","minorSplitLine"],s=a.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(v,u,d,f){this.group.removeAll();var m=this._axisGroup;if(this._axisGroup=new t.Group,this.group.add(this._axisGroup),!!v.get("show")){var p=v.getCoordSysModel(),g=i.layout(p,v),y=new r(v,g);e.each(n,y.add,y),this._axisGroup.add(y.getGroup()),e.each(h,function(_){v.get(_+".show")&&this["_"+_](v,p)},this),t.groupTransition(m,this._axisGroup,v),s.superCall(this,"render",v,u,d,f)}},remove:function(){c(this)},_splitLine:function(v,u){var d=v.axis;if(!d.scale.isBlank()){var f=v.getModel("splitLine"),m=f.getModel("lineStyle"),p=m.get("color");p=e.isArray(p)?p:[p];for(var g=u.coordinateSystem.getRect(),y=d.isHorizontal(),_=0,A=d.getTicksCoords({tickModel:f}),S=[],b=[],x=m.getLineStyle(),w=0;w<A.length;w++){var T=d.toGlobalCoord(A[w].coord);y?(S[0]=T,S[1]=g.y,b[0]=T,b[1]=g.y+g.height):(S[0]=g.x,S[1]=T,b[0]=g.x+g.width,b[1]=T);var M=_++%p.length,C=A[w].tickValue;this._axisGroup.add(new t.Line({anid:C!=null?"line_"+A[w].tickValue:null,subPixelOptimize:!0,shape:{x1:S[0],y1:S[1],x2:b[0],y2:b[1]},style:e.defaults({stroke:p[M]},x),silent:!0}))}}},_minorSplitLine:function(v,u){var d=v.axis,f=v.getModel("minorSplitLine"),m=f.getModel("lineStyle"),p=u.coordinateSystem.getRect(),g=d.isHorizontal(),y=d.getMinorTicksCoords();if(y.length)for(var _=[],A=[],S=m.getLineStyle(),b=0;b<y.length;b++)for(var x=0;x<y[b].length;x++){var w=d.toGlobalCoord(y[b][x].coord);g?(_[0]=w,_[1]=p.y,A[0]=w,A[1]=p.y+p.height):(_[0]=p.x,_[1]=w,A[0]=p.x+p.width,A[1]=w),this._axisGroup.add(new t.Line({anid:"minor_line_"+y[b][x].tickValue,subPixelOptimize:!0,shape:{x1:_[0],y1:_[1],x2:A[0],y2:A[1]},style:S,silent:!0}))}},_splitArea:function(v,u){l(this,this._axisGroup,v,u)}});return s.extend({type:"xAxis"}),s.extend({type:"yAxis"}),My}var ky;function tV(){return ky||(ky=1,aM(),eV()),Cy}var Oy;function Mn(){if(Oy)return my;Oy=1;var e=xe,t=W,r=de;return Wd(),tV(),e.extendComponentView({type:"grid",render:function(a,i){this.group.removeAll(),a.get("show")&&this.group.add(new r.Rect({shape:a.coordinateSystem.getRect(),style:t.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),e.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),my}var zy;function rV(){if(zy)return iy;zy=1;var e=xe;WN(),YN();var t=Ta(),r=Cn(),a=XN();return Mn(),e.registerVisual(t("line","circle","line")),e.registerLayout(r("line")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a("line")),iy}var By={},Jl,Ny;function oM(){if(Ny)return Jl;Ny=1;var e=ft,t=Br(),r=e.extend({type:"series.__base_bar__",getInitialData:function(a,i){return t(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(a){var i=this.coordinateSystem;if(i){var o=i.dataToPoint(i.clampData(a)),l=this.getData(),c=l.getLayout("offset"),n=l.getLayout("size"),h=i.getBaseAxis().isHorizontal()?0:1;return o[h]+=c+n/2,o}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});return Jl=r,Jl}var eu,Vy;function aV(){if(Vy)return eu;Vy=1;var e=oM(),t=e.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var r=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>r&&(r=a),r},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});return eu=t,eu}var tu={},Hy;function sM(){if(Hy)return tu;Hy=1;var e=de,t=$d(),r=t.getDefaultLabel;function a(o,l,c,n,h,s,v){var u=c.getModel("label"),d=c.getModel("emphasis.label");e.setLabelStyle(o,l,u,d,{labelFetcher:h,labelDataIndex:s,defaultText:r(h.getData(),s),isRectText:!0,autoColor:n}),i(o),i(l)}function i(o,l){o.textPosition==="outside"&&(o.textPosition=l)}return tu.setLabel=a,tu}var ru,qy;function iV(){if(qy)return ru;qy=1;var e=li(),t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(a){var i=t(this,a);if(this.getBorderLineDash){var o=this.getBorderLineDash();o&&(i.lineDash=o)}return i}};return ru=r,ru}var au,Gy;function nV(){if(Gy)return au;Gy=1;var e=de,t=e.extendShape,r=t({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},buildPath:function(a,i){var o=i.cx,l=i.cy,c=Math.max(i.r0||0,0),n=Math.max(i.r,0),h=(n-c)*.5,s=c+h,v=i.startAngle,u=i.endAngle,d=i.clockwise,f=Math.cos(v),m=Math.sin(v),p=Math.cos(u),g=Math.sin(u),y=d?u-v<Math.PI*2:v-u<Math.PI*2;y&&(a.moveTo(f*c+o,m*c+l),a.arc(f*s+o,m*s+l,h,-Math.PI+v,v,!d)),a.arc(o,l,n,v,u,!d),a.moveTo(p*n+o,g*n+l),a.arc(p*s+o,g*s+l,h,u-Math.PI*2,u-Math.PI,!d),c!==0&&(a.arc(o,l,c,u,v,d),a.moveTo(f*c+o,g*c+l)),a.closePath()}});return au=r,au}var iu,Fy;function oV(){if(Fy)return iu;Fy=1;var e=xe,t=W,r=de,a=sM(),i=a.setLabel,o=ot(),l=iV(),c=at,n=Sa,h=nr,s=h.throttle,v=Tn(),u=v.createClipPath,d=nV(),f=["itemStyle","barBorderWidth"],m=[0,0];t.extend(o.prototype,l);function p(V,R){var O=V.getArea&&V.getArea();if(V.type==="cartesian2d"){var k=V.getBaseAxis();if(k.type!=="category"||!k.onBand){var B=R.getLayout("bandWidth");k.isHorizontal()?(O.x-=B,O.width+=B*2):(O.y-=B,O.height+=B*2)}}return O}var g=e.extendChartView({type:"bar",render:function(V,R,O){this._updateDrawMode(V);var k=V.get("coordinateSystem");return(k==="cartesian2d"||k==="polar")&&(this._isLargeDraw?this._renderLarge(V,R,O):this._renderNormal(V,R,O)),this.group},incrementalPrepareRender:function(V,R,O){this._clear(),this._updateDrawMode(V)},incrementalRender:function(V,R,O,k){this._incrementalRenderLarge(V,R)},_updateDrawMode:function(V){var R=V.pipelineContext.large;(this._isLargeDraw==null||R^this._isLargeDraw)&&(this._isLargeDraw=R,this._clear())},_renderNormal:function(V,R,O){var k=this.group,B=V.getData(),q=this._data,H=V.coordinateSystem,F=H.getBaseAxis(),U;H.type==="cartesian2d"?U=F.isHorizontal():H.type==="polar"&&(U=F.dim==="angle");var $=V.isAnimationEnabled()?V:null,Y=V.get("clip",!0),K=p(H,B);k.removeClipPath();var J=V.get("roundCap",!0),j=V.get("showBackground",!0),ee=V.getModel("backgroundStyle"),te=ee.get("barBorderRadius")||0,ie=[],ge=this._backgroundEls||[];B.diff(q).add(function(pe){var ne=B.getItemModel(pe),se=w[H.type](B,pe,ne);if(j){var me=w[H.type](B,pe),Z=G(H,U,me);Z.useStyle(ee.getBarItemStyle()),H.type==="cartesian2d"&&Z.setShape("r",te),ie[pe]=Z}if(B.hasValue(pe)){if(Y){var Q=A[H.type](K,se);if(Q){k.remove(re);return}}var re=S[H.type](pe,se,U,$,!1,J);B.setItemGraphicEl(pe,re),k.add(re),M(re,B,pe,ne,se,V,U,H.type==="polar")}}).update(function(pe,ne){var se=B.getItemModel(pe),me=w[H.type](B,pe,se);if(j){var Z=ge[ne];Z.useStyle(ee.getBarItemStyle()),H.type==="cartesian2d"&&Z.setShape("r",te),ie[pe]=Z;var Q=w[H.type](B,pe),re=N(U,Q,H);r.updateProps(Z,{shape:re},$,pe)}var le=q.getItemGraphicEl(ne);if(!B.hasValue(pe)){k.remove(le);return}if(Y){var ue=A[H.type](K,me);if(ue){k.remove(le);return}}le?r.updateProps(le,{shape:me},$,pe):le=S[H.type](pe,me,U,$,!0,J),B.setItemGraphicEl(pe,le),k.add(le),M(le,B,pe,se,me,V,U,H.type==="polar")}).remove(function(pe){var ne=q.getItemGraphicEl(pe);H.type==="cartesian2d"?ne&&b(pe,$,ne):ne&&x(pe,$,ne)}).execute();var oe=this._backgroundGroup||(this._backgroundGroup=new n);oe.removeAll();for(var fe=0;fe<ie.length;++fe)oe.add(ie[fe]);k.add(oe),this._backgroundEls=ie,this._data=B},_renderLarge:function(V,R,O){this._clear(),L(V,this.group);var k=V.get("clip",!0)?u(V.coordinateSystem,!1,V):null;k?this.group.setClipPath(k):this.group.removeClipPath()},_incrementalRenderLarge:function(V,R){this._removeBackground(),L(R,this.group,!0)},dispose:t.noop,remove:function(V){this._clear(V)},_clear:function(V){var R=this.group,O=this._data;V&&V.get("animation")&&O&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],O.eachItemGraphicEl(function(k){k.type==="sector"?x(k.dataIndex,V,k):b(k.dataIndex,V,k)})):R.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),y=Math.max,_=Math.min,A={cartesian2d:function(V,R){var O=R.width<0?-1:1,k=R.height<0?-1:1;O<0&&(R.x+=R.width,R.width=-R.width),k<0&&(R.y+=R.height,R.height=-R.height);var B=y(R.x,V.x),q=_(R.x+R.width,V.x+V.width),H=y(R.y,V.y),F=_(R.y+R.height,V.y+V.height);R.x=B,R.y=H,R.width=q-B,R.height=F-H;var U=R.width<0||R.height<0;return O<0&&(R.x+=R.width,R.width=-R.width),k<0&&(R.y+=R.height,R.height=-R.height),U},polar:function(V){return!1}},S={cartesian2d:function(V,R,O,k,B){var q=new r.Rect({shape:t.extend({},R),z2:1});if(q.name="item",k){var H=q.shape,F=O?"height":"width",U={};H[F]=0,U[F]=R[F],r[B?"updateProps":"initProps"](q,{shape:U},k,V)}return q},polar:function(V,R,O,k,B,q){var H=R.startAngle<R.endAngle,F=!O&&q?d:r.Sector,U=new F({shape:t.defaults({clockwise:H},R),z2:1});if(U.name="item",k){var $=U.shape,Y=O?"r":"endAngle",K={};$[Y]=O?0:R.startAngle,K[Y]=R[Y],r[B?"updateProps":"initProps"](U,{shape:K},k,V)}return U}};function b(V,R,O){O.style.text=null,r.updateProps(O,{shape:{width:0}},R,V,function(){O.parent&&O.parent.remove(O)})}function x(V,R,O){O.style.text=null,r.updateProps(O,{shape:{r:O.shape.r0}},R,V,function(){O.parent&&O.parent.remove(O)})}var w={cartesian2d:function(V,R,O){var k=V.getItemLayout(R),B=O?C(O,k):0,q=k.width>0?1:-1,H=k.height>0?1:-1;return{x:k.x+q*B/2,y:k.y+H*B/2,width:k.width-q*B,height:k.height-H*B}},polar:function(V,R,O){var k=V.getItemLayout(R);return{cx:k.cx,cy:k.cy,r0:k.r0,r:k.r,startAngle:k.startAngle,endAngle:k.endAngle}}};function T(V){return V.startAngle!=null&&V.endAngle!=null&&V.startAngle===V.endAngle}function M(V,R,O,k,B,q,H,F){var U=R.getItemVisual(O,"color"),$=R.getItemVisual(O,"opacity"),Y=R.getVisual("borderColor"),K=k.getModel("itemStyle"),J=k.getModel("emphasis.itemStyle").getBarItemStyle();F||V.setShape("r",K.get("barBorderRadius")||0),V.useStyle(t.defaults({stroke:T(B)?"none":Y,fill:T(B)?"none":U,opacity:$},K.getBarItemStyle()));var j=k.getShallow("cursor");j&&V.attr("cursor",j);var ee=H?B.height>0?"bottom":"top":B.width>0?"left":"right";F||i(V.style,J,k,U,q,O,ee),T(B)&&(J.fill=J.stroke="none"),r.setHoverStyle(V,J)}function C(V,R){var O=V.get(f)||0,k=isNaN(R.width)?Number.MAX_VALUE:Math.abs(R.width),B=isNaN(R.height)?Number.MAX_VALUE:Math.abs(R.height);return Math.min(O,k,B)}var D=c.extend({type:"largeBar",shape:{points:[]},buildPath:function(V,R){for(var O=R.points,k=this.__startPoint,B=this.__baseDimIdx,q=0;q<O.length;q+=2)k[B]=O[q+B],V.moveTo(k[0],k[1]),V.lineTo(O[q],O[q+1])}});function L(V,R,O){var k=V.getData(),B=[],q=k.getLayout("valueAxisHorizontal")?1:0;B[1-q]=k.getLayout("valueAxisStart");var H=k.getLayout("largeDataIndices"),F=k.getLayout("barWidth"),U=V.getModel("backgroundStyle"),$=V.get("showBackground",!0);if($){var Y=k.getLayout("largeBackgroundPoints"),K=[];K[1-q]=k.getLayout("backgroundStart");var J=new D({shape:{points:Y},incremental:!!O,__startPoint:K,__baseDimIdx:q,__largeDataIndices:H,__barWidth:F,silent:!0,z2:0});z(J,U,k),R.add(J)}var j=new D({shape:{points:k.getLayout("largePoints")},incremental:!!O,__startPoint:B,__baseDimIdx:q,__largeDataIndices:H,__barWidth:F});R.add(j),E(j,V,k),j.seriesIndex=V.seriesIndex,V.get("silent")||(j.on("mousedown",P),j.on("mousemove",P))}var P=s(function(V){var R=this,O=I(R,V.offsetX,V.offsetY);R.dataIndex=O>=0?O:null},30,!1);function I(V,R,O){var k=V.__baseDimIdx,B=1-k,q=V.shape.points,H=V.__largeDataIndices,F=Math.abs(V.__barWidth/2),U=V.__startPoint[B];m[0]=R,m[1]=O;for(var $=m[k],Y=m[1-k],K=$-F,J=$+F,j=0,ee=q.length/2;j<ee;j++){var te=j*2,ie=q[te+k],ge=q[te+B];if(ie>=K&&ie<=J&&(U<=ge?Y>=U&&Y<=ge:Y>=ge&&Y<=U))return H[j]}return-1}function E(V,R,O){var k=O.getVisual("borderColor")||O.getVisual("color"),B=R.getModel("itemStyle").getItemStyle(["color","borderColor"]);V.useStyle(B),V.style.fill=null,V.style.stroke=k,V.style.lineWidth=O.getLayout("barWidth")}function z(V,R,O){var k=R.get("borderColor")||R.get("color"),B=R.getItemStyle(["color","borderColor"]);V.useStyle(B),V.style.fill=null,V.style.stroke=k,V.style.lineWidth=O.getLayout("barWidth")}function N(V,R,O){var k,B=O.type==="polar";return B?k=O.getArea():k=O.grid.getRect(),B?{cx:k.cx,cy:k.cy,r0:V?k.r0:R.r0,r:V?k.r:R.r,startAngle:V?R.startAngle:0,endAngle:V?R.endAngle:Math.PI*2}:{x:V?R.x:k.x,y:V?k.y:R.y,width:V?R.width:k.width,height:V?k.height:R.height}}function G(V,R,O){var k=V.type==="polar"?r.Sector:r.Rect;return new k({shape:N(R,O,V),silent:!0,z2:0})}return iu=g,iu}var Uy;function sV(){if(Uy)return By;Uy=1;var e=xe,t=W,r=os(),a=r.layout,i=r.largeLayout;return Wd(),aV(),oV(),Mn(),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,t.curry(a,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,i),e.registerVisual({seriesType:"bar",reset:function(o){o.getData().setVisual("legendSymbol","roundRect")}}),By}var $y={},nu,Wy;function mi(){if(Wy)return nu;Wy=1;var e=gi(),t=Wt(),r=W,a=r.extend,i=r.isArray;function o(l,c,n){c=i(c)&&{coordDimensions:c}||a({},c);var h=l.getSource(),s=e(h,c),v=new t(s,l);return v.initData(h,n),v}return nu=o,nu}var ou,Zy;function Zd(){if(Zy)return ou;Zy=1;var e=W,t={updateSelectedMap:function(r){this._targetList=e.isArray(r)?r.slice():[],this._selectTargetMap=e.reduce(r||[],function(a,i){return a.set(i.name,i),a},e.createHashMap())},select:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r),o=this.get("selectedMode");o==="single"&&this._selectTargetMap.each(function(l){l.selected=!1}),i&&(i.selected=!0)},unSelect:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);i&&(i.selected=!1)},toggleSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);if(i!=null)return this[i.selected?"unSelect":"select"](r,a),i.selected},isSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);return i&&i.selected}};return ou=t,ou}var su,Yy;function Dn(){if(Yy)return su;Yy=1;function e(r,a){this.getAllNames=function(){var i=a();return i.mapArray(i.getName)},this.containName=function(i){var o=a();return o.indexOfName(i)>=0},this.indexOfName=function(i){var o=r();return o.indexOfName(i)},this.getItemVisual=function(i,o){var l=r();return l.getItemVisual(i,o)}}var t=e;return su=t,su}var lu,Xy;function lV(){if(Xy)return lu;Xy=1;var e=xe,t=mi(),r=W,a=Pe,i=Re(),o=i.getPercentWithPrecision,l=Zd(),c=ir,n=c.retrieveRawAttr,h=zr(),s=h.makeSeriesEncodeForNameBased,v=Dn(),u=e.extendSeriesModel({type:"series.pie",init:function(f){u.superApply(this,"init",arguments),this.legendVisualProvider=new v(r.bind(this.getData,this),r.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(f)},mergeOption:function(f){u.superCall(this,"mergeOption",f),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(f,m){return t(this,{coordDimensions:["value"],encodeDefaulter:r.curry(s,this)})},_createSelectableList:function(){for(var f=this.getRawData(),m=f.mapDimension("value"),p=[],g=0,y=f.count();g<y;g++)p.push({name:f.getName(g),value:f.get(m,g),selected:n(f,g,"selected")});return p},getDataParams:function(f){var m=this.getData(),p=u.superCall(this,"getDataParams",f),g=[];return m.each(m.mapDimension("value"),function(y){g.push(y)}),p.percent=o(g,f,m.hostModel.get("percentPrecision")),p.$vars.push("percent"),p},_defaultLabelLine:function(f){a.defaultEmphasis(f,"labelLine",["show"]);var m=f.labelLine,p=f.emphasis.labelLine;m.show=m.show&&f.label.show,p.show=p.show&&f.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(u,l);var d=u;return lu=d,lu}var uu,Ky;function uV(){if(Ky)return uu;Ky=1;var e=W,t=de,r=br;function a(h,s,v,u){var d=s.getData(),f=this.dataIndex,m=d.getName(f),p=s.get("selectedOffset");u.dispatchAction({type:"pieToggleSelect",from:h,name:m,seriesId:s.id}),d.each(function(g){i(d.getItemGraphicEl(g),d.getItemLayout(g),s.isSelected(d.getName(g)),p,v)})}function i(h,s,v,u,d){var f=(s.startAngle+s.endAngle)/2,m=Math.cos(f),p=Math.sin(f),g=v?u:0,y=[m*g,p*g];d?h.animate().when(200,{position:y}).start("bounceOut"):h.attr("position",y)}function o(h,s){t.Group.call(this);var v=new t.Sector({z2:2}),u=new t.Polyline,d=new t.Text;this.add(v),this.add(u),this.add(d),this.updateData(h,s,!0)}var l=o.prototype;l.updateData=function(h,s,v){var u=this.childAt(0),d=this.childAt(1),f=this.childAt(2),m=h.hostModel,p=h.getItemModel(s),g=h.getItemLayout(s),y=e.extend({},g);y.label=null;var _=m.getShallow("animationTypeUpdate");if(v){u.setShape(y);var A=m.getShallow("animationType");A==="scale"?(u.shape.r=g.r0,t.initProps(u,{shape:{r:g.r}},m,s)):(u.shape.endAngle=g.startAngle,t.updateProps(u,{shape:{endAngle:g.endAngle}},m,s))}else _==="expansion"?u.setShape(y):t.updateProps(u,{shape:y},m,s);var S=h.getItemVisual(s,"color");u.useStyle(e.defaults({lineJoin:"bevel",fill:S},p.getModel("itemStyle").getItemStyle())),u.hoverStyle=p.getModel("emphasis.itemStyle").getItemStyle();var b=p.getShallow("cursor");b&&u.attr("cursor",b),i(this,h.getItemLayout(s),m.isSelected(h.getName(s)),m.get("selectedOffset"),m.get("animation"));var x=!v&&_==="transition";this._updateLabel(h,s,x),this.highDownOnUpdate=m.get("silent")?null:function(w,T){var M=m.isAnimationEnabled()&&p.get("hoverAnimation");T==="emphasis"?(d.ignore=d.hoverIgnore,f.ignore=f.hoverIgnore,M&&(u.stopAnimation(!0),u.animateTo({shape:{r:g.r+m.get("hoverOffset")}},300,"elasticOut"))):(d.ignore=d.normalIgnore,f.ignore=f.normalIgnore,M&&(u.stopAnimation(!0),u.animateTo({shape:{r:g.r}},300,"elasticOut")))},t.setHoverStyle(this)},l._updateLabel=function(h,s,v){var u=this.childAt(1),d=this.childAt(2),f=h.hostModel,m=h.getItemModel(s),p=h.getItemLayout(s),g=p.label,w=h.getItemVisual(s,"color");if(!g||isNaN(g.x)||isNaN(g.y)){d.ignore=d.normalIgnore=d.hoverIgnore=u.ignore=u.normalIgnore=u.hoverIgnore=!0;return}var y={points:g.linePoints||[[g.x,g.y],[g.x,g.y],[g.x,g.y]]},_={x:g.x,y:g.y};v?(t.updateProps(u,{shape:y},f,s),t.updateProps(d,{style:_},f,s)):(u.attr({shape:y}),d.attr({style:_})),d.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var A=m.getModel("label"),S=m.getModel("emphasis.label"),b=m.getModel("labelLine"),x=m.getModel("emphasis.labelLine"),w=h.getItemVisual(s,"color");t.setLabelStyle(d.style,d.hoverStyle={},A,S,{labelFetcher:h.hostModel,labelDataIndex:s,defaultText:g.text,autoColor:w,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,opacity:h.getItemVisual(s,"opacity")}),d.ignore=d.normalIgnore=!A.get("show"),d.hoverIgnore=!S.get("show"),u.ignore=u.normalIgnore=!b.get("show"),u.hoverIgnore=!x.get("show"),u.setStyle({stroke:w,opacity:h.getItemVisual(s,"opacity")}),u.setStyle(b.getModel("lineStyle").getLineStyle()),u.hoverStyle=x.getModel("lineStyle").getLineStyle();var T=b.get("smooth");T&&T===!0&&(T=.4),u.setShape({smooth:T})},e.inherits(o,t.Group);var c=r.extend({type:"pie",init:function(){var h=new t.Group;this._sectorGroup=h},render:function(h,s,v,u){if(!(u&&u.from===this.uid)){var d=h.getData(),f=this._data,m=this.group,p=s.get("animation"),g=!f,y=h.get("animationType"),_=h.get("animationTypeUpdate"),A=e.curry(a,this.uid,h,p,v),S=h.get("selectedMode");if(d.diff(f).add(function(M){var C=new o(d,M);g&&y!=="scale"&&C.eachChild(function(D){D.stopAnimation(!0)}),S&&C.on("click",A),d.setItemGraphicEl(M,C),m.add(C)}).update(function(M,C){var D=f.getItemGraphicEl(C);!g&&_!=="transition"&&D.eachChild(function(L){L.stopAnimation(!0)}),D.updateData(d,M),D.off("click"),S&&D.on("click",A),m.add(D),d.setItemGraphicEl(M,D)}).remove(function(M){var C=f.getItemGraphicEl(M);m.remove(C)}).execute(),p&&d.count()>0&&(g?y!=="scale":_!=="transition")){for(var b=d.getItemLayout(0),x=1;isNaN(b.startAngle)&&x<d.count();++x)b=d.getItemLayout(x);var w=Math.max(v.getWidth(),v.getHeight())/2,T=e.bind(m.removeClipPath,m);m.setClipPath(this._createClipPath(b.cx,b.cy,w,b.startAngle,b.clockwise,T,h,g))}else m.removeClipPath();this._data=d}},dispose:function(){},_createClipPath:function(h,s,v,u,d,f,m,p){var g=new t.Sector({shape:{cx:h,cy:s,r0:0,r:v,startAngle:u,endAngle:u,clockwise:d}}),y=p?t.initProps:t.updateProps;return y(g,{shape:{endAngle:u+(d?1:-1)*Math.PI*2}},m,f),g},containPoint:function(h,s){var v=s.getData(),u=v.getItemLayout(0);if(u){var d=h[0]-u.cx,f=h[1]-u.cy,m=Math.sqrt(d*d+f*f);return m<=u.r&&m>=u.r0}}}),n=c;return uu=n,uu}var vu,Qy;function lM(){if(Qy)return vu;Qy=1;var e=xe,t=W;function r(a,i){t.each(i,function(o){o.update="updateView",e.registerAction(o,function(l,c){var n={};return c.eachComponent({mainType:"series",subType:a,query:l},function(h){h[o.method]&&h[o.method](l.name,l.dataIndex);var s=h.getData();s.each(function(v){var u=s.getName(v);n[u]=h.isSelected(u)||!1})}),{name:l.name,selected:n,seriesId:l.seriesId}})})}return vu=r,vu}var hu,jy;function vs(){if(jy)return hu;jy=1;var e=W,t=e.createHashMap;function r(a){return{getTargetSeries:function(i){var o={},l=t();return i.eachSeriesByType(a,function(c){c.__paletteScope=o,l.set(c.uid,c)}),l},reset:function(i,o){var l=i.getRawData(),c={},n=i.getData();n.each(function(h){var s=n.getRawIndex(h);c[s]=h}),l.each(function(h){var s=c[h],v=s!=null&&n.getItemVisual(s,"color",!0),u=s!=null&&n.getItemVisual(s,"borderColor",!0),d;if((!v||!u)&&(d=l.getItemModel(h)),!v){var f=d.get("itemStyle.color")||i.getColorFromPalette(l.getName(h)||h+"",i.__paletteScope,l.count());s!=null&&n.setItemVisual(s,"color",f)}if(!u){var m=d.get("itemStyle.borderColor");s!=null&&n.setItemVisual(s,"borderColor",m)}})}}}return hu=r,hu}var cu,Jy;function vV(){if(Jy)return cu;Jy=1;var e=$e,t=Re(),r=t.parsePercent,a=Math.PI/180;function i(n,h,s,v,u,d,f,m,p,g){n.sort(function(D,L){return D.y-L.y});function y(D,L,P,I){for(var E=D;E<L&&!(n[E].y+P>p+f);E++)if(n[E].y+=P,E>D&&E+1<L&&n[E+1].y>n[E].y+n[E].height){_(E,P/2);return}_(L-1,P/2)}function _(D,L){for(var P=D;P>=0&&!(n[P].y-L<p||(n[P].y-=L,P>0&&n[P].y>n[P-1].y+n[P-1].height));P--);}function A(D,L,P,I,E,z){for(var N=(z>0,L?Number.MAX_VALUE:0),G=0,V=D.length;G<V;G++)if(D[G].labelAlignTo==="none"){var R=Math.abs(D[G].y-I),O=D[G].len,k=D[G].len2,B=R<E+O?Math.sqrt((E+O+k)*(E+O+k)-R*R):Math.abs(D[G].x-P);L&&B>=N&&(B=N-10),!L&&B<=N&&(B=N+10),D[G].x=P+B*z,N=B}}for(var S=0,b,x=n.length,w=[],T=[],M=0;M<x;M++){if(n[M].position==="outer"&&n[M].labelAlignTo==="labelLine"){var C=n[M].x-g;n[M].linePoints[1][0]+=C,n[M].x=g}b=n[M].y-S,b<0&&y(M,x,-b),S=n[M].y+n[M].height}f-S<0&&_(x-1,S-f);for(var M=0;M<x;M++)n[M].y>=s?T.push(n[M]):w.push(n[M]);A(w,!1,h,s,v,u),A(T,!0,h,s,v,u)}function o(n,h,s,v,u,d,f,m){for(var p=[],g=[],y=Number.MAX_VALUE,_=-Number.MAX_VALUE,A=0;A<n.length;A++)l(n[A])||(n[A].x<h?(y=Math.min(y,n[A].x),p.push(n[A])):(_=Math.max(_,n[A].x),g.push(n[A])));i(g,h,s,v,1,u,d,f,m,_),i(p,h,s,v,-1,u,d,f,m,y);for(var A=0;A<n.length;A++){var S=n[A];if(!l(S)){var b=S.linePoints;if(b){var x=S.labelAlignTo==="edge",w=S.textRect.width,T;x?S.x<h?T=b[2][0]-S.labelDistance-f-S.labelMargin:T=f+u-S.labelMargin-b[2][0]-S.labelDistance:S.x<h?T=S.x-f-S.bleedMargin:T=f+u-S.x-S.bleedMargin,T<S.textRect.width&&(S.text=e.truncateText(S.text,T,S.font),S.labelAlignTo==="edge"&&(w=e.getWidth(S.text,S.font)));var M=b[1][0]-b[2][0];x?S.x<h?b[2][0]=f+S.labelMargin+w+S.labelDistance:b[2][0]=f+u-S.labelMargin-w-S.labelDistance:(S.x<h?b[2][0]=S.x+S.labelDistance:b[2][0]=S.x-S.labelDistance,b[1][0]=b[2][0]+M),b[1][1]=b[2][1]=S.y}}}}function l(n){return n.position==="center"}function c(n,h,s,v,u,d){var f=n.getData(),m=[],p,g,y=!1,_=(n.get("minShowLabelAngle")||0)*a;f.each(function(A){var S=f.getItemLayout(A),b=f.getItemModel(A),x=b.getModel("label"),w=x.get("position")||b.get("emphasis.label.position"),T=x.get("distanceToLabelLine"),M=x.get("alignTo"),C=r(x.get("margin"),s),D=x.get("bleedMargin"),L=x.getFont(),P=b.getModel("labelLine"),I=P.get("length");I=r(I,s);var E=P.get("length2");if(E=r(E,s),!(S.angle<_)){var z=(S.startAngle+S.endAngle)/2,N=Math.cos(z),G=Math.sin(z),V,R,O,k;p=S.cx,g=S.cy;var B=n.getFormattedLabel(A,"normal")||f.getName(A),q=e.getBoundingRect(B,L,k,"top"),H=w==="inside"||w==="inner";if(w==="center")V=S.cx,R=S.cy,k="center";else{var F=(H?(S.r+S.r0)/2*N:S.r*N)+p,U=(H?(S.r+S.r0)/2*G:S.r*G)+g;if(V=F+N*3,R=U+G*3,!H){var $=F+N*(I+h-S.r),Y=U+G*(I+h-S.r),K=$+(N<0?-1:1)*E,J=Y;M==="edge"?V=N<0?u+C:u+s-C:V=K+(N<0?-T:T),R=J,O=[[F,U],[$,Y],[K,J]]}k=H?"center":M==="edge"?N>0?"right":"left":N>0?"left":"right"}var j,ee=x.get("rotate");typeof ee=="number"?j=ee*(Math.PI/180):j=ee?N<0?-z+Math.PI:-z:0,y=!!j,S.label={x:V,y:R,position:w,height:q.height,len:I,len2:E,linePoints:O,textAlign:k,verticalAlign:"middle",rotation:j,inside:H,labelDistance:T,labelAlignTo:M,labelMargin:C,bleedMargin:D,textRect:q,text:B,font:L},H||m.push(S.label)}}),!y&&n.get("avoidLabelOverlap")&&o(m,p,g,h,s,v,u,d)}return cu=c,cu}var fu,e0;function hV(){if(e0)return fu;e0=1;var e=Re(),t=e.parsePercent,r=e.linearMap,a=ze,i=vV(),o=W,l=Math.PI*2,c=Math.PI/180;function n(s,v){return a.getLayoutRect(s.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()})}function h(s,v,u,d){v.eachSeriesByType(s,function(f){var m=f.getData(),p=m.mapDimension("value"),g=n(f,u),y=f.get("center"),_=f.get("radius");o.isArray(_)||(_=[0,_]),o.isArray(y)||(y=[y,y]);var A=t(g.width,u.getWidth()),S=t(g.height,u.getHeight()),b=Math.min(A,S),x=t(y[0],A)+g.x,w=t(y[1],S)+g.y,T=t(_[0],b/2),M=t(_[1],b/2),C=-f.get("startAngle")*c,D=f.get("minAngle")*c,L=0;m.each(p,function(q){!isNaN(q)&&L++});var P=m.getSum(p),I=Math.PI/(P||L)*2,E=f.get("clockwise"),z=f.get("roseType"),N=f.get("stillShowZeroSum"),G=m.getDataExtent(p);G[0]=0;var V=l,R=0,O=C,k=E?1:-1;if(m.each(p,function(q,H){var F;if(isNaN(q)){m.setItemLayout(H,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:E,cx:x,cy:w,r0:T,r:z?NaN:M,viewRect:g});return}z!=="area"?F=P===0&&N?I:q*I:F=l/L,F<D?(F=D,V-=D):R+=q;var U=O+k*F;m.setItemLayout(H,{angle:F,startAngle:O,endAngle:U,clockwise:E,cx:x,cy:w,r0:T,r:z?r(q,G,[T,M]):M,viewRect:g}),O=U}),V<l&&L)if(V<=.001){var B=l/L;m.each(p,function(q,H){if(!isNaN(q)){var F=m.getItemLayout(H);F.angle=B,F.startAngle=C+k*H*B,F.endAngle=C+k*(H+1)*B}})}else I=V/R,O=C,m.each(p,function(q,H){if(!isNaN(q)){var F=m.getItemLayout(H),U=F.angle===D?D:q*I;F.startAngle=O,F.endAngle=O+k*U,O+=k*U}});i(f,M,g.width,g.height,g.x,g.y)})}return fu=h,fu}var du,t0;function Ln(){if(t0)return du;t0=1;function e(t){return{seriesType:t,reset:function(r,a){var i=a.findComponents({mainType:"legend"});if(!(!i||!i.length)){var o=r.getData();o.filterSelf(function(l){for(var c=o.getName(l),n=0;n<i.length;n++)if(!i[n].isSelected(c))return!1;return!0})}}}}return du=e,du}var r0;function cV(){if(r0)return $y;r0=1;var e=xe,t=W;lV(),uV();var r=lM(),a=vs(),i=hV(),o=Ln();return r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(a("pie")),e.registerLayout(t.curry(i,"pie")),e.registerProcessor(o("pie")),$y}var a0={},gu,i0;function fV(){if(i0)return gu;i0=1;var e=Br(),t=ft,r=t.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return a??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return a??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});return gu=r,gu}var n0={},pu,o0;function dV(){if(o0)return pu;o0=1;var e=de,t=Zt(),r=t.createSymbol,a=Cd,i=4,o=e.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(h,s){var v=s.points,u=s.size,d=this.symbolProxy,f=d.shape,m=h.getContext?h.getContext():h,p=m&&u[0]<i;if(!p)for(var g=0;g<v.length;){var y=v[g++],_=v[g++];isNaN(y)||isNaN(_)||this.softClipShape&&!this.softClipShape.contain(y,_)||(f.x=y-u[0]/2,f.y=_-u[1]/2,f.width=u[0],f.height=u[1],d.buildPath(h,f,!0))}},afterBrush:function(h){var s=this.shape,v=s.points,u=s.size,d=u[0]<i;if(d){this.setTransform(h);for(var f=0;f<v.length;){var m=v[f++],p=v[f++];isNaN(m)||isNaN(p)||this.softClipShape&&!this.softClipShape.contain(m,p)||h.fillRect(m-u[0]/2,p-u[1]/2,u[0],u[1])}this.restoreTransform(h)}},findDataIndex:function(h,s){for(var v=this.shape,u=v.points,d=v.size,f=Math.max(d[0],4),m=Math.max(d[1],4),p=u.length/2-1;p>=0;p--){var g=p*2,y=u[g]-f/2,_=u[g+1]-m/2;if(h>=y&&s>=_&&h<=y+f&&s<=_+m)return p}return-1}});function l(){this.group=new e.Group}var c=l.prototype;c.isPersistent=function(){return!this._incremental},c.updateData=function(h,s){this.group.removeAll();var v=new o({rectHover:!0,cursor:"default"});v.setShape({points:h.getLayout("symbolPoints")}),this._setCommon(v,h,!1,s),this.group.add(v),this._incremental=null},c.updateLayout=function(h){if(!this._incremental){var s=h.getLayout("symbolPoints");this.group.eachChild(function(v){if(v.startIndex!=null){var u=(v.endIndex-v.startIndex)*2,d=v.startIndex*4*2;s=new Float32Array(s.buffer,d,u)}v.setShape("points",s)})}},c.incrementalPrepareUpdate=function(h){this.group.removeAll(),this._clearIncremental(),h.count()>2e6?(this._incremental||(this._incremental=new a({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.incrementalUpdate=function(h,s,v){var u;this._incremental?(u=new o,this._incremental.addDisplayable(u,!0)):(u=new o({rectHover:!0,cursor:"default",startIndex:h.start,endIndex:h.end}),u.incremental=!0,this.group.add(u)),u.setShape({points:s.getLayout("symbolPoints")}),this._setCommon(u,s,!!this._incremental,v)},c._setCommon=function(h,s,v,u){var d=s.hostModel;u=u||{};var f=s.getVisual("symbolSize");h.setShape("size",f instanceof Array?f:[f,f]),h.softClipShape=u.clipShape||null,h.symbolProxy=r(s.getVisual("symbol"),0,0,0,0),h.setColor=h.symbolProxy.setColor;var m=h.shape.size[0]<i;h.useStyle(d.getModel("itemStyle").getItemStyle(m?["color","shadowBlur","shadowColor"]:["color"]));var p=s.getVisual("color");p&&h.setColor(p),v||(h.seriesIndex=d.seriesIndex,h.on("mousemove",function(g){h.dataIndex=null;var y=h.findDataIndex(g.offsetX,g.offsetY);y>=0&&(h.dataIndex=y+(h.startIndex||0))}))},c.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c._clearIncremental=function(){var h=this._incremental;h&&h.clearDisplaybles()};var n=l;return pu=n,pu}var s0;function gV(){if(s0)return n0;s0=1;var e=xe,t=An(),r=dV(),a=Cn();return e.extendChartView({type:"scatter",render:function(i,o,l){var c=i.getData(),n=this._updateSymbolDraw(c,i);n.updateData(c,{clipShape:this._getClipShape(i)}),this._finished=!0},incrementalPrepareRender:function(i,o,l){var c=i.getData(),n=this._updateSymbolDraw(c,i);n.incrementalPrepareUpdate(c),this._finished=!1},incrementalRender:function(i,o,l){this._symbolDraw.incrementalUpdate(i,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=i.end===o.getData().count()},updateTransform:function(i,o,l){var c=i.getData();if(this.group.dirty(),!this._finished||c.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var n=a().reset(i);n.progress&&n.progress({start:0,end:c.count()},c),this._symbolDraw.updateLayout(c)},_getClipShape:function(i){var o=i.coordinateSystem,l=o&&o.getArea&&o.getArea();return i.get("clip",!0)?l:null},_updateSymbolDraw:function(i,o){var l=this._symbolDraw,c=o.pipelineContext,n=c.large;return(!l||n!==this._isLargeDraw)&&(l&&l.remove(),l=this._symbolDraw=n?new r:new t,this._isLargeDraw=n,this.group.removeAll()),this.group.add(l.group),l},remove:function(i,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),n0}var l0;function pV(){if(l0)return a0;l0=1;var e=xe;fV(),gV();var t=Ta(),r=Cn();return Mn(),e.registerVisual(t("scatter","circle")),e.registerLayout(r("scatter")),a0}var u0={},v0={},mu,h0;function mV(){if(h0)return mu;h0=1;var e=W,t=aa();function r(i,o,l){t.call(this,i,o,l),this.type="value",this.angle=0,this.name="",this.model}e.inherits(r,t);var a=r;return mu=a,mu}var yu,c0;function yV(){if(c0)return yu;c0=1;var e=W,t=mV(),r=ns(),a=Re(),i=or(),o=i.getScaleExtent,l=i.niceScaleExtent,c=Sr,n=XC();function h(v,u,d){this._model=v,this.dimensions=[],this._indicatorAxes=e.map(v.getIndicatorModels(),function(f,m){var p="indicator_"+m,g=new t(p,f.get("axisType")==="log"?new n:new r);return g.name=f.get("name"),g.model=f,f.axis=g,this.dimensions.push(p),g},this),this.resize(v,d),this.cx,this.cy,this.r,this.r0,this.startAngle}h.prototype.getIndicatorAxes=function(){return this._indicatorAxes},h.prototype.dataToPoint=function(v,u){var d=this._indicatorAxes[u];return this.coordToPoint(d.dataToCoord(v),u)},h.prototype.coordToPoint=function(v,u){var d=this._indicatorAxes[u],f=d.angle,m=this.cx+v*Math.cos(f),p=this.cy-v*Math.sin(f);return[m,p]},h.prototype.pointToData=function(v){var u=v[0]-this.cx,d=v[1]-this.cy,f=Math.sqrt(u*u+d*d);u/=f,d/=f;for(var m=Math.atan2(-d,u),p=1/0,g,y=-1,_=0;_<this._indicatorAxes.length;_++){var A=this._indicatorAxes[_],S=Math.abs(m-A.angle);S<p&&(g=A,y=_,p=S)}return[y,+(g&&g.coordToData(f))]},h.prototype.resize=function(v,u){var d=v.get("center"),f=u.getWidth(),m=u.getHeight(),p=Math.min(f,m)/2;this.cx=a.parsePercent(d[0],f),this.cy=a.parsePercent(d[1],m),this.startAngle=v.get("startAngle")*Math.PI/180;var g=v.get("radius");(typeof g=="string"||typeof g=="number")&&(g=[0,g]),this.r0=a.parsePercent(g[0],p),this.r=a.parsePercent(g[1],p),e.each(this._indicatorAxes,function(y,_){y.setExtent(this.r0,this.r);var A=this.startAngle+_*Math.PI*2/this._indicatorAxes.length;A=Math.atan2(Math.sin(A),Math.cos(A)),y.angle=A},this)},h.prototype.update=function(v,u){var d=this._indicatorAxes,f=this._model;e.each(d,function(g){g.scale.setExtent(1/0,-1/0)}),v.eachSeriesByType("radar",function(g,y){if(!(g.get("coordinateSystem")!=="radar"||v.getComponent("radar",g.get("radarIndex"))!==f)){var _=g.getData();e.each(d,function(A){A.scale.unionExtentFromData(_,_.mapDimension(A.dim))})}},this);var m=f.get("splitNumber");function p(g){var y=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)),_=g/y;return _===2?_=5:_*=2,_*y}e.each(d,function(g,y){var _=o(g.scale,g.model).extent;l(g.scale,g.model);var A=g.model,S=g.scale,b=A.getMin(),x=A.getMax(),w=S.getInterval();if(b!=null&&x!=null)S.setExtent(+b,+x),S.setInterval((x-b)/m);else if(b!=null){var T;do T=b+w*m,S.setExtent(+b,T),S.setInterval(w),w=p(w);while(T<_[1]&&isFinite(T)&&isFinite(_[1]))}else if(x!=null){var M;do M=x-w*m,S.setExtent(M,+x),S.setInterval(w),w=p(w);while(M>_[0]&&isFinite(M)&&isFinite(_[0]))}else{var C=S.getTicks().length-1;C>m&&(w=p(w));var T=Math.ceil(_[1]/w)*w,M=a.round(T-w*m);S.setExtent(M,T),S.setInterval(w)}})},h.dimensions=[],h.create=function(v,u){var d=[];return v.eachComponent("radar",function(f){var m=new h(f,v,u);d.push(m),f.coordinateSystem=m}),v.eachSeriesByType("radar",function(f){f.get("coordinateSystem")==="radar"&&(f.coordinateSystem=d[f.get("radarIndex")||0])}),d},c.register("radar",h);var s=h;return yu=s,yu}var _u,f0;function _V(){if(f0)return _u;f0=1;var e=xe,t=W,r=rM(),a=ot(),i=pi(),o=r.valueAxis;function l(h,s){return t.defaults({show:s},h)}var c=e.extendComponentModel({type:"radar",optionUpdated:function(){var h=this.get("boundaryGap"),s=this.get("splitNumber"),v=this.get("scale"),u=this.get("axisLine"),d=this.get("axisTick"),f=this.get("axisType"),m=this.get("axisLabel"),p=this.get("name"),g=this.get("name.show"),y=this.get("name.formatter"),_=this.get("nameGap"),A=this.get("triggerEvent"),S=t.map(this.get("indicator")||[],function(b){b.max!=null&&b.max>0&&!b.min?b.min=0:b.min!=null&&b.min<0&&!b.max&&(b.max=0);var x=p;if(b.color!=null&&(x=t.defaults({color:b.color},p)),b=t.merge(t.clone(b),{boundaryGap:h,splitNumber:s,scale:v,axisLine:u,axisTick:d,axisType:f,axisLabel:m,name:b.text,nameLocation:"end",nameGap:_,nameTextStyle:x,triggerEvent:A},!1),g||(b.name=""),typeof y=="string"){var w=b.name;b.name=y.replace("{value}",w??"")}else typeof y=="function"&&(b.name=y(b.name,b));var T=t.extend(new a(b,null,this.ecModel),i);return T.mainType="radar",T.componentIndex=this.componentIndex,T},this);this.getIndicatorModels=function(){return S}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:t.merge({lineStyle:{color:"#bbb"}},o.axisLine),axisLabel:l(o.axisLabel,!1),axisTick:l(o.axisTick,!1),axisType:"interval",splitLine:l(o.splitLine,!0),splitArea:l(o.splitArea,!0),indicator:[]}}),n=c;return _u=n,_u}var xu,d0;function xV(){if(d0)return xu;d0=1;var e=xe,t=W,r=ia(),a=de,i=["axisLine","axisTickLabel","axisName"],o=e.extendComponentView({type:"radar",render:function(l,c,n){var h=this.group;h.removeAll(),this._buildAxes(l),this._buildSplitLineAndArea(l)},_buildAxes:function(l){var c=l.coordinateSystem,n=c.getIndicatorAxes(),h=t.map(n,function(s){var v=new r(s.model,{position:[c.cx,c.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return v});t.each(h,function(s){t.each(i,s.add,s),this.group.add(s.getGroup())},this)},_buildSplitLineAndArea:function(l){var c=l.coordinateSystem,n=c.getIndicatorAxes();if(!n.length)return;var h=l.get("shape"),s=l.getModel("splitLine"),v=l.getModel("splitArea"),u=s.getModel("lineStyle"),d=v.getModel("areaStyle"),f=s.get("show"),m=v.get("show"),p=u.get("color"),g=d.get("color");p=t.isArray(p)?p:[p],g=t.isArray(g)?g:[g];var y=[],_=[];function A(z,N,G){var V=G%N.length;return z[V]=z[V]||[],V}if(h==="circle")for(var S=n[0].getTicksCoords(),b=c.cx,x=c.cy,w=0;w<S.length;w++){if(f){var T=A(y,p,w);y[T].push(new a.Circle({shape:{cx:b,cy:x,r:S[w].coord}}))}if(m&&w<S.length-1){var T=A(_,g,w);_[T].push(new a.Ring({shape:{cx:b,cy:x,r0:S[w].coord,r:S[w+1].coord}}))}}else for(var M,C=t.map(n,function(z,N){var G=z.getTicksCoords();return M=M==null?G.length-1:Math.min(G.length-1,M),t.map(G,function(V){return c.coordToPoint(V.coord,N)})}),D=[],w=0;w<=M;w++){for(var L=[],P=0;P<n.length;P++)L.push(C[P][w]);if(L[0]&&L.push(L[0].slice()),f){var T=A(y,p,w);y[T].push(new a.Polyline({shape:{points:L}}))}if(m&&D){var T=A(_,g,w-1);_[T].push(new a.Polygon({shape:{points:L.concat(D)}}))}D=L.slice().reverse()}var I=u.getLineStyle(),E=d.getAreaStyle();t.each(_,function(z,N){this.group.add(a.mergePath(z,{style:t.defaults({stroke:"none",fill:g[N%g.length]},E),silent:!0}))},this),t.each(y,function(z,N){this.group.add(a.mergePath(z,{style:t.defaults({fill:"none",stroke:p[N%p.length]},I),silent:!0}))},this)}});return xu=o,xu}var g0;function SV(){return g0||(g0=1,yV(),_V(),xV()),v0}var Su,p0;function bV(){if(p0)return Su;p0=1;var e=ft,t=mi(),r=W,a=Ge(),i=a.encodeHTML,o=Dn(),l=e.extend({type:"series.radar",dependencies:["radar"],init:function(n){l.superApply(this,"init",arguments),this.legendVisualProvider=new o(r.bind(this.getData,this),r.bind(this.getRawData,this))},getInitialData:function(n,h){return t(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(n){var h=this.getData(),s=this.coordinateSystem,v=s.getIndicatorAxes(),u=this.getData().getName(n);return i(u===""?this.name:u)+"<br/>"+r.map(v,function(d,f){var m=h.get(h.mapDimension(d.dim),n);return i(d.name+" : "+m)}).join("<br />")},getTooltipPosition:function(n){if(n!=null){for(var h=this.getData(),s=this.coordinateSystem,v=h.getValues(r.map(s.dimensions,function(m){return h.mapDimension(m)}),n,!0),u=0,d=v.length;u<d;u++)if(!isNaN(v[u])){var f=s.getIndicatorAxes();return s.coordToPoint(f[u].dataToCoord(v[u]),u)}}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),c=l;return Su=c,Su}var bu,m0;function wV(){if(m0)return bu;m0=1;var e=xe,t=de,r=W,a=Zt();function i(l){return r.isArray(l)||(l=[+l,+l]),l}var o=e.extendChartView({type:"radar",render:function(l,c,n){var h=l.coordinateSystem,s=this.group,v=l.getData(),u=this._data;function d(p,g){var y=p.getItemVisual(g,"symbol")||"circle",_=p.getItemVisual(g,"color");if(y!=="none"){var A=i(p.getItemVisual(g,"symbolSize")),S=a.createSymbol(y,-1,-1,2,2,_);return S.attr({style:{strokeNoScale:!0},z2:100,scale:[A[0]/2,A[1]/2]}),S}}function f(p,g,y,_,A,S){y.removeAll();for(var b=0;b<g.length-1;b++){var x=d(_,A);x&&(x.__dimIdx=b,p[b]?(x.attr("position",p[b]),t[S?"initProps":"updateProps"](x,{position:g[b]},l,A)):x.attr("position",g[b]),y.add(x))}}function m(p){return r.map(p,function(g){return[h.cx,h.cy]})}v.diff(u).add(function(p){var g=v.getItemLayout(p);if(g){var y=new t.Polygon,_=new t.Polyline,A={shape:{points:g}};y.shape.points=m(g),_.shape.points=m(g),t.initProps(y,A,l,p),t.initProps(_,A,l,p);var S=new t.Group,b=new t.Group;S.add(_),S.add(y),S.add(b),f(_.shape.points,g,b,v,p,!0),v.setItemGraphicEl(p,S)}}).update(function(p,g){var y=u.getItemGraphicEl(g),_=y.childAt(0),A=y.childAt(1),S=y.childAt(2),b={shape:{points:v.getItemLayout(p)}};b.shape.points&&(f(_.shape.points,b.shape.points,S,v,p,!1),t.updateProps(_,b,l),t.updateProps(A,b,l),v.setItemGraphicEl(p,y))}).remove(function(p){s.remove(u.getItemGraphicEl(p))}).execute(),v.eachItemGraphicEl(function(p,g){var y=v.getItemModel(g),_=p.childAt(0),A=p.childAt(1),S=p.childAt(2),b=v.getItemVisual(g,"color");s.add(p),_.useStyle(r.defaults(y.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),_.hoverStyle=y.getModel("emphasis.lineStyle").getLineStyle();var x=y.getModel("areaStyle"),w=y.getModel("emphasis.areaStyle"),T=x.isEmpty()&&x.parentModel.isEmpty(),M=w.isEmpty()&&w.parentModel.isEmpty();M=M&&T,A.ignore=T,A.useStyle(r.defaults(x.getAreaStyle(),{fill:b,opacity:.7})),A.hoverStyle=w.getAreaStyle();var C=y.getModel("itemStyle").getItemStyle(["color"]),D=y.getModel("emphasis.itemStyle").getItemStyle(),L=y.getModel("label"),P=y.getModel("emphasis.label");S.eachChild(function(I){I.setStyle(C),I.hoverStyle=r.clone(D);var E=v.get(v.dimensions[I.__dimIdx],g);(E==null||isNaN(E))&&(E=""),t.setLabelStyle(I.style,I.hoverStyle,L,P,{labelFetcher:v.hostModel,labelDataIndex:g,labelDimIndex:I.__dimIdx,defaultText:E,autoColor:b,isRectText:!0})}),p.highDownOnUpdate=function(I,E){A.attr("ignore",E==="emphasis"?M:T)},t.setHoverStyle(p)}),this._data=v},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});return bu=o,bu}var wu,y0;function AV(){if(y0)return wu;y0=1;var e=W;function t(i){i.eachSeriesByType("radar",function(o){var l=o.getData(),c=[],n=o.coordinateSystem;if(n){var h=n.getIndicatorAxes();e.each(h,function(s,v){l.each(l.mapDimension(h[v].dim),function(u,d){c[d]=c[d]||[];var f=n.dataToPoint(u,v);c[d][v]=r(f)?f:a(n)})}),l.each(function(s){var v=e.find(c[s],function(u){return r(u)})||a(n);c[s].push(v.slice()),l.setItemLayout(s,c[s])})}})}function r(i){return!isNaN(i[0])&&!isNaN(i[1])}function a(i){return[i.cx,i.cy]}return wu=t,wu}var Au,_0;function TV(){if(_0)return Au;_0=1;var e=W;function t(r){var a=r.polar;if(a){e.isArray(a)||(a=[a]);var i=[];e.each(a,function(o,l){o.indicator?(o.type&&!o.shape&&(o.shape=o.type),r.radar=r.radar||[],e.isArray(r.radar)||(r.radar=[r.radar]),r.radar.push(o)):i.push(o)}),r.polar=i}e.each(r.series,function(o){o&&o.type==="radar"&&o.polarIndex&&(o.radarIndex=o.polarIndex)})}return Au=t,Au}var x0;function CV(){if(x0)return u0;x0=1;var e=xe;SV(),bV(),wV();var t=vs(),r=Ta(),a=AV(),i=Ln(),o=TV();return e.registerVisual(t("radar")),e.registerVisual(r("radar","circle")),e.registerLayout(a),e.registerProcessor(i("radar")),e.registerPreprocessor(o),u0}var S0={},Tu,b0;function MV(){if(b0)return Tu;b0=1;for(var e=W,t=QC(),r=[126,25],a=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<a.length;i++)for(var o=0;o<a[i].length;o++)a[i][o][0]/=10.5,a[i][o][1]/=-10.5/.75,a[i][o][0]+=r[0],a[i][o][1]+=r[1];function l(c,n){c==="china"&&n.push(new t("南海诸岛",e.map(a,function(h){return{type:"polygon",exterior:h}}),r))}return Tu=l,Tu}var Cu,w0;function DV(){if(w0)return Cu;w0=1;var e={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function t(r,a){if(r==="china"){var i=e[a.name];if(i){var o=a.center;o[0]+=i[0]/10.5,o[1]+=-i[1]/(10.5/.75)}}}return Cu=t,Cu}var Mu,A0;function LV(){if(A0)return Mu;A0=1;var e={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function t(r,a){if(r==="world"){var i=e[a.name];if(i){var o=a.center;o[0]=i[0],o[1]=i[1]}}}return Mu=t,Mu}var Du,T0;function PV(){if(T0)return Du;T0=1;var e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function t(r,a){r==="china"&&a.name==="台湾"&&a.geometries.push({type:"polygon",exterior:e[0]})}return Du=t,Du}var Lu,C0;function IV(){if(C0)return Lu;C0=1;var e=W,t=e.each,r=jC(),a=Pe,i=a.makeInner,o=MV(),l=DV(),c=LV(),n=PV(),h=i(),s={load:function(u,d,f){var m=h(d).parsed;if(m)return m;var p=d.specialAreas||{},g=d.geoJSON,y;try{y=g?r(g,f):[]}catch(_){throw new Error(`Invalid geoJson format
`+_.message)}return o(u,y),t(y,function(_){var A=_.name;l(u,_),c(u,_),n(u,_);var S=p[A];S&&_.transformTo(S.left,S.top,S.width,S.height)}),h(d).parsed={regions:y,boundingRect:v(y)}}};function v(u){for(var d,f=0;f<u.length;f++){var m=u[f].getBoundingRect();d=d||m.clone(),d.union(m)}return d}return Lu=s,Lu}var Pu,M0;function RV(){if(M0)return Pu;M0=1;var e=xn,t=e.parseSVG,r=e.makeViewBoxTransform,a=Sa,i=Ad,o=W,l=o.assert,c=o.createHashMap,n=Ke,h=Pe,s=h.makeInner,v=s(),u={load:function(f,m){var p=v(m).originRoot;if(p)return{root:p,boundingRect:v(m).boundingRect};var g=d(m);return v(m).originRoot=g.root,v(m).boundingRect=g.boundingRect,g},makeGraphic:function(f,m,p){var g=v(m),y=g.rootMap||(g.rootMap=c()),_=y.get(p);if(_)return _;var A=g.originRoot,S=g.boundingRect;return g.originRootHostKey?_=d(m,S).root:(g.originRootHostKey=p,_=A),y.set(p,_)},removeGraphic:function(f,m,p){var g=v(m),y=g.rootMap;y&&y.removeKey(p),p===g.originRootHostKey&&(g.originRootHostKey=null)}};function d(f,m){var p=f.svgXML,g,y;try{g=p&&t(p,{ignoreViewBox:!0,ignoreRootClip:!0})||{},y=g.root,l(y!=null)}catch(w){throw new Error(`Invalid svg format
`+w.message)}var _=g.width,A=g.height,S=g.viewBoxRect;if(m||(m=_==null||A==null?y.getBoundingRect():new n(0,0,0,0),_!=null&&(m.width=_),A!=null&&(m.height=A)),S){var b=r(S,m.width,m.height),x=y;y=new a,y.add(x),x.scale=b.scale,x.position=b.position}return y.setClipPath(new i({shape:m.plain()})),{root:y,boundingRect:m}}return Pu=u,Pu}var Iu,D0;function hs(){if(D0)return Iu;D0=1;var e=W,t=e.each,r=e.createHashMap,a=Ud,i=IV(),o=RV(),l=Ke,c={geoJSON:i,svg:o},n={load:function(v,u,d){var f=[],m=r(),p=r(),g,y=s(v);return t(y,function(_){var A=c[_.type].load(v,_,d);t(A.regions,function(b){var x=b.name;u&&u.hasOwnProperty(x)&&(b=b.cloneShallow(x=u[x])),f.push(b),m.set(x,b),p.set(x,b.center)});var S=A.boundingRect;S&&(g?g.union(S):g=S.clone())}),{regions:f,regionsMap:m,nameCoordMap:p,boundingRect:g||new l(0,0,0,0)}},makeGraphic:h("makeGraphic"),removeGraphic:h("removeGraphic")};function h(v){return function(u,d){var f=s(u),m=[];return t(f,function(p){var g=c[p.type][v];g&&m.push(g(u,p,d))}),m}}function s(v){var u=a.retrieveMap(v)||[];return u}return Iu=n,Iu}var Ru,L0;function EV(){if(L0)return Ru;L0=1;var e=W,t=mi(),r=ft,a=Ge(),i=a.encodeHTML,o=a.addCommas,l=Zd(),c=ir,n=c.retrieveRawAttr,h=hs(),s=zr(),v=s.makeSeriesEncodeForNameBased,u=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(f){for(var m=t(this,{coordDimensions:["value"],encodeDefaulter:e.curry(v,this)}),p=m.mapDimension("value"),g=e.createHashMap(),y=[],_=[],A=0,S=m.count();A<S;A++){var b=m.getName(A);g.set(b,!0),y.push({name:b,value:m.get(p,A),selected:n(m,A,"selected")})}var x=h.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return e.each(x.regions,function(w){var T=w.name;g.get(T)||(y.push({name:T}),_.push(T))}),this.updateSelectedMap(y),m.appendValues([],_),m},getHostGeoModel:function(){var f=this.option.geoIndex;return f!=null?this.dependentModels.geo[f]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(f){var m=this.getData();return m.get(m.mapDimension("value"),f)},getRegionModel:function(f){var m=this.getData();return m.getItemModel(m.indexOfName(f))},formatTooltip:function(f){for(var m=this.getData(),p=o(this.getRawValue(f)),g=m.getName(f),y=this.seriesGroup,_=[],A=0;A<y.length;A++){var S=y[A].originalData.indexOfName(g),b=m.mapDimension("value");isNaN(y[A].originalData.get(b,S))||_.push(i(y[A].name))}return _.join(", ")+"<br />"+i(g+" : "+p)},getTooltipPosition:function(f){if(f!=null){var m=this.getData().getName(f),p=this.coordinateSystem,g=p.getRegion(m);return g&&p.dataToPoint(g.center)}},setZoom:function(f){this.option.zoom=f},setCenter:function(f){this.option.center=f},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});e.mixin(u,l);var d=u;return Ru=d,Ru}var zi={},P0;function uM(){if(P0)return zi;P0=1;var e=xe,t="\0_ec_interaction_mutex";function r(l,c,n){var h=o(l);h[c]=n}function a(l,c,n){var h=o(l),s=h[c];s===n&&(h[c]=null)}function i(l,c){return!!o(l)[c]}function o(l){return l[t]||(l[t]={})}return e.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),zi.take=r,zi.release=a,zi.isTaken=i,zi}var Eu,I0;function Pn(){if(I0)return Eu;I0=1;var e=W,t=xa,r=ht,a=uM();function i(f){this.pointerChecker,this._zr=f,this._opt={};var m=e.bind,p=m(o,this),g=m(l,this),y=m(c,this),_=m(n,this),A=m(h,this);t.call(this),this.setPointerChecker=function(S){this.pointerChecker=S},this.enable=function(S,b){this.disable(),this._opt=e.defaults(e.clone(b)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),S==null&&(S=!0),(S===!0||S==="move"||S==="pan")&&(f.on("mousedown",p),f.on("mousemove",g),f.on("mouseup",y)),(S===!0||S==="scale"||S==="zoom")&&(f.on("mousewheel",_),f.on("pinch",A))},this.disable=function(){f.off("mousedown",p),f.off("mousemove",g),f.off("mouseup",y),f.off("mousewheel",_),f.off("pinch",A)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}e.mixin(i,t);function o(f){if(!(r.isMiddleOrRightButtonOnMouseUpDown(f)||f.target&&f.target.draggable)){var m=f.offsetX,p=f.offsetY;this.pointerChecker&&this.pointerChecker(f,m,p)&&(this._x=m,this._y=p,this._dragging=!0)}}function l(f){if(!(!this._dragging||!u("moveOnMouseMove",f,this._opt)||f.gestureEvent==="pinch"||a.isTaken(this._zr,"globalPan"))){var m=f.offsetX,p=f.offsetY,g=this._x,y=this._y,_=m-g,A=p-y;this._x=m,this._y=p,this._opt.preventDefaultMouseMove&&r.stop(f.event),v(this,"pan","moveOnMouseMove",f,{dx:_,dy:A,oldX:g,oldY:y,newX:m,newY:p})}}function c(f){r.isMiddleOrRightButtonOnMouseUpDown(f)||(this._dragging=!1)}function n(f){var m=u("zoomOnMouseWheel",f,this._opt),p=u("moveOnMouseWheel",f,this._opt),g=f.wheelDelta,y=Math.abs(g),_=f.offsetX,A=f.offsetY;if(!(g===0||!m&&!p)){if(m){var S=y>3?1.4:y>1?1.2:1.1,b=g>0?S:1/S;s(this,"zoom","zoomOnMouseWheel",f,{scale:b,originX:_,originY:A})}if(p){var x=Math.abs(g),w=(g>0?1:-1)*(x>3?.4:x>1?.15:.05);s(this,"scrollMove","moveOnMouseWheel",f,{scrollDelta:w,originX:_,originY:A})}}}function h(f){if(!a.isTaken(this._zr,"globalPan")){var m=f.pinchScale>1?1.1:1/1.1;s(this,"zoom",null,f,{scale:m,originX:f.pinchX,originY:f.pinchY})}}function s(f,m,p,g,y){f.pointerChecker&&f.pointerChecker(g,y.originX,y.originY)&&(r.stop(g.event),v(f,m,p,g,y))}function v(f,m,p,g,y){y.isAvailableBehavior=e.bind(u,null,p,g),f.trigger(m,y)}function u(f,m,p){var g=p[f];return!f||g&&(!e.isString(g)||m.event[g+"Key"])}var d=i;return Eu=d,Eu}var oo={},R0;function Yd(){if(R0)return oo;R0=1;function e(r,a,i){var o=r.target,l=o.position;l[0]+=a,l[1]+=i,o.dirty()}function t(r,a,i,o){var l=r.target,c=r.zoomLimit,n=l.position,h=l.scale,s=r.zoom=r.zoom||1;if(s*=a,c){var v=c.min||0,u=c.max||1/0;s=Math.max(Math.min(u,s),v)}var d=s/r.zoom;r.zoom=s,n[0]-=(i-n[0])*(d-1),n[1]-=(o-n[1])*(d-1),h[0]*=d,h[1]*=d,l.dirty()}return oo.updateViewOnPan=e,oo.updateViewOnZoom=t,oo}var ku={},E0;function cs(){if(E0)return ku;E0=1;var e={axisPointer:1,tooltip:1,brush:1};function t(r,a,i){var o=a.getComponentByElement(r.topTarget),l=o&&o.coordinateSystem;return o&&o!==i&&!e[o.mainType]&&l&&l.model!==i}return ku.onIrrelevantElement=t,ku}var Ou,k0;function vM(){if(k0)return Ou;k0=1;var e=W,t=Pn(),r=Yd(),a=cs(),i=a.onIrrelevantElement,o=de,l=hs(),c=ea,n=c.getUID,h=Wo;function s(m){var p=m.getItemStyle(),g=m.get("areaColor");return g!=null&&(p.fill=g),p}function v(m,p,g,y,_){g.off("click"),g.off("mousedown"),p.get("selectedMode")&&(g.on("mousedown",function(){m._mouseDownFlag=!0}),g.on("click",function(A){if(m._mouseDownFlag){m._mouseDownFlag=!1;for(var S=A.target;!S.__regions;)S=S.parent;if(S){var b={type:(p.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:e.map(S.__regions,function(x){return{name:x.name,from:_.uid}})};b[p.mainType+"Id"]=p.id,y.dispatchAction(b),u(p,g)}}}))}function u(m,p){p.eachChild(function(g){e.each(g.__regions,function(y){g.trigger(m.isSelected(y.name)?"emphasis":"normal")})})}function d(m,p){var g=new o.Group;this.uid=n("ec_map_draw"),this._controller=new t(m.getZr()),this._controllerHost={target:p?g:null},this.group=g,this._updateGroup=p,this._mouseDownFlag,this._mapName,this._initialized,g.add(this._regionsGroup=new o.Group),g.add(this._backgroundGroup=new o.Group)}d.prototype={constructor:d,draw:function(m,p,g,y,_){var A=m.mainType==="geo",S=m.getData&&m.getData();A&&p.eachComponent({mainType:"series",subType:"map"},function(R){!S&&R.getHostGeoModel()===m&&(S=R.getData())});var b=m.coordinateSystem;this._updateBackground(b);var x=this._regionsGroup,w=this.group,T=b.getTransformInfo(),M=!x.childAt(0)||_,C;if(M)w.transform=T.roamTransform,w.decomposeTransform(),w.dirty();else{var D=new h;D.transform=T.roamTransform,D.decomposeTransform();var L={scale:D.scale,position:D.position};C=D.scale,o.updateProps(w,L,m)}var P=T.rawScale,I=T.rawPosition;x.removeAll();var E=["itemStyle"],z=["emphasis","itemStyle"],N=["label"],G=["emphasis","label"],V=e.createHashMap();e.each(b.regions,function(R){var O=V.get(R.name)||V.set(R.name,new o.Group),k=new o.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});O.add(k);var B=m.getRegionModel(R.name)||m,q=B.getModel(E),H=B.getModel(z),F=s(q),U=s(H),$=B.getModel(N),Y=B.getModel(G),K;if(S){K=S.indexOfName(R.name);var J=S.getItemVisual(K,"color",!0);J&&(F.fill=J)}var j=function(me){return[me[0]*P[0]+I[0],me[1]*P[1]+I[1]]};e.each(R.geometries,function(me){if(me.type==="polygon"){for(var Z=[],Q=0;Q<me.exterior.length;++Q)Z.push(j(me.exterior[Q]));k.shape.paths.push(new o.Polygon({segmentIgnoreThreshold:1,shape:{points:Z}}));for(var Q=0;Q<(me.interiors?me.interiors.length:0);++Q){for(var re=me.interiors[Q],Z=[],le=0;le<re.length;++le)Z.push(j(re[le]));k.shape.paths.push(new o.Polygon({segmentIgnoreThreshold:1,shape:{points:Z}}))}}}),k.setStyle(F),k.style.strokeNoScale=!0,k.culling=!0;var ee=$.get("show"),te=Y.get("show"),ie=S&&isNaN(S.get(S.mapDimension("value"),K)),ge=S&&S.getItemLayout(K);if(A||ie&&(ee||te)||ge&&ge.showLabel){var oe=A?R.name:K,fe;(!S||K>=0)&&(fe=m);var pe=new o.Text({position:j(R.center.slice()),scale:[1/w.scale[0],1/w.scale[1]],z2:10,silent:!0});if(o.setLabelStyle(pe.style,pe.hoverStyle={},$,Y,{labelFetcher:fe,labelDataIndex:oe,defaultText:R.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!M){var ne=[1/C[0],1/C[1]];o.updateProps(pe,{scale:ne},m)}O.add(pe)}if(S)S.setItemGraphicEl(K,O);else{var B=m.getRegionModel(R.name);k.eventData={componentType:"geo",componentIndex:m.componentIndex,geoIndex:m.componentIndex,name:R.name,region:B&&B.option||{}}}var se=O.__regions||(O.__regions=[]);se.push(R),O.highDownSilentOnTouch=!!m.get("selectedMode"),o.setHoverStyle(O,U),x.add(O)}),this._updateController(m,p,g),v(this,m,x,g,y),u(m,x)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&l.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(m){var p=m.map;this._mapName!==p&&e.each(l.makeGraphic(p,this.uid),function(g){this._backgroundGroup.add(g)},this),this._mapName=p},_updateController:function(m,p,g){var y=m.coordinateSystem,_=this._controller,A=this._controllerHost;A.zoomLimit=m.get("scaleLimit"),A.zoom=y.getZoom(),_.enable(m.get("roam")||!1);var S=m.mainType;function b(){var x={type:"geoRoam",componentType:S};return x[S+"Id"]=m.id,x}_.off("pan").on("pan",function(x){this._mouseDownFlag=!1,r.updateViewOnPan(A,x.dx,x.dy),g.dispatchAction(e.extend(b(),{dx:x.dx,dy:x.dy}))},this),_.off("zoom").on("zoom",function(x){if(this._mouseDownFlag=!1,r.updateViewOnZoom(A,x.scale,x.originX,x.originY),g.dispatchAction(e.extend(b(),{zoom:x.scale,originX:x.originX,originY:x.originY})),this._updateGroup){var w=this.group.scale;this._regionsGroup.traverse(function(T){T.type==="text"&&T.attr("scale",[1/w[0],1/w[1]])})}},this),_.setPointerChecker(function(x,w,T){return y.getViewRectAfterRoam().contain(w,T)&&!i(x,g,m)})}};var f=d;return Ou=f,Ou}var zu,O0;function kV(){if(O0)return zu;O0=1;var e=xe,t=W,r=de,a=vM(),i="__seriesMapHighDown",o="__seriesMapCallKey",l=e.extendChartView({type:"map",render:function(h,s,v,u){if(!(u&&u.type==="mapToggleSelect"&&u.from===this.uid)){var d=this.group;if(d.removeAll(),!h.getHostGeoModel()){if(u&&u.type==="geoRoam"&&u.componentType==="series"&&u.seriesId===h.id){var f=this._mapDraw;f&&d.add(f.group)}else if(h.needsDrawMap){var f=this._mapDraw||new a(v,!0);d.add(f.group),f.draw(h,s,v,this,u),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;h.get("showLegendSymbol")&&s.getComponent("legend")&&this._renderSymbols(h,s,v)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(h,s,v){var u=h.originalData,d=this.group;u.each(u.mapDimension("value"),function(f,m){if(!isNaN(f)){var p=u.getItemLayout(m);if(!(!p||!p.point)){var g=p.point,y=p.offset,_=new r.Circle({style:{fill:h.getData().getVisual("color")},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:r.Z2_EMPHASIS_LIFT+1)});if(!y){var A=h.mainSeries.getData(),S=u.getName(m),b=A.indexOfName(S),x=u.getItemModel(m),w=x.getModel("label"),T=x.getModel("emphasis.label"),M=A.getItemGraphicEl(b),C=t.retrieve2(h.getFormattedLabel(b,"normal"),S),D=t.retrieve2(h.getFormattedLabel(b,"emphasis"),C),L=M[i],P=Math.random();if(!L){L=M[i]={};var I=t.curry(c,!0),E=t.curry(c,!1);M.on("mouseover",I).on("mouseout",E).on("emphasis",I).on("normal",E)}M[o]=P,t.extend(L,{recordVersion:P,circle:_,labelModel:w,hoverLabelModel:T,emphasisText:D,normalText:C}),n(L,!1)}d.add(_)}}})}});function c(h){var s=this[i];s&&s.recordVersion===this[o]&&n(s,h)}function n(h,s){var v=h.circle,u=h.labelModel,d=h.hoverLabelModel,f=h.emphasisText,m=h.normalText;s?(v.style.extendFrom(r.setTextStyle({},d,{text:d.get("show")?f:null},{isRectText:!0,useInsideStyle:!1},!0)),v.__mapOriginalZ2=v.z2,v.z2+=r.Z2_EMPHASIS_LIFT):(r.setTextStyle(v.style,u,{text:u.get("show")?m:null,textPosition:u.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),v.dirty(!1),v.__mapOriginalZ2!=null&&(v.z2=v.__mapOriginalZ2,v.__mapOriginalZ2=null))}return zu=l,zu}var z0={},Bu={},B0;function Xd(){if(B0)return Bu;B0=1;function e(t,r,a){var i=t.getZoom(),o=t.getCenter(),l=r.zoom,c=t.dataToPoint(o);if(r.dx!=null&&r.dy!=null){c[0]-=r.dx,c[1]-=r.dy;var o=t.pointToData(c);t.setCenter(o)}if(l!=null){if(a){var n=a.min||0,h=a.max||1/0;l=Math.max(Math.min(i*l,h),n)/i}t.scale[0]*=l,t.scale[1]*=l;var s=t.position,v=(r.originX-s[0])*(l-1),u=(r.originY-s[1])*(l-1);s[0]-=v,s[1]-=u,t.updateTransform();var o=t.pointToData(c);t.setCenter(o),t.setZoom(l*i)}return{center:t.getCenter(),zoom:t.getZoom()}}return Bu.updateCenterAndZoom=e,Bu}var N0;function hM(){if(N0)return z0;N0=1;var e=xe,t=W,r=Xd(),a=r.updateCenterAndZoom;return e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(i,o){var l=i.componentType||"series";o.eachComponent({mainType:l,query:i},function(c){var n=c.coordinateSystem;if(n.type==="geo"){var h=a(n,i,c.get("scaleLimit"));c.setCenter&&c.setCenter(h.center),c.setZoom&&c.setZoom(h.zoom),l==="series"&&t.each(c.seriesGroup,function(s){s.setCenter(h.center),s.setZoom(h.zoom)})}})}),z0}var Nu,V0;function Kd(){if(V0)return Nu;V0=1;var e=W,t=Ye(),r=Pt(),a=Ke,i=Wo,o=t.applyTransform;function l(){i.call(this)}e.mixin(l,i);function c(s){this.name=s,this.zoomLimit,i.call(this),this._roamTransformable=new l,this._rawTransformable=new l,this._center,this._zoom}c.prototype={constructor:c,type:"view",dimensions:["x","y"],setBoundingRect:function(s,v,u,d){return this._rect=new a(s,v,u,d),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(s,v,u,d){this.transformTo(s,v,u,d),this._viewRect=new a(s,v,u,d)},transformTo:function(s,v,u,d){var f=this.getBoundingRect(),m=this._rawTransformable;m.transform=f.calculateTransform(new a(s,v,u,d)),m.decomposeTransform(),this._updateTransform()},setCenter:function(s){s&&(this._center=s,this._updateCenterAndZoom())},setZoom:function(s){s=s||1;var v=this.zoomLimit;v&&(v.max!=null&&(s=Math.min(v.max,s)),v.min!=null&&(s=Math.max(v.min,s))),this._zoom=s,this._updateCenterAndZoom()},getDefaultCenter:function(){var s=this.getBoundingRect(),v=s.x+s.width/2,u=s.y+s.height/2;return[v,u]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var s=this._rawTransformable.getLocalTransform(),v=this._roamTransformable,u=this.getDefaultCenter(),d=this.getCenter(),f=this.getZoom();d=t.applyTransform([],d,s),u=t.applyTransform([],u,s),v.origin=d,v.position=[u[0]-d[0],u[1]-d[1]],v.scale=[f,f],this._updateTransform()},_updateTransform:function(){var s=this._roamTransformable,v=this._rawTransformable;v.parent=s,s.updateTransform(),v.updateTransform(),r.copy(this.transform||(this.transform=[]),v.transform||r.create()),this._rawTransform=v.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var s=this._roamTransformable.transform,v=this._rawTransformable;return{roamTransform:s?e.slice(s):r.create(),rawScale:e.slice(v.scale),rawPosition:e.slice(v.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var s=this.getBoundingRect().clone();return s.applyTransform(this.transform),s},dataToPoint:function(s,v,u){var d=v?this._rawTransform:this.transform;return u=u||[],d?o(u,s,d):t.copy(u,s)},pointToData:function(s){var v=this.invTransform;return v?o([],s,v):[s[0],s[1]]},convertToPixel:e.curry(n,"dataToPoint"),convertFromPixel:e.curry(n,"pointToData"),containPoint:function(s){return this.getViewRectAfterRoam().contain(s[0],s[1])}},e.mixin(c,i);function n(s,v,u,d){var f=u.seriesModel,m=f?f.coordinateSystem:null;return m===this?m[s](d):null}var h=c;return Nu=h,Nu}var Vu,H0;function OV(){if(H0)return Vu;H0=1;var e=W,t=Ke,r=Kd(),a=hs();function i(c,n,h,s){r.call(this,c),this.map=n;var v=a.load(n,h);this._nameCoordMap=v.nameCoordMap,this._regionsMap=v.regionsMap,this._invertLongitute=s??!0,this.regions=v.regions,this._rect=v.boundingRect}i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(c){for(var n=this.regions,h=0;h<n.length;h++)if(n[h].contain(c))return!0;return!1},transformTo:function(c,n,h,s){var v=this.getBoundingRect(),u=this._invertLongitute;v=v.clone(),u&&(v.y=-v.y-v.height);var d=this._rawTransformable;if(d.transform=v.calculateTransform(new t(c,n,h,s)),d.decomposeTransform(),u){var f=d.scale;f[1]=-f[1]}d.updateTransform(),this._updateTransform()},getRegion:function(c){return this._regionsMap.get(c)},getRegionByCoord:function(c){for(var n=this.regions,h=0;h<n.length;h++)if(n[h].contain(c))return n[h]},addGeoCoord:function(c,n){this._nameCoordMap.set(c,n)},getGeoCoord:function(c){return this._nameCoordMap.get(c)},getBoundingRect:function(){return this._rect},dataToPoint:function(c,n,h){if(typeof c=="string"&&(c=this.getGeoCoord(c)),c)return r.prototype.dataToPoint.call(this,c,n,h)},convertToPixel:e.curry(o,"dataToPoint"),convertFromPixel:e.curry(o,"pointToData")},e.mixin(i,r);function o(c,n,h,s){var v=h.geoModel,u=h.seriesModel,d=v?v.coordinateSystem:u?u.coordinateSystem||(u.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return d===this?d[c](s):null}var l=i;return Vu=l,Vu}var Hu,q0;function Qd(){if(q0)return Hu;q0=1;var e=xe,t=W,r=OV(),a=ze,i=Re(),o=hs(),l=Ud;function c(v,u){var d=v.get("boundingCoords");if(d!=null){var f=d[0],m=d[1];isNaN(f[0])||isNaN(f[1])||isNaN(m[0])||isNaN(m[1])||this.setBoundingRect(f[0],f[1],m[0]-f[0],m[1]-f[1])}var p=this.getBoundingRect(),g,y=v.get("layoutCenter"),_=v.get("layoutSize"),A=u.getWidth(),S=u.getHeight(),b=p.width/p.height*this.aspectScale,x=!1;y&&_&&(y=[i.parsePercent(y[0],A),i.parsePercent(y[1],S)],_=i.parsePercent(_,Math.min(A,S)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(_)&&(x=!0));var w;if(x){var w={};b>1?(w.width=_,w.height=_/b):(w.height=_,w.width=_*b),w.y=y[1]-w.height/2,w.x=y[0]-w.width/2}else g=v.getBoxLayoutParams(),g.aspect=b,w=a.getLayoutRect(g,{width:A,height:S});this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(v.get("center")),this.setZoom(v.get("zoom"))}function n(v,u){t.each(u.get("geoCoord"),function(d,f){v.addGeoCoord(f,d)})}var h={dimensions:r.prototype.dimensions,create:function(v,u){var d=[];v.eachComponent("geo",function(m,p){var g=m.get("map"),y=m.get("aspectScale"),_=!0,A=l.retrieveMap(g);A&&A[0]&&A[0].type==="svg"?(y==null&&(y=1),_=!1):y==null&&(y=.75);var S=new r(g+p,g,m.get("nameMap"),_);S.aspectScale=y,S.zoomLimit=m.get("scaleLimit"),d.push(S),n(S,m),m.coordinateSystem=S,S.model=m,S.resize=c,S.resize(m,u)}),v.eachSeries(function(m){var p=m.get("coordinateSystem");if(p==="geo"){var g=m.get("geoIndex")||0;m.coordinateSystem=d[g]}});var f={};return v.eachSeriesByType("map",function(m){if(!m.getHostGeoModel()){var p=m.getMapType();f[p]=f[p]||[],f[p].push(m)}}),t.each(f,function(m,p){var g=t.map(m,function(_){return _.get("nameMap")}),y=new r(p,p,t.mergeAll(g));y.zoomLimit=t.retrieve.apply(null,t.map(m,function(_){return _.get("scaleLimit")})),d.push(y),y.resize=c,y.aspectScale=m[0].get("aspectScale"),y.resize(m[0],u),t.each(m,function(_){_.coordinateSystem=y,n(y,_)})}),d},getFilledRegions:function(v,u,d){for(var f=(v||[]).slice(),m=t.createHashMap(),p=0;p<f.length;p++)m.set(f[p].name,f[p]);var g=o.load(u,d);return t.each(g.regions,function(y){var _=y.name;!m.get(_)&&f.push({name:_})}),f}};e.registerCoordinateSystem("geo",h);var s=h;return Hu=s,Hu}var qu,G0;function zV(){if(G0)return qu;G0=1;var e=W;function t(r){var a={};r.eachSeriesByType("map",function(i){var o=i.getMapType();if(!(i.getHostGeoModel()||a[o])){var l={};e.each(i.seriesGroup,function(n){var h=n.coordinateSystem,s=n.originalData;n.get("showLegendSymbol")&&r.getComponent("legend")&&s.each(s.mapDimension("value"),function(v,u){var d=s.getName(u),f=h.getRegion(d);if(!(!f||isNaN(v))){var m=l[d]||0,p=h.dataToPoint(f.center);l[d]=m+1,s.setItemLayout(u,{point:p,offset:m})}})});var c=i.getData();c.each(function(n){var h=c.getName(n),s=c.getItemLayout(n)||{};s.showLabel=!l[h],c.setItemLayout(n,s)}),a[o]=!0}})}return qu=t,qu}var Gu,F0;function BV(){if(F0)return Gu;F0=1;function e(t){t.eachSeriesByType("map",function(r){var a=r.get("color"),i=r.getModel("itemStyle"),o=i.get("areaColor"),l=i.get("color")||a[r.seriesIndex%a.length];r.getData().setVisual({areaColor:o,color:l})})}return Gu=e,Gu}var Fu,U0;function NV(){if(U0)return Fu;U0=1;var e=W;function t(a,i){var o={};return e.each(a,function(l){l.each(l.mapDimension("value"),function(c,n){var h="ec-"+l.getName(n);o[h]=o[h]||[],isNaN(c)||o[h].push(c)})}),a[0].map(a[0].mapDimension("value"),function(l,c){for(var n="ec-"+a[0].getName(c),h=0,s=1/0,v=-1/0,u=o[n].length,d=0;d<u;d++)s=Math.min(s,o[n][d]),v=Math.max(v,o[n][d]),h+=o[n][d];var f;return i==="min"?f=s:i==="max"?f=v:i==="average"?f=h/u:f=h,u===0?NaN:f})}function r(a){var i={};a.eachSeriesByType("map",function(o){var l=o.getHostGeoModel(),c=l?"o"+l.id:"i"+o.getMapType();(i[c]=i[c]||[]).push(o)}),e.each(i,function(o,l){for(var c=t(e.map(o,function(h){return h.getData()}),o[0].get("mapValueCalculation")),n=0;n<o.length;n++)o[n].originalData=o[n].getData();for(var n=0;n<o.length;n++)o[n].seriesGroup=o,o[n].needsDrawMap=n===0&&!o[n].getHostGeoModel(),o[n].setData(c.cloneShallow()),o[n].mainSeries=o[0]})}return Fu=r,Fu}var Uu,$0;function VV(){if($0)return Uu;$0=1;var e=W;function t(r){e.each(r.series,function(a){a&&a.type==="map"&&(a.map=a.map||a.mapType,e.defaults(a,a.mapLocation))})}return Uu=t,Uu}var W0;function HV(){if(W0)return S0;W0=1;var e=xe;EV(),kV(),hM(),Qd();var t=zV(),r=BV(),a=NV(),i=VV(),o=lM();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a),e.registerPreprocessor(i),o("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]),S0}var Z0={},$u,Y0;function cM(){if(Y0)return $u;Y0=1;var e=W,t=e.each,r="\0__link_datas",a="\0__link_mainData";function i(d){var f=d.mainData,m=d.datas;m||(m={main:f},d.datasAttr={main:"data"}),d.datas=d.mainData=null,s(f,m,d),t(m,function(p){t(f.TRANSFERABLE_METHODS,function(g){p.wrapMethod(g,e.curry(o,d))})}),f.wrapMethod("cloneShallow",e.curry(c,d)),t(f.CHANGABLE_METHODS,function(p){f.wrapMethod(p,e.curry(l,d))}),e.assert(m[f.dataType]===f)}function o(d,f){if(h(this)){var m=e.extend({},this[r]);m[this.dataType]=f,s(f,m,d)}else v(f,this.dataType,this[a],d);return f}function l(d,f){return d.struct&&d.struct.update(this),f}function c(d,f){return t(f[r],function(m,p){m!==f&&v(m.cloneShallow(),p,f,d)}),f}function n(d){var f=this[a];return d==null||f==null?f:f[r][d]}function h(d){return d[a]===d}function s(d,f,m){d[r]={},t(f,function(p,g){v(p,g,d,m)})}function v(d,f,m,p){m[r][f]=d,d[a]=m,d.dataType=f,p.struct&&(d[p.structAttr]=p.struct,p.struct[p.datasAttr[f]]=d),d.getLinkedData=n}var u=i;return $u=u,$u}var Wu,X0;function jd(){if(X0)return Wu;X0=1;var e=W,t=ot(),r=cM(),a=Wt(),i=gi(),o=function(h,s){this.name=h||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=s};o.prototype={constructor:o,isRemoved:function(){return this.dataIndex<0},eachNode:function(h,s,v){typeof h=="function"&&(v=s,s=h,h=null),h=h||{},e.isString(h)&&(h={order:h});var u=h.order||"preorder",d=this[h.attr||"children"],f;u==="preorder"&&(f=s.call(v,this));for(var m=0;!f&&m<d.length;m++)d[m].eachNode(h,s,v);u==="postorder"&&s.call(v,this)},updateDepthAndHeight:function(h){var s=0;this.depth=h;for(var v=0;v<this.children.length;v++){var u=this.children[v];u.updateDepthAndHeight(h+1),u.height>s&&(s=u.height)}this.height=s+1},getNodeById:function(h){if(this.getId()===h)return this;for(var s=0,v=this.children,u=v.length;s<u;s++){var d=v[s].getNodeById(h);if(d)return d}},contains:function(h){if(h===this)return!0;for(var s=0,v=this.children,u=v.length;s<u;s++){var d=v[s].contains(h);if(d)return d}},getAncestors:function(h){for(var s=[],v=h?this:this.parentNode;v;)s.push(v),v=v.parentNode;return s.reverse(),s},getValue:function(h){var s=this.hostTree.data;return s.get(s.getDimension(h||"value"),this.dataIndex)},setLayout:function(h,s){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,h,s)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(h){if(!(this.dataIndex<0)){var s=this.hostTree,v=s.data.getItemModel(this.dataIndex),u=this.getLevelModel();return u?v.getModel(h,u.getModel(h)):v.getModel(h)}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(h,s){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,h,s)},getVisual:function(h,s){return this.hostTree.data.getItemVisual(this.dataIndex,h,s)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(h){for(var s=h.parentNode;s;){if(s===this)return!0;s=s.parentNode}return!1},isDescendantOf:function(h){return h!==this&&h.isAncestorOf(this)}};function l(h,s){this.root,this.data,this._nodes=[],this.hostModel=h,this.levelModels=e.map(s||[],function(v){return new t(v,h,h.ecModel)})}l.prototype={constructor:l,type:"tree",eachNode:function(h,s,v){this.root.eachNode(h,s,v)},getNodeByDataIndex:function(h){var s=this.data.getRawIndex(h);return this._nodes[s]},getNodeByName:function(h){return this.root.getNodeByName(h)},update:function(){for(var h=this.data,s=this._nodes,v=0,u=s.length;v<u;v++)s[v].dataIndex=-1;for(var v=0,u=h.count();v<u;v++)s[h.getRawIndex(v)].dataIndex=v},clearLayouts:function(){this.data.clearItemLayouts()}},l.createTree=function(h,s,v,u){var d=new l(s,v&&v.levels),f=[],m=1;p(h);function p(_,A){var S=_.value;m=Math.max(m,e.isArray(S)?S.length:1),f.push(_);var b=new o(_.name,d);A?c(b,A):d.root=b,d._nodes.push(b);var x=_.children;if(x)for(var w=0;w<x.length;w++)p(x[w],b)}d.root.updateDepthAndHeight(0);var g=i(f,{coordDimensions:["value"],dimensionsCount:m}),y=new a(g,s);return y.initData(f),u&&u(y),r({mainData:y,struct:d,structAttr:"tree"}),d.update(),d};function c(h,s){var v=s.children;h.parentNode!==s&&(v.push(h),h.parentNode=s)}var n=l;return Wu=n,Wu}var Zu,K0;function qV(){if(K0)return Zu;K0=1;var e=ft,t=jd(),r=Ge(),a=r.encodeHTML,i=ot(),o=e.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(l){var c={name:l.name,children:l.data},n=l.leaves||{},h=new i(n,this,this.ecModel),s=t.createTree(c,this,{},v);function v(m){m.wrapMethod("getItemModel",function(p,g){var y=s.getNodeByDataIndex(g);return(!y.children.length||!y.isExpand)&&(p.parentModel=h),p})}var u=0;s.eachNode("preorder",function(m){m.depth>u&&(u=m.depth)});var d=l.expandAndCollapse,f=d&&l.initialTreeDepth>=0?l.initialTreeDepth:u;return s.root.eachNode("preorder",function(m){var p=m.hostTree.data.getRawDataItem(m.dataIndex);m.isExpand=p&&p.collapsed!=null?!p.collapsed:m.depth<=f}),s.data},getOrient:function(){var l=this.get("orient");return l==="horizontal"?l="LR":l==="vertical"&&(l="TB"),l},setZoom:function(l){this.option.zoom=l},setCenter:function(l){this.option.center=l},formatTooltip:function(l){for(var c=this.getData().tree,n=c.root.children[0],h=c.getNodeByDataIndex(l),s=h.getValue(),v=h.name;h&&h!==n;)v=h.parentNode.name+"."+v,h=h.parentNode;return a(v+(isNaN(s)||s==null?"":" : "+s))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});return Zu=o,Zu}var Ur={},Q0;function fM(){if(Q0)return Ur;Q0=1;var e=ze;function t(f){f.hierNode={defaultAncestor:null,ancestor:f,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var m=[f],p,g;p=m.pop();)if(g=p.children,p.isExpand&&g.length)for(var y=g.length,_=y-1;_>=0;_--){var A=g[_];A.hierNode={defaultAncestor:null,ancestor:A,prelim:0,modifier:0,change:0,shift:0,i:_,thread:null},m.push(A)}}function r(f,m){var p=f.isExpand?f.children:[],g=f.parentNode.children,y=f.hierNode.i?g[f.hierNode.i-1]:null;if(p.length){c(f);var _=(p[0].hierNode.prelim+p[p.length-1].hierNode.prelim)/2;y?(f.hierNode.prelim=y.hierNode.prelim+m(f,y),f.hierNode.modifier=f.hierNode.prelim-_):f.hierNode.prelim=_}else y&&(f.hierNode.prelim=y.hierNode.prelim+m(f,y));f.parentNode.hierNode.defaultAncestor=n(f,y,f.parentNode.hierNode.defaultAncestor||g[0],m)}function a(f){var m=f.hierNode.prelim+f.parentNode.hierNode.modifier;f.setLayout({x:m},!0),f.hierNode.modifier+=f.parentNode.hierNode.modifier}function i(f){return arguments.length?f:d}function o(f,m){var p={};return f-=Math.PI/2,p.x=m*Math.cos(f),p.y=m*Math.sin(f),p}function l(f,m){return e.getLayoutRect(f.getBoxLayoutParams(),{width:m.getWidth(),height:m.getHeight()})}function c(f){for(var m=f.children,p=m.length,g=0,y=0;--p>=0;){var _=m[p];_.hierNode.prelim+=g,_.hierNode.modifier+=g,y+=_.hierNode.change,g+=_.hierNode.shift+y}}function n(f,m,p,g){if(m){for(var y=f,_=f,A=_.parentNode.children[0],S=m,b=y.hierNode.modifier,x=_.hierNode.modifier,w=A.hierNode.modifier,T=S.hierNode.modifier;S=h(S),_=s(_),S&&_;){y=h(y),A=s(A),y.hierNode.ancestor=f;var M=S.hierNode.prelim+T-_.hierNode.prelim-x+g(S,_);M>0&&(u(v(S,f,p),f,M),x+=M,b+=M),T+=S.hierNode.modifier,x+=_.hierNode.modifier,b+=y.hierNode.modifier,w+=A.hierNode.modifier}S&&!h(y)&&(y.hierNode.thread=S,y.hierNode.modifier+=T-b),_&&!s(A)&&(A.hierNode.thread=_,A.hierNode.modifier+=x-w,p=f)}return p}function h(f){var m=f.children;return m.length&&f.isExpand?m[m.length-1]:f.hierNode.thread}function s(f){var m=f.children;return m.length&&f.isExpand?m[0]:f.hierNode.thread}function v(f,m,p){return f.hierNode.ancestor.parentNode===m.parentNode?f.hierNode.ancestor:p}function u(f,m,p){var g=p/(m.hierNode.i-f.hierNode.i);m.hierNode.change-=g,m.hierNode.shift+=p,m.hierNode.modifier+=p,m.hierNode.prelim+=p,f.hierNode.change+=g}function d(f,m){return f.parentNode===m.parentNode?1:2}return Ur.init=t,Ur.firstWalk=r,Ur.secondWalk=a,Ur.separation=i,Ur.radialCoordinate=o,Ur.getViewRect=l,Ur}var Yu,j0;function GV(){if(j0)return Yu;j0=1;var e=W,t=de,r=ss(),a=fM(),i=a.radialCoordinate,o=xe,l=fn(),c=Kd(),n=Yd(),h=Pn(),s=cs(),v=s.onIrrelevantElement,u=Re(),d=u.parsePercent,f=t.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(b,x){var w=x.childPoints,T=w.length,M=x.parentPoint,C=w[0],D=w[T-1];if(T===1){b.moveTo(M[0],M[1]),b.lineTo(C[0],C[1]);return}var L=x.orient,P=L==="TB"||L==="BT"?0:1,I=1-P,E=d(x.forkPosition,1),z=[];z[P]=M[P],z[I]=M[I]+(D[I]-M[I])*E,b.moveTo(M[0],M[1]),b.lineTo(z[0],z[1]),b.moveTo(C[0],C[1]),z[P]=C[P],b.lineTo(z[0],z[1]),z[P]=D[P],b.lineTo(z[0],z[1]),b.lineTo(D[0],D[1]);for(var N=1;N<T-1;N++){var G=w[N];b.moveTo(G[0],G[1]),z[P]=G[P],b.lineTo(z[0],z[1])}}}),m=o.extendChartView({type:"tree",init:function(b,x){this._oldTree,this._mainGroup=new t.Group,this._controller=new h(x.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(b,x,w,T){var M=b.getData(),C=b.layoutInfo,D=this._mainGroup,L=b.get("layout");L==="radial"?D.attr("position",[C.x+C.width/2,C.y+C.height/2]):D.attr("position",[C.x,C.y]),this._updateViewCoordSys(b,C,L),this._updateController(b,x,w);var P=this._data,I={expandAndCollapse:b.get("expandAndCollapse"),layout:L,edgeShape:b.get("edgeShape"),edgeForkPosition:b.get("edgeForkPosition"),orient:b.getOrient(),curvature:b.get("lineStyle.curveness"),symbolRotate:b.get("symbolRotate"),symbolOffset:b.get("symbolOffset"),hoverAnimation:b.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};M.diff(P).add(function(E){p(M,E)&&y(M,E,null,D,b,I)}).update(function(E,z){var N=P.getItemGraphicEl(z);if(!p(M,E)){N&&A(P,z,N,D,b,I);return}y(M,E,N,D,b,I)}).remove(function(E){var z=P.getItemGraphicEl(E);z&&A(P,E,z,D,b,I)}).execute(),this._nodeScaleRatio=b.get("nodeScaleRatio"),this._updateNodeAndLinkScale(b),I.expandAndCollapse===!0&&M.eachItemGraphicEl(function(E,z){E.off("click").on("click",function(){w.dispatchAction({type:"treeExpandAndCollapse",seriesId:b.id,dataIndex:z})})}),this._data=M},_updateViewCoordSys:function(b){var x=b.getData(),w=[];x.each(function(P){var I=x.getItemLayout(P);I&&!isNaN(I.x)&&!isNaN(I.y)&&w.push([+I.x,+I.y])});var T=[],M=[];l.fromPoints(w,T,M);var C=this._min,D=this._max;M[0]-T[0]===0&&(T[0]=C?C[0]:T[0]-1,M[0]=D?D[0]:M[0]+1),M[1]-T[1]===0&&(T[1]=C?C[1]:T[1]-1,M[1]=D?D[1]:M[1]+1);var L=b.coordinateSystem=new c;L.zoomLimit=b.get("scaleLimit"),L.setBoundingRect(T[0],T[1],M[0]-T[0],M[1]-T[1]),L.setCenter(b.get("center")),L.setZoom(b.get("zoom")),this.group.attr({position:L.position,scale:L.scale}),this._viewCoordSys=L,this._min=T,this._max=M},_updateController:function(b,x,w){var T=this._controller,M=this._controllerHost,C=this.group;T.setPointerChecker(function(D,L,P){var I=C.getBoundingRect();return I.applyTransform(C.transform),I.contain(L,P)&&!v(D,w,b)}),T.enable(b.get("roam")),M.zoomLimit=b.get("scaleLimit"),M.zoom=b.coordinateSystem.getZoom(),T.off("pan").off("zoom").on("pan",function(D){n.updateViewOnPan(M,D.dx,D.dy),w.dispatchAction({seriesId:b.id,type:"treeRoam",dx:D.dx,dy:D.dy})},this).on("zoom",function(D){n.updateViewOnZoom(M,D.scale,D.originX,D.originY),w.dispatchAction({seriesId:b.id,type:"treeRoam",zoom:D.scale,originX:D.originX,originY:D.originY}),this._updateNodeAndLinkScale(b)},this)},_updateNodeAndLinkScale:function(b){var x=b.getData(),w=this._getNodeGlobalScale(b),T=[w,w];x.eachItemGraphicEl(function(M,C){M.attr("scale",T)})},_getNodeGlobalScale:function(b){var x=b.coordinateSystem;if(x.type!=="view")return 1;var w=this._nodeScaleRatio,T=x.scale,M=T&&T[0]||1,C=x.getZoom(),D=(C-1)*w+1;return D/M},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function p(b,x){var w=b.getItemLayout(x);return w&&!isNaN(w.x)&&!isNaN(w.y)&&b.getItemVisual(x,"symbol")!=="none"}function g(b,x,w){return w.itemModel=x,w.itemStyle=x.getModel("itemStyle").getItemStyle(),w.hoverItemStyle=x.getModel("emphasis.itemStyle").getItemStyle(),w.lineStyle=x.getModel("lineStyle").getLineStyle(),w.labelModel=x.getModel("label"),w.hoverLabelModel=x.getModel("emphasis.label"),b.isExpand===!1&&b.children.length!==0?w.symbolInnerColor=w.itemStyle.fill:w.symbolInnerColor="#fff",w}function y(b,x,w,T,M,I){var D=!w,L=b.tree.getNodeByDataIndex(x),P=L.getModel(),I=g(L,P,I),E=b.tree.root,z=L.parentNode===E?L:L.parentNode||L,N=b.getItemGraphicEl(z.dataIndex),G=z.getLayout(),V=N?{x:N.position[0],y:N.position[1],rawX:N.__radialOldRawX,rawY:N.__radialOldRawY}:G,R=L.getLayout();D?(w=new r(b,x,I),w.attr("position",[V.x,V.y])):w.updateData(b,x,I),w.__radialOldRawX=w.__radialRawX,w.__radialOldRawY=w.__radialRawY,w.__radialRawX=R.rawX,w.__radialRawY=R.rawY,T.add(w),b.setItemGraphicEl(x,w),t.updateProps(w,{position:[R.x,R.y]},M);var O=w.getSymbolPath();if(I.layout==="radial"){var k=E.children[0],B=k.getLayout(),q=k.children.length,H,F;if(R.x===B.x&&L.isExpand===!0){var U={};U.x=(k.children[0].getLayout().x+k.children[q-1].getLayout().x)/2,U.y=(k.children[0].getLayout().y+k.children[q-1].getLayout().y)/2,H=Math.atan2(U.y-B.y,U.x-B.x),H<0&&(H=Math.PI*2+H),F=U.x<B.x,F&&(H=H-Math.PI)}else H=Math.atan2(R.y-B.y,R.x-B.x),H<0&&(H=Math.PI*2+H),L.children.length===0||L.children.length!==0&&L.isExpand===!1?(F=R.x<B.x,F&&(H=H-Math.PI)):(F=R.x>B.x,F||(H=H-Math.PI));var $=F?"left":"right",Y=I.labelModel.get("rotate"),K=Y*(Math.PI/180);O.setStyle({textPosition:I.labelModel.get("position")||$,textRotation:Y==null?-H:K,textOrigin:"center",verticalAlign:"middle"})}_(M,L,E,w,V,G,R,T,I)}function _(b,x,w,T,M,C,D,L,P){var I=P.edgeShape,E=T.__edge;if(I==="curve")x.parentNode&&x.parentNode!==w&&(E||(E=T.__edge=new t.BezierCurve({shape:S(P,M,M),style:e.defaults({opacity:0,strokeNoScale:!0},P.lineStyle)})),t.updateProps(E,{shape:S(P,C,D),style:{opacity:1}},b));else if(I==="polyline"&&P.layout==="orthogonal"&&x!==w&&x.children&&x.children.length!==0&&x.isExpand===!0){for(var z=x.children,N=[],G=0;G<z.length;G++){var V=z[G].getLayout();N.push([V.x,V.y])}E||(E=T.__edge=new f({shape:{parentPoint:[D.x,D.y],childPoints:[[D.x,D.y]],orient:P.orient,forkPosition:P.edgeForkPosition},style:e.defaults({opacity:0,strokeNoScale:!0},P.lineStyle)})),t.updateProps(E,{shape:{parentPoint:[D.x,D.y],childPoints:N},style:{opacity:1}},b)}L.add(E)}function A(b,x,w,T,M,I){for(var D=b.tree.getNodeByDataIndex(x),L=b.tree.root,P=D.getModel(),I=g(D,P,I),E=D.parentNode===L?D:D.parentNode||D,R=I.edgeShape,z;z=E.getLayout(),z==null;)E=E.parentNode===L?E:E.parentNode||E;t.updateProps(w,{position:[z.x+1,z.y+1]},M,function(){T.remove(w),b.setItemGraphicEl(x,null)}),w.fadeOut(null,{keepLabel:!0});var N=b.getItemGraphicEl(E.dataIndex),G=N.__edge,V=w.__edge||(E.isExpand===!1||E.children.length===1?G:void 0),R=I.edgeShape;V&&(R==="curve"?t.updateProps(V,{shape:S(I,z,z),style:{opacity:0}},M,function(){T.remove(V)}):R==="polyline"&&I.layout==="orthogonal"&&t.updateProps(V,{shape:{parentPoint:[z.x,z.y],childPoints:[[z.x,z.y]]},style:{opacity:0}},M,function(){T.remove(V)}))}function S(b,x,w){var T,M,C,D,L=b.orient,P,I,E,z;if(b.layout==="radial"){P=x.rawX,E=x.rawY,I=w.rawX,z=w.rawY;var N=i(P,E),G=i(P,E+(z-E)*b.curvature),V=i(I,z+(E-z)*b.curvature),R=i(I,z);return{x1:N.x,y1:N.y,x2:R.x,y2:R.y,cpx1:G.x,cpy1:G.y,cpx2:V.x,cpy2:V.y}}else P=x.x,E=x.y,I=w.x,z=w.y,(L==="LR"||L==="RL")&&(T=P+(I-P)*b.curvature,M=E,C=I+(P-I)*b.curvature,D=z),(L==="TB"||L==="BT")&&(T=P,M=E+(z-E)*b.curvature,C=I,D=z+(E-z)*b.curvature);return{x1:P,y1:E,x2:I,y2:z,cpx1:T,cpy1:M,cpx2:C,cpy2:D}}return Yu=m,Yu}var J0={},e_;function FV(){if(e_)return J0;e_=1;var e=xe,t=Xd(),r=t.updateCenterAndZoom;return e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(o){var l=a.dataIndex,c=o.getData().tree,n=c.getNodeByDataIndex(l);n.isExpand=!n.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(a,i){i.eachComponent({mainType:"series",subType:"tree",query:a},function(o){var l=o.coordinateSystem,c=r(l,a);o.setCenter&&o.setCenter(c.center),o.setZoom&&o.setZoom(c.zoom)})}),J0}var so={},t_;function UV(){if(t_)return so;t_=1;function e(r,a,i){for(var o=[r],l=[],c;c=o.pop();)if(l.push(c),c.isExpand){var n=c.children;if(n.length)for(var h=0;h<n.length;h++)o.push(n[h])}for(;c=l.pop();)a(c,i)}function t(r,a){for(var i=[r],o;o=i.pop();)if(a(o),o.isExpand){var l=o.children;if(l.length)for(var c=l.length-1;c>=0;c--)i.push(l[c])}}return so.eachAfter=e,so.eachBefore=t,so}var Xu,r_;function $V(){if(r_)return Xu;r_=1;var e=UV(),t=e.eachAfter,r=e.eachBefore,a=fM(),i=a.init,o=a.firstWalk,l=a.secondWalk,c=a.separation,n=a.radialCoordinate,h=a.getViewRect;function s(u,d){u.eachSeriesByType("tree",function(f){v(f,d)})}function v(u,d){var f=h(u,d);u.layoutInfo=f;var m=u.get("layout"),p=0,g=0,y=null;m==="radial"?(p=2*Math.PI,g=Math.min(f.height,f.width)/2,y=c(function(I,E){return(I.parentNode===E.parentNode?1:2)/I.depth})):(p=f.width,g=f.height,y=c());var _=u.getData().tree.root,A=_.children[0];if(A){i(_),t(A,o,y),_.hierNode.modifier=-A.hierNode.prelim,r(A,l);var S=A,b=A,x=A;r(A,function(I){var E=I.getLayout().x;E<S.getLayout().x&&(S=I),E>b.getLayout().x&&(b=I),I.depth>x.depth&&(x=I)});var w=S===b?1:y(S,b)/2,T=w-S.getLayout().x,M=0,C=0,D=0,L=0;if(m==="radial")M=p/(b.getLayout().x+w+T),C=g/(x.depth-1||1),r(A,function(I){D=(I.getLayout().x+T)*M,L=(I.depth-1)*C;var E=n(D,L);I.setLayout({x:E.x,y:E.y,rawX:D,rawY:L},!0)});else{var P=u.getOrient();P==="RL"||P==="LR"?(C=g/(b.getLayout().x+w+T),M=p/(x.depth-1||1),r(A,function(I){L=(I.getLayout().x+T)*C,D=P==="LR"?(I.depth-1)*M:p-(I.depth-1)*M,I.setLayout({x:D,y:L},!0)})):(P==="TB"||P==="BT")&&(M=p/(b.getLayout().x+w+T),C=g/(x.depth-1||1),r(A,function(I){D=(I.getLayout().x+T)*M,L=P==="TB"?(I.depth-1)*C:g-(I.depth-1)*C,I.setLayout({x:D,y:L},!0)}))}}}return Xu=s,Xu}var a_;function WV(){if(a_)return Z0;a_=1;var e=xe;qV(),GV(),FV();var t=Ta(),r=$V();return e.registerVisual(t("tree","circle")),e.registerLayout(r),Z0}var i_={},Na={},n_;function Ma(){if(n_)return Na;n_=1;var e=W;function t(o,l,c){if(o&&e.indexOf(l,o.type)>=0){var n=c.getData().tree.root,h=o.targetNode;if(typeof h=="string"&&(h=n.getNodeById(h)),h&&n.contains(h))return{node:h};var s=o.targetNodeId;if(s!=null&&(h=n.getNodeById(s)))return{node:h}}}function r(o){for(var l=[];o;)o=o.parentNode,o&&l.push(o);return l.reverse()}function a(o,l){var c=r(o);return e.indexOf(c,l)>=0}function i(o,l){for(var c=[];o;){var n=o.dataIndex;c.push({name:o.name,dataIndex:n,value:l.getRawValue(n)}),o=o.parentNode}return c.reverse(),c}return Na.retrieveTargetInfo=t,Na.getPathToRoot=r,Na.aboveViewRoot=a,Na.wrapTreePathInfo=i,Na}var Ku,o_;function ZV(){if(o_)return Ku;o_=1;var e=W,t=ft,r=jd(),a=ot(),i=Ge(),o=i.encodeHTML,l=i.addCommas,c=Ma(),n=c.wrapTreePathInfo,h=t.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(u,d){var f={name:u.name,children:u.data};s(f);var m=u.levels||[];m=u.levels=v(m,d);var p=e.map(m||[],function(_){return new a(_,this,d)},this),g=r.createTree(f,this,null,y);function y(_){_.wrapMethod("getItemModel",function(A,S){var b=g.getNodeByDataIndex(S),x=p[b.depth];return x&&(A.parentModel=x),A})}return g.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(u){var d=this.getData(),f=this.getRawValue(u),m=e.isArray(f)?l(f[0]):l(f),p=d.getName(u);return o(p+": "+m)},getDataParams:function(u){var d=t.prototype.getDataParams.apply(this,arguments),f=this.getData().tree.getNodeByDataIndex(u);return d.treePathInfo=n(f,this),d},setLayoutInfo:function(u){this.layoutInfo=this.layoutInfo||{},e.extend(this.layoutInfo,u)},mapIdToIndex:function(u){var d=this._idIndexMap;d||(d=this._idIndexMap=e.createHashMap(),this._idIndexMapCount=0);var f=d.get(u);return f==null&&d.set(u,f=this._idIndexMapCount++),f},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(u){u?this._viewRoot=u:u=this._viewRoot;var d=this.getRawData().tree.root;(!u||u!==d&&!d.contains(u))&&(this._viewRoot=d)}});function s(u){var d=0;e.each(u.children,function(m){s(m);var p=m.value;e.isArray(p)&&(p=p[0]),d+=p});var f=u.value;e.isArray(f)&&(f=f[0]),(f==null||isNaN(f))&&(f=d),f<0&&(f=0),e.isArray(u.value)?u.value[0]=f:u.value=f}function v(u,d){var f=d.get("color");if(f){u=u||[];var m;if(e.each(u,function(g){var y=new a(g),_=y.get("color");(y.get("itemStyle.color")||_&&_!=="none")&&(m=!0)}),!m){var p=u[0]||(u[0]={});p.color=f.slice()}return u}}return Ku=h,Ku}var Qu,s_;function YV(){if(s_)return Qu;s_=1;var e=de,t=ze,r=W,a=Ma(),i=a.wrapTreePathInfo,o=8,l=8,c=5;function n(u){this.group=new e.Group,u.add(this.group)}n.prototype={constructor:n,render:function(u,d,f,m){var p=u.getModel("breadcrumb"),g=this.group;if(g.removeAll(),!(!p.get("show")||!f)){var y=p.getModel("itemStyle"),_=y.getModel("textStyle"),A={pos:{left:p.get("left"),right:p.get("right"),top:p.get("top"),bottom:p.get("bottom")},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:p.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(f,A,_),this._renderContent(u,A,y,_,m),t.positionElement(g,A.pos,A.box)}},_prepare:function(u,d,f){for(var m=u;m;m=m.parentNode){var p=m.getModel().get("name"),g=f.getTextRect(p),y=Math.max(g.width+o*2,d.emptyItemWidth);d.totalWidth+=y+l,d.renderList.push({node:m,text:p,width:y})}},_renderContent:function(u,d,f,m,p){for(var g=0,y=d.emptyItemWidth,_=u.get("breadcrumb.height"),A=t.getAvailableSize(d.pos,d.box),S=d.totalWidth,b=d.renderList,x=b.length-1;x>=0;x--){var w=b[x],T=w.node,M=w.width,C=w.text;S>A.width&&(S-=M-y,M=y,C=null);var D=new e.Polygon({shape:{points:h(g,0,M,_,x===b.length-1,x===0)},style:r.defaults(f.getItemStyle(),{lineJoin:"bevel",text:C,textFill:m.getTextColor(),textFont:m.getFont()}),z:10,onclick:r.curry(p,T)});this.group.add(D),s(D,u,T),g+=M+l}},remove:function(){this.group.removeAll()}};function h(u,d,f,m,p,g){var y=[[p?u:u-c,d],[u+f,d],[u+f,d+m],[p?u:u-c,d+m]];return!g&&y.splice(2,0,[u+f+c,d+m/2]),!p&&y.push([u,d+m/2]),y}function s(u,d,f){u.eventData={componentType:"series",componentSubType:"treemap",componentIndex:d.componentIndex,seriesIndex:d.componentIndex,seriesName:d.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:f&&f.dataIndex,name:f&&f.name},treePathInfo:f&&i(f,d)}}var v=n;return Qu=v,Qu}var ju={},l_;function XV(){if(l_)return ju;l_=1;var e=W;function t(){var r=[],a={},i;return{add:function(o,l,c,n,h){return e.isString(n)&&(h=n,n=0),a[o.id]?!1:(a[o.id]=1,r.push({el:o,target:l,time:c,delay:n,easing:h}),!0)},done:function(o){return i=o,this},start:function(){for(var o=r.length,l=0,c=r.length;l<c;l++){var n=r[l];n.el.animateTo(n.target,n.time,n.delay,n.easing,h)}return this;function h(){o--,o||(r.length=0,a={},i&&i())}}}}return ju.createWrap=t,ju}var Ju,u_;function KV(){if(u_)return Ju;u_=1;var e=xe,t=W,r=de,a=Aa(),i=Ma(),o=YV(),l=Pn(),c=Ke,n=Pt(),h=XV(),s=li(),v=Ge(),u=v.windowOpen,d=t.bind,f=r.Group,m=r.Rect,p=t.each,g=3,y=["label"],_=["emphasis","label"],A=["upperLabel"],S=["emphasis","upperLabel"],b=10,x=1,w=2,T=s([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),M=function(I){var E=T(I);return E.stroke=E.fill=E.lineWidth=null,E},C=e.extendChartView({type:"treemap",init:function(I,E){this._containerGroup,this._storage=D(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(I,E,z,N){var G=E.findComponents({mainType:"series",subType:"treemap",query:N});if(!(t.indexOf(G,I)<0)){this.seriesModel=I,this.api=z,this.ecModel=E;var V=["treemapZoomToNode","treemapRootToNode"],R=i.retrieveTargetInfo(N,V,I),O=N&&N.type,k=I.layoutInfo,B=!this._oldTree,q=this._storage,H=O==="treemapRootToNode"&&R&&q?{rootNodeGroup:q.nodeGroup[R.node.getRawIndex()],direction:N.direction}:null,F=this._giveContainerGroup(k),U=this._doRender(F,I,H);!B&&(!O||O==="treemapZoomToNode"||O==="treemapRootToNode")?this._doAnimation(F,U,I,H):U.renderFinally(),this._resetController(z),this._renderBreadcrumb(I,z,R)}},_giveContainerGroup:function(I){var E=this._containerGroup;return E||(E=this._containerGroup=new f,this._initEvents(E),this.group.add(E)),E.attr("position",[I.x,I.y]),E},_doRender:function(I,E,z){var N=E.getData().tree,G=this._oldTree,V=D(),R=D(),O=this._storage,k=[],B=t.curry(L,E,R,O,z,V,k);H(N.root?[N.root]:[],G&&G.root?[G.root]:[],I,N===G||!G,0);var q=F(O);return this._oldTree=N,this._storage=R,{lastsForAnimation:V,willDeleteEls:q,renderFinally:U};function H($,Y,K,J,j){J?(Y=$,p($,function(ie,ge){!ie.isRemoved()&&te(ge,ge)})):new a(Y,$,ee,ee).add(te).update(te).remove(t.curry(te,null)).execute();function ee(ie){return ie.getId()}function te(ie,ge){var oe=ie!=null?$[ie]:null,fe=ge!=null?Y[ge]:null,pe=B(oe,fe,K,j);pe&&H(oe&&oe.viewChildren||[],fe&&fe.viewChildren||[],pe,J,j+1)}}function F($){var Y=D();return $&&p($,function(K,J){var j=Y[J];p(K,function(ee){ee&&(j.push(ee),ee.__tmWillDelete=1)})}),Y}function U(){p(q,function($){p($,function(Y){Y.parent&&Y.parent.remove(Y)})}),p(k,function($){$.invisible=!0,$.dirty()})}},_doAnimation:function(I,E,z,N){if(z.get("animation")){var G=z.get("animationDurationUpdate"),V=z.get("animationEasing"),R=h.createWrap();p(E.willDeleteEls,function(O,k){p(O,function(B,q){if(!B.invisible){var H=B.parent,F;if(N&&N.direction==="drillDown")F=H===N.rootNodeGroup?{shape:{x:0,y:0,width:H.__tmNodeWidth,height:H.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var U=0,$=0;H.__tmWillDelete||(U=H.__tmNodeWidth/2,$=H.__tmNodeHeight/2),F=k==="nodeGroup"?{position:[U,$],style:{opacity:0}}:{shape:{x:U,y:$,width:0,height:0},style:{opacity:0}}}F&&R.add(B,F,G,V)}})}),p(this._storage,function(O,k){p(O,function(B,q){var H=E.lastsForAnimation[k][q],F={};H&&(k==="nodeGroup"?H.old&&(F.position=B.position.slice(),B.attr("position",H.old)):(H.old&&(F.shape=t.extend({},B.shape),B.setShape(H.old)),H.fadein?(B.setStyle("opacity",0),F.style={opacity:1}):B.style.opacity!==1&&(F.style={opacity:1})),R.add(B,F,G,V))})},this),this._state="animating",R.done(d(function(){this._state="ready",E.renderFinally()},this)).start()}},_resetController:function(I){var E=this._controller;E||(E=this._controller=new l(I.getZr()),E.enable(this.seriesModel.get("roam")),E.on("pan",d(this._onPan,this)),E.on("zoom",d(this._onZoom,this)));var z=new c(0,0,I.getWidth(),I.getHeight());E.setPointerChecker(function(N,G,V){return z.contain(G,V)})},_clearController:function(){var I=this._controller;I&&(I.dispose(),I=null)},_onPan:function(I){if(this._state!=="animating"&&(Math.abs(I.dx)>g||Math.abs(I.dy)>g)){var E=this.seriesModel.getData().tree.root;if(!E)return;var z=E.getLayout();if(!z)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:z.x+I.dx,y:z.y+I.dy,width:z.width,height:z.height}})}},_onZoom:function(I){var E=I.originX,z=I.originY;if(this._state!=="animating"){var N=this.seriesModel.getData().tree.root;if(!N)return;var G=N.getLayout();if(!G)return;var V=new c(G.x,G.y,G.width,G.height),R=this.seriesModel.layoutInfo;E-=R.x,z-=R.y;var O=n.create();n.translate(O,O,[-E,-z]),n.scale(O,O,[I.scale,I.scale]),n.translate(O,O,[E,z]),V.applyTransform(O),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:V.x,y:V.y,width:V.width,height:V.height}})}},_initEvents:function(I){I.on("click",function(E){if(this._state==="ready"){var z=this.seriesModel.get("nodeClick",!0);if(z){var N=this.findTarget(E.offsetX,E.offsetY);if(N){var G=N.node;if(G.getLayout().isLeafRoot)this._rootToNode(N);else if(z==="zoomToNode")this._zoomToNode(N);else if(z==="link"){var V=G.hostTree.data.getItemModel(G.dataIndex),R=V.get("link",!0),O=V.get("target",!0)||"blank";R&&u(R,O)}}}}},this)},_renderBreadcrumb:function(I,E,z){z||(z=I.get("leafDepth",!0)!=null?{node:I.getViewRoot()}:this.findTarget(E.getWidth()/2,E.getHeight()/2),z||(z={node:I.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new o(this.group))).render(I,E,z.node,d(N,this));function N(G){this._state!=="animating"&&(i.aboveViewRoot(I.getViewRoot(),G)?this._rootToNode({node:G}):this._zoomToNode({node:G}))}},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=D(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(I){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:I.node})},_rootToNode:function(I){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:I.node})},findTarget:function(I,E){var z,N=this.seriesModel.getViewRoot();return N.eachNode({attr:"viewChildren",order:"preorder"},function(G){var V=this._storage.background[G.getRawIndex()];if(V){var R=V.transformCoordToLocal(I,E),O=V.shape;if(O.x<=R[0]&&R[0]<=O.x+O.width&&O.y<=R[1]&&R[1]<=O.y+O.height)z={node:G,offsetX:R[0],offsetY:R[1]};else return!1}},this),z}});function D(){return{nodeGroup:[],background:[],content:[]}}function L(I,E,z,N,G,V,R,O,k,B){if(!R)return;var q=R.getLayout(),H=I.getData();if(H.setItemGraphicEl(R.dataIndex,null),!q||!q.isInView)return;var F=q.width,U=q.height,$=q.borderWidth,Y=q.invisible,K=R.getRawIndex(),J=O&&O.getRawIndex(),j=R.viewChildren,ee=q.upperHeight,te=j&&j.length,ie=R.getModel("itemStyle"),ge=R.getModel("emphasis.itemStyle"),oe=le("nodeGroup",f);if(!oe)return;if(k.add(oe),oe.attr("position",[q.x||0,q.y||0]),oe.__tmNodeWidth=F,oe.__tmNodeHeight=U,q.isAboveViewRoot)return oe;var fe=R.getModel(),pe=le("background",m,B,x);if(pe&&se(oe,pe,te&&q.upperLabelHeight),te)r.isHighDownDispatcher(oe)&&r.setAsHighDownDispatcher(oe,!1),pe&&(r.setAsHighDownDispatcher(pe,!0),H.setItemGraphicEl(R.dataIndex,pe));else{var ne=le("content",m,B,w);ne&&me(oe,ne),pe&&r.isHighDownDispatcher(pe)&&r.setAsHighDownDispatcher(pe,!1),r.setAsHighDownDispatcher(oe,!0),H.setItemGraphicEl(R.dataIndex,oe)}return oe;function se(he,ye,Se){if(ye.dataIndex=R.dataIndex,ye.seriesIndex=I.seriesIndex,ye.setShape({x:0,y:0,width:F,height:U}),Y)Z(ye);else{ye.invisible=!1;var Ce=R.getVisual("borderColor",!0),Me=ge.get("borderColor"),Ae=M(ie);Ae.fill=Ce;var Be=T(ge);if(Be.fill=Me,Se){var Ve=F-2*$;Q(Ae,Be,Ce,Ve,ee,{x:$,y:0,width:Ve,height:ee})}else Ae.text=Be.text=null;ye.setStyle(Ae),r.setElementHoverStyle(ye,Be)}he.add(ye)}function me(he,ye){ye.dataIndex=R.dataIndex,ye.seriesIndex=I.seriesIndex;var Se=Math.max(F-2*$,0),Ce=Math.max(U-2*$,0);if(ye.culling=!0,ye.setShape({x:$,y:$,width:Se,height:Ce}),Y)Z(ye);else{ye.invisible=!1;var Me=R.getVisual("color",!0),Ae=M(ie);Ae.fill=Me;var Be=T(ge);Q(Ae,Be,Me,Se,Ce),ye.setStyle(Ae),r.setElementHoverStyle(ye,Be)}he.add(ye)}function Z(he){!he.invisible&&V.push(he)}function Q(he,ye,Se,Ce,Me,Ae){var Be=fe.get("name"),Ve=fe.getModel(Ae?A:y),We=fe.getModel(Ae?S:_),He=Ve.getShallow("show");r.setLabelStyle(he,ye,Ve,We,{defaultText:He?Be:null,autoColor:Se,isRectText:!0,labelFetcher:I,labelDataIndex:R.dataIndex,labelProp:Ae?"upperLabel":"label"}),re(he,Ae,q),re(ye,Ae,q),Ae&&(he.textRect=t.clone(Ae)),he.truncate=He&&Ve.get("ellipsis")?{outerWidth:Ce,outerHeight:Me,minChar:2}:null}function re(he,ye,Se){var Ce=he.text;if(!ye&&Se.isLeafRoot&&Ce!=null){var Me=I.get("drillDownIcon",!0);he.text=Me?Me+" "+Ce:Ce}}function le(he,ye,Se,Ce){var Me=J!=null&&z[he][J],Ae=G[he];return Me?(z[he][J]=null,ue(Ae,Me,he)):Y||(Me=new ye({z:P(Se,Ce)}),Me.__tmDepth=Se,Me.__tmStorageName=he,ve(Ae,Me,he)),E[he][K]=Me}function ue(he,ye,Se){var Ce=he[K]={};Ce.old=Se==="nodeGroup"?ye.position.slice():t.extend({},ye.shape)}function ve(he,ye,Se){var Ce=he[K]={},Me=R.parentNode;if(Me&&(!N||N.direction==="drillDown")){var Ae=0,Be=0,Ve=G.background[Me.getRawIndex()];!N&&Ve&&Ve.old&&(Ae=Ve.old.width,Be=Ve.old.height),Ce.old=Se==="nodeGroup"?[0,Be]:{x:Ae,y:Be,width:0,height:0}}Ce.fadein=Se!=="nodeGroup"}}function P(I,E){var z=I*b+E;return(z-1)/z}return Ju=C,Ju}var v_={},h_;function QV(){if(h_)return v_;h_=1;for(var e=xe,t=Ma(),r=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<a.length;i++)e.registerAction({type:a[i],update:"updateView"},r);return e.registerAction({type:"treemapRootToNode",update:"updateView"},function(o,l){l.eachComponent({mainType:"series",subType:"treemap",query:o},c);function c(n,h){var s=["treemapZoomToNode","treemapRootToNode"],v=t.retrieveTargetInfo(o,s,n);if(v){var u=n.getViewRoot();u&&(o.direction=t.aboveViewRoot(u,v.node)?"rollUp":"drillDown"),n.resetViewRoot(v.node)}}}),v_}var ev,c_;function Da(){if(c_)return ev;c_=1;var e=W,t=ut,r=Re(),a=r.linearMap,i=e.each,o=e.isObject,l=-1,c=function(x){var w=x.mappingMethod,T=x.type,M=this.option=e.clone(x);this.type=T,this.mappingMethod=w,this._normalizeData=A[w];var C=n[T];this.applyVisual=C.applyVisual,this.getColorMapper=C.getColorMapper,this._doMap=C._doMap[w],w==="piecewise"?(v(M),h(M)):w==="category"?M.categories?s(M):v(M,!0):(e.assert(w!=="linear"||M.dataExtent),v(M))};c.prototype={constructor:c,mapValueToVisual:function(x){var w=this._normalizeData(x);return this._doMap(w,x)},getNormalizer:function(){return e.bind(this._normalizeData,this)}};var n=c.visualHandlers={color:{applyVisual:f("color"),getColorMapper:function(){var x=this.option;return e.bind(x.mappingMethod==="category"?function(w,T){return!T&&(w=this._normalizeData(w)),m.call(this,w)}:function(w,T,M){var C=!!M;return!T&&(w=this._normalizeData(w)),M=t.fastLerp(w,x.parsedVisual,M),C?M:t.stringify(M,"rgba")},this)},_doMap:{linear:function(x){return t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")},category:m,piecewise:function(x,w){var T=y.call(this,w);return T==null&&(T=t.stringify(t.fastLerp(x,this.option.parsedVisual),"rgba")),T},fixed:p}},colorHue:u(function(x,w){return t.modifyHSL(x,w)}),colorSaturation:u(function(x,w){return t.modifyHSL(x,null,w)}),colorLightness:u(function(x,w){return t.modifyHSL(x,null,null,w)}),colorAlpha:u(function(x,w){return t.modifyAlpha(x,w)}),opacity:{applyVisual:f("opacity"),_doMap:g([0,1])},liftZ:{applyVisual:f("liftZ"),_doMap:{linear:p,category:p,piecewise:p,fixed:p}},symbol:{applyVisual:function(x,w,T){var M=this.mapValueToVisual(x);if(e.isString(M))T("symbol",M);else if(o(M))for(var C in M)M.hasOwnProperty(C)&&T(C,M[C])},_doMap:{linear:d,category:m,piecewise:function(x,w){var T=y.call(this,w);return T==null&&(T=d.call(this,x)),T},fixed:p}},symbolSize:{applyVisual:f("symbolSize"),_doMap:g([0,1])}};function h(x){var w=x.pieceList;x.hasSpecialVisual=!1,e.each(w,function(T,M){T.originIndex=M,T.visual!=null&&(x.hasSpecialVisual=!0)})}function s(x){var w=x.categories,T=x.visual,M=x.categoryMap={};if(i(w,function(L,P){M[L]=P}),!e.isArray(T)){var C=[];e.isObject(T)?i(T,function(L,P){var I=M[P];C[I??l]=L}):C[l]=T,T=_(x,C)}for(var D=w.length-1;D>=0;D--)T[D]==null&&(delete M[w[D]],w.pop())}function v(x,w){var T=x.visual,M=[];e.isObject(T)?i(T,function(D){M.push(D)}):T!=null&&M.push(T);var C={color:1,symbol:1};!w&&M.length===1&&!C.hasOwnProperty(x.type)&&(M[1]=M[0]),_(x,M)}function u(x){return{applyVisual:function(w,T,M){w=this.mapValueToVisual(w),M("color",x(T("color"),w))},_doMap:g([0,1])}}function d(x){var w=this.option.visual;return w[Math.round(a(x,[0,1],[0,w.length-1],!0))]||{}}function f(x){return function(w,T,M){M(x,this.mapValueToVisual(w))}}function m(x){var w=this.option.visual;return w[this.option.loop&&x!==l?x%w.length:x]}function p(){return this.option.visual[0]}function g(x){return{linear:function(w){return a(w,x,this.option.visual,!0)},category:m,piecewise:function(w,T){var M=y.call(this,T);return M==null&&(M=a(w,x,this.option.visual,!0)),M},fixed:p}}function y(x){var w=this.option,T=w.pieceList;if(w.hasSpecialVisual){var M=c.findPieceIndex(x,T),C=T[M];if(C&&C.visual)return C.visual[this.type]}}function _(x,w){return x.visual=w,x.type==="color"&&(x.parsedVisual=e.map(w,function(T){return t.parse(T)})),w}var A={linear:function(x){return a(x,this.option.dataExtent,[0,1],!0)},piecewise:function(x){var w=this.option.pieceList,T=c.findPieceIndex(x,w,!0);if(T!=null)return a(T,[0,w.length-1],[0,1],!0)},category:function(x){var w=this.option.categories?this.option.categoryMap[x]:x;return w??l},fixed:e.noop};c.listVisualTypes=function(){var x=[];return e.each(n,function(w,T){x.push(T)}),x},c.addVisualHandler=function(x,w){n[x]=w},c.isValidType=function(x){return n.hasOwnProperty(x)},c.eachVisual=function(x,w,T){e.isObject(x)?e.each(x,w,T):w.call(T,x)},c.mapVisual=function(x,w,T){var M,C=e.isArray(x)?[]:e.isObject(x)?{}:(M=!0,null);return c.eachVisual(x,function(D,L){var P=w.call(T,D,L);M?C=P:C[L]=P}),C},c.retrieveVisuals=function(x){var w={},T;return x&&i(n,function(M,C){x.hasOwnProperty(C)&&(w[C]=x[C],T=!0)}),T?w:null},c.prepareVisualTypes=function(x){if(o(x)){var w=[];i(x,function(T,M){w.push(M)}),x=w}else if(e.isArray(x))x=x.slice();else return[];return x.sort(function(T,M){return M==="color"&&T!=="color"&&T.indexOf("color")===0?1:-1}),x},c.dependsOn=function(x,w){return w==="color"?!!(x&&x.indexOf(w)===0):x===w},c.findPieceIndex=function(x,w,T){for(var M,C=1/0,D=0,L=w.length;D<L;D++){var P=w[D].value;if(P!=null){if(P===x||typeof P=="string"&&P===x+"")return D;T&&N(P,D)}}for(var D=0,L=w.length;D<L;D++){var I=w[D],E=I.interval,z=I.close;if(E){if(E[0]===-1/0){if(S(z[1],x,E[1]))return D}else if(E[1]===1/0){if(S(z[0],E[0],x))return D}else if(S(z[0],E[0],x)&&S(z[1],x,E[1]))return D;T&&N(E[0],D),T&&N(E[1],D)}}if(T)return x===1/0?w.length-1:x===-1/0?0:M;function N(G,V){var R=Math.abs(G-x);R<C&&(C=R,M=V)}};function S(x,w,T){return x?w<=T:w<T}var b=c;return ev=b,ev}var tv,f_;function jV(){if(f_)return tv;f_=1;var e=Da(),t=ut,r=W,a=r.isArray,i="itemStyle",o={seriesType:"treemap",reset:function(f,m,p,g){var y=f.getData().tree,_=y.root,A=f.getModel(i);if(!_.isRemoved()){var S=r.map(y.levelModels,function(b){return b?b.get(i):null});l(_,{},S,A,f.getViewRoot().getAncestors(),f)}}};function l(f,m,p,g,y,_){var A=f.getModel(),S=f.getLayout();if(!(!S||S.invisible||!S.isInView)){var b=f.getModel(i),x=p[f.depth],w=c(b,m,x,g),T=b.get("borderColor"),M=b.get("borderColorSaturation"),C;M!=null&&(C=n(w),T=h(M,C)),f.setVisual("borderColor",T);var D=f.viewChildren;if(!D||!D.length)C=n(w),f.setVisual("color",C);else{var L=v(f,A,S,b,w,D);r.each(D,function(P,I){if(P.depth>=y.length||P===y[P.depth]){var E=d(A,w,P,I,L,_);l(P,E,p,g,y,_)}})}}}function c(f,m,p,g){var y=r.extend({},m);return r.each(["color","colorAlpha","colorSaturation"],function(_){var A=f.get(_,!0);A==null&&p&&(A=p[_]),A==null&&(A=m[_]),A==null&&(A=g.get(_)),A!=null&&(y[_]=A)}),y}function n(f){var m=s(f,"color");if(m){var p=s(f,"colorAlpha"),g=s(f,"colorSaturation");return g&&(m=t.modifyHSL(m,null,null,g)),p&&(m=t.modifyAlpha(m,p)),m}}function h(f,m){return m!=null?t.modifyHSL(m,null,null,f):null}function s(f,m){var p=f[m];if(p!=null&&p!=="none")return p}function v(f,m,p,g,y,_){if(!(!_||!_.length)){var A=u(m,"color")||y.color!=null&&y.color!=="none"&&(u(m,"colorAlpha")||u(m,"colorSaturation"));if(A){var S=m.get("visualMin"),b=m.get("visualMax"),x=p.dataExtent.slice();S!=null&&S<x[0]&&(x[0]=S),b!=null&&b>x[1]&&(x[1]=b);var w=m.get("colorMappingBy"),T={type:A.name,dataExtent:x,visual:A.range};T.type==="color"&&(w==="index"||w==="id")?(T.mappingMethod="category",T.loop=!0):T.mappingMethod="linear";var M=new e(T);return M.__drColorMappingBy=w,M}}}function u(f,m){var p=f.get(m);return a(p)&&p.length?{name:m,range:p}:null}function d(f,m,p,g,y,_){var A=r.extend({},m);if(y){var S=y.type,b=S==="color"&&y.__drColorMappingBy,x=b==="index"?g:b==="id"?_.mapIdToIndex(p.getId()):p.getValue(f.get("visualDimension"));A[S]=y.mapValueToVisual(x)}return A}return tv=o,tv}var rv,d_;function JV(){if(d_)return rv;d_=1;var e=W,t=Ke,r=Re(),a=r.parsePercent,i=r.MAX_SAFE_INTEGER,o=ze,l=Ma(),c=Math.max,n=Math.min,h=e.retrieve,s=e.each,v=["itemStyle","borderWidth"],u=["itemStyle","gapWidth"],d=["upperLabel","show"],f=["upperLabel","height"],m={seriesType:"treemap",reset:function(C,D,L,P){var I=L.getWidth(),E=L.getHeight(),z=C.option,N=o.getLayoutRect(C.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()}),G=z.size||[],V=a(h(N.width,G[0]),I),R=a(h(N.height,G[1]),E),O=P&&P.type,k=["treemapZoomToNode","treemapRootToNode"],B=l.retrieveTargetInfo(P,k,C),q=O==="treemapRender"||O==="treemapMove"?P.rootRect:null,H=C.getViewRoot(),F=l.getPathToRoot(H);if(O!=="treemapMove"){var U=O==="treemapZoomToNode"?x(C,B,H,V,R):q?[q.width,q.height]:[V,R],$=z.sort;$&&$!=="asc"&&$!=="desc"&&($="desc");var Y={squareRatio:z.squareRatio,sort:$,leafDepth:z.leafDepth};H.hostTree.clearLayouts();var K={x:0,y:0,width:U[0],height:U[1],area:U[0]*U[1]};H.setLayout(K),p(H,Y,!1,0);var K=H.getLayout();s(F,function(j,ee){var te=(F[ee+1]||H).getValue();j.setLayout(e.extend({dataExtent:[te,te],borderWidth:0,upperHeight:0},K))})}var J=C.getData().tree.root;J.setLayout(w(N,q,B),!0),C.setLayoutInfo(N),T(J,new t(-N.x,-N.y,I,E),F,H,0)}};function p(C,D,L,P){var I,E;if(!C.isRemoved()){var z=C.getLayout();I=z.width,E=z.height;var B=C.getModel(),N=B.get(v),G=B.get(u)/2,V=M(B),R=Math.max(N,V),O=N-G,k=R-G,B=C.getModel();C.setLayout({borderWidth:N,upperHeight:R,upperLabelHeight:V},!0),I=c(I-2*O,0),E=c(E-O-k,0);var q=I*E,H=g(C,B,q,D,L,P);if(H.length){var F={x:O,y:k,width:I,height:E},U=n(I,E),$=1/0,Y=[];Y.area=0;for(var K=0,J=H.length;K<J;){var j=H[K];Y.push(j),Y.area+=j.getLayout().area;var ee=S(Y,U,D.squareRatio);ee<=$?(K++,$=ee):(Y.area-=Y.pop().getLayout().area,b(Y,U,F,G,!1),U=n(F.width,F.height),Y.length=Y.area=0,$=1/0)}if(Y.length&&b(Y,U,F,G,!0),!L){var te=B.get("childrenVisibleMin");te!=null&&q<te&&(L=!0)}for(var K=0,J=H.length;K<J;K++)p(H[K],D,L,P+1)}}}function g(C,D,L,P,I,E){var z=C.children||[],N=P.sort;N!=="asc"&&N!=="desc"&&(N=null);var G=P.leafDepth!=null&&P.leafDepth<=E;if(I&&!G)return C.viewChildren=[];z=e.filter(z,function(B){return!B.isRemoved()}),_(z,N);var V=A(D,z,N);if(V.sum===0)return C.viewChildren=[];if(V.sum=y(D,L,V.sum,N,z),V.sum===0)return C.viewChildren=[];for(var R=0,O=z.length;R<O;R++){var k=z[R].getValue()/V.sum*L;z[R].setLayout({area:k})}return G&&(z.length&&C.setLayout({isLeafRoot:!0},!0),z.length=0),C.viewChildren=z,C.setLayout({dataExtent:V.dataExtent},!0),z}function y(C,D,L,P,I){if(!P)return L;for(var E=C.get("visibleMin"),z=I.length,N=z,G=z-1;G>=0;G--){var V=I[P==="asc"?z-G-1:G].getValue();V/L*D<E&&(N=G,L-=V)}return P==="asc"?I.splice(0,z-N):I.splice(N,z-N),L}function _(C,D){return D&&C.sort(function(L,P){var I=D==="asc"?L.getValue()-P.getValue():P.getValue()-L.getValue();return I===0?D==="asc"?L.dataIndex-P.dataIndex:P.dataIndex-L.dataIndex:I}),C}function A(C,D,L){for(var P=0,I=0,E=D.length;I<E;I++)P+=D[I].getValue();var z=C.get("visualDimension"),N;if(!D||!D.length)N=[NaN,NaN];else if(z==="value"&&L)N=[D[D.length-1].getValue(),D[0].getValue()],L==="asc"&&N.reverse();else{var N=[1/0,-1/0];s(D,function(V){var R=V.getValue(z);R<N[0]&&(N[0]=R),R>N[1]&&(N[1]=R)})}return{sum:P,dataExtent:N}}function S(C,D,L){for(var P=0,I=1/0,E=0,z,N=C.length;E<N;E++)z=C[E].getLayout().area,z&&(z<I&&(I=z),z>P&&(P=z));var G=C.area*C.area,V=D*D*L;return G?c(V*P/G,G/(V*I)):1/0}function b(C,D,L,P,I){var E=D===L.width?0:1,z=1-E,N=["x","y"],G=["width","height"],V=L[N[E]],R=D?C.area/D:0;(I||R>L[G[z]])&&(R=L[G[z]]);for(var O=0,k=C.length;O<k;O++){var B=C[O],q={},H=R?B.getLayout().area/R:0,F=q[G[z]]=c(R-2*P,0),U=L[N[E]]+L[G[E]]-V,$=O===k-1||U<H?U:H,Y=q[G[E]]=c($-2*P,0);q[N[z]]=L[N[z]]+n(P,F/2),q[N[E]]=V+n(P,Y/2),V+=$,B.setLayout(q,!0)}L[N[z]]+=R,L[G[z]]-=R}function x(C,D,L,P,I){var E=(D||{}).node,z=[P,I];if(!E||E===L)return z;for(var N,G=P*I,V=G*C.option.zoomToNodeRatio;N=E.parentNode;){for(var R=0,O=N.children,k=0,B=O.length;k<B;k++)R+=O[k].getValue();var q=E.getValue();if(q===0)return z;V*=R/q;var H=N.getModel(),F=H.get(v),U=Math.max(F,M(H));V+=4*F*F+(3*F+U)*Math.pow(V,.5),V>i&&(V=i),E=N}V<G&&(V=G);var $=Math.pow(V/G,.5);return[P*$,I*$]}function w(C,D,L){if(D)return{x:D.x,y:D.y};var P={x:0,y:0};if(!L)return P;var I=L.node,E=I.getLayout();if(!E)return P;for(var z=[E.width/2,E.height/2],N=I;N;){var G=N.getLayout();z[0]+=G.x,z[1]+=G.y,N=N.parentNode}return{x:C.width/2-z[0],y:C.height/2-z[1]}}function T(C,D,L,P,I){var E=C.getLayout(),z=L[I],N=z&&z===C;if(!(z&&!N||I===L.length&&C!==P)){C.setLayout({isInView:!0,invisible:!N&&!D.intersect(E),isAboveViewRoot:N},!0);var G=new t(D.x-E.x,D.y-E.y,D.width,D.height);s(C.viewChildren||[],function(V){T(V,G,L,P,I+1)})}}function M(C){return C.get(d)?C.get(f):0}return rv=m,rv}var g_;function eH(){if(g_)return i_;g_=1;var e=xe;ZV(),KV(),QV();var t=jV(),r=JV();return e.registerVisual(t),e.registerLayout(r),i_}var p_={},av,m_;function tH(){if(m_)return av;m_=1;var e=W,t=kt,r=t.enableClassCheck;function a(s){return"_EC_"+s}var i=function(s){this._directed=s||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},o=i.prototype;o.type="graph",o.isDirected=function(){return this._directed},o.addNode=function(s,v){s=s==null?""+v:""+s;var u=this._nodesMap;if(!u[a(s)]){var d=new l(s,v);return d.hostGraph=this,this.nodes.push(d),u[a(s)]=d,d}},o.getNodeByIndex=function(s){var v=this.data.getRawIndex(s);return this.nodes[v]},o.getNodeById=function(s){return this._nodesMap[a(s)]},o.addEdge=function(s,v,u){var d=this._nodesMap,f=this._edgesMap;if(typeof s=="number"&&(s=this.nodes[s]),typeof v=="number"&&(v=this.nodes[v]),l.isInstance(s)||(s=d[a(s)]),l.isInstance(v)||(v=d[a(v)]),!(!s||!v)){var m=s.id+"-"+v.id;if(!f[m]){var p=new c(s,v,u);return p.hostGraph=this,this._directed&&(s.outEdges.push(p),v.inEdges.push(p)),s.edges.push(p),s!==v&&v.edges.push(p),this.edges.push(p),f[m]=p,p}}},o.getEdgeByIndex=function(s){var v=this.edgeData.getRawIndex(s);return this.edges[v]},o.getEdge=function(s,v){l.isInstance(s)&&(s=s.id),l.isInstance(v)&&(v=v.id);var u=this._edgesMap;return this._directed?u[s+"-"+v]:u[s+"-"+v]||u[v+"-"+s]},o.eachNode=function(s,v){for(var u=this.nodes,d=u.length,f=0;f<d;f++)u[f].dataIndex>=0&&s.call(v,u[f],f)},o.eachEdge=function(s,v){for(var u=this.edges,d=u.length,f=0;f<d;f++)u[f].dataIndex>=0&&u[f].node1.dataIndex>=0&&u[f].node2.dataIndex>=0&&s.call(v,u[f],f)},o.breadthFirstTraverse=function(s,v,u,d){if(l.isInstance(v)||(v=this._nodesMap[a(v)]),!!v){for(var f=u==="out"?"outEdges":u==="in"?"inEdges":"edges",m=0;m<this.nodes.length;m++)this.nodes[m].__visited=!1;if(!s.call(d,v,null))for(var p=[v];p.length;)for(var g=p.shift(),y=g[f],m=0;m<y.length;m++){var _=y[m],A=_.node1===g?_.node2:_.node1;if(!A.__visited){if(s.call(d,A,g))return;p.push(A),A.__visited=!0}}}},o.update=function(){for(var s=this.data,v=this.edgeData,u=this.nodes,d=this.edges,f=0,m=u.length;f<m;f++)u[f].dataIndex=-1;for(var f=0,m=s.count();f<m;f++)u[s.getRawIndex(f)].dataIndex=f;v.filterSelf(function(p){var g=d[v.getRawIndex(p)];return g.node1.dataIndex>=0&&g.node2.dataIndex>=0});for(var f=0,m=d.length;f<m;f++)d[f].dataIndex=-1;for(var f=0,m=v.count();f<m;f++)d[v.getRawIndex(f)].dataIndex=f},o.clone=function(){for(var s=new i(this._directed),v=this.nodes,u=this.edges,d=0;d<v.length;d++)s.addNode(v[d].id,v[d].dataIndex);for(var d=0;d<u.length;d++){var f=u[d];s.addEdge(f.node1.id,f.node2.id,f.dataIndex)}return s};function l(s,v){this.id=s??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=v??-1}l.prototype={constructor:l,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(s){if(!(this.dataIndex<0)){var v=this.hostGraph,u=v.data.getItemModel(this.dataIndex);return u.getModel(s)}}};function c(s,v,u){this.node1=s,this.node2=v,this.dataIndex=u??-1}c.prototype.getModel=function(s){if(!(this.dataIndex<0)){var v=this.hostGraph,u=v.edgeData.getItemModel(this.dataIndex);return u.getModel(s)}};var n=function(s,v){return{getValue:function(u){var d=this[s][v];return d.get(d.getDimension(u||"value"),this.dataIndex)},setVisual:function(u,d){this.dataIndex>=0&&this[s][v].setItemVisual(this.dataIndex,u,d)},getVisual:function(u,d){return this[s][v].getItemVisual(this.dataIndex,u,d)},setLayout:function(u,d){this.dataIndex>=0&&this[s][v].setItemLayout(this.dataIndex,u,d)},getLayout:function(){return this[s][v].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[s][v].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[s][v].getRawIndex(this.dataIndex)}}};e.mixin(l,n("hostGraph","data")),e.mixin(c,n("hostGraph","edgeData")),i.Node=l,i.Edge=c,r(l),r(c);var h=i;return av=h,av}var iv,y_;function dM(){if(y_)return iv;y_=1;var e=W,t=Wt(),r=tH(),a=cM(),i=gi(),o=Sr,l=Br();function c(n,h,s,v,u){for(var d=new r(v),f=0;f<n.length;f++)d.addNode(e.retrieve(n[f].id,n[f].name,f),f);for(var m=[],p=[],g=0,f=0;f<h.length;f++){var y=h[f],_=y.source,A=y.target;d.addEdge(_,A,g)&&(p.push(y),m.push(e.retrieve(y.id,_+" > "+A)),g++)}var S=s.get("coordinateSystem"),b;if(S==="cartesian2d"||S==="polar")b=l(n,s);else{var x=o.get(S),w=x&&x.type!=="view"?x.dimensions||[]:[];e.indexOf(w,"value")<0&&w.concat(["value"]);var T=i(n,{coordDimensions:w});b=new t(T,s),b.initData(n)}var M=new t(["value"],s);return M.initData(p,m),u&&u(b,M),a({mainData:b,struct:d,structAttr:"graph",datas:{node:b,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}return iv=c,iv}var nv,__;function rH(){if(__)return nv;__=1;var e=xe,t=Wt(),r=W,a=Pe,i=a.defaultEmphasis,o=ot(),l=Ge(),c=l.encodeHTML,n=dM(),h=Dn(),s=e.extendSeriesModel({type:"series.graph",init:function(u){s.superApply(this,"init",arguments);var d=this;function f(){return d._categoriesData}this.legendVisualProvider=new h(f,f),this.fillDataTextStyle(u.edges||u.links),this._updateCategoriesData()},mergeOption:function(u){s.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(u.edges||u.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(u){s.superApply(this,"mergeDefaultAndTheme",arguments),i(u,["edgeLabel"],["show"])},getInitialData:function(u,d){var f=u.edges||u.links||[],m=u.data||u.nodes||[],p=this;if(m&&f)return n(m,f,this,!0,g).data;function g(y,_){y.wrapMethod("getItemModel",function(T){var M=p._categoriesModels,C=T.getShallow("category"),D=M[C];return D&&(D.parentModel=T.parentModel,T.parentModel=D),T});var A=p.getModel("edgeLabel"),S=new o({label:A.option},A.parentModel,d),b=p.getModel("emphasis.edgeLabel"),x=new o({emphasis:{label:b.option}},b.parentModel,d);_.wrapMethod("getItemModel",function(T){return T.customizeGetParent(w),T});function w(T){return T=this.parsePath(T),T&&T[0]==="label"?S:T&&T[0]==="emphasis"&&T[1]==="label"?x:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(u,d,f){if(f==="edge"){var m=this.getData(),p=this.getDataParams(u,f),g=m.graph.getEdgeByIndex(u),y=m.getName(g.node1.dataIndex),_=m.getName(g.node2.dataIndex),A=[];return y!=null&&A.push(y),_!=null&&A.push(_),A=c(A.join(" > ")),p.value&&(A+=" : "+c(p.value)),A}else return s.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var u=r.map(this.option.categories||[],function(f){return f.value!=null?f:r.extend({value:0},f)}),d=new t(["value"],this);d.initData(u),this._categoriesData=d,this._categoriesModels=d.mapArray(function(f){return d.getItemModel(f,!0)})},setZoom:function(u){this.option.zoom=u},setCenter:function(u){this.option.center=u},isAnimationEnabled:function(){return s.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),v=s;return nv=v,nv}var ov,x_;function aH(){if(x_)return ov;x_=1;var e=de,t=Ye(),r=e.Line.prototype,a=e.BezierCurve.prototype;function i(l){return isNaN(+l.cpx1)||isNaN(+l.cpy1)}var o=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(l,c){this[i(c)?"_buildPathLine":"_buildPathCurve"](l,c)},_buildPathLine:r.buildPath,_buildPathCurve:a.buildPath,pointAt:function(l){return this[i(this.shape)?"_pointAtLine":"_pointAtCurve"](l)},_pointAtLine:r.pointAt,_pointAtCurve:a.pointAt,tangentAt:function(l){var c=this.shape,n=i(c)?[c.x2-c.x1,c.y2-c.y1]:this._tangentAtCurve(l);return t.normalize(n,n)},_tangentAtCurve:a.tangentAt});return ov=o,ov}var sv,S_;function Jd(){if(S_)return sv;S_=1;var e=W,t=Ye(),r=Zt(),a=aH(),i=de,o=Re(),l=o.round,c=["fromSymbol","toSymbol"];function n(p){return"_"+p+"Type"}function h(p,g,y){var _=g.getItemVisual(y,"color"),A=g.getItemVisual(y,p),S=g.getItemVisual(y,p+"Size");if(!(!A||A==="none")){e.isArray(S)||(S=[S,S]);var b=r.createSymbol(A,-S[0]/2,-S[1]/2,S[0],S[1],_);return b.name=p,b}}function s(p){var g=new a({name:"line",subPixelOptimize:!0});return v(g.shape,p),g}function v(p,g){p.x1=g[0][0],p.y1=g[0][1],p.x2=g[1][0],p.y2=g[1][1],p.percent=1;var y=g[2];y?(p.cpx1=y[0],p.cpy1=y[1]):(p.cpx1=NaN,p.cpy1=NaN)}function u(){var p=this,g=p.childOfName("fromSymbol"),y=p.childOfName("toSymbol"),_=p.childOfName("label");if(!(!g&&!y&&_.ignore)){for(var A=1,S=this.parent;S;)S.scale&&(A/=S.scale[0]),S=S.parent;var b=p.childOfName("line");if(!(!this.__dirty&&!b.__dirty)){var x=b.shape.percent,w=b.pointAt(0),T=b.pointAt(x),M=t.sub([],T,w);if(t.normalize(M,M),g){g.attr("position",w);var C=b.tangentAt(0);g.attr("rotation",Math.PI/2-Math.atan2(C[1],C[0])),g.attr("scale",[A*x,A*x])}if(y){y.attr("position",T);var C=b.tangentAt(1);y.attr("rotation",-Math.PI/2-Math.atan2(C[1],C[0])),y.attr("scale",[A*x,A*x])}if(!_.ignore){_.attr("position",T);var D,L,P,I,E=_.__labelDistance,z=E[0]*A,N=E[1]*A,G=x/2,C=b.tangentAt(G),V=[C[1],-C[0]],R=b.pointAt(G);V[1]>0&&(V[0]=-V[0],V[1]=-V[1]);var O=C[0]<0?-1:1;if(_.__position!=="start"&&_.__position!=="end"){var k=-Math.atan2(C[1],C[0]);T[0]<w[0]&&(k=Math.PI+k),_.attr("rotation",k)}var B;switch(_.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":B=-N,P="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":B=N,P="top";break;default:B=0,P="middle"}switch(_.__position){case"end":D=[M[0]*z+T[0],M[1]*N+T[1]],L=M[0]>.8?"left":M[0]<-.8?"right":"center",P=M[1]>.8?"top":M[1]<-.8?"bottom":"middle";break;case"start":D=[-M[0]*z+w[0],-M[1]*N+w[1]],L=M[0]>.8?"right":M[0]<-.8?"left":"center",P=M[1]>.8?"bottom":M[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":D=[z*O+w[0],w[1]+B],L=C[0]<0?"right":"left",I=[-z*O,-B];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":D=[R[0],R[1]+B],L="center",I=[0,-B];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":D=[-z*O+T[0],T[1]+B],L=C[0]>=0?"right":"left",I=[z*O,-B];break}_.attr({style:{textVerticalAlign:_.__verticalAlign||P,textAlign:_.__textAlign||L},position:D,scale:[A,A],origin:I})}}}}function d(p,g,y){i.Group.call(this),this._createLine(p,g,y)}var f=d.prototype;f.beforeUpdate=u,f._createLine=function(p,g,y){var _=p.hostModel,A=p.getItemLayout(g),S=s(A);S.shape.percent=0,i.initProps(S,{shape:{percent:1}},_,g),this.add(S);var b=new i.Text({name:"label",lineLabelOriginalOpacity:1});this.add(b),e.each(c,function(x){var w=h(x,p,g);this.add(w),this[n(x)]=p.getItemVisual(g,x)},this),this._updateCommonStl(p,g,y)},f.updateData=function(p,g,y){var _=p.hostModel,A=this.childOfName("line"),S=p.getItemLayout(g),b={shape:{}};v(b.shape,S),i.updateProps(A,b,_,g),e.each(c,function(x){var w=p.getItemVisual(g,x),T=n(x);if(this[T]!==w){this.remove(this.childOfName(x));var M=h(x,p,g);this.add(M)}this[T]=w},this),this._updateCommonStl(p,g,y)},f._updateCommonStl=function(p,g,y){var _=p.hostModel,A=this.childOfName("line"),S=y&&y.lineStyle,b=y&&y.hoverLineStyle,x=y&&y.labelModel,w=y&&y.hoverLabelModel;if(!y||p.hasItemOption){var T=p.getItemModel(g);S=T.getModel("lineStyle").getLineStyle(),b=T.getModel("emphasis.lineStyle").getLineStyle(),x=T.getModel("label"),w=T.getModel("emphasis.label")}var M=p.getItemVisual(g,"color"),C=e.retrieve3(p.getItemVisual(g,"opacity"),S.opacity,1);A.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:M,opacity:C},S)),A.hoverStyle=b,e.each(c,function(O){var k=this.childOfName(O);k&&(k.setColor(M),k.setStyle({opacity:C}))},this);var D=x.getShallow("show"),L=w.getShallow("show"),P=this.childOfName("label"),I,E;if((D||L)&&(I=M||"#000",E=_.getFormattedLabel(g,"normal",p.dataType),E==null)){var z=_.getRawValue(g);E=z==null?p.getName(g):isFinite(z)?l(z):z}var N=D?E:null,G=L?e.retrieve2(_.getFormattedLabel(g,"emphasis",p.dataType),E):null,V=P.style;if(N!=null||G!=null){i.setTextStyle(P.style,x,{text:N},{autoColor:I}),P.__textAlign=V.textAlign,P.__verticalAlign=V.textVerticalAlign,P.__position=x.get("position")||"middle";var R=x.get("distance");e.isArray(R)||(R=[R,R]),P.__labelDistance=R}G!=null?P.hoverStyle={text:G,textFill:w.getTextColor(!0),fontStyle:w.getShallow("fontStyle"),fontWeight:w.getShallow("fontWeight"),fontSize:w.getShallow("fontSize"),fontFamily:w.getShallow("fontFamily")}:P.hoverStyle={text:null},P.ignore=!D&&!L,i.setHoverStyle(this)},f.highlight=function(){this.trigger("emphasis")},f.downplay=function(){this.trigger("normal")},f.updateLayout=function(p,g){this.setLinePoints(p.getItemLayout(g))},f.setLinePoints=function(p){var g=this.childOfName("line");v(g.shape,p),g.dirty()},e.inherits(d,i.Group);var m=d;return sv=m,sv}var lv,b_;function eg(){if(b_)return lv;b_=1;var e=de,t=Jd();function r(v){this._ctor=v||t,this.group=new e.Group}var a=r.prototype;a.isPersistent=function(){return!0},a.updateData=function(v){var u=this,d=u.group,f=u._lineData;u._lineData=v,f||d.removeAll();var m=c(v);v.diff(f).add(function(p){i(u,v,p,m)}).update(function(p,g){o(u,f,v,g,p,m)}).remove(function(p){d.remove(f.getItemGraphicEl(p))}).execute()};function i(v,u,d,f){var m=u.getItemLayout(d);if(h(m)){var p=new v._ctor(u,d,f);u.setItemGraphicEl(d,p),v.group.add(p)}}function o(v,u,d,f,m,p){var g=u.getItemGraphicEl(f);if(!h(d.getItemLayout(m))){v.group.remove(g);return}g?g.updateData(d,m,p):g=new v._ctor(d,m,p),d.setItemGraphicEl(m,g),v.group.add(g)}a.updateLayout=function(){var v=this._lineData;v&&v.eachItemGraphicEl(function(u,d){u.updateLayout(v,d)},this)},a.incrementalPrepareUpdate=function(v){this._seriesScope=c(v),this._lineData=null,this.group.removeAll()};function l(v){return v.animators&&v.animators.length>0}a.incrementalUpdate=function(v,u){function d(g){!g.isGroup&&!l(g)&&(g.incremental=g.useHoverLayer=!0)}for(var f=v.start;f<v.end;f++){var m=u.getItemLayout(f);if(h(m)){var p=new this._ctor(u,f,this._seriesScope);p.traverse(d),this.group.add(p),u.setItemGraphicEl(f,p)}}};function c(v){var u=v.hostModel;return{lineStyle:u.getModel("lineStyle").getLineStyle(),hoverLineStyle:u.getModel("emphasis.lineStyle").getLineStyle(),labelModel:u.getModel("label"),hoverLabelModel:u.getModel("emphasis.label")}}a.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},a._clearIncremental=function(){var v=this._incremental;v&&v.clearDisplaybles()};function n(v){return isNaN(v[0])||isNaN(v[1])}function h(v){return!n(v[0])&&!n(v[1])}var s=r;return lv=s,lv}var lo={},w_;function tg(){if(w_)return lo;w_=1;function e(r){var a=r.coordinateSystem;if(a.type!=="view")return 1;var i=r.option.nodeScaleRatio,o=a.scale,l=o&&o[0]||1,c=a.getZoom(),n=(c-1)*i+1;return n/l}function t(r){var a=r.getVisual("symbolSize");return a instanceof Array&&(a=(a[0]+a[1])/2),+a}return lo.getNodeGlobalScale=e,lo.getSymbolSize=t,lo}var uv,A_;function iH(){if(A_)return uv;A_=1;var e=vt,t=Ye(),r=tg(),a=r.getSymbolSize,i=[],o=[],l=[],c=e.quadraticAt,n=t.distSquare,h=Math.abs;function s(u,d,f){for(var m=u[0],p=u[1],g=u[2],y=1/0,_,A=f*f,S=.1,b=.1;b<=.9;b+=.1){i[0]=c(m[0],p[0],g[0],b),i[1]=c(m[1],p[1],g[1],b);var x=h(n(i,d)-A);x<y&&(y=x,_=b)}for(var w=0;w<32;w++){var T=_+S;o[0]=c(m[0],p[0],g[0],_),o[1]=c(m[1],p[1],g[1],_),l[0]=c(m[0],p[0],g[0],T),l[1]=c(m[1],p[1],g[1],T);var x=n(o,d)-A;if(h(x)<.01)break;var M=n(l,d)-A;S/=2,x<0?M>=0?_=_+S:_=_-S:M>=0?_=_-S:_=_+S}return _}function v(u,d){var f=[],m=e.quadraticSubdivide,p=[[],[],[]],g=[[],[]],y=[];d/=2,u.eachEdge(function(_,A){var S=_.getLayout(),b=_.getVisual("fromSymbol"),x=_.getVisual("toSymbol");S.__original||(S.__original=[t.clone(S[0]),t.clone(S[1])],S[2]&&S.__original.push(t.clone(S[2])));var w=S.__original;if(S[2]!=null){if(t.copy(p[0],w[0]),t.copy(p[1],w[2]),t.copy(p[2],w[1]),b&&b!=="none"){var T=a(_.node1),M=s(p,w[0],T*d);m(p[0][0],p[1][0],p[2][0],M,f),p[0][0]=f[3],p[1][0]=f[4],m(p[0][1],p[1][1],p[2][1],M,f),p[0][1]=f[3],p[1][1]=f[4]}if(x&&x!=="none"){var T=a(_.node2),M=s(p,w[1],T*d);m(p[0][0],p[1][0],p[2][0],M,f),p[1][0]=f[1],p[2][0]=f[2],m(p[0][1],p[1][1],p[2][1],M,f),p[1][1]=f[1],p[2][1]=f[2]}t.copy(S[0],p[0]),t.copy(S[1],p[2]),t.copy(S[2],p[1])}else{if(t.copy(g[0],w[0]),t.copy(g[1],w[1]),t.sub(y,g[1],g[0]),t.normalize(y,y),b&&b!=="none"){var T=a(_.node1);t.scaleAndAdd(g[0],g[0],y,T*d)}if(x&&x!=="none"){var T=a(_.node2);t.scaleAndAdd(g[1],g[1],y,-T*d)}t.copy(S[0],g[0]),t.copy(S[1],g[1])}})}return uv=v,uv}var vv,T_;function nH(){if(T_)return vv;T_=1;var e=xe,t=W,r=An(),a=eg(),i=Pn(),o=Yd(),l=cs(),c=l.onIrrelevantElement,n=de,h=iH(),s=tg(),v=s.getNodeGlobalScale,u="__focusNodeAdjacency",d="__unfocusNodeAdjacency",f=["itemStyle","opacity"],m=["lineStyle","opacity"];function p(A,S){var b=A.getVisual("opacity");return b??A.getModel().get(S)}function g(A,S,b){var x=A.getGraphicEl(),w=p(A,S);b!=null&&(w==null&&(w=1),w*=b),x.downplay&&x.downplay(),x.traverse(function(T){if(!T.isGroup){var M=T.lineLabelOriginalOpacity;(M==null||b!=null)&&(M=w),T.setStyle("opacity",M)}})}function y(A,S){var b=p(A,S),x=A.getGraphicEl();x.traverse(function(w){!w.isGroup&&w.setStyle("opacity",b)}),x.highlight&&x.highlight()}var _=e.extendChartView({type:"graph",init:function(A,S){var b=new r,x=new a,w=this.group;this._controller=new i(S.getZr()),this._controllerHost={target:w},w.add(b.group),w.add(x.group),this._symbolDraw=b,this._lineDraw=x,this._firstRender=!0},render:function(A,S,b){var x=this,w=A.coordinateSystem;this._model=A;var T=this._symbolDraw,M=this._lineDraw,C=this.group;if(w.type==="view"){var D={position:w.position,scale:w.scale};this._firstRender?C.attr(D):n.updateProps(C,D,A)}h(A.getGraph(),v(A));var L=A.getData();T.updateData(L);var P=A.getEdgeData();M.updateData(P),this._updateNodeAndLinkScale(),this._updateController(A,S,b),clearTimeout(this._layoutTimeout);var I=A.forceLayout,E=A.get("force.layoutAnimation");I&&this._startForceLayoutIteration(I,E),L.eachItemGraphicEl(function(V,R){var O=L.getItemModel(R);V.off("drag").off("dragend");var k=O.get("draggable");k&&V.on("drag",function(){I&&(I.warmUp(),!this._layouting&&this._startForceLayoutIteration(I,E),I.setFixed(R),L.setItemLayout(R,V.position))},this).on("dragend",function(){I&&I.setUnfixed(R)},this),V.setDraggable(k&&I),V[u]&&V.off("mouseover",V[u]),V[d]&&V.off("mouseout",V[d]),O.get("focusNodeAdjacency")&&(V.on("mouseover",V[u]=function(){x._clearTimer(),b.dispatchAction({type:"focusNodeAdjacency",seriesId:A.id,dataIndex:V.dataIndex})}),V.on("mouseout",V[d]=function(){x._dispatchUnfocus(b)}))},this),L.graph.eachEdge(function(V){var R=V.getGraphicEl();R[u]&&R.off("mouseover",R[u]),R[d]&&R.off("mouseout",R[d]),V.getModel().get("focusNodeAdjacency")&&(R.on("mouseover",R[u]=function(){x._clearTimer(),b.dispatchAction({type:"focusNodeAdjacency",seriesId:A.id,edgeDataIndex:V.dataIndex})}),R.on("mouseout",R[d]=function(){x._dispatchUnfocus(b)}))});var z=A.get("layout")==="circular"&&A.get("circular.rotateLabel"),N=L.getLayout("cx"),G=L.getLayout("cy");L.eachItemGraphicEl(function(V,R){var O=L.getItemModel(R),k=O.get("label.rotate")||0,B=V.getSymbolPath();if(z){var q=L.getItemLayout(R),H=Math.atan2(q[1]-G,q[0]-N);H<0&&(H=Math.PI*2+H);var F=q[0]<N;F&&(H=H-Math.PI);var U=F?"left":"right";n.modifyLabelStyle(B,{textRotation:-H,textPosition:U,textOrigin:"center"},{textPosition:U})}else n.modifyLabelStyle(B,{textRotation:k*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(A,S){var b=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){b._unfocusDelayTimer=null,A.dispatchAction({type:"unfocusNodeAdjacency",seriesId:b._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(A,S,b,x){var w=A.getData(),T=w.graph,M=x.dataIndex,C=x.edgeDataIndex,D=T.getNodeByIndex(M),L=T.getEdgeByIndex(C);!D&&!L||(T.eachNode(function(P){g(P,f,.1)}),T.eachEdge(function(P){g(P,m,.1)}),D&&(y(D,f),t.each(D.edges,function(P){P.dataIndex<0||(y(P,m),y(P.node1,f),y(P.node2,f))})),L&&(y(L,m),y(L.node1,f),y(L.node2,f)))},unfocusNodeAdjacency:function(A,S,b,x){var w=A.getData().graph;w.eachNode(function(T){g(T,f)}),w.eachEdge(function(T){g(T,m)})},_startForceLayoutIteration:function(A,S){var b=this;(function x(){A.step(function(w){b.updateLayout(b._model),(b._layouting=!w)&&(S?b._layoutTimeout=setTimeout(x,16):x())})})()},_updateController:function(A,S,b){var x=this._controller,w=this._controllerHost,T=this.group;if(x.setPointerChecker(function(M,C,D){var L=T.getBoundingRect();return L.applyTransform(T.transform),L.contain(C,D)&&!c(M,b,A)}),A.coordinateSystem.type!=="view"){x.disable();return}x.enable(A.get("roam")),w.zoomLimit=A.get("scaleLimit"),w.zoom=A.coordinateSystem.getZoom(),x.off("pan").off("zoom").on("pan",function(M){o.updateViewOnPan(w,M.dx,M.dy),b.dispatchAction({seriesId:A.id,type:"graphRoam",dx:M.dx,dy:M.dy})}).on("zoom",function(M){o.updateViewOnZoom(w,M.scale,M.originX,M.originY),b.dispatchAction({seriesId:A.id,type:"graphRoam",zoom:M.scale,originX:M.originX,originY:M.originY}),this._updateNodeAndLinkScale(),h(A.getGraph(),v(A)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var A=this._model,S=A.getData(),b=v(A),x=[b,b];S.eachItemGraphicEl(function(w,T){w.attr("scale",x)})},updateLayout:function(A){h(A.getGraph(),v(A)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(A,S){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});return vv=_,vv}var C_={},M_={},D_;function gM(){if(D_)return M_;D_=1;var e=xe;return e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),M_}var L_;function oH(){if(L_)return C_;L_=1;var e=xe,t=Xd(),r=t.updateCenterAndZoom;gM();var a={type:"graphRoam",event:"graphRoam",update:"none"};return e.registerAction(a,function(i,o){o.eachComponent({mainType:"series",query:i},function(l){var c=l.coordinateSystem,n=r(c,i);l.setCenter&&l.setCenter(n.center),l.setZoom&&l.setZoom(n.zoom)})}),C_}var hv,P_;function sH(){if(P_)return hv;P_=1;function e(t){var r=t.findComponents({mainType:"legend"});!r||!r.length||t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),o=a.getGraph(),l=o.data,c=i.mapArray(i.getName);l.filterSelf(function(n){var h=l.getItemModel(n),s=h.getShallow("category");if(s!=null){typeof s=="number"&&(s=c[s]);for(var v=0;v<r.length;v++)if(!r[v].isSelected(s))return!1}return!0})},this)}return hv=e,hv}var cv,I_;function lH(){if(I_)return cv;I_=1;function e(t){var r={};t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),o=a.getData(),l={};i.each(function(c){var n=i.getName(c);l["ec-"+n]=c;var h=i.getItemModel(c),s=h.get("itemStyle.color")||a.getColorFromPalette(n,r);i.setItemVisual(c,"color",s);for(var v=["opacity","symbol","symbolSize","symbolKeepAspect"],u=0;u<v.length;u++){var d=h.getShallow(v[u],!0);d!=null&&i.setItemVisual(c,v[u],d)}}),i.count()&&o.each(function(c){var n=o.getItemModel(c),h=n.getShallow("category");if(h!=null){typeof h=="string"&&(h=l["ec-"+h]);for(var s=["color","opacity","symbol","symbolSize","symbolKeepAspect"],v=0;v<s.length;v++)o.getItemVisual(c,s[v],!0)==null&&o.setItemVisual(c,s[v],i.getItemVisual(h,s[v]))}})})}return cv=e,cv}var fv,R_;function uH(){if(R_)return fv;R_=1;function e(r){return r instanceof Array||(r=[r,r]),r}function t(r){r.eachSeriesByType("graph",function(a){var i=a.getGraph(),o=a.getEdgeData(),l=e(a.get("edgeSymbol")),c=e(a.get("edgeSymbolSize")),n="lineStyle.color".split("."),h="lineStyle.opacity".split(".");o.setVisual("fromSymbol",l&&l[0]),o.setVisual("toSymbol",l&&l[1]),o.setVisual("fromSymbolSize",c&&c[0]),o.setVisual("toSymbolSize",c&&c[1]),o.setVisual("color",a.get(n)),o.setVisual("opacity",a.get(h)),o.each(function(s){var v=o.getItemModel(s),u=i.getEdgeByIndex(s),d=e(v.getShallow("symbol",!0)),f=e(v.getShallow("symbolSize",!0)),m=v.get(n),p=v.get(h);switch(m){case"source":m=u.node1.getVisual("color");break;case"target":m=u.node2.getVisual("color");break}d[0]&&u.setVisual("fromSymbol",d[0]),d[1]&&u.setVisual("toSymbol",d[1]),f[0]&&u.setVisual("fromSymbolSize",f[0]),f[1]&&u.setVisual("toSymbolSize",f[1]),u.setVisual("color",m),u.setVisual("opacity",p)})})}return fv=t,fv}var uo={},E_;function pM(){if(E_)return uo;E_=1;var e=Ye();function t(a){var i=a.coordinateSystem;if(!(i&&i.type!=="view")){var o=a.getGraph();o.eachNode(function(l){var c=l.getModel();l.setLayout([+c.get("x"),+c.get("y")])}),r(o)}}function r(a){a.eachEdge(function(i){var o=i.getModel().get("lineStyle.curveness")||0,l=e.clone(i.node1.getLayout()),c=e.clone(i.node2.getLayout()),n=[l,c];+o&&n.push([(l[0]+c[0])/2-(l[1]-c[1])*o,(l[1]+c[1])/2-(c[0]-l[0])*o]),i.setLayout(n)})}return uo.simpleLayout=t,uo.simpleLayoutEdge=r,uo}var dv,k_;function vH(){if(k_)return dv;k_=1;var e=W,t=e.each,r=pM(),a=r.simpleLayout,i=r.simpleLayoutEdge;function o(l,c){l.eachSeriesByType("graph",function(n){var h=n.get("layout"),s=n.coordinateSystem;if(s&&s.type!=="view"){var v=n.getData(),u=[];t(s.dimensions,function(y){u=u.concat(v.mapDimension(y,!0))});for(var d=0;d<v.count();d++){for(var f=[],m=!1,p=0;p<u.length;p++){var g=v.get(u[p],d);isNaN(g)||(m=!0),f.push(g)}m?v.setItemLayout(d,s.dataToPoint(f)):v.setItemLayout(d,[NaN,NaN])}i(v.graph)}else(!h||h==="none")&&a(n)})}return dv=o,dv}var gv={},O_;function mM(){if(O_)return gv;O_=1;var e=Ye(),t=tg(),r=t.getSymbolSize,a=t.getNodeGlobalScale,i=Math.PI,o=[];function l(n,h){var s=n.coordinateSystem;if(!(s&&s.type!=="view")){var v=s.getBoundingRect(),u=n.getData(),d=u.graph,f=v.width/2+v.x,m=v.height/2+v.y,p=Math.min(v.width,v.height)/2,g=u.count();u.setLayout({cx:f,cy:m}),g&&(c[h](n,s,d,u,p,f,m,g),d.eachEdge(function(y){var _=y.getModel().get("lineStyle.curveness")||0,A=e.clone(y.node1.getLayout()),S=e.clone(y.node2.getLayout()),b,x=(A[0]+S[0])/2,w=(A[1]+S[1])/2;+_&&(_*=3,b=[f*_+x*(1-_),m*_+w*(1-_)]),y.setLayout([A,S,b])}))}}var c={value:function(n,h,s,v,u,d,f,m){var p=0,g=v.getSum("value"),y=Math.PI*2/(g||m);s.eachNode(function(_){var A=_.getValue("value"),S=y*(g?A:1)/2;p+=S,_.setLayout([u*Math.cos(p)+d,u*Math.sin(p)+f]),p+=S})},symbolSize:function(n,h,s,v,u,d,f,m){var p=0;o.length=m;var g=a(n);s.eachNode(function(A){var S=r(A);isNaN(S)&&(S=2),S<0&&(S=0),S*=g;var b=Math.asin(S/2/u);isNaN(b)&&(b=i/2),o[A.dataIndex]=b,p+=b*2});var y=(2*i-p)/m/2,_=0;s.eachNode(function(A){var S=y+o[A.dataIndex];_+=S,A.setLayout([u*Math.cos(_)+d,u*Math.sin(_)+f]),_+=S})}};return gv.circularLayout=l,gv}var pv,z_;function hH(){if(z_)return pv;z_=1;var e=mM(),t=e.circularLayout;function r(a){a.eachSeriesByType("graph",function(i){i.get("layout")==="circular"&&t(i,"symbolSize")})}return pv=r,pv}var mv={},B_;function cH(){if(B_)return mv;B_=1;var e=Ye(),t=e.scaleAndAdd;function r(a,i,o){for(var l=o.rect,c=l.width,n=l.height,h=[l.x+c/2,l.y+n/2],s=o.gravity==null?.1:o.gravity,v=0;v<a.length;v++){var u=a[v];u.p||(u.p=e.create(c*(Math.random()-.5)+h[0],n*(Math.random()-.5)+h[1])),u.pp=e.clone(u.p),u.edges=null}var d=o.friction==null?.6:o.friction,f=d;return{warmUp:function(){f=d*.8},setFixed:function(m){a[m].fixed=!0},setUnfixed:function(m){a[m].fixed=!1},step:function(m){for(var p=[],g=a.length,y=0;y<i.length;y++){var _=i[y];if(!_.ignoreForceLayout){var A=_.n1,S=_.n2;e.sub(p,S.p,A.p);var b=e.len(p)-_.d,x=S.w/(A.w+S.w);isNaN(x)&&(x=0),e.normalize(p,p),!A.fixed&&t(A.p,A.p,p,x*b*f),!S.fixed&&t(S.p,S.p,p,-(1-x)*b*f)}}for(var y=0;y<g;y++){var w=a[y];w.fixed||(e.sub(p,h,w.p),t(w.p,w.p,p,s*f))}for(var y=0;y<g;y++)for(var A=a[y],T=y+1;T<g;T++){var S=a[T];e.sub(p,S.p,A.p);var b=e.len(p);b===0&&(e.set(p,Math.random()-.5,Math.random()-.5),b=1);var M=(A.rep+S.rep)/b/b;!A.fixed&&t(A.pp,A.pp,p,M),!S.fixed&&t(S.pp,S.pp,p,-M)}for(var C=[],y=0;y<g;y++){var w=a[y];w.fixed||(e.sub(C,w.p,w.pp),t(w.p,w.p,C,f),e.copy(w.pp,w.p))}f=f*.992,m&&m(a,i,f<.01)}}}return mv.forceLayout=r,mv}var yv,N_;function fH(){if(N_)return yv;N_=1;var e=cH(),t=e.forceLayout,r=pM(),a=r.simpleLayout,i=mM(),o=i.circularLayout,l=Re(),c=l.linearMap,n=Ye(),h=W;function s(v){v.eachSeriesByType("graph",function(u){var d=u.coordinateSystem;if(!(d&&d.type!=="view"))if(u.get("layout")==="force"){var f=u.preservedPoints||{},m=u.getGraph(),p=m.data,g=m.edgeData,y=u.getModel("force"),_=y.get("initLayout");u.preservedPoints?p.each(function(P){var I=p.getId(P);p.setItemLayout(P,f[I]||[NaN,NaN])}):!_||_==="none"?a(u):_==="circular"&&o(u,"value");var A=p.getDataExtent("value"),S=g.getDataExtent("value"),b=y.get("repulsion"),x=y.get("edgeLength");h.isArray(b)||(b=[b,b]),h.isArray(x)||(x=[x,x]),x=[x[1],x[0]];var w=p.mapArray("value",function(P,I){var E=p.getItemLayout(I),z=c(P,A,b);return isNaN(z)&&(z=(b[0]+b[1])/2),{w:z,rep:z,fixed:p.getItemModel(I).get("fixed"),p:!E||isNaN(E[0])||isNaN(E[1])?null:E}}),T=g.mapArray("value",function(P,I){var E=m.getEdgeByIndex(I),z=c(P,S,x);isNaN(z)&&(z=(x[0]+x[1])/2);var N=E.getModel();return{n1:w[E.node1.dataIndex],n2:w[E.node2.dataIndex],d:z,curveness:N.get("lineStyle.curveness")||0,ignoreForceLayout:N.get("ignoreForceLayout")}}),d=u.coordinateSystem,M=d.getBoundingRect(),C=t(w,T,{rect:M,gravity:y.get("gravity"),friction:y.get("friction")}),D=C.step;C.step=function(P){for(var I=0,E=w.length;I<E;I++)w[I].fixed&&n.copy(w[I].p,m.getNodeByIndex(I).getLayout());D(function(z,N,G){for(var V=0,R=z.length;V<R;V++)z[V].fixed||m.getNodeByIndex(V).setLayout(z[V].p),f[p.getId(V)]=z[V].p;for(var V=0,R=N.length;V<R;V++){var O=N[V],k=m.getEdgeByIndex(V),B=O.n1.p,q=O.n2.p,H=k.getLayout();H=H?H.slice():[],H[0]=H[0]||[],H[1]=H[1]||[],n.copy(H[0],B),n.copy(H[1],q),+O.curveness&&(H[2]=[(B[0]+q[0])/2-(B[1]-q[1])*O.curveness,(B[1]+q[1])/2-(q[0]-B[0])*O.curveness]),k.setLayout(H)}P&&P(G)})},u.forceLayout=C,u.preservedPoints=f,C.step()}else u.forceLayout=null})}return yv=s,yv}var _v,V_;function dH(){if(V_)return _v;V_=1;var e=Kd(),t=ze,r=t.getLayoutRect,a=fn();function i(l,c,n){var h=l.getBoxLayoutParams();return h.aspect=n,r(h,{width:c.getWidth(),height:c.getHeight()})}function o(l,c){var n=[];return l.eachSeriesByType("graph",function(h){var s=h.get("coordinateSystem");if(!s||s==="view"){var v=h.getData(),u=v.mapArray(function(b){var x=v.getItemModel(b);return[+x.get("x"),+x.get("y")]}),d=[],f=[];a.fromPoints(u,d,f),f[0]-d[0]===0&&(f[0]+=1,d[0]-=1),f[1]-d[1]===0&&(f[1]+=1,d[1]-=1);var m=(f[0]-d[0])/(f[1]-d[1]),p=i(h,c,m);isNaN(m)&&(d=[p.x,p.y],f=[p.x+p.width,p.y+p.height]);var g=f[0]-d[0],y=f[1]-d[1],_=p.width,A=p.height,S=h.coordinateSystem=new e;S.zoomLimit=h.get("scaleLimit"),S.setBoundingRect(d[0],d[1],g,y),S.setViewRect(p.x,p.y,_,A),S.setCenter(h.get("center")),S.setZoom(h.get("zoom")),n.push(S)}}),n}return _v=o,_v}var H_;function gH(){if(H_)return p_;H_=1;var e=xe;rH(),nH(),oH();var t=sH(),r=Ta(),a=lH(),i=uH(),o=vH(),l=hH(),c=fH(),n=dH();return e.registerProcessor(t),e.registerVisual(r("graph","circle",null)),e.registerVisual(a),e.registerVisual(i),e.registerLayout(o),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,l),e.registerLayout(c),e.registerCoordinateSystem("graphView",{create:n}),p_}var q_={},xv,G_;function pH(){if(G_)return xv;G_=1;var e=mi(),t=ft,r=t.extend({type:"series.gauge",getInitialData:function(i,o){return e(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),a=r;return xv=a,xv}var Sv,F_;function mH(){if(F_)return Sv;F_=1;var e=at,t=e.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(r,a){var i=Math.cos,o=Math.sin,l=a.r,c=a.width,n=a.angle,h=a.x-i(n)*c*(c>=l/3?1:2),s=a.y-o(n)*c*(c>=l/3?1:2);n=a.angle-Math.PI/2,r.moveTo(h,s),r.lineTo(a.x+i(n)*c,a.y+o(n)*c),r.lineTo(a.x+i(a.angle)*l,a.y+o(a.angle)*l),r.lineTo(a.x-i(n)*c,a.y-o(n)*c),r.lineTo(h,s)}});return Sv=t,Sv}var bv,U_;function yH(){if(U_)return bv;U_=1;var e=mH(),t=de,r=br,a=Re(),i=a.parsePercent,o=a.round,l=a.linearMap;function c(u,d){var f=u.get("center"),m=d.getWidth(),p=d.getHeight(),g=Math.min(m,p),y=i(f[0],d.getWidth()),_=i(f[1],d.getHeight()),A=i(u.get("radius"),g/2);return{cx:y,cy:_,r:A}}function n(u,d){return d&&(typeof d=="string"?u=d.replace("{value}",u??""):typeof d=="function"&&(u=d(u))),u}var h=Math.PI*2,s=r.extend({type:"gauge",render:function(u,d,f){this.group.removeAll();var m=u.get("axisLine.lineStyle.color"),p=c(u,f);this._renderMain(u,d,f,m,p)},dispose:function(){},_renderMain:function(u,d,f,m,p){for(var g=this.group,y=u.getModel("axisLine"),_=y.getModel("lineStyle"),A=u.get("clockwise"),S=-u.get("startAngle")/180*Math.PI,b=-u.get("endAngle")/180*Math.PI,x=(b-S)%h,w=S,T=_.get("width"),M=y.get("show"),C=0;M&&C<m.length;C++){var D=Math.min(Math.max(m[C][0],0),1),b=S+x*D,L=new t.Sector({shape:{startAngle:w,endAngle:b,cx:p.cx,cy:p.cy,clockwise:A,r0:p.r-T,r:p.r},silent:!0});L.setStyle({fill:m[C][1]}),L.setStyle(_.getLineStyle(["color","borderWidth","borderColor"])),g.add(L),w=b}var P=function(E){if(E<=0)return m[0][1];for(var z=0;z<m.length;z++)if(m[z][0]>=E&&(z===0?0:m[z-1][0])<E)return m[z][1];return m[z-1][1]};if(!A){var I=S;S=b,b=I}this._renderTicks(u,d,f,P,p,S,b,A),this._renderPointer(u,d,f,P,p,S,b,A),this._renderTitle(u,d,f,P,p),this._renderDetail(u,d,f,P,p)},_renderTicks:function(u,d,f,m,p,g,y,_){for(var A=this.group,S=p.cx,b=p.cy,x=p.r,w=+u.get("min"),T=+u.get("max"),M=u.getModel("splitLine"),C=u.getModel("axisTick"),D=u.getModel("axisLabel"),L=u.get("splitNumber"),P=C.get("splitNumber"),I=i(M.get("length"),x),E=i(C.get("length"),x),z=g,N=(y-g)/L,G=N/P,V=M.getModel("lineStyle").getLineStyle(),R=C.getModel("lineStyle").getLineStyle(),O=0;O<=L;O++){var k=Math.cos(z),B=Math.sin(z);if(M.get("show")){var q=new t.Line({shape:{x1:k*x+S,y1:B*x+b,x2:k*(x-I)+S,y2:B*(x-I)+b},style:V,silent:!0});V.stroke==="auto"&&q.setStyle({stroke:m(O/L)}),A.add(q)}if(D.get("show")){var H=n(o(O/L*(T-w)+w),D.get("formatter")),F=D.get("distance"),U=m(O/L);A.add(new t.Text({style:t.setTextStyle({},D,{text:H,x:k*(x-I-F)+S,y:B*(x-I-F)+b,textVerticalAlign:B<-.4?"top":B>.4?"bottom":"middle",textAlign:k<-.4?"left":k>.4?"right":"center"},{autoColor:U}),silent:!0}))}if(C.get("show")&&O!==L){for(var $=0;$<=P;$++){var k=Math.cos(z),B=Math.sin(z),Y=new t.Line({shape:{x1:k*x+S,y1:B*x+b,x2:k*(x-E)+S,y2:B*(x-E)+b},silent:!0,style:R});R.stroke==="auto"&&Y.setStyle({stroke:m((O+$/P)/L)}),A.add(Y),z+=G}z-=G}else z+=N}},_renderPointer:function(u,d,f,m,p,g,y,_){var A=this.group,S=this._data;if(!u.get("pointer.show")){S&&S.eachItemGraphicEl(function(M){A.remove(M)});return}var b=[+u.get("min"),+u.get("max")],x=[g,y],w=u.getData(),T=w.mapDimension("value");w.diff(S).add(function(M){var C=new e({shape:{angle:g}});t.initProps(C,{shape:{angle:l(w.get(T,M),b,x,!0)}},u),A.add(C),w.setItemGraphicEl(M,C)}).update(function(M,C){var D=S.getItemGraphicEl(C);t.updateProps(D,{shape:{angle:l(w.get(T,M),b,x,!0)}},u),A.add(D),w.setItemGraphicEl(M,D)}).remove(function(M){var C=S.getItemGraphicEl(M);A.remove(C)}).execute(),w.eachItemGraphicEl(function(M,C){var D=w.getItemModel(C),L=D.getModel("pointer");M.setShape({x:p.cx,y:p.cy,width:i(L.get("width"),p.r),r:i(L.get("length"),p.r)}),M.useStyle(D.getModel("itemStyle").getItemStyle()),M.style.fill==="auto"&&M.setStyle("fill",m(l(w.get(T,C),b,[0,1],!0))),t.setHoverStyle(M,D.getModel("emphasis.itemStyle").getItemStyle())}),this._data=w},_renderTitle:function(u,d,f,m,p){var g=u.getData(),y=g.mapDimension("value"),_=u.getModel("title");if(_.get("show")){var A=_.get("offsetCenter"),S=p.cx+i(A[0],p.r),b=p.cy+i(A[1],p.r),x=+u.get("min"),w=+u.get("max"),T=u.getData().get(y,0),M=m(l(T,[x,w],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},_,{x:S,y:b,text:g.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:M,forceRich:!0})}))}},_renderDetail:function(u,d,f,m,p){var g=u.getModel("detail"),y=+u.get("min"),_=+u.get("max");if(g.get("show")){var A=g.get("offsetCenter"),S=p.cx+i(A[0],p.r),b=p.cy+i(A[1],p.r),x=i(g.get("width"),p.r),w=i(g.get("height"),p.r),T=u.getData(),M=T.get(T.mapDimension("value"),0),C=m(l(M,[y,_],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},g,{x:S,y:b,text:n(M,g.get("formatter")),textWidth:isNaN(x)?null:x,textHeight:isNaN(w)?null:w,textAlign:"center",textVerticalAlign:"middle"},{autoColor:C,forceRich:!0})}))}}}),v=s;return bv=v,bv}var $_;function _H(){return $_||($_=1,pH(),yH()),q_}var W_={},wv,Z_;function xH(){if(Z_)return wv;Z_=1;var e=xe,t=W,r=mi(),a=Pe,i=a.defaultEmphasis,o=zr(),l=o.makeSeriesEncodeForNameBased,c=Dn(),n=e.extendSeriesModel({type:"series.funnel",init:function(s){n.superApply(this,"init",arguments),this.legendVisualProvider=new c(t.bind(this.getData,this),t.bind(this.getRawData,this)),this._defaultLabelLine(s)},getInitialData:function(s,v){return r(this,{coordDimensions:["value"],encodeDefaulter:t.curry(l,this)})},_defaultLabelLine:function(s){i(s,"labelLine",["show"]);var v=s.labelLine,u=s.emphasis.labelLine;v.show=v.show&&s.label.show,u.show=u.show&&s.emphasis.label.show},getDataParams:function(s){var v=this.getData(),u=n.superCall(this,"getDataParams",s),d=v.mapDimension("value"),f=v.getSum(d);return u.percent=f?+(v.get(d,s)/f*100).toFixed(2):0,u.$vars.push("percent"),u},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),h=n;return wv=h,wv}var Av,Y_;function SH(){if(Y_)return Av;Y_=1;var e=de,t=W,r=br;function a(n,h){e.Group.call(this);var s=new e.Polygon,v=new e.Polyline,u=new e.Text;this.add(s),this.add(v),this.add(u),this.highDownOnUpdate=function(d,f){f==="emphasis"?(v.ignore=v.hoverIgnore,u.ignore=u.hoverIgnore):(v.ignore=v.normalIgnore,u.ignore=u.normalIgnore)},this.updateData(n,h,!0)}var i=a.prototype,o=["itemStyle","opacity"];i.updateData=function(n,h,s){var v=this.childAt(0),u=n.hostModel,d=n.getItemModel(h),f=n.getItemLayout(h),m=n.getItemModel(h).get(o);m=m??1,v.useStyle({}),s?(v.setShape({points:f.points}),v.setStyle({opacity:0}),e.initProps(v,{style:{opacity:m}},u,h)):e.updateProps(v,{style:{opacity:m},shape:{points:f.points}},u,h);var p=d.getModel("itemStyle"),g=n.getItemVisual(h,"color");v.setStyle(t.defaults({lineJoin:"round",fill:g},p.getItemStyle(["opacity"]))),v.hoverStyle=p.getModel("emphasis").getItemStyle(),this._updateLabel(n,h),e.setHoverStyle(this)},i._updateLabel=function(n,h){var s=this.childAt(1),v=this.childAt(2),u=n.hostModel,d=n.getItemModel(h),f=n.getItemLayout(h),m=f.label,A=n.getItemVisual(h,"color");e.updateProps(s,{shape:{points:m.linePoints||m.linePoints}},u,h),e.updateProps(v,{style:{x:m.x,y:m.y}},u,h),v.attr({rotation:m.rotation,origin:[m.x,m.y],z2:10});var p=d.getModel("label"),g=d.getModel("emphasis.label"),y=d.getModel("labelLine"),_=d.getModel("emphasis.labelLine"),A=n.getItemVisual(h,"color");e.setLabelStyle(v.style,v.hoverStyle={},p,g,{labelFetcher:n.hostModel,labelDataIndex:h,defaultText:n.getName(h),autoColor:A,useInsideStyle:!!m.inside},{textAlign:m.textAlign,textVerticalAlign:m.verticalAlign}),v.ignore=v.normalIgnore=!p.get("show"),v.hoverIgnore=!g.get("show"),s.ignore=s.normalIgnore=!y.get("show"),s.hoverIgnore=!_.get("show"),s.setStyle({stroke:A}),s.setStyle(y.getModel("lineStyle").getLineStyle()),s.hoverStyle=_.getModel("lineStyle").getLineStyle()},t.inherits(a,e.Group);var l=r.extend({type:"funnel",render:function(n,h,s){var v=n.getData(),u=this._data,d=this.group;v.diff(u).add(function(f){var m=new a(v,f);v.setItemGraphicEl(f,m),d.add(m)}).update(function(f,m){var p=u.getItemGraphicEl(m);p.updateData(v,f),d.add(p),v.setItemGraphicEl(f,p)}).remove(function(f){var m=u.getItemGraphicEl(f);d.remove(m)}).execute(),this._data=v},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),c=l;return Av=c,Av}var Tv,X_;function bH(){if(X_)return Tv;X_=1;var e=ze,t=Re(),r=t.parsePercent,a=t.linearMap;function i(n,h){return e.getLayoutRect(n.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})}function o(n,h){for(var s=n.mapDimension("value"),v=n.mapArray(s,function(p){return p}),u=[],d=h==="ascending",f=0,m=n.count();f<m;f++)u[f]=f;return typeof h=="function"?u.sort(h):h!=="none"&&u.sort(function(p,g){return d?v[p]-v[g]:v[g]-v[p]}),u}function l(n){n.each(function(h){var s=n.getItemModel(h),v=s.getModel("label"),u=v.get("position"),d=s.getModel("labelLine"),f=n.getItemLayout(h),m=f.points,p=u==="inner"||u==="inside"||u==="center"||u==="insideLeft"||u==="insideRight",g,y,_,A;if(p)u==="insideLeft"?(y=(m[0][0]+m[3][0])/2+5,_=(m[0][1]+m[3][1])/2,g="left"):u==="insideRight"?(y=(m[1][0]+m[2][0])/2-5,_=(m[1][1]+m[2][1])/2,g="right"):(y=(m[0][0]+m[1][0]+m[2][0]+m[3][0])/4,_=(m[0][1]+m[1][1]+m[2][1]+m[3][1])/4,g="center"),A=[[y,_],[y,_]];else{var S,b,x,w=d.get("length");u==="left"?(S=(m[3][0]+m[0][0])/2,b=(m[3][1]+m[0][1])/2,x=S-w,y=x-5,g="right"):u==="right"?(S=(m[1][0]+m[2][0])/2,b=(m[1][1]+m[2][1])/2,x=S+w,y=x+5,g="left"):u==="rightTop"?(S=m[1][0],b=m[1][1],x=S+w,y=x+5,g="top"):u==="rightBottom"?(S=m[2][0],b=m[2][1],x=S+w,y=x+5,g="bottom"):u==="leftTop"?(S=m[0][0],b=m[1][1],x=S-w,y=x-5,g="right"):u==="leftBottom"?(S=m[3][0],b=m[2][1],x=S-w,y=x-5,g="right"):(S=(m[1][0]+m[2][0])/2,b=(m[1][1]+m[2][1])/2,x=S+w,y=x+5,g="left");var T=b;A=[[S,b],[x,T]],_=T}f.label={linePoints:A,x:y,y:_,verticalAlign:"middle",textAlign:g,inside:p}})}function c(n,h,s){n.eachSeriesByType("funnel",function(v){var u=v.getData(),d=u.mapDimension("value"),f=v.get("sort"),m=i(v,h),p=o(u,f),g=[r(v.get("minSize"),m.width),r(v.get("maxSize"),m.width)],y=u.getDataExtent(d),_=v.get("min"),A=v.get("max");_==null&&(_=Math.min(y[0],0)),A==null&&(A=y[1]);var S=v.get("funnelAlign"),b=v.get("gap"),x=(m.height-b*(u.count()-1))/u.count(),w=m.y,T=function(z,N){var G=u.get(d,z)||0,V=a(G,[_,A],g,!0),R;switch(S){case"left":R=m.x;break;case"center":R=m.x+(m.width-V)/2;break;case"right":R=m.x+m.width-V;break}return[[R,N],[R+V,N]]};f==="ascending"&&(x=-x,b=-b,w+=m.height,p=p.reverse());for(var M=0;M<p.length;M++){var C=p[M],D=p[M+1],L=u.getItemModel(C),P=L.get("itemStyle.height");P==null?P=x:(P=r(P,m.height),f==="ascending"&&(P=-P));var I=T(C,w),E=T(D,w+P);w+=P+b,u.setItemLayout(C,{points:I.concat(E.slice().reverse())})}l(u)})}return Tv=c,Tv}var K_;function wH(){if(K_)return W_;K_=1;var e=xe;xH(),SH();var t=vs(),r=bH(),a=Ln();return e.registerVisual(t("funnel")),e.registerLayout(r),e.registerProcessor(a("funnel")),W_}var Q_={},j_={},Cv,J_;function AH(){if(J_)return Cv;J_=1;var e=W,t=Pe;function r(o){a(o),i(o)}function a(o){if(!o.parallel){var l=!1;e.each(o.series,function(c){c&&c.type==="parallel"&&(l=!0)}),l&&(o.parallel=[{}])}}function i(o){var l=t.normalizeToArray(o.parallelAxis);e.each(l,function(c){if(e.isObject(c)){var n=c.parallelIndex||0,h=t.normalizeToArray(o.parallel)[n];h&&h.parallelAxisDefault&&e.merge(c,h.parallelAxisDefault,!1)}})}return Cv=r,Cv}var e1={},Mv,t1;function TH(){if(t1)return Mv;t1=1;var e=W,t=aa(),r=function(i,o,l,c,n){t.call(this,i,o,l),this.type=c||"value",this.axisIndex=n};r.prototype={constructor:r,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}},e.inherits(r,t);var a=r;return Mv=a,Mv}var Dv,r1;function yi(){if(r1)return Dv;r1=1;function e(a,i,o,l,c,n){a=a||0;var h=o[1]-o[0];if(c!=null&&(c=r(c,[0,h])),n!=null&&(n=Math.max(n,c??0)),l==="all"){var s=Math.abs(i[1]-i[0]);s=r(s,[0,h]),c=n=r(s,[c,n]),l=0}i[0]=r(i[0],o),i[1]=r(i[1],o);var v=t(i,l);i[l]+=a;var u=c||0,d=o.slice();v.sign<0?d[0]+=u:d[1]-=u,i[l]=r(i[l],d);var f=t(i,l);c!=null&&(f.sign!==v.sign||f.span<c)&&(i[1-l]=i[l]+v.sign*c);var f=t(i,l);return n!=null&&f.span>n&&(i[1-l]=i[l]+f.sign*n),i}function t(a,i){var o=a[i]-a[1-i];return{span:Math.abs(o),sign:o>0?-1:o<0?1:i?-1:1}}function r(a,i){return Math.min(i[1]!=null?i[1]:1/0,Math.max(i[0]!=null?i[0]:-1/0,a))}return Dv=e,Dv}var Lv,a1;function CH(){if(a1)return Lv;a1=1;var e=W,t=Pt(),r=ze,a=or(),i=TH(),o=de,l=Re(),c=yi(),n=e.each,h=Math.min,s=Math.max,v=Math.floor,u=Math.ceil,d=l.round,f=Math.PI;function m(A,S,b){this._axesMap=e.createHashMap(),this._axesLayout={},this.dimensions=A.dimensions,this._rect,this._model=A,this._init(A,S,b)}m.prototype={type:"parallel",constructor:m,_init:function(A,S,b){var x=A.dimensions,w=A.parallelAxisIndex;n(x,function(T,M){var C=w[M],D=S.getComponent("parallelAxis",C),L=this._axesMap.set(T,new i(T,a.createScaleByModel(D),[0,0],D.get("type"),C)),P=L.type==="category";L.onBand=P&&D.get("boundaryGap"),L.inverse=D.get("inverse"),D.axis=L,L.model=D,L.coordinateSystem=D.coordinateSystem=this},this)},update:function(A,S){this._updateAxesFromSeries(this._model,A)},containPoint:function(A){var S=this._makeLayoutInfo(),b=S.axisBase,x=S.layoutBase,w=S.pixelDimIndex,T=A[1-w],M=A[w];return T>=b&&T<=b+S.axisLength&&M>=x&&M<=x+S.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(A,S){S.eachSeries(function(b){if(A.contains(b,S)){var x=b.getData();n(this.dimensions,function(w){var T=this._axesMap.get(w);T.scale.unionExtentFromData(x,x.mapDimension(w)),a.niceScaleExtent(T.scale,T.model)},this)}},this)},resize:function(A,S){this._rect=r.getLayoutRect(A.getBoxLayoutParams(),{width:S.getWidth(),height:S.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var A=this._model,S=this._rect,b=["x","y"],x=["width","height"],w=A.get("layout"),T=w==="horizontal"?0:1,M=S[x[T]],C=[0,M],D=this.dimensions.length,L=p(A.get("axisExpandWidth"),C),P=p(A.get("axisExpandCount")||0,[0,D]),I=A.get("axisExpandable")&&D>3&&D>P&&P>1&&L>0&&M>0,E=A.get("axisExpandWindow"),z;if(E)z=p(E[1]-E[0],C),E[1]=E[0]+z;else{z=p(L*(P-1),C);var N=A.get("axisExpandCenter")||v(D/2);E=[L*N-z/2],E[1]=E[0]+z}var G=(M-z)/(D-P);G<3&&(G=0);var V=[v(d(E[0]/L,1))+1,u(d(E[1]/L,1))-1],R=G/L*E[0];return{layout:w,pixelDimIndex:T,layoutBase:S[b[T]],layoutLength:M,axisBase:S[b[1-T]],axisLength:S[x[1-T]],axisExpandable:I,axisExpandWidth:L,axisCollapseWidth:G,axisExpandWindow:E,axisCount:D,winInnerIndices:V,axisExpandWindow0Pos:R}},_layoutAxes:function(){var A=this._rect,S=this._axesMap,b=this.dimensions,x=this._makeLayoutInfo(),w=x.layout;S.each(function(T){var M=[0,x.axisLength],C=T.inverse?1:0;T.setExtent(M[C],M[1-C])}),n(b,function(T,M){var C=(x.axisExpandable?y:g)(M,x),D={horizontal:{x:C.position,y:x.axisLength},vertical:{x:0,y:C.position}},L={horizontal:f/2,vertical:0},P=[D[w].x+A.x,D[w].y+A.y],I=L[w],E=t.create();t.rotate(E,E,I),t.translate(E,E,P),this._axesLayout[T]={position:P,rotation:I,transform:E,axisNameAvailableWidth:C.axisNameAvailableWidth,axisLabelShow:C.axisLabelShow,nameTruncateMaxWidth:C.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(A){return this._axesMap.get(A)},dataToPoint:function(A,S){return this.axisCoordToPoint(this._axesMap.get(S).dataToCoord(A),S)},eachActiveState:function(A,S,b,x){b==null&&(b=0),x==null&&(x=A.count());var w=this._axesMap,T=this.dimensions,M=[],C=[];e.each(T,function(G){M.push(A.mapDimension(G)),C.push(w.get(G).model)});for(var D=this.hasAxisBrushed(),L=b;L<x;L++){var P;if(!D)P="normal";else{P="active";for(var I=A.getValues(M,L),E=0,z=T.length;E<z;E++){var N=C[E].getActiveState(I[E]);if(N==="inactive"){P="inactive";break}}}S(P,L)}},hasAxisBrushed:function(){for(var A=this.dimensions,S=this._axesMap,b=!1,x=0,w=A.length;x<w;x++)S.get(A[x]).model.getActiveState()!=="normal"&&(b=!0);return b},axisCoordToPoint:function(A,S){var b=this._axesLayout[S];return o.applyTransform([A,0],b.transform)},getAxisLayout:function(A){return e.clone(this._axesLayout[A])},getSlidedAxisExpandWindow:function(A){var S=this._makeLayoutInfo(),b=S.pixelDimIndex,x=S.axisExpandWindow.slice(),w=x[1]-x[0],T=[0,S.axisExpandWidth*(S.axisCount-1)];if(!this.containPoint(A))return{behavior:"none",axisExpandWindow:x};var M=A[b]-S.layoutBase-S.axisExpandWindow0Pos,C,D="slide",L=S.axisCollapseWidth,P=this._model.get("axisExpandSlideTriggerArea"),I=P[0]!=null;if(L)I&&L&&M<w*P[0]?(D="jump",C=M-w*P[2]):I&&L&&M>w*(1-P[0])?(D="jump",C=M-w*(1-P[2])):(C=M-w*P[1])>=0&&(C=M-w*(1-P[1]))<=0&&(C=0),C*=S.axisExpandWidth/L,C?c(C,x,T,"all"):D="none";else{var w=x[1]-x[0],E=T[1]*M/w;x=[s(0,E-w/2)],x[1]=h(T[1],x[0]+w),x[0]=x[1]-w}return{axisExpandWindow:x,behavior:D}}};function p(A,S){return h(s(A,S[0]),S[1])}function g(A,S){var b=S.layoutLength/(S.axisCount-1);return{position:b*A,axisNameAvailableWidth:b,axisLabelShow:!0}}function y(A,S){var b=S.layoutLength,x=S.axisExpandWidth,w=S.axisCount,T=S.axisCollapseWidth,M=S.winInnerIndices,C,D=T,L=!1,P;return A<M[0]?(C=A*T,P=T):A<=M[1]?(C=S.axisExpandWindow0Pos+A*x-S.axisExpandWindow[0],D=x,L=!0):(C=b-(w-1-A)*T,P=T),{position:C,axisNameAvailableWidth:D,axisLabelShow:L,nameTruncateMaxWidth:P}}var _=m;return Lv=_,Lv}var i1;function yM(){if(i1)return e1;i1=1;var e=CH(),t=Sr;function r(a,i){var o=[];return a.eachComponent("parallel",function(l,c){var n=new e(l,a,i);n.name="parallel_"+c,n.resize(l,i),l.coordinateSystem=n,n.model=l,o.push(n)}),a.eachSeries(function(l){if(l.get("coordinateSystem")==="parallel"){var c=a.queryComponents({mainType:"parallel",index:l.get("parallelIndex"),id:l.get("parallelId")})[0];l.coordinateSystem=c.coordinateSystem}}),o}return t.register("parallel",{create:r}),e1}var Pv,n1;function MH(){if(n1)return Pv;n1=1;var e=W,t=ct,r=li(),a=ls(),i=Re(),o=pi(),l=t.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(s){var v=this.activeIntervals=e.clone(s);if(v)for(var u=v.length-1;u>=0;u--)i.asc(v[u])},getActiveState:function(s){var v=this.activeIntervals;if(!v.length)return"normal";if(s==null||isNaN(s))return"inactive";if(v.length===1){var u=v[0];if(u[0]<=s&&s<=u[1])return"active"}else for(var d=0,f=v.length;d<f;d++)if(v[d][0]<=s&&s<=v[d][1])return"active";return"inactive"}}),c={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};e.merge(l.prototype,o);function n(s,v){return v.type||(v.data?"category":"value")}a("parallel",l,n,c);var h=l;return Pv=h,Pv}var Iv,o1;function DH(){if(o1)return Iv;o1=1;var e=W,t=ct;MH();var r=t.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var i=this.option;a&&e.merge(i,a,!0),this._initDimensions()},contains:function(a,i){var o=a.get("parallelIndex");return o!=null&&i.getComponent("parallel",o)===this},setAxisExpand:function(a){e.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){a.hasOwnProperty(i)&&(this.option[i]=a[i])},this)},_initDimensions:function(){var a=this.dimensions=[],i=this.parallelAxisIndex=[],o=e.filter(this.dependentModels.parallelAxis,function(l){return(l.get("parallelIndex")||0)===this.componentIndex},this);e.each(o,function(l){a.push("dim"+l.get("dim")),i.push(l.componentIndex)})}});return Iv=r,Iv}var s1={},l1={},u1;function LH(){if(u1)return l1;u1=1;var e=xe,t={type:"axisAreaSelect",event:"axisAreaSelected"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"parallelAxis",query:r},function(i){i.axis.model.setActiveIntervals(r.intervals)})}),e.registerAction("parallelAxisExpand",function(r,a){a.eachComponent({mainType:"parallel",query:r},function(i){i.setAxisExpand(r)})}),l1}var Rv,v1;function rg(){if(v1)return Rv;v1=1;var e=W,t=xa,r=de,a=uM(),i=Aa(),o=e.curry,l=e.each,c=e.map,n=Math.min,h=Math.max,s=Math.pow,v=1e4,u=6,d=6,f="globalPan",m={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},p={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},g={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},y=0;function _(Z){t.call(this),this._zr=Z,this.group=new r.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+y++,this._handlers={},l(oe,function(Q,re){this._handlers[re]=e.bind(Q,this)},this)}_.prototype={constructor:_,enableBrush:function(Z){return this._brushType&&S(this),Z.brushType&&A(this,Z),this},setPanels:function(Z){if(Z&&Z.length){var Q=this._panels={};e.each(Z,function(re){Q[re.panelId]=e.clone(re)})}else this._panels=null;return this},mount:function(Z){Z=Z||{},this._enableGlobalPan=Z.enableGlobalPan;var Q=this.group;return this._zr.add(Q),Q.attr({position:Z.position||[0,0],rotation:Z.rotation||0,scale:Z.scale||[1,1]}),this._transform=Q.getLocalTransform(),this},eachCover:function(Z,Q){l(this._covers,Z,Q)},updateCovers:function(Z){Z=e.map(Z,function(Me){return e.merge(e.clone(g),Me,!0)});var Q="\0-brush-index-",re=this._covers,le=this._covers=[],ue=this,ve=this._creatingCover;return new i(re,Z,ye,he).add(Se).update(Se).remove(Ce).execute(),this;function he(Me,Ae){return(Me.id!=null?Me.id:Q+Ae)+"-"+Me.brushType}function ye(Me,Ae){return he(Me.__brushOption,Ae)}function Se(Me,Ae){var Be=Z[Me];if(Ae!=null&&re[Ae]===ve)le[Me]=re[Ae];else{var Ve=le[Me]=Ae!=null?(re[Ae].__brushOption=Be,re[Ae]):T(ue,w(ue,Be));D(ue,Ve)}}function Ce(Me){re[Me]!==ve&&ue.group.remove(re[Me])}},unmount:function(){return this.enableBrush(!1),E(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},e.mixin(_,t);function A(Z,Q){var re=Z._zr;Z._enableGlobalPan||a.take(re,f,Z._uid),b(re,Z._handlers),Z._brushType=Q.brushType,Z._brushOption=e.merge(e.clone(g),Q,!0)}function S(Z){var Q=Z._zr;a.release(Q,f,Z._uid),x(Q,Z._handlers),Z._brushType=Z._brushOption=null}function b(Z,Q){l(Q,function(re,le){Z.on(le,re)})}function x(Z,Q){l(Q,function(re,le){Z.off(le,re)})}function w(Z,Q){var re=ne[Q.brushType].createCover(Z,Q);return re.__brushOption=Q,C(re,Q),Z.group.add(re),re}function T(Z,Q){var re=L(Q);return re.endCreating&&(re.endCreating(Z,Q),C(Q,Q.__brushOption)),Q}function M(Z,Q){var re=Q.__brushOption;L(Q).updateCoverShape(Z,Q,re.range,re)}function C(Z,Q){var re=Q.z;re==null&&(re=v),Z.traverse(function(le){le.z=re,le.z2=re})}function D(Z,Q){L(Q).updateCommon(Z,Q),M(Z,Q)}function L(Z){return ne[Z.__brushOption.brushType]}function P(Z,Q,re){var le=Z._panels;if(!le)return!0;var ue,ve=Z._transform;return l(le,function(he){he.isTargetByCursor(Q,re,ve)&&(ue=he)}),ue}function I(Z,Q){var re=Z._panels;if(!re)return!0;var le=Q.__brushOption.panelId;return le!=null?re[le]:!0}function E(Z){var Q=Z._covers,re=Q.length;return l(Q,function(le){Z.group.remove(le)},Z),Q.length=0,!!re}function z(Z,Q){var re=c(Z._covers,function(le){var ue=le.__brushOption,ve=e.clone(ue.range);return{brushType:ue.brushType,panelId:ue.panelId,range:ve}});Z.trigger("brush",re,{isEnd:!!Q.isEnd,removeOnClick:!!Q.removeOnClick})}function N(Z){var Q=Z._track;if(!Q.length)return!1;var re=Q[Q.length-1],le=Q[0],ue=re[0]-le[0],ve=re[1]-le[1],he=s(ue*ue+ve*ve,.5);return he>u}function G(Z){var Q=Z.length-1;return Q<0&&(Q=0),[Z[0],Z[Q]]}function V(Z,Q,re,le){var ue=new r.Group;return ue.add(new r.Rect({name:"main",style:B(re),silent:!0,draggable:!0,cursor:"move",drift:o(Z,Q,ue,"nswe"),ondragend:o(z,Q,{isEnd:!0})})),l(le,function(ve){ue.add(new r.Rect({name:ve,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:o(Z,Q,ue,ve),ondragend:o(z,Q,{isEnd:!0})}))}),ue}function R(Z,Q,re,le){var ue=le.brushStyle.lineWidth||0,ve=h(ue,d),he=re[0][0],ye=re[1][0],Se=he-ue/2,Ce=ye-ue/2,Me=re[0][1],Ae=re[1][1],Be=Me-ve+ue/2,Ve=Ae-ve+ue/2,We=Me-he,He=Ae-ye,Ze=We+ue,Qe=He+ue;k(Z,Q,"main",he,ye,We,He),le.transformable&&(k(Z,Q,"w",Se,Ce,ve,Qe),k(Z,Q,"e",Be,Ce,ve,Qe),k(Z,Q,"n",Se,Ce,Ze,ve),k(Z,Q,"s",Se,Ve,Ze,ve),k(Z,Q,"nw",Se,Ce,ve,ve),k(Z,Q,"ne",Be,Ce,ve,ve),k(Z,Q,"sw",Se,Ve,ve,ve),k(Z,Q,"se",Be,Ve,ve,ve))}function O(Z,Q){var re=Q.__brushOption,le=re.transformable,ue=Q.childAt(0);ue.useStyle(B(re)),ue.attr({silent:!le,cursor:le?"move":"default"}),l(["w","e","n","s","se","sw","ne","nw"],function(ve){var he=Q.childOfName(ve),ye=F(Z,ve);he&&he.attr({silent:!le,invisible:!le,cursor:le?p[ye]+"-resize":null})})}function k(Z,Q,re,le,ue,ve,he){var ye=Q.childOfName(re);ye&&ye.setShape(J(K(Z,Q,[[le,ue],[le+ve,ue+he]])))}function B(Z){return e.defaults({strokeNoScale:!0},Z.brushStyle)}function q(Z,Q,re,le){var ue=[n(Z,re),n(Q,le)],ve=[h(Z,re),h(Q,le)];return[[ue[0],ve[0]],[ue[1],ve[1]]]}function H(Z){return r.getTransform(Z.group)}function F(Z,Q){if(Q.length>1){Q=Q.split("");var re=[F(Z,Q[0]),F(Z,Q[1])];return(re[0]==="e"||re[0]==="w")&&re.reverse(),re.join("")}else{var le={w:"left",e:"right",n:"top",s:"bottom"},ue={left:"w",right:"e",top:"n",bottom:"s"},re=r.transformDirection(le[Q],H(Z));return ue[re]}}function U(Z,Q,re,le,ue,ve,he,ye){var Se=le.__brushOption,Ce=Z(Se.range),Me=Y(re,ve,he);l(ue.split(""),function(Ae){var Be=m[Ae];Ce[Be[0]][Be[1]]+=Me[Be[0]]}),Se.range=Q(q(Ce[0][0],Ce[1][0],Ce[0][1],Ce[1][1])),D(re,le),z(re,{isEnd:!1})}function $(Z,Q,re,le,ue){var ve=Q.__brushOption.range,he=Y(Z,re,le);l(ve,function(ye){ye[0]+=he[0],ye[1]+=he[1]}),D(Z,Q),z(Z,{isEnd:!1})}function Y(Z,Q,re){var le=Z.group,ue=le.transformCoordToLocal(Q,re),ve=le.transformCoordToLocal(0,0);return[ue[0]-ve[0],ue[1]-ve[1]]}function K(Z,Q,re){var le=I(Z,Q);return le&&le!==!0?le.clipPath(re,Z._transform):e.clone(re)}function J(Z){var Q=n(Z[0][0],Z[1][0]),re=n(Z[0][1],Z[1][1]),le=h(Z[0][0],Z[1][0]),ue=h(Z[0][1],Z[1][1]);return{x:Q,y:re,width:le-Q,height:ue-re}}function j(Z,Q,re){if(!(!Z._brushType||pe(Z,Q))){var le=Z._zr,ue=Z._covers,ve=P(Z,Q,re);if(!Z._dragging)for(var he=0;he<ue.length;he++){var ye=ue[he].__brushOption;if(ve&&(ve===!0||ye.panelId===ve.panelId)&&ne[ye.brushType].contain(ue[he],re[0],re[1]))return}ve&&le.setCursorStyle("crosshair")}}function ee(Z){var Q=Z.event;Q.preventDefault&&Q.preventDefault()}function te(Z,Q,re){return Z.childOfName("main").contain(Q,re)}function ie(Z,Q,re,le){var ue=Z._creatingCover,ve=Z._creatingPanel,he=Z._brushOption,ye;if(Z._track.push(re.slice()),N(Z)||ue){if(ve&&!ue){he.brushMode==="single"&&E(Z);var Se=e.clone(he);Se.brushType=ge(Se.brushType,ve),Se.panelId=ve===!0?null:ve.panelId,ue=Z._creatingCover=w(Z,Se),Z._covers.push(ue)}if(ue){var Ce=ne[ge(Z._brushType,ve)],Me=ue.__brushOption;Me.range=Ce.getCreatingRange(K(Z,ue,Z._track)),le&&(T(Z,ue),Ce.updateCommon(Z,ue)),M(Z,ue),ye={isEnd:le}}}else le&&he.brushMode==="single"&&he.removeOnClick&&P(Z,Q,re)&&E(Z)&&(ye={isEnd:le,removeOnClick:!0});return ye}function ge(Z,Q){return Z==="auto"?Q.defaultBrushType:Z}var oe={mousedown:function(Z){if(this._dragging)fe(this,Z);else if(!Z.target||!Z.target.draggable){ee(Z);var Q=this.group.transformCoordToLocal(Z.offsetX,Z.offsetY);this._creatingCover=null;var re=this._creatingPanel=P(this,Z,Q);re&&(this._dragging=!0,this._track=[Q.slice()])}},mousemove:function(Z){var Q=Z.offsetX,re=Z.offsetY,le=this.group.transformCoordToLocal(Q,re);if(j(this,Z,le),this._dragging){ee(Z);var ue=ie(this,Z,le,!1);ue&&z(this,ue)}},mouseup:function(Z){fe(this,Z)}};function fe(Z,Q){if(Z._dragging){ee(Q);var re=Q.offsetX,le=Q.offsetY,ue=Z.group.transformCoordToLocal(re,le),ve=ie(Z,Q,ue,!0);Z._dragging=!1,Z._track=[],Z._creatingCover=null,ve&&z(Z,ve)}}function pe(Z,Q,re){var le=Z._zr;return Q<0||Q>le.getWidth()||re<0||re>le.getHeight()}var ne={lineX:se(0),lineY:se(1),rect:{createCover:function(Z,Q){return V(o(U,function(re){return re},function(re){return re}),Z,Q,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(Z){var Q=G(Z);return q(Q[1][0],Q[1][1],Q[0][0],Q[0][1])},updateCoverShape:function(Z,Q,re,le){R(Z,Q,re,le)},updateCommon:O,contain:te},polygon:{createCover:function(Z,Q){var re=new r.Group;return re.add(new r.Polyline({name:"main",style:B(Q),silent:!0})),re},getCreatingRange:function(Z){return Z},endCreating:function(Z,Q){Q.remove(Q.childAt(0)),Q.add(new r.Polygon({name:"main",draggable:!0,drift:o($,Z,Q),ondragend:o(z,Z,{isEnd:!0})}))},updateCoverShape:function(Z,Q,re,le){Q.childAt(0).setShape({points:K(Z,Q,re)})},updateCommon:O,contain:te}};function se(Z){return{createCover:function(Q,re){return V(o(U,function(le){var ue=[le,[0,100]];return Z&&ue.reverse(),ue},function(le){return le[Z]}),Q,re,[["w","e"],["n","s"]][Z])},getCreatingRange:function(Q){var re=G(Q),le=n(re[0][Z],re[1][Z]),ue=h(re[0][Z],re[1][Z]);return[le,ue]},updateCoverShape:function(Q,re,le,ue){var ve,he=I(Q,re);if(he!==!0&&he.getLinearBrushOtherExtent)ve=he.getLinearBrushOtherExtent(Z,Q._transform);else{var ye=Q._zr;ve=[0,[ye.getWidth(),ye.getHeight()][1-Z]]}var Se=[le,ve];Z&&Se.reverse(),R(Q,re,Se,ue)},updateCommon:O,contain:te}}var me=_;return Rv=me,Rv}var Bi={},h1;function _M(){if(h1)return Bi;h1=1;var e=Ke,t=cs(),r=t.onIrrelevantElement,a=de;function i(n){return n=c(n),function(h,s){return a.clipPointsByRect(h,n)}}function o(n,h){return n=c(n),function(s){var v=h??s,u=v?n.width:n.height,d=v?n.x:n.y;return[d,d+(u||0)]}}function l(n,h,s){return n=c(n),function(v,u,d){return n.contain(u[0],u[1])&&!r(v,h,s)}}function c(n){return e.create(n)}return Bi.makeRectPanelClipPath=i,Bi.makeLinearBrushOtherExtent=o,Bi.makeRectIsTargetByCursor=l,Bi}var Ev,c1;function PH(){if(c1)return Ev;c1=1;var e=xe,t=W,r=ia(),a=rg(),i=_M(),o=de,l=["axisLine","axisTickLabel","axisName"],c=e.extendComponentView({type:"parallelAxis",init:function(u,d){c.superApply(this,"init",arguments),(this._brushController=new a(d.getZr())).on("brush",t.bind(this._onBrush,this))},render:function(u,d,f,m){if(!n(u,d,m)){this.axisModel=u,this.api=f,this.group.removeAll();var p=this._axisGroup;if(this._axisGroup=new o.Group,this.group.add(this._axisGroup),!!u.get("show")){var g=s(u,d),y=g.coordinateSystem,_=u.getAreaSelectStyle(),A=_.width,S=u.axis.dim,b=y.getAxisLayout(S),x=t.extend({strokeContainThreshold:A},b),w=new r(u,x);t.each(l,w.add,w),this._axisGroup.add(w.getGroup()),this._refreshBrushController(x,_,u,g,A,f);var T=m&&m.animation===!1?null:u;o.groupTransition(p,this._axisGroup,T)}}},_refreshBrushController:function(u,d,f,m,p,g){var y=f.axis.getExtent(),_=y[1]-y[0],A=Math.min(30,Math.abs(_)*.1),S=o.BoundingRect.create({x:y[0],y:-p/2,width:_,height:p});S.x-=A,S.width+=2*A,this._brushController.mount({enableGlobalPan:!0,rotation:u.rotation,position:u.position}).setPanels([{panelId:"pl",clipPath:i.makeRectPanelClipPath(S),isTargetByCursor:i.makeRectIsTargetByCursor(S,g,m),getLinearBrushOtherExtent:i.makeLinearBrushOtherExtent(S,0)}]).enableBrush({brushType:"lineX",brushStyle:d,removeOnClick:!0}).updateCovers(h(f))},_onBrush:function(u,d){var f=this.axisModel,m=f.axis,p=t.map(u,function(g){return[m.coordToData(g.range[0],!0),m.coordToData(g.range[1],!0)]});(!f.option.realtime===d.isEnd||d.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:f.id,intervals:p})},dispose:function(){this._brushController.dispose()}});function n(u,d,f){return f&&f.type==="axisAreaSelect"&&d.findComponents({mainType:"parallelAxis",query:f})[0]===u}function h(u){var d=u.axis;return t.map(u.activeIntervals,function(f){return{brushType:"lineX",panelId:"pl",range:[d.dataToCoord(f[0],!0),d.dataToCoord(f[1],!0)]}})}function s(u,d){return d.getComponent("parallel",u.get("parallelIndex"))}var v=c;return Ev=v,Ev}var f1;function IH(){return f1||(f1=1,yM(),LH(),PH()),s1}var d1;function xM(){if(d1)return j_;d1=1;var e=xe,t=W,r=nr,a=AH();yM(),DH(),IH();var i=5;e.extendComponentView({type:"parallel",render:function(c,n,h){this._model=c,this._api=h,this._handlers||(this._handlers={},t.each(o,function(s,v){h.getZr().on(v,this._handlers[v]=t.bind(s,this))},this)),r.createOrUpdate(this,"_throttledDispatchExpand",c.get("axisExpandRate"),"fixRate")},dispose:function(c,n){t.each(this._handlers,function(h,s){n.getZr().off(s,h)}),this._handlers=null},_throttledDispatchExpand:function(c){this._dispatchExpand(c)},_dispatchExpand:function(c){c&&this._api.dispatchAction(t.extend({type:"parallelAxisExpand"},c))}});var o={mousedown:function(c){l(this,"click")&&(this._mouseDownPoint=[c.offsetX,c.offsetY])},mouseup:function(c){var n=this._mouseDownPoint;if(l(this,"click")&&n){var h=[c.offsetX,c.offsetY],s=Math.pow(n[0]-h[0],2)+Math.pow(n[1]-h[1],2);if(s>i)return;var v=this._model.coordinateSystem.getSlidedAxisExpandWindow([c.offsetX,c.offsetY]);v.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:v.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(c){if(!(this._mouseDownPoint||!l(this,"mousemove"))){var n=this._model,h=n.coordinateSystem.getSlidedAxisExpandWindow([c.offsetX,c.offsetY]),s=h.behavior;s==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand(s==="none"?null:{axisExpandWindow:h.axisExpandWindow,animation:s==="jump"?null:!1})}}};function l(c,n){var h=c._model;return h.get("axisExpandable")&&h.get("axisExpandTriggerOn")===n}return e.registerPreprocessor(a),j_}var kv,g1;function RH(){if(g1)return kv;g1=1;var e=W,t=e.each,r=e.createHashMap,a=ft,i=Br(),o=a.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(n,h){var s=this.getSource();return l(s,this),i(s,this)},getRawIndicesByActiveState:function(n){var h=this.coordinateSystem,s=this.getData(),v=[];return h.eachActiveState(s,function(u,d){n===u&&v.push(s.getRawIndex(d))}),v},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});function l(n,h){if(!n.encodeDefine){var s=h.ecModel.getComponent("parallel",h.get("parallelIndex"));if(s){var v=n.encodeDefine=r();t(s.dimensions,function(u){var d=c(u);v.set(u,d)})}}}function c(n){return+n.replace("dim","")}return kv=o,kv}var Ov,p1;function EH(){if(p1)return Ov;p1=1;var e=de,t=br,r=.3,a=t.extend({type:"parallel",init:function(){this._dataGroup=new e.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(v,u,d,f){var m=this._dataGroup,p=v.getData(),g=this._data,y=v.coordinateSystem,_=y.dimensions,A=c(v);p.diff(g).add(S).update(b).remove(x).execute();function S(T){var M=l(p,m,T,_,y);n(M,p,T,A)}function b(T,M){var C=g.getItemGraphicEl(M),D=o(p,T,_,y);p.setItemGraphicEl(T,C);var L=f&&f.animation===!1?null:v;e.updateProps(C,{shape:{points:D}},L,T),n(C,p,T,A)}function x(T){var M=g.getItemGraphicEl(T);m.remove(M)}if(!this._initialized){this._initialized=!0;var w=i(y,v,function(){setTimeout(function(){m.removeClipPath()})});m.setClipPath(w)}this._data=p},incrementalPrepareRender:function(v,u,d){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(v,u,d){for(var f=u.getData(),m=u.coordinateSystem,p=m.dimensions,g=c(u),y=v.start;y<v.end;y++){var _=l(f,this._dataGroup,y,p,m);_.incremental=!0,n(_,f,y,g)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function i(v,u,d){var f=v.model,m=v.getRect(),p=new e.Rect({shape:{x:m.x,y:m.y,width:m.width,height:m.height}}),g=f.get("layout")==="horizontal"?"width":"height";return p.setShape(g,0),e.initProps(p,{shape:{width:m.width,height:m.height}},u,d),p}function o(v,u,d,f){for(var m=[],p=0;p<d.length;p++){var g=d[p],y=v.get(v.mapDimension(g),u);h(y,f.getAxis(g).type)||m.push(f.dataToPoint(y,g))}return m}function l(v,u,d,f,m){var p=o(v,d,f,m),g=new e.Polyline({shape:{points:p},silent:!0,z2:10});return u.add(g),v.setItemGraphicEl(d,g),g}function c(v){var u=v.get("smooth",!0);return u===!0&&(u=r),{lineStyle:v.getModel("lineStyle").getLineStyle(),smooth:u??r}}function n(v,u,d,f){var m=f.lineStyle;if(u.hasItemOption){var p=u.getItemModel(d).getModel("lineStyle");m=p.getLineStyle()}v.useStyle(m);var g=v.style;g.fill=null,g.stroke=u.getItemVisual(d,"color"),g.opacity=u.getItemVisual(d,"opacity"),f.smooth&&(v.shape.smooth=f.smooth)}function h(v,u){return u==="category"?v==null:v==null||isNaN(v)}var s=a;return Ov=s,Ov}var zv,m1;function kH(){if(m1)return zv;m1=1;var e=["lineStyle","normal","opacity"],t={seriesType:"parallel",reset:function(r,a,i){var o=r.getModel("itemStyle"),l=r.getModel("lineStyle"),c=a.get("color"),n=l.get("color")||o.get("color")||c[r.seriesIndex%c.length],h=r.get("inactiveOpacity"),s=r.get("activeOpacity"),v=r.getModel("lineStyle").getLineStyle(),u=r.coordinateSystem,d=r.getData(),f={normal:v.opacity,active:s,inactive:h};d.setVisual("color",n);function m(p,g){u.eachActiveState(g,function(y,_){var A=f[y];if(y==="normal"&&g.hasItemOption){var S=g.getItemModel(_).get(e,!0);S!=null&&(A=S)}g.setItemVisual(_,"opacity",A)},p.start,p.end)}return{progress:m}}};return zv=t,zv}var y1;function OH(){if(y1)return Q_;y1=1;var e=xe;xM(),RH(),EH();var t=kH();return e.registerVisual(t),Q_}var _1={},Bv,x1;function zH(){if(x1)return Bv;x1=1;var e=ft,t=dM(),r=Ge(),a=r.encodeHTML,i=ot(),o=e.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(c,n){for(var h=c.edges||c.links,s=c.data||c.nodes,v=c.levels,u=this.levelModels={},d=0;d<v.length;d++)v[d].depth!=null&&v[d].depth>=0&&(u[v[d].depth]=new i(v[d],this,n));if(s&&h){var f=t(s,h,this,!0,m);return f.data}function m(p,g){p.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(A){var S=this.parentModel,b=S.getData().getItemLayout(_).depth,x=S.levelModels[b];return x||this.parentModel}),y}),g.wrapMethod("getItemModel",function(y,_){return y.customizeGetParent(function(A){var S=this.parentModel,b=S.getGraph().getEdgeByIndex(_),x=b.node1.getLayout().depth,w=S.levelModels[x];return w||this.parentModel}),y})}},setNodePosition:function(c,n){var h=this.option.data[c];h.localX=n[0],h.localY=n[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(c,n,h){if(h==="edge"){var s=this.getDataParams(c,h),v=s.data,u=v.source+" -- "+v.target;return s.value&&(u+=" : "+s.value),a(u)}else if(h==="node"){var d=this.getGraph().getNodeByIndex(c),f=d.getLayout().value,m=this.getDataParams(c,h).data.name;if(f)var u=m+" : "+f;return a(u)}return o.superCall(this,"formatTooltip",c,n)},optionUpdated:function(){var c=this.option;c.focusNodeAdjacency===!0&&(c.focusNodeAdjacency="allEdges")},getDataParams:function(c,n){var h=o.superCall(this,"getDataParams",c,n);if(h.value==null&&n==="node"){var s=this.getGraph().getNodeByIndex(c),v=s.getLayout().value;h.value=v}return h},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),l=o;return Bv=l,Bv}var Nv,S1;function BH(){if(S1)return Nv;S1=1;var e=de,t=xe,r=W,a=["itemStyle","opacity"],i=["emphasis","itemStyle","opacity"],o=["lineStyle","opacity"],l=["emphasis","lineStyle","opacity"];function c(d,f){return d.getVisual("opacity")||d.getModel().get(f)}function n(d,f,m){var p=d.getGraphicEl(),g=c(d,f);m!=null&&(g==null&&(g=1),g*=m),p.downplay&&p.downplay(),p.traverse(function(y){y.type!=="group"&&y.setStyle("opacity",g)})}function h(d,f){var m=c(d,f),p=d.getGraphicEl();p.traverse(function(g){g.type!=="group"&&g.setStyle("opacity",m)}),p.highlight&&p.highlight()}var s=e.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(d,f){var m=f.extent;d.moveTo(f.x1,f.y1),d.bezierCurveTo(f.cpx1,f.cpy1,f.cpx2,f.cpy2,f.x2,f.y2),f.orient==="vertical"?(d.lineTo(f.x2+m,f.y2),d.bezierCurveTo(f.cpx2+m,f.cpy2,f.cpx1+m,f.cpy1,f.x1+m,f.y1)):(d.lineTo(f.x2,f.y2+m),d.bezierCurveTo(f.cpx2,f.cpy2+m,f.cpx1,f.cpy1+m,f.x1,f.y1+m)),d.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),v=t.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(d,f,m){var p=this,g=d.getGraph(),y=this.group,_=d.layoutInfo,A=_.width,S=_.height,b=d.getData(),x=d.getData("edge"),w=d.get("orient");this._model=d,y.removeAll(),y.attr("position",[_.x,_.y]),g.eachEdge(function(T){var M=new s;M.dataIndex=T.dataIndex,M.seriesIndex=d.seriesIndex,M.dataType="edge";var C=T.getModel("lineStyle"),D=C.get("curveness"),L=T.node1.getLayout(),P=T.node1.getModel(),I=P.get("localX"),E=P.get("localY"),z=T.node2.getLayout(),N=T.node2.getModel(),G=N.get("localX"),V=N.get("localY"),R=T.getLayout(),O,k,B,q,H,F,U,$;switch(M.shape.extent=Math.max(1,R.dy),M.shape.orient=w,w==="vertical"?(O=(I!=null?I*A:L.x)+R.sy,k=(E!=null?E*S:L.y)+L.dy,B=(G!=null?G*A:z.x)+R.ty,q=V!=null?V*S:z.y,H=O,F=k*(1-D)+q*D,U=B,$=k*D+q*(1-D)):(O=(I!=null?I*A:L.x)+L.dx,k=(E!=null?E*S:L.y)+R.sy,B=G!=null?G*A:z.x,q=(V!=null?V*S:z.y)+R.ty,H=O*(1-D)+B*D,F=k,U=O*D+B*(1-D),$=q),M.setShape({x1:O,y1:k,x2:B,y2:q,cpx1:H,cpy1:F,cpx2:U,cpy2:$}),M.setStyle(C.getItemStyle()),M.style.fill){case"source":M.style.fill=T.node1.getVisual("color");break;case"target":M.style.fill=T.node2.getVisual("color");break}e.setHoverStyle(M,T.getModel("emphasis.lineStyle").getItemStyle()),y.add(M),x.setItemGraphicEl(T.dataIndex,M)}),g.eachNode(function(T){var M=T.getLayout(),C=T.getModel(),D=C.get("localX"),L=C.get("localY"),P=C.getModel("label"),I=C.getModel("emphasis.label"),E=new e.Rect({shape:{x:D!=null?D*A:M.x,y:L!=null?L*S:M.y,width:M.dx,height:M.dy},style:C.getModel("itemStyle").getItemStyle()}),z=T.getModel("emphasis.itemStyle").getItemStyle();e.setLabelStyle(E.style,z,P,I,{labelFetcher:d,labelDataIndex:T.dataIndex,defaultText:T.id,isRectText:!0}),E.setStyle("fill",T.getVisual("color")),e.setHoverStyle(E,z),y.add(E),b.setItemGraphicEl(T.dataIndex,E),E.dataType="node"}),b.eachItemGraphicEl(function(T,M){var C=b.getItemModel(M);C.get("draggable")&&(T.drift=function(D,L){p._focusAdjacencyDisabled=!0,this.shape.x+=D,this.shape.y+=L,this.dirty(),m.dispatchAction({type:"dragNode",seriesId:d.id,dataIndex:b.getRawIndex(M),localX:this.shape.x/A,localY:this.shape.y/S})},T.ondragend=function(){p._focusAdjacencyDisabled=!1},T.draggable=!0,T.cursor="move"),T.highlight=function(){this.trigger("emphasis")},T.downplay=function(){this.trigger("normal")},T.focusNodeAdjHandler&&T.off("mouseover",T.focusNodeAdjHandler),T.unfocusNodeAdjHandler&&T.off("mouseout",T.unfocusNodeAdjHandler),C.get("focusNodeAdjacency")&&(T.on("mouseover",T.focusNodeAdjHandler=function(){p._focusAdjacencyDisabled||(p._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:d.id,dataIndex:T.dataIndex}))}),T.on("mouseout",T.unfocusNodeAdjHandler=function(){p._focusAdjacencyDisabled||p._dispatchUnfocus(m)}))}),x.eachItemGraphicEl(function(T,M){var C=x.getItemModel(M);T.focusNodeAdjHandler&&T.off("mouseover",T.focusNodeAdjHandler),T.unfocusNodeAdjHandler&&T.off("mouseout",T.unfocusNodeAdjHandler),C.get("focusNodeAdjacency")&&(T.on("mouseover",T.focusNodeAdjHandler=function(){p._focusAdjacencyDisabled||(p._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:d.id,edgeDataIndex:T.dataIndex}))}),T.on("mouseout",T.unfocusNodeAdjHandler=function(){p._focusAdjacencyDisabled||p._dispatchUnfocus(m)}))}),!this._data&&d.get("animation")&&y.setClipPath(u(y.getBoundingRect(),d,function(){y.removeClipPath()})),this._data=d.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(d){var f=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){f._unfocusDelayTimer=null,d.dispatchAction({type:"unfocusNodeAdjacency",seriesId:f._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(d,f,m,p){var g=d.getData(),y=g.graph,_=p.dataIndex,A=g.getItemModel(_),S=p.edgeDataIndex;if(!(_==null&&S==null)){var b=y.getNodeByIndex(_),x=y.getEdgeByIndex(S);if(y.eachNode(function(T){n(T,a,.1)}),y.eachEdge(function(T){n(T,o,.1)}),b){h(b,i);var w=A.get("focusNodeAdjacency");w==="outEdges"?r.each(b.outEdges,function(T){T.dataIndex<0||(h(T,l),h(T.node2,i))}):w==="inEdges"?r.each(b.inEdges,function(T){T.dataIndex<0||(h(T,l),h(T.node1,i))}):w==="allEdges"&&r.each(b.edges,function(T){T.dataIndex<0||(h(T,l),T.node1!==b&&h(T.node1,i),T.node2!==b&&h(T.node2,i))})}x&&(h(x,l),h(x.node1,i),h(x.node2,i))}},unfocusNodeAdjacency:function(d,f,m,p){var g=d.getGraph();g.eachNode(function(y){n(y,a)}),g.eachEdge(function(y){n(y,o)})}});function u(d,f,m){var p=new e.Rect({shape:{x:d.x-10,y:d.y-10,width:0,height:d.height+20}});return e.initProps(p,{shape:{width:d.width+20}},f,m),p}return Nv=v,Nv}var b1={},w1;function NH(){if(w1)return b1;w1=1;var e=xe;return gM(),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),b1}var Vv,A1;function VH(){if(A1)return Vv;A1=1;var e=ze,t=W,r=Pe,a=r.groupData;function i(C,D,L){C.eachSeriesByType("sankey",function(P){var I=P.get("nodeWidth"),E=P.get("nodeGap"),z=o(P,D);P.layoutInfo=z;var N=z.width,G=z.height,V=P.getGraph(),R=V.nodes,O=V.edges;c(R);var k=t.filter(R,function(F){return F.getLayout().value===0}),B=k.length!==0?0:P.get("layoutIterations"),q=P.get("orient"),H=P.get("nodeAlign");l(R,O,I,E,N,G,B,q,H)})}function o(C,D){return e.getLayoutRect(C.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()})}function l(C,D,L,P,I,E,z,N,G){n(C,D,L,I,E,N,G),d(C,D,E,I,P,z,N),M(C,N)}function c(C){t.each(C,function(D){var L=w(D.outEdges,x),P=w(D.inEdges,x),I=D.getValue()||0,E=Math.max(L,P,I);D.setLayout({value:E},!0)})}function n(C,D,L,P,I,E,z){for(var N=[],G=[],V=[],R=[],O=0,te=0,k=0;k<D.length;k++)N[k]=1;for(k=0;k<C.length;k++)G[k]=C[k].inEdges.length,G[k]===0&&V.push(C[k]);for(var B=-1;V.length;){for(var q=0;q<V.length;q++){var H=V[q],F=H.hostGraph.data.getRawDataItem(H.dataIndex),U=F.depth!=null&&F.depth>=0;U&&F.depth>B&&(B=F.depth),H.setLayout({depth:U?F.depth:O},!0),E==="vertical"?H.setLayout({dy:L},!0):H.setLayout({dx:L},!0);for(var $=0;$<H.outEdges.length;$++){var Y=H.outEdges[$],K=D.indexOf(Y);N[K]=0;var J=Y.node2,j=C.indexOf(J);--G[j]===0&&R.indexOf(J)<0&&R.push(J)}}++O,V=R,R=[]}for(k=0;k<N.length;k++)if(N[k]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var ee=B>O-1?B:O-1;z&&z!=="left"&&s(C,z,E,ee);var te=E==="vertical"?(I-L)/ee:(P-L)/ee;u(C,te,E)}function h(C){var D=C.hostGraph.data.getRawDataItem(C.dataIndex);return D.depth!=null&&D.depth>=0}function s(C,D,L,P){if(D==="right"){for(var I=[],E=C,z=0;E.length;){for(var N=0;N<E.length;N++){var G=E[N];G.setLayout({skNodeHeight:z},!0);for(var V=0;V<G.inEdges.length;V++){var R=G.inEdges[V];I.indexOf(R.node1)<0&&I.push(R.node1)}}E=I,I=[],++z}t.each(C,function(O){h(O)||O.setLayout({depth:Math.max(0,P-O.getLayout().skNodeHeight)},!0)})}else D==="justify"&&v(C,P)}function v(C,D){t.each(C,function(L){!h(L)&&!L.outEdges.length&&L.setLayout({depth:D},!0)})}function u(C,D,L){t.each(C,function(P){var I=P.getLayout().depth*D;L==="vertical"?P.setLayout({y:I},!0):P.setLayout({x:I},!0)})}function d(C,D,L,P,I,E,z){var N=f(C,z);m(N,D,L,P,I,z),p(N,I,L,P,z);for(var G=1;E>0;E--)G*=.99,g(N,G,z),p(N,I,L,P,z),T(N,G,z),p(N,I,L,P,z)}function f(C,D){var L=[],P=D==="vertical"?"y":"x",I=a(C,function(E){return E.getLayout()[P]});return I.keys.sort(function(E,z){return E-z}),t.each(I.keys,function(E){L.push(I.buckets.get(E))}),L}function m(C,D,L,P,I,E){var z=1/0;t.each(C,function(N){var G=N.length,V=0;t.each(N,function(O){V+=O.getLayout().value});var R=E==="vertical"?(P-(G-1)*I)/V:(L-(G-1)*I)/V;R<z&&(z=R)}),t.each(C,function(N){t.each(N,function(G,V){var R=G.getLayout().value*z;E==="vertical"?(G.setLayout({x:V},!0),G.setLayout({dx:R},!0)):(G.setLayout({y:V},!0),G.setLayout({dy:R},!0))})}),t.each(D,function(N){var G=+N.getValue()*z;N.setLayout({dy:G},!0)})}function p(C,D,L,P,I){var E=I==="vertical"?"x":"y";t.each(C,function(z){z.sort(function(H,F){return H.getLayout()[E]-F.getLayout()[E]});for(var N,G,V,R=0,O=z.length,k=I==="vertical"?"dx":"dy",B=0;B<O;B++)G=z[B],V=R-G.getLayout()[E],V>0&&(N=G.getLayout()[E]+V,I==="vertical"?G.setLayout({x:N},!0):G.setLayout({y:N},!0)),R=G.getLayout()[E]+G.getLayout()[k]+D;var q=I==="vertical"?P:L;if(V=R-D-q,V>0)for(N=G.getLayout()[E]-V,I==="vertical"?G.setLayout({x:N},!0):G.setLayout({y:N},!0),R=N,B=O-2;B>=0;--B)G=z[B],V=G.getLayout()[E]+G.getLayout()[k]+D-R,V>0&&(N=G.getLayout()[E]-V,I==="vertical"?G.setLayout({x:N},!0):G.setLayout({y:N},!0)),R=G.getLayout()[E]})}function g(C,D,L){t.each(C.slice().reverse(),function(P){t.each(P,function(I){if(I.outEdges.length){var E=w(I.outEdges,y,L)/w(I.outEdges,x,L);if(isNaN(E)){var z=I.outEdges.length;E=z?w(I.outEdges,_,L)/z:0}if(L==="vertical"){var N=I.getLayout().x+(E-b(I,L))*D;I.setLayout({x:N},!0)}else{var G=I.getLayout().y+(E-b(I,L))*D;I.setLayout({y:G},!0)}}})})}function y(C,D){return b(C.node2,D)*C.getValue()}function _(C,D){return b(C.node2,D)}function A(C,D){return b(C.node1,D)*C.getValue()}function S(C,D){return b(C.node1,D)}function b(C,D){return D==="vertical"?C.getLayout().x+C.getLayout().dx/2:C.getLayout().y+C.getLayout().dy/2}function x(C){return C.getValue()}function w(C,D,L){for(var P=0,I=C.length,E=-1;++E<I;){var z=+D.call(C,C[E],L);isNaN(z)||(P+=z)}return P}function T(C,D,L){t.each(C,function(P){t.each(P,function(I){if(I.inEdges.length){var E=w(I.inEdges,A,L)/w(I.inEdges,x,L);if(isNaN(E)){var z=I.inEdges.length;E=z?w(I.inEdges,S,L)/z:0}if(L==="vertical"){var N=I.getLayout().x+(E-b(I,L))*D;I.setLayout({x:N},!0)}else{var G=I.getLayout().y+(E-b(I,L))*D;I.setLayout({y:G},!0)}}})})}function M(C,D){var L=D==="vertical"?"x":"y";t.each(C,function(P){P.outEdges.sort(function(I,E){return I.node2.getLayout()[L]-E.node2.getLayout()[L]}),P.inEdges.sort(function(I,E){return I.node1.getLayout()[L]-E.node1.getLayout()[L]})}),t.each(C,function(P){var I=0,E=0;t.each(P.outEdges,function(z){z.setLayout({sy:I},!0),I+=z.getLayout().dy}),t.each(P.inEdges,function(z){z.setLayout({ty:E},!0),E+=z.getLayout().dy})})}return Vv=i,Vv}var Hv,T1;function HH(){if(T1)return Hv;T1=1;var e=Da(),t=W;function r(a,i){a.eachSeriesByType("sankey",function(o){var l=o.getGraph(),c=l.nodes;if(c.length){var n=1/0,h=-1/0;t.each(c,function(s){var v=s.getLayout().value;v<n&&(n=v),v>h&&(h=v)}),t.each(c,function(s){var v=new e({type:"color",mappingMethod:"linear",dataExtent:[n,h],visual:o.get("color")}),u=v.mapValueToVisual(s.getLayout().value),d=s.getModel().get("itemStyle.color");d!=null?s.setVisual("color",d):s.setVisual("color",u)})}})}return Hv=r,Hv}var C1;function qH(){if(C1)return _1;C1=1;var e=xe;zH(),BH(),NH();var t=VH(),r=HH();return e.registerLayout(t),e.registerVisual(r),_1}var M1={},qv={},D1;function SM(){if(D1)return qv;D1=1;var e=mi(),t=W,r=wn(),a=r.getDimensionTypeByAxis,i=zr(),o=i.makeSeriesEncodeForAxisCoordSys,l={_baseAxisDim:null,getInitialData:function(c,n){var h,s=n.getComponent("xAxis",this.get("xAxisIndex")),v=n.getComponent("yAxis",this.get("yAxisIndex")),u=s.get("type"),d=v.get("type"),f;u==="category"?(c.layout="horizontal",h=s.getOrdinalMeta(),f=!0):d==="category"?(c.layout="vertical",h=v.getOrdinalMeta(),f=!0):c.layout=c.layout||"horizontal";var m=["x","y"],p=c.layout==="horizontal"?0:1,g=this._baseAxisDim=m[p],y=m[1-p],_=[s,v],A=_[p].get("type"),S=_[1-p].get("type"),b=c.data;if(b&&f){var x=[];t.each(b,function(M,C){var D;M.value&&t.isArray(M.value)?(D=M.value.slice(),M.value.unshift(C)):t.isArray(M)?(D=M.slice(),M.unshift(C)):D=M,x.push(D)}),c.data=x}var w=this.defaultValueDimensions,T=[{name:g,type:a(A),ordinalMeta:h,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:y,type:a(S),dimsDef:w.slice()}];return e(this,{coordDimensions:T,dimensionsCount:w.length+1,encodeDefaulter:t.curry(o,T,this)})},getBaseAxis:function(){var c=this._baseAxisDim;return this.ecModel.getComponent(c+"Axis",this.get(c+"AxisIndex")).axis}};return qv.seriesModelMixin=l,qv}var Gv,L1;function GH(){if(L1)return Gv;L1=1;var e=W,t=ft,r=SM(),a=r.seriesModelMixin,i=t.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});e.mixin(i,a,!0);var o=i;return Gv=o,Gv}var Fv,P1;function FH(){if(P1)return Fv;P1=1;var e=W,t=br,r=de,a=at,i=["itemStyle"],o=["emphasis","itemStyle"],l=t.extend({type:"boxplot",render:function(u,d,f){var m=u.getData(),p=this.group,g=this._data;this._data||p.removeAll();var y=u.get("layout")==="horizontal"?1:0;m.diff(g).add(function(_){if(m.hasValue(_)){var A=m.getItemLayout(_),S=n(A,m,_,y,!0);m.setItemGraphicEl(_,S),p.add(S)}}).update(function(_,A){var S=g.getItemGraphicEl(A);if(!m.hasValue(_)){p.remove(S);return}var b=m.getItemLayout(_);S?h(b,S,m,_):S=n(b,m,_,y),p.add(S),m.setItemGraphicEl(_,S)}).remove(function(_){var A=g.getItemGraphicEl(_);A&&p.remove(A)}).execute(),this._data=m},remove:function(u){var d=this.group,f=this._data;this._data=null,f&&f.eachItemGraphicEl(function(m){m&&d.remove(m)})},dispose:e.noop}),c=a.extend({type:"boxplotBoxPath",shape:{},buildPath:function(u,d){var f=d.points,m=0;for(u.moveTo(f[m][0],f[m][1]),m++;m<4;m++)u.lineTo(f[m][0],f[m][1]);for(u.closePath();m<f.length;m++)u.moveTo(f[m][0],f[m][1]),m++,u.lineTo(f[m][0],f[m][1])}});function n(u,d,f,m,p){var g=u.ends,y=new c({shape:{points:p?s(g,m,u):g}});return h(u,y,d,f,p),y}function h(u,d,f,m,p){var g=f.hostModel,y=r[p?"initProps":"updateProps"];y(d,{shape:{points:u.ends}},g,m);var _=f.getItemModel(m),A=_.getModel(i),S=f.getItemVisual(m,"color"),b=A.getItemStyle(["borderColor"]);b.stroke=S,b.strokeNoScale=!0,d.useStyle(b),d.z2=100;var x=_.getModel(o).getItemStyle();r.setHoverStyle(d,x)}function s(u,d,f){return e.map(u,function(m){return m=m.slice(),m[d]=f.initBaseline,m})}var v=l;return Fv=v,Fv}var Uv,I1;function UH(){if(I1)return Uv;I1=1;var e=["itemStyle","borderColor"];function t(r,a){var i=r.get("color");r.eachRawSeriesByType("boxplot",function(o){var l=i[o.seriesIndex%i.length],c=o.getData();c.setVisual({legendSymbol:"roundRect",color:o.get(e)||l}),r.isSeriesFiltered(o)||c.each(function(n){var h=c.getItemModel(n);c.setItemVisual(n,{color:h.get(e,!0)})})})}return Uv=t,Uv}var $v,R1;function $H(){if(R1)return $v;R1=1;var e=W,t=Re(),r=t.parsePercent,a=e.each;function i(n){var h=o(n);a(h,function(s){var v=s.seriesModels;v.length&&(l(s),a(v,function(u,d){c(u,s.boxOffsetList[d],s.boxWidthList[d])}))})}function o(n){var h=[],s=[];return n.eachSeriesByType("boxplot",function(v){var u=v.getBaseAxis(),d=e.indexOf(s,u);d<0&&(d=s.length,s[d]=u,h[d]={axis:u,seriesModels:[]}),h[d].seriesModels.push(v)}),h}function l(n){var h,s=n.axis,v=n.seriesModels,u=v.length,d=n.boxWidthList=[],f=n.boxOffsetList=[],m=[],p;if(s.type==="category")p=s.getBandWidth();else{var g=0;a(v,function(b){g=Math.max(g,b.getData().count())}),h=s.getExtent(),Math.abs(h[1]-h[0])/g}a(v,function(b){var x=b.get("boxWidth");e.isArray(x)||(x=[x,x]),m.push([r(x[0],p)||0,r(x[1],p)||0])});var y=p*.8-2,_=y/u*.3,A=(y-_*(u-1))/u,S=A/2-y/2;a(v,function(b,x){f.push(S),S+=_+A,d.push(Math.min(Math.max(A,m[x][0]),m[x][1]))})}function c(n,h,s){var v=n.coordinateSystem,u=n.getData(),d=s/2,f=n.get("layout")==="horizontal"?0:1,m=1-f,p=["x","y"],g=u.mapDimension(p[f]),y=u.mapDimension(p[m],!0);if(g==null||y.length<5)return;for(var _=0;_<u.count();_++){var A=u.get(g,_),S=C(A,y[2],_),b=C(A,y[0],_),x=C(A,y[1],_),w=C(A,y[3],_),T=C(A,y[4],_),M=[];D(M,x,0),D(M,w,1),M.push(b,x,T,w),L(M,b),L(M,T),L(M,S),u.setItemLayout(_,{initBaseline:S[m],ends:M})}function C(P,I,E){var z=u.get(I,E),N=[];N[f]=P,N[m]=z;var G;return isNaN(P)||isNaN(z)?G=[NaN,NaN]:(G=v.dataToPoint(N),G[f]+=h),G}function D(P,I,E){var z=I.slice(),N=I.slice();z[f]+=d,N[f]-=d,E?P.push(z,N):P.push(N,z)}function L(P,I){var E=I.slice(),z=I.slice();E[f]-=d,z[f]+=d,P.push(E,z)}}return $v=i,$v}var E1;function WH(){if(E1)return M1;E1=1;var e=xe;GH(),FH();var t=UH(),r=$H();return e.registerVisual(t),e.registerLayout(r),M1}var k1={},Wv,O1;function ZH(){if(O1)return Wv;O1=1;var e=W,t=ft,r=SM(),a=r.seriesModelMixin,i=t.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(l,c,n){var h=c.getItemLayout(l);return h&&n.rect(h.brushRect)}});e.mixin(i,a,!0);var o=i;return Wv=o,Wv}var Zv,z1;function YH(){if(z1)return Zv;z1=1;var e=W,t=br,r=de,a=at,i=Tn(),o=i.createClipPath,l=["itemStyle"],c=["emphasis","itemStyle"],n=["color","color0","borderColor","borderColor0"],h=t.extend({type:"candlestick",render:function(_,A,S){this.group.removeClipPath(),this._updateDrawMode(_),this._isLargeDraw?this._renderLarge(_):this._renderNormal(_)},incrementalPrepareRender:function(_,A,S){this._clear(),this._updateDrawMode(_)},incrementalRender:function(_,A,S,b){this._isLargeDraw?this._incrementalRenderLarge(_,A):this._incrementalRenderNormal(_,A)},_updateDrawMode:function(_){var A=_.pipelineContext.large;(this._isLargeDraw==null||A^this._isLargeDraw)&&(this._isLargeDraw=A,this._clear())},_renderNormal:function(_){var A=_.getData(),S=this._data,b=this.group,x=A.getLayout("isSimpleBox"),w=_.get("clip",!0),T=_.coordinateSystem,M=T.getArea&&T.getArea();this._data||b.removeAll(),A.diff(S).add(function(C){if(A.hasValue(C)){var D,L=A.getItemLayout(C);if(w&&u(M,L))return;D=v(L,C,!0),r.initProps(D,{shape:{points:L.ends}},_,C),d(D,A,C,x),b.add(D),A.setItemGraphicEl(C,D)}}).update(function(C,D){var L=S.getItemGraphicEl(D);if(!A.hasValue(C)){b.remove(L);return}var P=A.getItemLayout(C);if(w&&u(M,P)){b.remove(L);return}L?r.updateProps(L,{shape:{points:P.ends}},_,C):L=v(P),d(L,A,C,x),b.add(L),A.setItemGraphicEl(C,L)}).remove(function(C){var D=S.getItemGraphicEl(C);D&&b.remove(D)}).execute(),this._data=A},_renderLarge:function(_){this._clear(),p(_,this.group);var A=_.get("clip",!0)?o(_.coordinateSystem,!1,_):null;A?this.group.setClipPath(A):this.group.removeClipPath()},_incrementalRenderNormal:function(_,A){for(var S=A.getData(),b=S.getLayout("isSimpleBox"),x;(x=_.next())!=null;){var w,T=S.getItemLayout(x);w=v(T),d(w,S,x,b),w.incremental=!0,this.group.add(w)}},_incrementalRenderLarge:function(_,A){p(A,this.group,!0)},remove:function(_){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:e.noop}),s=a.extend({type:"normalCandlestickBox",shape:{},buildPath:function(_,A){var S=A.points;this.__simpleBox?(_.moveTo(S[4][0],S[4][1]),_.lineTo(S[6][0],S[6][1])):(_.moveTo(S[0][0],S[0][1]),_.lineTo(S[1][0],S[1][1]),_.lineTo(S[2][0],S[2][1]),_.lineTo(S[3][0],S[3][1]),_.closePath(),_.moveTo(S[4][0],S[4][1]),_.lineTo(S[5][0],S[5][1]),_.moveTo(S[6][0],S[6][1]),_.lineTo(S[7][0],S[7][1]))}});function v(_,A,S){var b=_.ends;return new s({shape:{points:S?f(b,_):b},z2:100})}function u(_,A){for(var S=!0,b=0;b<A.ends.length;b++)if(_.contain(A.ends[b][0],A.ends[b][1])){S=!1;break}return S}function d(_,A,S,b){var x=A.getItemModel(S),w=x.getModel(l),T=A.getItemVisual(S,"color"),M=A.getItemVisual(S,"borderColor")||T,C=w.getItemStyle(n);_.useStyle(C),_.style.strokeNoScale=!0,_.style.fill=T,_.style.stroke=M,_.__simpleBox=b;var D=x.getModel(c).getItemStyle();r.setHoverStyle(_,D)}function f(_,A){return e.map(_,function(S){return S=S.slice(),S[1]=A.initBaseline,S})}var m=a.extend({type:"largeCandlestickBox",shape:{},buildPath:function(_,A){for(var S=A.points,b=0;b<S.length;)if(this.__sign===S[b++]){var x=S[b++];_.moveTo(x,S[b++]),_.lineTo(x,S[b++])}else b+=3}});function p(_,A,S){var b=_.getData(),x=b.getLayout("largePoints"),w=new m({shape:{points:x},__sign:1});A.add(w);var T=new m({shape:{points:x},__sign:-1});A.add(T),g(1,w,_,b),g(-1,T,_,b),S&&(w.incremental=!0,T.incremental=!0)}function g(_,A,S,b){var x=_>0?"P":"N",w=b.getVisual("borderColor"+x)||b.getVisual("color"+x),T=S.getModel(l).getItemStyle(n);A.useStyle(T),A.style.fill=null,A.style.stroke=w}var y=h;return Zv=y,Zv}var Yv,B1;function XH(){if(B1)return Yv;B1=1;var e=W;function t(r){!r||!e.isArray(r.series)||e.each(r.series,function(a){e.isObject(a)&&a.type==="k"&&(a.type="candlestick")})}return Yv=t,Yv}var Xv,N1;function KH(){if(N1)return Xv;N1=1;var e=fi,t=["itemStyle","borderColor"],r=["itemStyle","borderColor0"],a=["itemStyle","color"],i=["itemStyle","color0"],o={seriesType:"candlestick",plan:e(),performRawSeries:!0,reset:function(l,c){var n=l.getData();if(n.setVisual({legendSymbol:"roundRect",colorP:v(1,l),colorN:v(-1,l),borderColorP:u(1,l),borderColorN:u(-1,l)}),c.isSeriesFiltered(l))return;var h=l.pipelineContext.large;return!h&&{progress:s};function s(d,f){for(var m;(m=d.next())!=null;){var p=f.getItemModel(m),g=f.getItemLayout(m).sign;f.setItemVisual(m,{color:v(g,p),borderColor:u(g,p)})}}function v(d,f){return f.get(d>0?a:i)}function u(d,f){return f.get(d>0?t:r)}}};return Xv=o,Xv}var Kv,V1;function QH(){if(V1)return Kv;V1=1;var e=de,t=e.subPixelOptimize,r=fi,a=Re(),i=a.parsePercent,o=W,l=o.retrieve2,c=typeof Float32Array<"u"?Float32Array:Array,n={seriesType:"candlestick",plan:r(),reset:function(v){var u=v.coordinateSystem,d=v.getData(),f=s(v,d),m=0,p=1,g=["x","y"],y=d.mapDimension(g[m]),_=d.mapDimension(g[p],!0),A=_[0],S=_[1],b=_[2],x=_[3];if(d.setLayout({candleWidth:f,isSimpleBox:f<=1.3}),y==null||_.length<4)return;return{progress:v.pipelineContext.large?T:w};function w(M,C){for(var D;(D=M.next())!=null;){var L=C.get(y,D),P=C.get(A,D),I=C.get(S,D),E=C.get(b,D),z=C.get(x,D),N=Math.min(P,I),G=Math.max(P,I),V=q(N,L),R=q(G,L),O=q(E,L),k=q(z,L),B=[];H(B,R,0),H(B,V,1),B.push(U(k),U(R),U(O),U(V)),C.setItemLayout(D,{sign:h(C,D,P,I,S),initBaseline:P>I?R[p]:V[p],ends:B,brushRect:F(E,z,L)})}function q($,Y){var K=[];return K[m]=Y,K[p]=$,isNaN(Y)||isNaN($)?[NaN,NaN]:u.dataToPoint(K)}function H($,Y,K){var J=Y.slice(),j=Y.slice();J[m]=t(J[m]+f/2,1,!1),j[m]=t(j[m]-f/2,1,!0),K?$.push(J,j):$.push(j,J)}function F($,Y,K){var J=q($,K),j=q(Y,K);return J[m]-=f/2,j[m]-=f/2,{x:J[0],y:J[1],width:f,height:j[1]-J[1]}}function U($){return $[m]=t($[m],1),$}}function T(M,C){for(var D=new c(M.count*4),L=0,P,I=[],E=[],z;(z=M.next())!=null;){var N=C.get(y,z),G=C.get(A,z),V=C.get(S,z),R=C.get(b,z),O=C.get(x,z);if(isNaN(N)||isNaN(R)||isNaN(O)){D[L++]=NaN,L+=3;continue}D[L++]=h(C,z,G,V,S),I[m]=N,I[p]=R,P=u.dataToPoint(I,null,E),D[L++]=P?P[0]:NaN,D[L++]=P?P[1]:NaN,I[p]=O,P=u.dataToPoint(I,null,E),D[L++]=P?P[1]:NaN}C.setLayout("largePoints",D)}}};function h(v,u,d,f,m){var p;return d>f?p=-1:d<f?p=1:p=u>0?v.get(m,u-1)<=f?1:-1:1,p}function s(v,u){var d=v.getBaseAxis(),f,m=d.type==="category"?d.getBandWidth():(f=d.getExtent(),Math.abs(f[1]-f[0])/u.count()),p=i(l(v.get("barMaxWidth"),m),m),g=i(l(v.get("barMinWidth"),1),m),y=v.get("barWidth");return y!=null?i(y,m):Math.max(Math.min(m/2,p),g)}return Kv=n,Kv}var H1;function jH(){if(H1)return k1;H1=1;var e=xe;ZH(),YH();var t=XH(),r=KH(),a=QH();return e.registerPreprocessor(t),e.registerVisual(r),e.registerLayout(a),k1}var q1={},Qv,G1;function JH(){if(G1)return Qv;G1=1;var e=Br(),t=ft,r=t.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});return Qv=r,Qv}var jv,F1;function e5(){if(F1)return jv;F1=1;var e=W,t=Zt(),r=t.createSymbol,a=de,i=a.Group,o=Re(),l=o.parsePercent,c=ss(),n=3;function h(f){return e.isArray(f)||(f=[+f,+f]),f}function s(f,m){var p=m.rippleEffectColor||m.color;f.eachChild(function(g){g.attr({z:m.z,zlevel:m.zlevel,style:{stroke:m.brushType==="stroke"?p:null,fill:m.brushType==="fill"?p:null}})})}function v(f,m){i.call(this);var p=new c(f,m),g=new i;this.add(p),this.add(g),g.beforeUpdate=function(){this.attr(p.getScale())},this.updateData(f,m)}var u=v.prototype;u.stopEffectAnimation=function(){this.childAt(1).removeAll()},u.startEffectAnimation=function(f){for(var m=f.symbolType,p=f.color,g=this.childAt(1),y=0;y<n;y++){var _=r(m,-1,-1,2,2,p);_.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var A=-y/n*f.period+f.effectOffset;_.animate("",!0).when(f.period,{scale:[f.rippleScale/2,f.rippleScale/2]}).delay(A).start(),_.animateStyle(!0).when(f.period,{opacity:0}).delay(A).start(),g.add(_)}s(g,f)},u.updateEffectAnimation=function(f){for(var m=this._effectCfg,p=this.childAt(1),g=["symbolType","period","rippleScale"],y=0;y<g.length;y++){var _=g[y];if(m[_]!==f[_]){this.stopEffectAnimation(),this.startEffectAnimation(f);return}}s(p,f)},u.highlight=function(){this.trigger("emphasis")},u.downplay=function(){this.trigger("normal")},u.updateData=function(f,m){var p=f.hostModel;this.childAt(0).updateData(f,m);var g=this.childAt(1),y=f.getItemModel(m),_=f.getItemVisual(m,"symbol"),A=h(f.getItemVisual(m,"symbolSize")),S=f.getItemVisual(m,"color");g.attr("scale",A),g.traverse(function(L){L.attr({fill:S})});var b=y.getShallow("symbolOffset");if(b){var x=g.position;x[0]=l(b[0],A[0]),x[1]=l(b[1],A[1])}var w=f.getItemVisual(m,"symbolRotate");g.rotation=(w||0)*Math.PI/180||0;var T={};if(T.showEffectOn=p.get("showEffectOn"),T.rippleScale=y.get("rippleEffect.scale"),T.brushType=y.get("rippleEffect.brushType"),T.period=y.get("rippleEffect.period")*1e3,T.effectOffset=m/f.count(),T.z=y.getShallow("z")||0,T.zlevel=y.getShallow("zlevel")||0,T.symbolType=_,T.color=S,T.rippleEffectColor=y.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),T.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(T):this.startEffectAnimation(T),this._effectCfg=T;else{this._effectCfg=null,this.stopEffectAnimation();var M=this.childAt(0),C=function(){M.highlight(),T.showEffectOn!=="render"&&this.startEffectAnimation(T)},D=function(){M.downplay(),T.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",C,this).on("mouseout",D,this).on("emphasis",C,this).on("normal",D,this)}this._effectCfg=T},u.fadeOut=function(f){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),f&&f()},e.inherits(v,i);var d=v;return jv=d,jv}var Jv,U1;function t5(){if(U1)return Jv;U1=1;var e=xe,t=An(),r=e5(),a=Pt(),i=Cn(),o=e.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new t(r)},render:function(l,c,n){var h=l.getData(),s=this._symbolDraw;s.updateData(h),this.group.add(s.group)},updateTransform:function(l,c,n){var h=l.getData();this.group.dirty();var s=i().reset(l);s.progress&&s.progress({start:0,end:h.count()},h),this._symbolDraw.updateLayout(h)},_updateGroupTransform:function(l){var c=l.coordinateSystem;c&&c.getRoamTransform&&(this.group.transform=a.clone(c.getRoamTransform()),this.group.decomposeTransform())},remove:function(l,c){this._symbolDraw&&this._symbolDraw.remove(c)},dispose:function(){}});return Jv=o,Jv}var $1;function r5(){if($1)return q1;$1=1;var e=xe;JH(),t5();var t=Ta(),r=Cn();return e.registerVisual(t("effectScatter","circle")),e.registerLayout(r("effectScatter")),q1}var W1={},eh,Z1;function a5(){if(Z1)return eh;Z1=1;var e=ft,t=Wt(),r=W,a=r.concatArray,i=r.mergeAll,o=r.map,l=Ge(),c=l.encodeHTML,n=typeof Uint32Array>"u"?Array:Uint32Array,h=typeof Float64Array>"u"?Array:Float64Array;function s(d){var f=d.data;f&&f[0]&&f[0][0]&&f[0][0].coord&&(d.data=o(f,function(m){var p=[m[0].coord,m[1].coord],g={coords:p};return m[0].name&&(g.fromName=m[0].name),m[1].name&&(g.toName=m[1].name),i([g,m[0],m[1]])}))}var v=e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(d){d.data=d.data||[],s(d);var f=this._processFlatCoordsArray(d.data);this._flatCoords=f.flatCoords,this._flatCoordsOffset=f.flatCoordsOffset,f.flatCoords&&(d.data=new Float32Array(f.count)),v.superApply(this,"init",arguments)},mergeOption:function(d){if(d.data=d.data||[],s(d),d.data){var f=this._processFlatCoordsArray(d.data);this._flatCoords=f.flatCoords,this._flatCoordsOffset=f.flatCoordsOffset,f.flatCoords&&(d.data=new Float32Array(f.count))}v.superApply(this,"mergeOption",arguments)},appendData:function(d){var f=this._processFlatCoordsArray(d.data);f.flatCoords&&(this._flatCoords?(this._flatCoords=a(this._flatCoords,f.flatCoords),this._flatCoordsOffset=a(this._flatCoordsOffset,f.flatCoordsOffset)):(this._flatCoords=f.flatCoords,this._flatCoordsOffset=f.flatCoordsOffset),d.data=new Float32Array(f.count)),this.getRawData().appendData(d.data)},_getCoordsFromItemModel:function(d){var f=this.getData().getItemModel(d),m=f.option instanceof Array?f.option:f.getShallow("coords");return m},getLineCoordsCount:function(d){return this._flatCoordsOffset?this._flatCoordsOffset[d*2+1]:this._getCoordsFromItemModel(d).length},getLineCoords:function(d,f){if(this._flatCoordsOffset){for(var m=this._flatCoordsOffset[d*2],p=this._flatCoordsOffset[d*2+1],g=0;g<p;g++)f[g]=f[g]||[],f[g][0]=this._flatCoords[m+g*2],f[g][1]=this._flatCoords[m+g*2+1];return p}else{for(var y=this._getCoordsFromItemModel(d),g=0;g<y.length;g++)f[g]=f[g]||[],f[g][0]=y[g][0],f[g][1]=y[g][1];return y.length}},_processFlatCoordsArray:function(d){var f=0;if(this._flatCoords&&(f=this._flatCoords.length),typeof d[0]=="number"){for(var m=d.length,p=new n(m),g=new h(m),y=0,_=0,A=0,S=0;S<m;){A++;var b=d[S++];p[_++]=y+f,p[_++]=b;for(var x=0;x<b;x++){var w=d[S++],T=d[S++];g[y++]=w,g[y++]=T}}return{flatCoordsOffset:new Uint32Array(p.buffer,0,_),flatCoords:g,count:A}}return{flatCoordsOffset:null,flatCoords:null,count:d.length}},getInitialData:function(d,f){var m=new t(["value"],this);return m.hasItemOption=!1,m.initData(d.data,[],function(p,g,y,_){if(p instanceof Array)return NaN;m.hasItemOption=!0;var A=p.value;if(A!=null)return A instanceof Array?A[_]:A}),m},formatTooltip:function(d){var f=this.getData(),m=f.getItemModel(d),p=m.get("name");if(p)return p;var g=m.get("fromName"),y=m.get("toName"),_=[];return g!=null&&_.push(g),y!=null&&_.push(y),c(_.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var d=this.option.progressive;return d??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){var d=this.option.progressiveThreshold;return d??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),u=v;return eh=u,eh}var th,Y1;function bM(){if(Y1)return th;Y1=1;var e=de,t=Jd(),r=W,a=Zt(),i=a.createSymbol,o=Ye(),l=vt;function c(s,v,u){e.Group.call(this),this.add(this.createLine(s,v,u)),this._updateEffectSymbol(s,v)}var n=c.prototype;n.createLine=function(s,v,u){return new t(s,v,u)},n._updateEffectSymbol=function(s,v){var u=s.getItemModel(v),d=u.getModel("effect"),f=d.get("symbolSize"),m=d.get("symbol");r.isArray(f)||(f=[f,f]);var p=d.get("color")||s.getItemVisual(v,"color"),g=this.childAt(1);this._symbolType!==m&&(this.remove(g),g=i(m,-.5,-.5,1,1,p),g.z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",p),g.setStyle(d.getItemStyle(["color"])),g.attr("scale",f),g.setColor(p),g.attr("scale",f),this._symbolType=m,this._symbolScale=f,this._updateEffectAnimation(s,d,v))},n._updateEffectAnimation=function(s,v,u){var d=this.childAt(1);if(d){var f=this,m=s.getItemLayout(u),p=v.get("period")*1e3,g=v.get("loop"),y=v.get("constantSpeed"),_=r.retrieve(v.get("delay"),function(x){return x/s.count()*p/3}),A=typeof _=="function";if(d.ignore=!0,this.updateAnimationPoints(d,m),y>0&&(p=this.getLineLength(d)/y*1e3),p!==this._period||g!==this._loop){d.stopAnimation();var S=_;A&&(S=_(u)),d.__t>0&&(S=-p*d.__t),d.__t=0;var b=d.animate("",g).when(p,{__t:1}).delay(S).during(function(){f.updateSymbolPosition(d)});g||b.done(function(){f.remove(d)}),b.start()}this._period=p,this._loop=g}},n.getLineLength=function(s){return o.dist(s.__p1,s.__cp1)+o.dist(s.__cp1,s.__p2)},n.updateAnimationPoints=function(s,v){s.__p1=v[0],s.__p2=v[1],s.__cp1=v[2]||[(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2]},n.updateData=function(s,v,u){this.childAt(0).updateData(s,v,u),this._updateEffectSymbol(s,v)},n.updateSymbolPosition=function(s){var v=s.__p1,u=s.__p2,d=s.__cp1,f=s.__t,m=s.position,p=[m[0],m[1]],g=l.quadraticAt,y=l.quadraticDerivativeAt;m[0]=g(v[0],d[0],u[0],f),m[1]=g(v[1],d[1],u[1],f);var _=y(v[0],d[0],u[0],f),A=y(v[1],d[1],u[1],f);if(s.rotation=-Math.atan2(A,_)-Math.PI/2,this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")if(s.__lastT!==void 0&&s.__lastT<s.__t){var S=o.dist(p,m)*1.05;s.attr("scale",[s.scale[0],S]),f===1&&(m[0]=p[0]+(m[0]-p[0])/2,m[1]=p[1]+(m[1]-p[1])/2)}else if(s.__lastT===1){var S=2*o.dist(v,m);s.attr("scale",[s.scale[0],S])}else s.attr("scale",this._symbolScale);s.__lastT=s.__t,s.ignore=!1},n.updateLayout=function(s,v){this.childAt(0).updateLayout(s,v);var u=s.getItemModel(v).getModel("effect");this._updateEffectAnimation(s,u,v)},r.inherits(c,e.Group);var h=c;return th=h,th}var rh,X1;function wM(){if(X1)return rh;X1=1;var e=de,t=W;function r(o,l,c){e.Group.call(this),this._createPolyline(o,l,c)}var a=r.prototype;a._createPolyline=function(o,l,c){var n=o.getItemLayout(l),h=new e.Polyline({shape:{points:n}});this.add(h),this._updateCommonStl(o,l,c)},a.updateData=function(o,l,c){var n=o.hostModel,h=this.childAt(0),s={shape:{points:o.getItemLayout(l)}};e.updateProps(h,s,n,l),this._updateCommonStl(o,l,c)},a._updateCommonStl=function(o,l,c){var n=this.childAt(0),h=o.getItemModel(l),s=o.getItemVisual(l,"color"),v=c&&c.lineStyle,u=c&&c.hoverLineStyle;(!c||o.hasItemOption)&&(v=h.getModel("lineStyle").getLineStyle(),u=h.getModel("emphasis.lineStyle").getLineStyle()),n.useStyle(t.defaults({strokeNoScale:!0,fill:"none",stroke:s},v)),n.hoverStyle=u,e.setHoverStyle(this)},a.updateLayout=function(o,l){var c=this.childAt(0);c.setShape("points",o.getItemLayout(l))},t.inherits(r,e.Group);var i=r;return rh=i,rh}var ah,K1;function i5(){if(K1)return ah;K1=1;var e=wM(),t=W,r=bM(),a=Ye();function i(c,n,h){r.call(this,c,n,h),this._lastFrame=0,this._lastFramePercent=0}var o=i.prototype;o.createLine=function(c,n,h){return new e(c,n,h)},o.updateAnimationPoints=function(c,n){this._points=n;for(var h=[0],s=0,v=1;v<n.length;v++){var u=n[v-1],d=n[v];s+=a.dist(u,d),h.push(s)}if(s!==0){for(var v=0;v<h.length;v++)h[v]/=s;this._offsets=h,this._length=s}},o.getLineLength=function(c){return this._length},o.updateSymbolPosition=function(c){var n=c.__t,h=this._points,s=this._offsets,v=h.length;if(s){var u=this._lastFrame,d;if(n<this._lastFramePercent){var f=Math.min(u+1,v-1);for(d=f;d>=0&&!(s[d]<=n);d--);d=Math.min(d,v-2)}else{for(var d=u;d<v&&!(s[d]>n);d++);d=Math.min(d-1,v-2)}a.lerp(c.position,h[d],h[d+1],(n-s[d])/(s[d+1]-s[d]));var m=h[d+1][0]-h[d][0],p=h[d+1][1]-h[d][1];c.rotation=-Math.atan2(p,m)-Math.PI/2,this._lastFrame=d,this._lastFramePercent=n,c.ignore=!1}},t.inherits(i,r);var l=i;return ah=l,ah}var ih,Q1;function n5(){if(Q1)return ih;Q1=1;var e=de,t=Cd,r=md,a=yd,i=e.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(n,h){var s=h.segs,v=h.curveness;if(h.polyline)for(var u=0;u<s.length;){var d=s[u++];if(d>0){n.moveTo(s[u++],s[u++]);for(var f=1;f<d;f++)n.lineTo(s[u++],s[u++])}}else for(var u=0;u<s.length;){var m=s[u++],p=s[u++],g=s[u++],y=s[u++];if(n.moveTo(m,p),v>0){var _=(m+g)/2-(p-y)*v,A=(p+y)/2-(g-m)*v;n.quadraticCurveTo(_,A,g,y)}else n.lineTo(g,y)}},findDataIndex:function(n,h){var s=this.shape,v=s.segs,u=s.curveness;if(s.polyline)for(var d=0,f=0;f<v.length;){var m=v[f++];if(m>0)for(var p=v[f++],g=v[f++],y=1;y<m;y++){var _=v[f++],A=v[f++];if(r.containStroke(p,g,_,A))return d}d++}else for(var d=0,f=0;f<v.length;){var p=v[f++],g=v[f++],_=v[f++],A=v[f++];if(u>0){var S=(p+_)/2-(g-A)*u,b=(g+A)/2-(_-p)*u;if(a.containStroke(p,g,S,b,_,A))return d}else if(r.containStroke(p,g,_,A))return d;d++}return-1}});function o(){this.group=new e.Group}var l=o.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(n){this.group.removeAll();var h=new i({rectHover:!0,cursor:"default"});h.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(h,n),this.group.add(h),this._incremental=null},l.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clearIncremental(),n.count()>5e5?(this._incremental||(this._incremental=new t({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(n,h){var s=new i;s.setShape({segs:h.getLayout("linesPoints")}),this._setCommon(s,h,!!this._incremental),this._incremental?this._incremental.addDisplayable(s,!0):(s.rectHover=!0,s.cursor="default",s.__startIndex=n.start,this.group.add(s))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._setCommon=function(n,h,s){var v=h.hostModel;n.setShape({polyline:v.get("polyline"),curveness:v.get("lineStyle.curveness")}),n.useStyle(v.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var u=h.getVisual("color");u&&n.setStyle("stroke",u),n.setStyle("fill"),s||(n.seriesIndex=v.seriesIndex,n.on("mousemove",function(d){n.dataIndex=null;var f=n.findDataIndex(d.offsetX,d.offsetY);f>0&&(n.dataIndex=f+n.__startIndex)}))},l._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()};var c=o;return ih=c,ih}var nh,j1;function AM(){if(j1)return nh;j1=1;var e=fi,t={seriesType:"lines",plan:e(),reset:function(r){var a=r.coordinateSystem,i=r.get("polyline"),o=r.pipelineContext.large;function l(c,n){var h=[];if(o){var s,v=c.end-c.start;if(i){for(var u=0,d=c.start;d<c.end;d++)u+=r.getLineCoordsCount(d);s=new Float32Array(v+u*2)}else s=new Float32Array(v*4);for(var f=0,m=[],d=c.start;d<c.end;d++){var p=r.getLineCoords(d,h);i&&(s[f++]=p);for(var g=0;g<p;g++)m=a.dataToPoint(h[g],!1,m),s[f++]=m[0],s[f++]=m[1]}n.setLayout("linesPoints",s)}else for(var d=c.start;d<c.end;d++){var y=n.getItemModel(d),p=r.getLineCoords(d,h),_=[];if(i)for(var A=0;A<p;A++)_.push(a.dataToPoint(h[A]));else{_[0]=a.dataToPoint(h[0]),_[1]=a.dataToPoint(h[1]);var S=y.get("lineStyle.curveness");+S&&(_[2]=[(_[0][0]+_[1][0])/2-(_[0][1]-_[1][1])*S,(_[0][1]+_[1][1])/2-(_[1][0]-_[0][0])*S])}n.setItemLayout(d,_)}}return{progress:l}}};return nh=t,nh}var oh,J1;function o5(){if(J1)return oh;J1=1;var e=xe,t=eg(),r=bM(),a=Jd(),i=wM(),o=i5(),l=n5(),c=AM(),n=Tn(),h=n.createClipPath,s=e.extendChartView({type:"lines",init:function(){},render:function(v,u,d){var f=v.getData(),m=this._updateLineDraw(f,v),p=v.get("zlevel"),g=v.get("effect.trailLength"),y=d.getZr(),_=y.painter.getType()==="svg";_||y.painter.getLayer(p).clear(!0),this._lastZlevel!=null&&!_&&y.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(v)&&g&&(_||y.configLayer(p,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})),m.updateData(f);var A=v.get("clip",!0)&&h(v.coordinateSystem,!1,v);A?this.group.setClipPath(A):this.group.removeClipPath(),this._lastZlevel=p,this._finished=!0},incrementalPrepareRender:function(v,u,d){var f=v.getData(),m=this._updateLineDraw(f,v);m.incrementalPrepareUpdate(f),this._clearLayer(d),this._finished=!1},incrementalRender:function(v,u,d){this._lineDraw.incrementalUpdate(v,u.getData()),this._finished=v.end===u.getData().count()},updateTransform:function(v,u,d){var f=v.getData(),m=v.pipelineContext;if(!this._finished||m.large||m.progressiveRender)return{update:!0};var p=c.reset(v);p.progress&&p.progress({start:0,end:f.count()},f),this._lineDraw.updateLayout(),this._clearLayer(d)},_updateLineDraw:function(v,u){var d=this._lineDraw,f=this._showEffect(u),m=!!u.get("polyline"),p=u.pipelineContext,g=p.large;return(!d||f!==this._hasEffet||m!==this._isPolyline||g!==this._isLargeDraw)&&(d&&d.remove(),d=this._lineDraw=g?new l:new t(m?f?o:i:f?r:a),this._hasEffet=f,this._isPolyline=m,this._isLargeDraw=g,this.group.removeAll()),this.group.add(d.group),d},_showEffect:function(v){return!!v.get("effect.show")},_clearLayer:function(v){var u=v.getZr(),d=u.painter.getType()==="svg";!d&&this._lastZlevel!=null&&u.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(v,u){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(u)},dispose:function(){}});return oh=s,oh}var sh,ex;function s5(){if(ex)return sh;ex=1;function e(a){return a instanceof Array||(a=[a,a]),a}var t="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(a,i,o){var l=e(a.get("symbol")),c=e(a.get("symbolSize")),n=a.getData();n.setVisual("fromSymbol",l&&l[0]),n.setVisual("toSymbol",l&&l[1]),n.setVisual("fromSymbolSize",c&&c[0]),n.setVisual("toSymbolSize",c&&c[1]),n.setVisual("opacity",a.get(t));function h(s,v){var u=s.getItemModel(v),d=e(u.getShallow("symbol",!0)),f=e(u.getShallow("symbolSize",!0)),m=u.get(t);d[0]&&s.setItemVisual(v,"fromSymbol",d[0]),d[1]&&s.setItemVisual(v,"toSymbol",d[1]),f[0]&&s.setItemVisual(v,"fromSymbolSize",f[0]),f[1]&&s.setItemVisual(v,"toSymbolSize",f[1]),s.setItemVisual(v,"opacity",m)}return{dataEach:n.hasItemOption?h:null}}};return sh=r,sh}var tx;function l5(){if(tx)return W1;tx=1;var e=xe;a5(),o5();var t=AM(),r=s5();return e.registerLayout(t),e.registerVisual(r),W1}var rx={},lh,ax;function u5(){if(ax)return lh;ax=1;var e=ft,t=Br(),r=Sr,a=e.extend({type:"series.heatmap",getInitialData:function(i,o){return t(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var i=r.get(this.get("coordinateSystem"));if(i&&i.dimensions)return i.dimensions[0]==="lng"&&i.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});return lh=a,lh}var uh,ix;function v5(){if(ix)return uh;ix=1;var e=W,t=256;function r(){var i=e.createCanvas();this.canvas=i,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(i,o,l,c,n,h){var s=this._getBrush(),v=this._getGradient(i,n,"inRange"),u=this._getGradient(i,n,"outOfRange"),d=this.pointSize+this.blurSize,f=this.canvas,m=f.getContext("2d"),p=i.length;f.width=o,f.height=l;for(var g=0;g<p;++g){var y=i[g],_=y[0],A=y[1],S=y[2],b=c(S);m.globalAlpha=b,m.drawImage(s,_-d,A-d)}if(!f.width||!f.height)return f;for(var x=m.getImageData(0,0,f.width,f.height),w=x.data,T=0,M=w.length,C=this.minOpacity,D=this.maxOpacity,L=D-C;T<M;){var b=w[T+3]/256,P=Math.floor(b*(t-1))*4;if(b>0){var I=h(b)?v:u;b>0&&(b=b*L+C),w[T++]=I[P],w[T++]=I[P+1],w[T++]=I[P+2],w[T++]=I[P+3]*b*256}else T+=4}return m.putImageData(x,0,0),f},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=e.createCanvas()),o=this.pointSize+this.blurSize,l=o*2;i.width=l,i.height=l;var c=i.getContext("2d");return c.clearRect(0,0,l,l),c.shadowOffsetX=l,c.shadowBlur=this.blurSize,c.shadowColor="#000",c.beginPath(),c.arc(-o,o,this.pointSize,0,Math.PI*2,!0),c.closePath(),c.fill(),i},_getGradient:function(i,o,l){for(var c=this._gradientPixels,n=c[l]||(c[l]=new Uint8ClampedArray(256*4)),h=[0,0,0,0],s=0,v=0;v<256;v++)o[l](v/255,!0,h),n[s++]=h[0],n[s++]=h[1],n[s++]=h[2],n[s++]=h[3];return n}};var a=r;return uh=a,uh}var vh,nx;function h5(){if(nx)return vh;nx=1;var e=xe,t=de,r=v5(),a=W;function i(n,h,s){var v=n[1]-n[0];h=a.map(h,function(f){return{interval:[(f.interval[0]-n[0])/v,(f.interval[1]-n[0])/v]}});var u=h.length,d=0;return function(f){for(var m=d;m<u;m++){var p=h[m].interval;if(p[0]<=f&&f<=p[1]){d=m;break}}if(m===u)for(var m=d-1;m>=0;m--){var p=h[m].interval;if(p[0]<=f&&f<=p[1]){d=m;break}}return m>=0&&m<u&&s[m]}}function o(n,h){var s=n[1]-n[0];return h=[(h[0]-n[0])/s,(h[1]-n[0])/s],function(v){return v>=h[0]&&v<=h[1]}}function l(n){var h=n.dimensions;return h[0]==="lng"&&h[1]==="lat"}var c=e.extendChartView({type:"heatmap",render:function(n,h,s){var v;h.eachComponent("visualMap",function(d){d.eachTargetSeries(function(f){f===n&&(v=d)})}),this.group.removeAll(),this._incrementalDisplayable=null;var u=n.coordinateSystem;u.type==="cartesian2d"||u.type==="calendar"?this._renderOnCartesianAndCalendar(n,s,0,n.getData().count()):l(u)&&this._renderOnGeo(u,n,v,s)},incrementalPrepareRender:function(n,h,s){this.group.removeAll()},incrementalRender:function(n,h,s,v){var u=h.coordinateSystem;u&&this._renderOnCartesianAndCalendar(h,v,n.start,n.end,!0)},_renderOnCartesianAndCalendar:function(n,h,s,v,u){var d=n.coordinateSystem,f,m;if(d.type==="cartesian2d"){var p=d.getAxis("x"),g=d.getAxis("y");f=p.getBandWidth(),m=g.getBandWidth()}for(var y=this.group,_=n.getData(),A="itemStyle",S="emphasis.itemStyle",b="label",x="emphasis.label",w=n.getModel(A).getItemStyle(["color"]),T=n.getModel(S).getItemStyle(),M=n.getModel(b),C=n.getModel(x),D=d.type,L=D==="cartesian2d"?[_.mapDimension("x"),_.mapDimension("y"),_.mapDimension("value")]:[_.mapDimension("time"),_.mapDimension("value")],P=s;P<v;P++){var I;if(D==="cartesian2d"){if(isNaN(_.get(L[2],P)))continue;var E=d.dataToPoint([_.get(L[0],P),_.get(L[1],P)]);I=new t.Rect({shape:{x:Math.floor(Math.round(E[0])-f/2),y:Math.floor(Math.round(E[1])-m/2),width:Math.ceil(f),height:Math.ceil(m)},style:{fill:_.getItemVisual(P,"color"),opacity:_.getItemVisual(P,"opacity")}})}else{if(isNaN(_.get(L[1],P)))continue;I=new t.Rect({z2:1,shape:d.dataToRect([_.get(L[0],P)]).contentShape,style:{fill:_.getItemVisual(P,"color"),opacity:_.getItemVisual(P,"opacity")}})}var z=_.getItemModel(P);_.hasItemOption&&(w=z.getModel(A).getItemStyle(["color"]),T=z.getModel(S).getItemStyle(),M=z.getModel(b),C=z.getModel(x));var N=n.getRawValue(P),G="-";N&&N[2]!=null&&(G=N[2]),t.setLabelStyle(w,T,M,C,{labelFetcher:n,labelDataIndex:P,defaultText:G,isRectText:!0}),I.setStyle(w),t.setHoverStyle(I,_.hasItemOption?T:a.extend({},T)),I.incremental=u,u&&(I.useHoverLayer=!0),y.add(I),_.setItemGraphicEl(P,I)}},_renderOnGeo:function(n,h,s,v){var u=s.targetVisuals.inRange,d=s.targetVisuals.outOfRange,f=h.getData(),m=this._hmLayer||this._hmLayer||new r;m.blurSize=h.get("blurSize"),m.pointSize=h.get("pointSize"),m.minOpacity=h.get("minOpacity"),m.maxOpacity=h.get("maxOpacity");var p=n.getViewRect().clone(),g=n.getRoamTransform();p.applyTransform(g);var y=Math.max(p.x,0),_=Math.max(p.y,0),A=Math.min(p.width+p.x,v.getWidth()),S=Math.min(p.height+p.y,v.getHeight()),b=A-y,x=S-_,w=[f.mapDimension("lng"),f.mapDimension("lat"),f.mapDimension("value")],T=f.mapArray(w,function(L,P,I){var E=n.dataToPoint([L,P]);return E[0]-=y,E[1]-=_,E.push(I),E}),M=s.getExtent(),C=s.type==="visualMap.continuous"?o(M,s.option.range):i(M,s.getPieceList(),s.option.selected);m.update(T,b,x,u.color.getNormalizer(),{inRange:u.color.getColorMapper(),outOfRange:d.color.getColorMapper()},C);var D=new t.Image({style:{width:b,height:x,x:y,y:_,image:m.canvas},silent:!0});this.group.add(D)},dispose:function(){}});return vh=c,vh}var ox;function c5(){return ox||(ox=1,u5(),h5()),rx}var sx={},hh,lx;function f5(){if(lx)return hh;lx=1;var e=oM(),t=e.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,t.superApply(this,"getInitialData",arguments)}}),r=t;return hh=r,hh}var ch,ux;function d5(){if(ux)return ch;ux=1;var e=xe,t=W,r=de,a=Zt(),i=a.createSymbol,o=Re(),l=o.parsePercent,c=o.isNumeric,n=sM(),h=n.setLabel,s=["itemStyle","borderWidth"],v=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],u=new r.Circle,d=e.extendChartView({type:"pictorialBar",render:function(O,k,B){var q=this.group,H=O.getData(),F=this._data,U=O.coordinateSystem,$=U.getBaseAxis(),Y=!!$.isHorizontal(),K=U.grid.getRect(),J={ecSize:{width:B.getWidth(),height:B.getHeight()},seriesModel:O,coordSys:U,coordSysExtent:[[K.x,K.x+K.width],[K.y,K.y+K.height]],isHorizontal:Y,valueDim:v[+Y],categoryDim:v[1-Y]};return H.diff(F).add(function(j){if(H.hasValue(j)){var ee=T(H,j),te=f(H,j,ee,J),ie=L(H,J,te);H.setItemGraphicEl(j,ie),q.add(ie),G(ie,J,te)}}).update(function(j,ee){var te=F.getItemGraphicEl(ee);if(!H.hasValue(j)){q.remove(te);return}var ie=T(H,j),ge=f(H,j,ie,J),oe=E(H,ge);te&&oe!==te.__pictorialShapeStr&&(q.remove(te),H.setItemGraphicEl(j,null),te=null),te?P(te,J,ge):te=L(H,J,ge,!0),H.setItemGraphicEl(j,te),te.__pictorialSymbolMeta=ge,q.add(te),G(te,J,ge)}).remove(function(j){var ee=F.getItemGraphicEl(j);ee&&I(F,j,ee.__pictorialSymbolMeta.animationModel,ee)}).execute(),this._data=H,this.group},dispose:t.noop,remove:function(O,k){var B=this.group,q=this._data;O.get("animation")?q&&q.eachItemGraphicEl(function(H){I(q,H.dataIndex,O,H)}):B.removeAll()}});function f(O,k,B,q){var H=O.getItemLayout(k),F=B.get("symbolRepeat"),U=B.get("symbolClip"),$=B.get("symbolPosition")||"start",Y=B.get("symbolRotate"),K=(Y||0)*Math.PI/180||0,J=B.get("symbolPatternSize")||2,j=B.isAnimationEnabled(),ee={dataIndex:k,layout:H,itemModel:B,symbolType:O.getItemVisual(k,"symbol")||"circle",color:O.getItemVisual(k,"color"),symbolClip:U,symbolRepeat:F,symbolRepeatDirection:B.get("symbolRepeatDirection"),symbolPatternSize:J,rotation:K,animationModel:j?B:null,hoverAnimation:j&&B.get("hoverAnimation"),z2:B.getShallow("z",!0)||0};m(B,F,H,q,ee),g(O,k,H,F,U,ee.boundingLength,ee.pxSign,J,q,ee),y(B,ee.symbolScale,K,q,ee);var te=ee.symbolSize,ie=B.get("symbolOffset");return t.isArray(ie)&&(ie=[l(ie[0],te[0]),l(ie[1],te[1])]),_(B,te,H,F,U,ie,$,ee.valueLineWidth,ee.boundingLength,ee.repeatCutLength,q,ee),ee}function m(O,k,B,q,H){var F=q.valueDim,U=O.get("symbolBoundingData"),$=q.coordSys.getOtherAxis(q.coordSys.getBaseAxis()),Y=$.toGlobalCoord($.dataToCoord(0)),K=1-+(B[F.wh]<=0),J;if(t.isArray(U)){var j=[p($,U[0])-Y,p($,U[1])-Y];j[1]<j[0]&&j.reverse(),J=j[K]}else U!=null?J=p($,U)-Y:k?J=q.coordSysExtent[F.index][K]-Y:J=B[F.wh];H.boundingLength=J,k&&(H.repeatCutLength=B[F.wh]),H.pxSign=J>0?1:J<0?-1:0}function p(O,k){return O.toGlobalCoord(O.dataToCoord(O.scale.parse(k)))}function g(O,k,B,q,H,F,U,$,Y,K){var J=Y.valueDim,j=Y.categoryDim,ee=Math.abs(B[j.wh]),te=O.getItemVisual(k,"symbolSize");t.isArray(te)?te=te.slice():(te==null&&(te="100%"),te=[te,te]),te[j.index]=l(te[j.index],ee),te[J.index]=l(te[J.index],q?ee:Math.abs(F)),K.symbolSize=te;var ie=K.symbolScale=[te[0]/$,te[1]/$];ie[J.index]*=(Y.isHorizontal?-1:1)*U}function y(O,k,B,q,H){var F=O.get(s)||0;F&&(u.attr({scale:k.slice(),rotation:B}),u.updateTransform(),F/=u.getLineScale(),F*=k[q.valueDim.index]),H.valueLineWidth=F}function _(O,k,B,q,H,F,U,$,Y,K,J,j){var ee=J.categoryDim,te=J.valueDim,ie=j.pxSign,ge=Math.max(k[te.index]+$,0),oe=ge;if(q){var fe=Math.abs(Y),pe=t.retrieve(O.get("symbolMargin"),"15%")+"",ne=!1;pe.lastIndexOf("!")===pe.length-1&&(ne=!0,pe=pe.slice(0,pe.length-1)),pe=l(pe,k[te.index]);var se=Math.max(ge+pe*2,0),me=ne?0:pe*2,Z=c(q),Q=Z?q:V((fe+me)/se),re=fe-Q*ge;pe=re/2/(ne?Q:Q-1),se=ge+pe*2,me=ne?0:pe*2,!Z&&q!=="fixed"&&(Q=K?V((Math.abs(K)+me)/se):0),oe=Q*se-me,j.repeatTimes=Q,j.symbolMargin=pe}var le=ie*(oe/2),ue=j.pathPosition=[];ue[ee.index]=B[ee.wh]/2,ue[te.index]=U==="start"?le:U==="end"?Y-le:Y/2,F&&(ue[0]+=F[0],ue[1]+=F[1]);var ve=j.bundlePosition=[];ve[ee.index]=B[ee.xy],ve[te.index]=B[te.xy];var he=j.barRectShape=t.extend({},B);he[te.wh]=ie*Math.max(Math.abs(B[te.wh]),Math.abs(ue[te.index]+le)),he[ee.wh]=B[ee.wh];var ye=j.clipShape={};ye[ee.xy]=-B[ee.xy],ye[ee.wh]=J.ecSize[ee.wh],ye[te.xy]=0,ye[te.wh]=B[te.wh]}function A(O){var k=O.symbolPatternSize,B=i(O.symbolType,-k/2,-k/2,k,k,O.color);return B.attr({culling:!0}),B.type!=="image"&&B.setStyle({strokeNoScale:!0}),B}function S(O,k,B,q){var H=O.__pictorialBundle,F=B.symbolSize,U=B.valueLineWidth,$=B.pathPosition,Y=k.valueDim,K=B.repeatTimes||0,J=0,j=F[k.valueDim.index]+U+B.symbolMargin*2;for(z(O,function(fe){fe.__pictorialAnimationIndex=J,fe.__pictorialRepeatTimes=K,J<K?N(fe,null,ie(J),B,q):N(fe,null,{scale:[0,0]},B,q,function(){H.remove(fe)}),D(fe,B),J++});J<K;J++){var ee=A(B);ee.__pictorialAnimationIndex=J,ee.__pictorialRepeatTimes=K,H.add(ee);var te=ie(J);N(ee,{position:te.position,scale:[0,0]},{scale:te.scale,rotation:te.rotation},B,q),ee.on("mouseover",ge).on("mouseout",oe),D(ee,B)}function ie(fe){var pe=$.slice(),ne=B.pxSign,se=fe;return(B.symbolRepeatDirection==="start"?ne>0:ne<0)&&(se=K-1-fe),pe[Y.index]=j*(se-K/2+.5)+$[Y.index],{position:pe,scale:B.symbolScale.slice(),rotation:B.rotation}}function ge(){z(O,function(fe){fe.trigger("emphasis")})}function oe(){z(O,function(fe){fe.trigger("normal")})}}function b(O,k,B,q){var H=O.__pictorialBundle,F=O.__pictorialMainPath;F?N(F,null,{position:B.pathPosition.slice(),scale:B.symbolScale.slice(),rotation:B.rotation},B,q):(F=O.__pictorialMainPath=A(B),H.add(F),N(F,{position:B.pathPosition.slice(),scale:[0,0],rotation:B.rotation},{scale:B.symbolScale.slice()},B,q),F.on("mouseover",U).on("mouseout",$)),D(F,B);function U(){this.trigger("emphasis")}function $(){this.trigger("normal")}}function x(O,k,B){var q=t.extend({},k.barRectShape),H=O.__pictorialBarRect;H?N(H,null,{shape:q},k,B):(H=O.__pictorialBarRect=new r.Rect({z2:2,shape:q,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),O.add(H))}function w(O,k,B,q){if(B.symbolClip){var H=O.__pictorialClipPath,F=t.extend({},B.clipShape),U=k.valueDim,$=B.animationModel,Y=B.dataIndex;if(H)r.updateProps(H,{shape:F},$,Y);else{F[U.wh]=0,H=new r.Rect({shape:F}),O.__pictorialBundle.setClipPath(H),O.__pictorialClipPath=H;var K={};K[U.wh]=B.clipShape[U.wh],r[q?"updateProps":"initProps"](H,{shape:K},$,Y)}}}function T(O,k){var B=O.getItemModel(k);return B.getAnimationDelayParams=M,B.isAnimationEnabled=C,B}function M(O){return{index:O.__pictorialAnimationIndex,count:O.__pictorialRepeatTimes}}function C(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function D(O,k){O.off("emphasis").off("normal");var B=k.symbolScale.slice();k.hoverAnimation&&O.on("emphasis",function(){this.animateTo({scale:[B[0]*1.1,B[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:B.slice()},400,"elasticOut")})}function L(O,k,B,q){var H=new r.Group,F=new r.Group;return H.add(F),H.__pictorialBundle=F,F.attr("position",B.bundlePosition.slice()),B.symbolRepeat?S(H,k,B):b(H,k,B),x(H,B,q),w(H,k,B,q),H.__pictorialShapeStr=E(O,B),H.__pictorialSymbolMeta=B,H}function P(O,k,B){var q=B.animationModel,H=B.dataIndex,F=O.__pictorialBundle;r.updateProps(F,{position:B.bundlePosition.slice()},q,H),B.symbolRepeat?S(O,k,B,!0):b(O,k,B,!0),x(O,B,!0),w(O,k,B,!0)}function I(O,k,B,q){var H=q.__pictorialBarRect;H&&(H.style.text=null);var F=[];z(q,function(U){F.push(U)}),q.__pictorialMainPath&&F.push(q.__pictorialMainPath),q.__pictorialClipPath&&(B=null),t.each(F,function(U){r.updateProps(U,{scale:[0,0]},B,k,function(){q.parent&&q.parent.remove(q)})}),O.setItemGraphicEl(k,null)}function E(O,k){return[O.getItemVisual(k.dataIndex,"symbol")||"none",!!k.symbolRepeat,!!k.symbolClip].join(":")}function z(O,k,B){t.each(O.__pictorialBundle.children(),function(q){q!==O.__pictorialBarRect&&k.call(B,q)})}function N(O,k,B,q,H,F){k&&O.attr(k),q.symbolClip&&!H?B&&O.attr(B):B&&r[H?"updateProps":"initProps"](O,B,q.animationModel,q.dataIndex,F)}function G(O,k,B){var q=B.color,H=B.dataIndex,F=B.itemModel,U=F.getModel("itemStyle").getItemStyle(["color"]),$=F.getModel("emphasis.itemStyle").getItemStyle(),Y=F.getShallow("cursor");z(O,function(ee){ee.setColor(q),ee.setStyle(t.defaults({fill:q,opacity:B.opacity},U)),r.setHoverStyle(ee,$),Y&&(ee.cursor=Y),ee.z2=B.z2});var K={},J=k.valueDim.posDesc[+(B.boundingLength>0)],j=O.__pictorialBarRect;h(j.style,K,F,q,k.seriesModel,H,J),r.setHoverStyle(j,K)}function V(O){var k=Math.round(O);return Math.abs(O-k)<1e-4?k:Math.ceil(O)}var R=d;return ch=R,ch}var vx;function g5(){if(vx)return sx;vx=1;var e=xe,t=W;Wd(),f5(),d5();var r=os(),a=r.layout,i=Ta();return Mn(),e.registerLayout(t.curry(a,"pictorialBar")),e.registerVisual(i("pictorialBar","roundRect")),sx}var hx={},cx={},fx={},fh,dx;function p5(){if(dx)return fh;dx=1;var e=W,t=aa(),r=function(i,o,l,c,n){t.call(this,i,o,l),this.type=c||"value",this.position=n||"bottom",this.orient=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},pointToData:function(i,o){return this.coordinateSystem.pointToData(i,o)[0]},toGlobalCoord:null,toLocalCoord:null},e.inherits(r,t);var a=r;return fh=a,fh}var dh,gx;function m5(){if(gx)return dh;gx=1;var e=p5(),t=or(),r=ze,a=r.getLayoutRect,i=W,o=i.each;function l(n,h,s){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(n,h,s),this.model=n}l.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:l,_init:function(n,h,s){var v=this.dimension,u=new e(v,t.createScaleByModel(n),[0,0],n.get("type"),n.get("position")),d=u.type==="category";u.onBand=d&&n.get("boundaryGap"),u.inverse=n.get("inverse"),u.orient=n.get("orient"),n.axis=u,u.model=n,u.coordinateSystem=this,this._axis=u},update:function(n,h){n.eachSeries(function(s){if(s.coordinateSystem===this){var v=s.getData();o(v.mapDimension(this.dimension,!0),function(u){this._axis.scale.unionExtentFromData(v,u)},this),t.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(n,h){this._rect=a({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:h.getWidth(),height:h.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var n=this._rect,h=this._axis,s=h.isHorizontal(),v=s?[0,n.width]:[0,n.height],u=h.reverse?1:0;h.setExtent(v[u],v[1-u]),this._updateAxisTransform(h,s?n.x:n.y)},_updateAxisTransform:function(n,h){var s=n.getExtent(),v=s[0]+s[1],u=n.isHorizontal();n.toGlobalCoord=u?function(d){return d+h}:function(d){return v-d+h},n.toLocalCoord=u?function(d){return d-h}:function(d){return v-d+h}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(n){var h=this.getRect(),s=this.getAxis(),v=s.orient;return v==="horizontal"?s.contain(s.toLocalCoord(n[0]))&&n[1]>=h.y&&n[1]<=h.y+h.height:s.contain(s.toLocalCoord(n[1]))&&n[0]>=h.y&&n[0]<=h.y+h.height},pointToData:function(n){var h=this.getAxis();return[h.coordToData(h.toLocalCoord(n[h.orient==="horizontal"?0:1]))]},dataToPoint:function(n){var h=this.getAxis(),s=this.getRect(),v=[],u=h.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),v[u]=h.toGlobalCoord(h.dataToCoord(+n)),v[1-u]=u===0?s.y+s.height/2:s.x+s.width/2,v}};var c=l;return dh=c,dh}var px;function y5(){if(px)return fx;px=1;var e=m5(),t=Sr;function r(a,i){var o=[];return a.eachComponent("singleAxis",function(l,c){var n=new e(l,a,i);n.name="single_"+c,n.resize(l,i),l.coordinateSystem=n,o.push(n)}),a.eachSeries(function(l){if(l.get("coordinateSystem")==="singleAxis"){var c=a.queryComponents({mainType:"singleAxis",index:l.get("singleAxisIndex"),id:l.get("singleAxisId")})[0];l.coordinateSystem=c&&c.coordinateSystem}}),o}return t.register("single",{create:r,dimensions:e.prototype.dimensions}),fx}var gh={},mx;function TM(){if(mx)return gh;mx=1;var e=W;function t(r,a){a=a||{};var i=r.coordinateSystem,o=r.axis,l={},c=o.position,n=o.orient,h=i.getRect(),s=[h.x,h.x+h.width,h.y,h.y+h.height],v={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};l.position=[n==="vertical"?v.vertical[c]:s[0],n==="horizontal"?v.horizontal[c]:s[3]];var u={horizontal:0,vertical:1};l.rotation=Math.PI/2*u[n];var d={top:-1,bottom:1,right:1,left:-1};l.labelDirection=l.tickDirection=l.nameDirection=d[c],r.get("axisTick.inside")&&(l.tickDirection=-l.tickDirection),e.retrieve(a.labelInside,r.get("axisLabel.inside"))&&(l.labelDirection=-l.labelDirection);var f=a.rotate;return f==null&&(f=r.get("axisLabel.rotate")),l.labelRotation=c==="top"?-f:f,l.z2=1,l}return gh.layout=t,gh}var ph,yx;function _5(){if(yx)return ph;yx=1;var e=W,t=ia(),r=de,a=TM(),i=Ca(),o=nM(),l=o.rectCoordAxisBuildSplitArea,c=o.rectCoordAxisHandleRemove,n=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine"],s=i.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(u,d,f,m){var p=this.group;p.removeAll();var g=this._axisGroup;this._axisGroup=new r.Group;var y=a.layout(u),_=new t(u,y);e.each(n,_.add,_),p.add(this._axisGroup),p.add(_.getGroup()),e.each(h,function(A){u.get(A+".show")&&this["_"+A](u)},this),r.groupTransition(g,this._axisGroup,u),s.superCall(this,"render",u,d,f,m)},remove:function(){c(this)},_splitLine:function(u){var d=u.axis;if(!d.scale.isBlank()){var f=u.getModel("splitLine"),m=f.getModel("lineStyle"),p=m.get("width"),g=m.get("color");g=g instanceof Array?g:[g];for(var y=u.coordinateSystem.getRect(),_=d.isHorizontal(),A=[],S=0,b=d.getTicksCoords({tickModel:f}),x=[],w=[],T=0;T<b.length;++T){var M=d.toGlobalCoord(b[T].coord);_?(x[0]=M,x[1]=y.y,w[0]=M,w[1]=y.y+y.height):(x[0]=y.x,x[1]=M,w[0]=y.x+y.width,w[1]=M);var C=S++%g.length;A[C]=A[C]||[],A[C].push(new r.Line({subPixelOptimize:!0,shape:{x1:x[0],y1:x[1],x2:w[0],y2:w[1]},style:{lineWidth:p},silent:!0}))}for(var T=0;T<A.length;++T)this.group.add(r.mergePath(A[T],{style:{stroke:g[T%g.length],lineDash:m.getLineDash(p),lineWidth:p},silent:!0}))}},_splitArea:function(u){l(this,this._axisGroup,u,u)}}),v=s;return ph=v,ph}var mh,_x;function x5(){if(_x)return mh;_x=1;var e=W,t=ct,r=ls(),a=pi(),i=t.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),o={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};function l(n,h){return h.type||(h.data?"category":"value")}e.merge(i.prototype,a),r("single",i,l,o);var c=i;return mh=c,mh}var xx={},yh,Sx;function CM(){if(Sx)return yh;Sx=1;var e=W,t=Pe;function r(a,i){var o=[],l=a.seriesIndex,c;if(l==null||!(c=i.getSeriesByIndex(l)))return{point:[]};var n=c.getData(),h=t.queryDataIndex(n,a);if(h==null||h<0||e.isArray(h))return{point:[]};var s=n.getItemGraphicEl(h),v=c.coordinateSystem;if(c.getTooltipPosition)o=c.getTooltipPosition(h)||[];else if(v&&v.dataToPoint)o=v.dataToPoint(n.getValues(e.map(v.dimensions,function(d){return n.mapDimension(d)}),h,!0))||[];else if(s){var u=s.getBoundingRect().clone();u.applyTransform(s.transform),o=[u.x+u.width/2,u.y+u.height/2]}return{point:o,el:s}}return yh=r,yh}var _h,bx;function S5(){if(bx)return _h;bx=1;var e=W,t=Pe,r=t.makeInner,a=us(),i=CM(),o=e.each,l=e.curry,c=r();function n(_,A,S){var b=_.currTrigger,x=[_.x,_.y],w=_,T=_.dispatchAction||e.bind(S.dispatchAction,S),M=A.getComponent("axisPointer").coordSysAxesInfo;if(M){y(x)&&(x=i({seriesIndex:w.seriesIndex,dataIndex:w.dataIndex},A).point);var C=y(x),D=w.axesInfo,L=M.axesInfo,P=b==="leave"||y(x),I={},E={},z={list:[],map:{}},N={showPointer:l(v,E),showTooltip:l(u,z)};o(M.coordSysMap,function(V,R){var O=C||V.containPoint(x);o(M.coordSysAxesInfo[R],function(k,B){var q=k.axis,H=p(D,k);if(!P&&O&&(!D||H)){var F=H&&H.value;F==null&&!C&&(F=q.pointToData(x)),F!=null&&h(k,F,N,!1,I)}})});var G={};return o(L,function(V,R){var O=V.linkGroup;O&&!E[R]&&o(O.axesInfo,function(k,B){var q=E[B];if(k!==V&&q){var H=q.value;O.mapper&&(H=V.axis.scale.parse(O.mapper(H,g(k),g(V)))),G[V.key]=H}})}),o(G,function(V,R){h(L[R],V,N,!0,I)}),d(E,L,I),f(z,x,_,T),m(L,T,S),I}}function h(_,A,S,b,x){var w=_.axis;if(!(w.scale.isBlank()||!w.containData(A))){if(!_.involveSeries){S.showPointer(_,A);return}var T=s(A,_),M=T.payloadBatch,C=T.snapToValue;M[0]&&x.seriesIndex==null&&e.extend(x,M[0]),!b&&_.snap&&w.containData(C)&&C!=null&&(A=C),S.showPointer(_,A,M,x),S.showTooltip(_,T,C)}}function s(_,A){var S=A.axis,b=S.dim,x=_,w=[],T=Number.MAX_VALUE,M=-1;return o(A.seriesModels,function(C,D){var L=C.getData().mapDimension(b,!0),P,I;if(C.getAxisTooltipData){var E=C.getAxisTooltipData(L,_,S);I=E.dataIndices,P=E.nestestValue}else{if(I=C.getData().indicesOfNearest(L[0],_,S.type==="category"?.5:null),!I.length)return;P=C.getData().get(L[0],I[0])}if(!(P==null||!isFinite(P))){var z=_-P,N=Math.abs(z);N<=T&&((N<T||z>=0&&M<0)&&(T=N,M=z,x=P,w.length=0),o(I,function(G){w.push({seriesIndex:C.seriesIndex,dataIndexInside:G,dataIndex:C.getData().getRawIndex(G)})}))}}),{payloadBatch:w,snapToValue:x}}function v(_,A,S,b){_[A.key]={value:S,payloadBatch:b}}function u(_,A,S,b){var x=S.payloadBatch,w=A.axis,T=w.model,M=A.axisPointerModel;if(!(!A.triggerTooltip||!x.length)){var C=A.coordSys.model,D=a.makeKey(C),L=_.map[D];L||(L=_.map[D]={coordSysId:C.id,coordSysIndex:C.componentIndex,coordSysType:C.type,coordSysMainType:C.mainType,dataByAxis:[]},_.list.push(L)),L.dataByAxis.push({axisDim:w.dim,axisIndex:T.componentIndex,axisType:T.type,axisId:T.id,value:b,valueLabelOpt:{precision:M.get("label.precision"),formatter:M.get("label.formatter")},seriesDataIndices:x.slice()})}}function d(_,A,S){var b=S.axesInfo=[];o(A,function(x,w){var T=x.axisPointerModel.option,M=_[w];M?(!x.useHandle&&(T.status="show"),T.value=M.value,T.seriesDataIndices=(M.payloadBatch||[]).slice()):!x.useHandle&&(T.status="hide"),T.status==="show"&&b.push({axisDim:x.axis.dim,axisIndex:x.axis.model.componentIndex,value:T.value})})}function f(_,A,S,b){if(y(A)||!_.list.length){b({type:"hideTip"});return}var x=((_.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};b({type:"showTip",escapeConnect:!0,x:A[0],y:A[1],tooltipOption:S.tooltipOption,position:S.position,dataIndexInside:x.dataIndexInside,dataIndex:x.dataIndex,seriesIndex:x.seriesIndex,dataByCoordSys:_.list})}function m(_,A,S){var b=S.getZr(),x="axisPointerLastHighlights",w=c(b)[x]||{},T=c(b)[x]={};o(_,function(D,L){var P=D.axisPointerModel.option;P.status==="show"&&o(P.seriesDataIndices,function(I){var E=I.seriesIndex+" | "+I.dataIndex;T[E]=I})});var M=[],C=[];e.each(w,function(D,L){!T[L]&&C.push(D)}),e.each(T,function(D,L){!w[L]&&M.push(D)}),C.length&&S.dispatchAction({type:"downplay",escapeConnect:!0,batch:C}),M.length&&S.dispatchAction({type:"highlight",escapeConnect:!0,batch:M})}function p(_,A){for(var S=0;S<(_||[]).length;S++){var b=_[S];if(A.axis.dim===b.axisDim&&A.axis.model.componentIndex===b.axisIndex)return b}}function g(_){var A=_.axis.model,S={},b=S.axisDim=_.axis.dim;return S.axisIndex=S[b+"AxisIndex"]=A.componentIndex,S.axisName=S[b+"AxisName"]=A.name,S.axisId=S[b+"AxisId"]=A.id,S}function y(_){return!_||_[0]==null||isNaN(_[0])||_[1]==null||isNaN(_[1])}return _h=n,_h}var xh,Ax;function b5(){if(Ax)return xh;Ax=1;var e=xe,t=e.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),r=t;return xh=r,xh}var vo={},Tx;function MM(){if(Tx)return vo;Tx=1;var e=W,t=nt,r=Pe,a=r.makeInner,i=a(),o=e.each;function l(d,f,m){if(!t.node){var p=f.getZr();i(p).records||(i(p).records={}),c(p,f);var g=i(p).records[d]||(i(p).records[d]={});g.handler=m}}function c(d,f){if(i(d).initialized)return;i(d).initialized=!0,m("click",e.curry(s,"click")),m("mousemove",e.curry(s,"mousemove")),m("globalout",h);function m(p,g){d.on(p,function(y){var _=v(f);o(i(d).records,function(A){A&&g(A,y,_.dispatchAction)}),n(_.pendings,f)})}}function n(d,f){var m=d.showTip.length,p=d.hideTip.length,g;m?g=d.showTip[m-1]:p&&(g=d.hideTip[p-1]),g&&(g.dispatchAction=null,f.dispatchAction(g))}function h(d,f,m){d.handler("leave",null,m)}function s(d,f,m,p){f.handler(d,m,p)}function v(d){var f={showTip:[],hideTip:[]},m=function(p){var g=f[p.type];g?g.push(p):(p.dispatchAction=m,d.dispatchAction(p))};return{dispatchAction:m,pendings:f}}function u(d,f){if(!t.node){var m=f.getZr(),p=(i(m).records||{})[d];p&&(i(m).records[d]=null)}}return vo.register=l,vo.unregister=u,vo}var Sh,Cx;function w5(){if(Cx)return Sh;Cx=1;var e=xe,t=MM(),r=e.extendComponentView({type:"axisPointer",render:function(i,o,l){var c=o.getComponent("tooltip"),n=i.get("triggerOn")||c&&c.get("triggerOn")||"mousemove|click";t.register("axisPointer",l,function(h,s,v){n!=="none"&&(h==="leave"||n.indexOf(h)>=0)&&v({type:"updateAxisPointer",currTrigger:h,x:s&&s.offsetX,y:s&&s.offsetY})})},remove:function(i,o){t.unregister(o.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(i,o){t.unregister("axisPointer",o),r.superApply(this._model,"dispose",arguments)}}),a=r;return Sh=a,Sh}var bh,Mx;function ag(){if(Mx)return bh;Mx=1;var e=W,t=kt,r=de,a=us(),i=ht,o=nr,l=Pe,c=l.makeInner,n=c(),h=e.clone,s=e.bind;function v(){}v.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(y,_,A,S){var b=_.get("value"),x=_.get("status");if(this._axisModel=y,this._axisPointerModel=_,this._api=A,!(!S&&this._lastValue===b&&this._lastStatus===x)){this._lastValue=b,this._lastStatus=x;var w=this._group,T=this._handle;if(!x||x==="hide"){w&&w.hide(),T&&T.hide();return}w&&w.show(),T&&T.show();var M={};this.makeElOption(M,b,y,_,A);var C=M.graphicKey;C!==this._lastGraphicKey&&this.clear(A),this._lastGraphicKey=C;var D=this._moveAnimation=this.determineAnimation(y,_);if(!w)w=this._group=new r.Group,this.createPointerEl(w,M,y,_),this.createLabelEl(w,M,y,_),A.getZr().add(w);else{var L=e.curry(u,_,D);this.updatePointerEl(w,M,L,_),this.updateLabelEl(w,M,L,_)}p(w,_,!0),this._renderHandle(b)}},remove:function(y){this.clear(y)},dispose:function(y){this.clear(y)},determineAnimation:function(y,_){var A=_.get("animation"),S=y.axis,b=S.type==="category",x=_.get("snap");if(!x&&!b)return!1;if(A==="auto"||A==null){var w=this.animationThreshold;if(b&&S.getBandWidth()>w)return!0;if(x){var T=a.getAxisInfo(y).seriesDataCount,M=S.getExtent();return Math.abs(M[0]-M[1])/T>w}return!1}return A===!0},makeElOption:function(y,_,A,S,b){},createPointerEl:function(y,_,A,S){var b=_.pointer;if(b){var x=n(y).pointerEl=new r[b.type](h(_.pointer));y.add(x)}},createLabelEl:function(y,_,A,S){if(_.label){var b=n(y).labelEl=new r.Rect(h(_.label));y.add(b),f(b,S)}},updatePointerEl:function(y,_,A){var S=n(y).pointerEl;S&&_.pointer&&(S.setStyle(_.pointer.style),A(S,{shape:_.pointer.shape}))},updateLabelEl:function(y,_,A,S){var b=n(y).labelEl;b&&(b.setStyle(_.label.style),A(b,{shape:_.label.shape,position:_.label.position}),f(b,S))},_renderHandle:function(y){if(!(this._dragging||!this.updateHandleTransform)){var _=this._axisPointerModel,A=this._api.getZr(),S=this._handle,b=_.getModel("handle"),x=_.get("status");if(!b.get("show")||!x||x==="hide"){S&&A.remove(S),this._handle=null;return}var w;this._handle||(w=!0,S=this._handle=r.createIcon(b.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(C){i.stop(C.event)},onmousedown:s(this._onHandleDragMove,this,0,0),drift:s(this._onHandleDragMove,this),ondragend:s(this._onHandleDragEnd,this)}),A.add(S)),p(S,_,!1);var T=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];S.setStyle(b.getItemStyle(null,T));var M=b.get("size");e.isArray(M)||(M=[M,M]),S.attr("scale",[M[0]/2,M[1]/2]),o.createOrUpdate(this,"_doDispatchAxisPointer",b.get("throttle")||0,"fixRate"),this._moveHandleToValue(y,w)}},_moveHandleToValue:function(y,_){u(this._axisPointerModel,!_&&this._moveAnimation,this._handle,m(this.getHandleTransform(y,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(y,_){var A=this._handle;if(A){this._dragging=!0;var S=this.updateHandleTransform(m(A),[y,_],this._axisModel,this._axisPointerModel);this._payloadInfo=S,A.stopAnimation(),A.attr(m(S)),n(A).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var y=this._handle;if(y){var _=this._payloadInfo,A=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:_.cursorPoint[0],y:_.cursorPoint[1],tooltipOption:_.tooltipOption,axesInfo:[{axisDim:A.axis.dim,axisIndex:A.componentIndex}]})}},_onHandleDragEnd:function(y){this._dragging=!1;var _=this._handle;if(_){var A=this._axisPointerModel.get("value");this._moveHandleToValue(A),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(y){this._lastValue=null,this._lastStatus=null;var _=y.getZr(),A=this._group,S=this._handle;_&&A&&(this._lastGraphicKey=null,A&&_.remove(A),S&&_.remove(S),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(y,_,A){return A=A||0,{x:y[A],y:y[1-A],width:_[A],height:_[1-A]}}},v.prototype.constructor=v;function u(y,_,A,S){d(n(A).lastProp,S)||(n(A).lastProp=S,_?r.updateProps(A,S,y):(A.stopAnimation(),A.attr(S)))}function d(y,_){if(e.isObject(y)&&e.isObject(_)){var A=!0;return e.each(_,function(S,b){A=A&&d(y[b],S)}),!!A}else return y===_}function f(y,_){y[_.get("label.show")?"show":"hide"]()}function m(y){return{position:y.position.slice(),rotation:y.rotation||0}}function p(y,_,A){var S=_.get("z"),b=_.get("zlevel");y&&y.traverse(function(x){x.type!=="group"&&(S!=null&&(x.z=S),b!=null&&(x.zlevel=b),x.silent=A)})}t.enableClassExtend(v);var g=v;return bh=g,bh}var dr={},Dx;function fs(){if(Dx)return dr;Dx=1;var e=W,t=de,r=$e,a=Ge(),i=Pt(),o=or(),l=ia();function c(p){var g=p.get("type"),y=p.getModel(g+"Style"),_;return g==="line"?(_=y.getLineStyle(),_.fill=null):g==="shadow"&&(_=y.getAreaStyle(),_.stroke=null),_}function n(p,g,y,_,A){var S=y.get("value"),b=s(S,g.axis,g.ecModel,y.get("seriesDataIndices"),{precision:y.get("label.precision"),formatter:y.get("label.formatter")}),x=y.getModel("label"),w=a.normalizeCssArray(x.get("padding")||0),T=x.getFont(),M=r.getBoundingRect(b,T),C=A.position,D=M.width+w[1]+w[3],L=M.height+w[0]+w[2],P=A.align;P==="right"&&(C[0]-=D),P==="center"&&(C[0]-=D/2);var I=A.verticalAlign;I==="bottom"&&(C[1]-=L),I==="middle"&&(C[1]-=L/2),h(C,D,L,_);var E=x.get("backgroundColor");(!E||E==="auto")&&(E=g.get("axisLine.lineStyle.color")),p.label={shape:{x:0,y:0,width:D,height:L,r:x.get("borderRadius")},position:C.slice(),style:{text:b,textFont:T,textFill:x.getTextColor(),textPosition:"inside",textPadding:w,fill:E,stroke:x.get("borderColor")||"transparent",lineWidth:x.get("borderWidth")||0,shadowBlur:x.get("shadowBlur"),shadowColor:x.get("shadowColor"),shadowOffsetX:x.get("shadowOffsetX"),shadowOffsetY:x.get("shadowOffsetY")},z2:10}}function h(p,g,y,_){var A=_.getWidth(),S=_.getHeight();p[0]=Math.min(p[0]+g,A)-g,p[1]=Math.min(p[1]+y,S)-y,p[0]=Math.max(p[0],0),p[1]=Math.max(p[1],0)}function s(p,g,y,_,A){p=g.scale.parse(p);var S=g.scale.getLabel(p,{precision:A.precision}),b=A.formatter;if(b){var x={value:o.getAxisRawValue(g,p),axisDimension:g.dim,axisIndex:g.index,seriesData:[]};e.each(_,function(w){var T=y.getSeriesByIndex(w.seriesIndex),M=w.dataIndexInside,C=T&&T.getDataParams(M);C&&x.seriesData.push(C)}),e.isString(b)?S=b.replace("{value}",S):e.isFunction(b)&&(S=b(x))}return S}function v(p,g,y){var _=i.create();return i.rotate(_,_,y.rotation),i.translate(_,_,y.position),t.applyTransform([p.dataToCoord(g),(y.labelOffset||0)+(y.labelDirection||1)*(y.labelMargin||0)],_)}function u(p,g,y,_,A,S){var b=l.innerTextLayout(y.rotation,0,y.labelDirection);y.labelMargin=A.get("label.margin"),n(g,_,A,S,{position:v(_.axis,p,y),align:b.textAlign,verticalAlign:b.textVerticalAlign})}function d(p,g,y){return y=y||0,{x1:p[y],y1:p[1-y],x2:g[y],y2:g[1-y]}}function f(p,g,y){return y=y||0,{x:p[y],y:p[1-y],width:g[y],height:g[1-y]}}function m(p,g,y,_,A,S){return{cx:p,cy:g,r0:y,r:_,startAngle:A,endAngle:S,clockwise:!0}}return dr.buildElStyle=c,dr.buildLabelElOption=n,dr.getValueLabel=s,dr.getTransformedPosition=v,dr.buildCartesianSingleLabelElOption=u,dr.makeLineShape=d,dr.makeRectShape=f,dr.makeSectorShape=m,dr}var wh,Lx;function DM(){if(Lx)return wh;Lx=1;var e=ag(),t=fs(),r=iM(),a=Ca(),i=e.extend({makeElOption:function(h,s,v,u,d){var f=v.axis,m=f.grid,p=u.get("type"),g=o(m,f).getOtherAxis(f).getGlobalExtent(),y=f.toGlobalCoord(f.dataToCoord(s,!0));if(p&&p!=="none"){var _=t.buildElStyle(u),A=l[p](f,y,g);A.style=_,h.graphicKey=A.type,h.pointer=A}var S=r.layout(m.model,v);t.buildCartesianSingleLabelElOption(s,h,S,v,u,d)},getHandleTransform:function(h,s,v){var u=r.layout(s.axis.grid.model,s,{labelInside:!1});return u.labelMargin=v.get("handle.margin"),{position:t.getTransformedPosition(s.axis,h,u),rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(h,s,v,u){var d=v.axis,f=d.grid,m=d.getGlobalExtent(!0),p=o(f,d).getOtherAxis(d).getGlobalExtent(),g=d.dim==="x"?0:1,y=h.position;y[g]+=s[g],y[g]=Math.min(m[1],y[g]),y[g]=Math.max(m[0],y[g]);var _=(p[1]+p[0])/2,A=[_,_];A[g]=y[g];var S=[{verticalAlign:"middle"},{align:"center"}];return{position:y,rotation:h.rotation,cursorPoint:A,tooltipOption:S[g]}}});function o(h,s){var v={};return v[s.dim+"AxisIndex"]=s.index,h.getCartesian(v)}var l={line:function(h,s,v){var u=t.makeLineShape([s,v[0]],[s,v[1]],c(h));return{type:"Line",subPixelOptimize:!0,shape:u}},shadow:function(h,s,v){var u=Math.max(1,h.getBandWidth()),d=v[1]-v[0];return{type:"Rect",shape:t.makeRectShape([s-u/2,v[0]],[u,d],c(h))}}};function c(h){return h.dim==="x"?0:1}a.registerAxisPointerClass("CartesianAxisPointer",i);var n=i;return wh=n,wh}var Px;function In(){if(Px)return xx;Px=1;var e=xe,t=W,r=us(),a=S5();return b5(),w5(),DM(),e.registerPreprocessor(function(i){if(i){(!i.axisPointer||i.axisPointer.length===0)&&(i.axisPointer={});var o=i.axisPointer.link;o&&!t.isArray(o)&&(i.axisPointer.link=[o])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(i,o){i.getComponent("axisPointer").coordSysAxesInfo=r.collect(i,o)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},a),xx}var Ah,Ix;function A5(){if(Ix)return Ah;Ix=1;var e=ag(),t=fs(),r=TM(),a=Ca(),i=["x","y"],o=["width","height"],l=e.extend({makeElOption:function(v,u,d,f,m){var p=d.axis,g=p.coordinateSystem,y=h(g,1-n(p)),_=g.dataToPoint(u)[0],A=f.get("type");if(A&&A!=="none"){var S=t.buildElStyle(f),b=c[A](p,_,y);b.style=S,v.graphicKey=b.type,v.pointer=b}var x=r.layout(d);t.buildCartesianSingleLabelElOption(u,v,x,d,f,m)},getHandleTransform:function(v,u,d){var f=r.layout(u,{labelInside:!1});return f.labelMargin=d.get("handle.margin"),{position:t.getTransformedPosition(u.axis,v,f),rotation:f.rotation+(f.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(v,u,d,f){var m=d.axis,p=m.coordinateSystem,g=n(m),y=h(p,g),_=v.position;_[g]+=u[g],_[g]=Math.min(y[1],_[g]),_[g]=Math.max(y[0],_[g]);var A=h(p,1-g),S=(A[1]+A[0])/2,b=[S,S];return b[g]=_[g],{position:_,rotation:v.rotation,cursorPoint:b,tooltipOption:{verticalAlign:"middle"}}}}),c={line:function(v,u,d){var f=t.makeLineShape([u,d[0]],[u,d[1]],n(v));return{type:"Line",subPixelOptimize:!0,shape:f}},shadow:function(v,u,d){var f=v.getBandWidth(),m=d[1]-d[0];return{type:"Rect",shape:t.makeRectShape([u-f/2,d[0]],[f,m],n(v))}}};function n(v){return v.isHorizontal()?0:1}function h(v,u){var d=v.getRect();return[d[i[u]],d[i[u]]+d[o[u]]]}a.registerAxisPointerClass("SingleAxisPointer",l);var s=l;return Ah=s,Ah}var Rx;function LM(){if(Rx)return cx;Rx=1;var e=xe;return y5(),_5(),x5(),In(),A5(),e.extendComponentView({type:"single"}),cx}var Th,Ex;function T5(){if(Ex)return Th;Ex=1;var e=ft,t=gi(),r=wn(),a=r.getDimensionTypeByAxis,i=Wt(),o=W,l=Pe,c=l.groupData,n=Ge(),h=n.encodeHTML,s=Dn(),v=2,u=e.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(f){u.superApply(this,"init",arguments),this.legendVisualProvider=new s(o.bind(this.getData,this),o.bind(this.getRawData,this))},fixData:function(f){var m=f.length,p=c(f,function(I){return I[2]}),g=[];p.buckets.each(function(I,E){g.push({name:E,dataList:I})});for(var y=g.length,_=-1,A=-1,S=0;S<y;++S){var b=g[S].dataList.length;b>_&&(_=b,A=S)}for(var x=0;x<y;++x)if(x!==A)for(var w=g[x].name,T=0;T<_;++T){for(var M=g[A].dataList[T][0],C=g[x].dataList.length,D=-1,L=0;L<C;++L){var P=g[x].dataList[L][0];if(P===M){D=L;break}}D===-1&&(f[m]=[],f[m][0]=M,f[m][1]=0,f[m][2]=w,m++)}return f},getInitialData:function(f,m){for(var p=m.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],g=p.get("type"),y=o.filter(f.data,function(M){return M[2]!==void 0}),_=this.fixData(y||[]),A=[],S=this.nameMap=o.createHashMap(),b=0,x=0;x<_.length;++x)A.push(_[x][v]),S.get(_[x][v])||(S.set(_[x][v],b),b++);var w=t(_,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:a(g)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),T=new i(w,this);return T.initData(_),T},getLayerSeries:function(){for(var f=this.getData(),m=f.count(),p=[],g=0;g<m;++g)p[g]=g;var y=f.mapDimension("single"),_=c(p,function(S){return f.get("name",S)}),A=[];return _.buckets.each(function(S,b){S.sort(function(x,w){return f.get(y,x)-f.get(y,w)}),A.push({name:b,indices:S})}),A},getAxisTooltipData:function(f,m,p){o.isArray(f)||(f=f?[f]:[]);for(var g=this.getData(),y=this.getLayerSeries(),_=[],A=y.length,S,b=0;b<A;++b){for(var x=Number.MAX_VALUE,w=-1,T=y[b].indices.length,M=0;M<T;++M){var C=g.get(f[0],y[b].indices[M]),D=Math.abs(C-m);D<=x&&(S=C,x=D,w=y[b].indices[M])}_.push(w)}return{dataIndices:_,nestestValue:S}},formatTooltip:function(f){var m=this.getData(),p=m.getName(f),g=m.get(m.mapDimension("value"),f);return(isNaN(g)||g==null)&&(g="-"),h(p+" : "+g)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),d=u;return Th=d,Th}var Ch,kx;function C5(){if(kx)return Ch;kx=1;var e=xe,t=tM(),r=t.Polygon,a=de,i=W,o=i.bind,l=i.extend,c=Aa(),n=e.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(s,v,u){var d=s.getData(),f=this.group,m=s.getLayerSeries(),p=d.getLayout("layoutInfo"),g=p.rect,y=p.boundaryGap;f.attr("position",[0,g.y+y[0]]);function _(x){return x.name}var A=new c(this._layersSeries||[],m,_,_),S={};A.add(o(b,this,"add")).update(o(b,this,"update")).remove(o(b,this,"remove")).execute();function b(x,w,T){var M=this._layers;if(x==="remove"){f.remove(M[w]);return}for(var C=[],D=[],L,P=m[w].indices,I=0;I<P.length;I++){var E=d.getItemLayout(P[I]),z=E.x,N=E.y0,G=E.y;C.push([z,N]),D.push([z,N+G]),L=d.getItemVisual(P[I],"color")}var V,R,O=d.getItemLayout(P[0]),k=d.getItemModel(P[I-1]),B=k.getModel("label"),q=B.get("margin");if(x==="add"){var H=S[w]=new a.Group;V=new r({shape:{points:C,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R=new a.Text({style:{x:O.x-q,y:O.y0+O.y/2}}),H.add(V),H.add(R),f.add(H),V.setClipPath(h(V.getBoundingRect(),s,function(){V.removeClipPath()}))}else{var H=M[T];V=H.childAt(0),R=H.childAt(1),f.add(H),S[w]=H,a.updateProps(V,{shape:{points:C,stackedOnPoints:D}},s),a.updateProps(R,{style:{x:O.x-q,y:O.y0+O.y/2}},s)}var F=k.getModel("emphasis.itemStyle"),U=k.getModel("itemStyle");a.setTextStyle(R.style,B,{text:B.get("show")?s.getFormattedLabel(P[I-1],"normal")||d.getName(P[I-1]):null,textVerticalAlign:"middle"}),V.setStyle(l({fill:L},U.getItemStyle(["color"]))),a.setHoverStyle(V,F.getItemStyle())}this._layersSeries=m,this._layers=S},dispose:function(){}});function h(s,v,u){var d=new a.Rect({shape:{x:s.x-10,y:s.y-10,width:0,height:s.height+20}});return a.initProps(d,{shape:{width:s.width+20,height:s.height+20}},v,u),d}return Ch=n,Ch}var Mh,Ox;function M5(){if(Ox)return Mh;Ox=1;var e=W,t=Re();function r(o,l){o.eachSeriesByType("themeRiver",function(c){var n=c.getData(),h=c.coordinateSystem,s={},v=h.getRect();s.rect=v;var u=c.get("boundaryGap"),d=h.getAxis();if(s.boundaryGap=u,d.orient==="horizontal"){u[0]=t.parsePercent(u[0],v.height),u[1]=t.parsePercent(u[1],v.height);var f=v.height-u[0]-u[1];a(n,c,f)}else{u[0]=t.parsePercent(u[0],v.width),u[1]=t.parsePercent(u[1],v.width);var m=v.width-u[0]-u[1];a(n,c,m)}n.setLayout("layoutInfo",s)})}function a(o,l,c){if(o.count())for(var n=l.coordinateSystem,h=l.getLayerSeries(),s=o.mapDimension("single"),v=o.mapDimension("value"),u=e.map(h,function(S){return e.map(S.indices,function(b){var x=n.dataToPoint(o.get(s,b));return x[1]=o.get(v,b),x})}),d=i(u),f=d.y0,m=c/d.max,p=h.length,g=h[0].indices.length,y,_=0;_<g;++_){y=f[_]*m,o.setItemLayout(h[0].indices[_],{layerIndex:0,x:u[0][_][0],y0:y,y:u[0][_][1]*m});for(var A=1;A<p;++A)y+=u[A-1][_][1]*m,o.setItemLayout(h[A].indices[_],{layerIndex:A,x:u[A][_][0],y0:y,y:u[A][_][1]*m})}}function i(o){for(var l=o.length,c=o[0].length,n=[],h=[],s=0,v,u={},d=0;d<c;++d){for(var f=0,v=0;f<l;++f)v+=o[f][d][1];v>s&&(s=v),n.push(v)}for(var m=0;m<c;++m)h[m]=(s-n[m])/2;s=0;for(var p=0;p<c;++p){var g=n[p]+h[p];g>s&&(s=g)}return u.y0=h,u.max=s,u}return Mh=r,Mh}var Dh,zx;function D5(){if(zx)return Dh;zx=1;var e=W,t=e.createHashMap;function r(a){a.eachSeriesByType("themeRiver",function(i){var o=i.getData(),l=i.getRawData(),c=i.get("color"),n=t();o.each(function(h){n.set(o.getRawIndex(h),h)}),l.each(function(h){var s=l.getName(h),v=c[(i.nameMap.get(s)-1)%c.length];l.setItemVisual(h,"color",v);var u=n.get(h);u!=null&&o.setItemVisual(u,"color",v)})})}return Dh=r,Dh}var Bx;function L5(){if(Bx)return hx;Bx=1;var e=xe;LM(),T5(),C5();var t=M5(),r=D5(),a=Ln();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(a("themeRiver")),hx}var Nx={},Lh,Vx;function P5(){if(Vx)return Lh;Vx=1;var e=W,t=ft,r=jd(),a=Ma(),i=a.wrapTreePathInfo,o=t.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(c,n){var h={name:c.name,children:c.data};l(h);var s=c.levels||[],v={};return v.levels=s,r.createTree(h,this,v).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(c){var n=t.prototype.getDataParams.apply(this,arguments),h=this.getData().tree.getNodeByDataIndex(c);return n.treePathInfo=i(h,this),n},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(c){c?this._viewRoot=c:c=this._viewRoot;var n=this.getRawData().tree.root;(!c||c!==n&&!n.contains(c))&&(this._viewRoot=n)}});function l(c){var n=0;e.each(c.children,function(s){l(s);var v=s.value;e.isArray(v)&&(v=v[0]),n+=v});var h=c.value;e.isArray(h)&&(h=h[0]),(h==null||isNaN(h))&&(h=n),h<0&&(h=0),e.isArray(c.value)?c.value[0]=h:c.value=h}return Lh=o,Lh}var Ph,Hx;function I5(){if(Hx)return Ph;Hx=1;var e=W,t=de,r={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},a=2,i=4;function o(u,d,f){t.Group.call(this);var m=new t.Sector({z2:a});m.seriesIndex=d.seriesIndex;var p=new t.Text({z2:i,silent:u.getModel("label").get("silent")});this.add(m),this.add(p),this.updateData(!0,u,"normal",d,f);function g(){p.ignore=p.hoverIgnore}function y(){p.ignore=p.normalIgnore}this.on("emphasis",g).on("normal",y).on("mouseover",g).on("mouseout",y)}var l=o.prototype;l.updateData=function(u,d,f,m,p){this.node=d,d.piece=this,m=m||this._seriesModel,p=p||this._ecModel;var g=this.childAt(0);g.dataIndex=d.dataIndex;var y=d.getModel(),_=d.getLayout(),A=e.extend({},_);A.label=null;var S=n(d,m,p);v(d,m,S);var b=y.getModel("itemStyle").getItemStyle(),x;if(f==="normal")x=b;else{var w=y.getModel(f+".itemStyle").getItemStyle();x=e.merge(w,b)}x=e.defaults({lineJoin:"bevel",fill:x.fill||S},x),u?(g.setShape(A),g.shape.r=_.r0,t.updateProps(g,{shape:{r:_.r}},m,d.dataIndex),g.useStyle(x)):typeof x.fill=="object"&&x.fill.type||typeof g.style.fill=="object"&&g.style.fill.type?(t.updateProps(g,{shape:A},m),g.useStyle(x)):t.updateProps(g,{shape:A,style:x},m),this._updateLabel(m,S,f);var T=y.getShallow("cursor");if(T&&g.attr("cursor",T),u){var M=m.getShallow("highlightPolicy");this._initEvents(g,d,m,M)}this._seriesModel=m||this._seriesModel,this._ecModel=p||this._ecModel,t.setHoverStyle(this)},l.onEmphasis=function(u){var d=this;this.node.hostTree.root.eachNode(function(f){f.piece&&(d.node===f?f.piece.updateData(!1,f,"emphasis"):s(f,d.node,u)?f.piece.childAt(0).trigger("highlight"):u!==r.NONE&&f.piece.childAt(0).trigger("downplay"))})},l.onNormal=function(){this.node.hostTree.root.eachNode(function(u){u.piece&&u.piece.updateData(!1,u,"normal")})},l.onHighlight=function(){this.updateData(!1,this.node,"highlight")},l.onDownplay=function(){this.updateData(!1,this.node,"downplay")},l._updateLabel=function(u,d,f){var m=this.node.getModel(),p=m.getModel("label"),g=f==="normal"||f==="emphasis"?p:m.getModel(f+".label"),y=m.getModel("emphasis.label"),_=e.retrieve(u.getFormattedLabel(this.node.dataIndex,f,null,null,"label"),this.node.name);G("show")===!1&&(_="");var A=this.node.getLayout(),S=g.get("minAngle");S==null&&(S=p.get("minAngle")),S=S/180*Math.PI;var b=A.endAngle-A.startAngle;S!=null&&Math.abs(b)<S&&(_="");var x=this.childAt(1);t.setLabelStyle(x.style,x.hoverStyle||{},p,y,{defaultText:g.getShallow("show")?_:null,autoColor:d,useInsideStyle:!0});var w=(A.startAngle+A.endAngle)/2,T=Math.cos(w),M=Math.sin(w),C,D=G("position"),L=G("distance")||0,P=G("align");D==="outside"?(C=A.r+L,P=w>Math.PI/2?"right":"left"):!P||P==="center"?(C=(A.r+A.r0)/2,P="center"):P==="left"?(C=A.r0+L,w>Math.PI/2&&(P="right")):P==="right"&&(C=A.r-L,w>Math.PI/2&&(P="left")),x.attr("style",{text:_,textAlign:P,textVerticalAlign:G("verticalAlign")||"middle",opacity:G("opacity")});var I=C*T+A.cx,E=C*M+A.cy;x.attr("position",[I,E]);var z=G("rotate"),N=0;z==="radial"?(N=-w,N<-Math.PI/2&&(N+=Math.PI)):z==="tangential"?(N=Math.PI/2-w,N>Math.PI/2?N-=Math.PI:N<-Math.PI/2&&(N+=Math.PI)):typeof z=="number"&&(N=z*Math.PI/180),x.attr("rotation",N);function G(V){var R=g.get(V);return R??p.get(V)}},l._initEvents=function(u,d,f,m){u.off("mouseover").off("mouseout").off("emphasis").off("normal");var p=this,g=function(){p.onEmphasis(m)},y=function(){p.onNormal()},_=function(){p.onDownplay()},A=function(){p.onHighlight()};f.isAnimationEnabled()&&u.on("mouseover",g).on("mouseout",y).on("emphasis",g).on("normal",y).on("downplay",_).on("highlight",A)},e.inherits(o,t.Group);var c=o;function n(u,d,f){var m=u.getVisual("color"),p=u.getVisual("visualMeta");(!p||p.length===0)&&(m=null);var g=u.getModel("itemStyle").get("color");if(g)return g;if(m)return m;if(u.depth===0)return f.option.color[0];var y=f.option.color.length;return g=f.option.color[h(u)%y],g}function h(u){for(var d=u;d.depth>1;)d=d.parentNode;var f=u.getAncestors()[0];return e.indexOf(f.children,d)}function s(u,d,f){return f===r.NONE?!1:f===r.SELF?u===d:f===r.ANCESTOR?u===d||u.isAncestorOf(d):u===d||u.isDescendantOf(d)}function v(u,d,f){var m=d.getData();m.setItemVisual(u.dataIndex,"color",f)}return Ph=c,Ph}var Ih,qx;function R5(){if(qx)return Ih;qx=1;var e=W,t=br,r=I5(),a=Aa(),i=Ge(),o=i.windowOpen,l="sunburstRootToNode",c=t.extend({type:"sunburst",init:function(){},render:function(h,s,v,u){var d=this;this.seriesModel=h,this.api=v,this.ecModel=s;var f=h.getData(),m=f.tree.root,p=h.getViewRoot(),g=this.group,y=h.get("renderLabelForZeroData"),_=[];p.eachNode(function(C){_.push(C)});var A=this._oldChildren||[];if(x(_,A),M(m,p),u&&u.highlight&&u.highlight.piece){var S=h.getShallow("highlightPolicy");u.highlight.piece.onEmphasis(S)}else if(u&&u.unhighlight){var b=this.virtualPiece;!b&&m.children.length&&(b=m.children[0].piece),b&&b.onNormal()}this._initEvents(),this._oldChildren=_;function x(C,D){if(C.length===0&&D.length===0)return;new a(D,C,L,L).add(P).update(P).remove(e.curry(P,null)).execute();function L(I){return I.getId()}function P(I,E){var z=I==null?null:C[I],N=E==null?null:D[E];w(z,N)}}function w(C,D){if(!y&&C&&!C.getValue()&&(C=null),C!==m&&D!==m){if(D&&D.piece)C?(D.piece.updateData(!1,C,"normal",h,s),f.setItemGraphicEl(C.dataIndex,D.piece)):T(D);else if(C){var L=new r(C,h,s);g.add(L),f.setItemGraphicEl(C.dataIndex,L)}}}function T(C){C&&C.piece&&(g.remove(C.piece),C.piece=null)}function M(C,D){if(D.depth>0){d.virtualPiece?d.virtualPiece.updateData(!1,C,"normal",h,s):(d.virtualPiece=new r(C,h,s),g.add(d.virtualPiece)),D.piece._onclickEvent&&D.piece.off("click",D.piece._onclickEvent);var L=function(P){d._rootToNode(D.parentNode)};D.piece._onclickEvent=L,d.virtualPiece.on("click",L)}else d.virtualPiece&&(g.remove(d.virtualPiece),d.virtualPiece=null)}},dispose:function(){},_initEvents:function(){var h=this,s=function(v){var u=!1,d=h.seriesModel.getViewRoot();d.eachNode(function(f){if(!u&&f.piece&&f.piece.childAt(0)===v.target){var m=f.getModel().get("nodeClick");if(m==="rootToNode")h._rootToNode(f);else if(m==="link"){var p=f.getModel(),g=p.get("link");if(g){var y=p.get("target",!0)||"_blank";o(g,y)}}u=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",s),this.group._onclickEvent=s},_rootToNode:function(h){h!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:l,from:this.uid,seriesId:this.seriesModel.id,targetNode:h})},containPoint:function(h,s){var v=s.getData(),u=v.getItemLayout(0);if(u){var d=h[0]-u.cx,f=h[1]-u.cy,m=Math.sqrt(d*d+f*f);return m<=u.r&&m>=u.r0}}}),n=c;return Ih=n,Ih}var Gx={},Fx;function E5(){if(Fx)return Gx;Fx=1;var e=xe,t=Ma(),r="sunburstRootToNode";e.registerAction({type:r,update:"updateView"},function(o,l){l.eachComponent({mainType:"series",subType:"sunburst",query:o},c);function c(n,h){var s=t.retrieveTargetInfo(o,[r],n);if(s){var v=n.getViewRoot();v&&(o.direction=t.aboveViewRoot(v,s.node)?"rollUp":"drillDown"),n.resetViewRoot(s.node)}}});var a="sunburstHighlight";e.registerAction({type:a,update:"updateView"},function(o,l){l.eachComponent({mainType:"series",subType:"sunburst",query:o},c);function c(n,h){var s=t.retrieveTargetInfo(o,[a],n);s&&(o.highlight=s.node)}});var i="sunburstUnhighlight";return e.registerAction({type:i,update:"updateView"},function(o,l){l.eachComponent({mainType:"series",subType:"sunburst",query:o},c);function c(n,h){o.unhighlight=!0}}),Gx}var Rh,Ux;function k5(){if(Ux)return Rh;Ux=1;var e=Re(),t=e.parsePercent,r=W,a=Math.PI/180;function i(c,n,h,s){n.eachSeriesByType(c,function(v){var u=v.get("center"),d=v.get("radius");r.isArray(d)||(d=[0,d]),r.isArray(u)||(u=[u,u]);var f=h.getWidth(),m=h.getHeight(),p=Math.min(f,m),g=t(u[0],f),y=t(u[1],m),_=t(d[0],p/2),A=t(d[1],p/2),S=-v.get("startAngle")*a,b=v.get("minAngle")*a,x=v.getData().tree.root,w=v.getViewRoot(),T=w.depth,M=v.get("sort");M!=null&&o(w,M);var C=0;r.each(w.children,function(B){!isNaN(B.getValue())&&C++});var D=w.getValue(),L=Math.PI/(D||C)*2,P=w.depth>0,I=w.height-(P?-1:1),E=(A-_)/(I||1),z=v.get("clockwise"),N=v.get("stillShowZeroSum"),G=z?1:-1,V=function(B,q){if(B){var H=q;if(B!==x){var F=B.getValue(),U=D===0&&N?L:F*L;U<b&&(U=b),H=q+G*U;var $=B.depth-T-(P?-1:1),Y=_+E*$,K=_+E*($+1),J=B.getModel();J.get("r0")!=null&&(Y=t(J.get("r0"),p/2)),J.get("r")!=null&&(K=t(J.get("r"),p/2)),B.setLayout({angle:U,startAngle:q,endAngle:H,clockwise:z,cx:g,cy:y,r0:Y,r:K})}if(B.children&&B.children.length){var j=0;r.each(B.children,function(ee){j+=V(ee,q+j)})}return H-q}};if(P){var R=_,O=_+E,k=Math.PI*2;x.setLayout({angle:k,startAngle:S,endAngle:S+k,clockwise:z,cx:g,cy:y,r0:R,r:O})}V(w,S)})}function o(c,n){var h=c.children||[];c.children=l(h,n),h.length&&r.each(c.children,function(s){o(s,n)})}function l(c,n){if(typeof n=="function")return c.sort(n);var h=n==="asc";return c.sort(function(s,v){var u=(s.getValue()-v.getValue())*(h?1:-1);return u===0?(s.dataIndex-v.dataIndex)*(h?-1:1):u})}return Rh=i,Rh}var $x;function O5(){if($x)return Nx;$x=1;var e=xe,t=W;P5(),R5(),E5();var r=vs(),a=k5(),i=Ln();return e.registerVisual(t.curry(r,"sunburst")),e.registerLayout(t.curry(a,"sunburst")),e.registerProcessor(t.curry(i,"sunburst")),Nx}var Wx={},Eh,Zx;function z5(){if(Zx)return Eh;Zx=1;var e=W;function t(a,i){return i=i||[0,0],e.map(["x","y"],function(o,l){var c=this.getAxis(o),n=i[l],h=a[l]/2;return c.type==="category"?c.getBandWidth():Math.abs(c.dataToCoord(n-h)-c.dataToCoord(n+h))},this)}function r(a){var i=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(o){return a.dataToPoint(o)},size:e.bind(t,a)}}}return Eh=r,Eh}var kh,Yx;function B5(){if(Yx)return kh;Yx=1;var e=W;function t(a,i){return i=i||[0,0],e.map([0,1],function(o){var l=i[o],c=a[o]/2,n=[],h=[];return n[o]=l-c,h[o]=l+c,n[1-o]=h[1-o]=i[1-o],Math.abs(this.dataToPoint(n)[o]-this.dataToPoint(h)[o])},this)}function r(a){var i=a.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:a.getZoom()},api:{coord:function(o){return a.dataToPoint(o)},size:e.bind(t,a)}}}return kh=r,kh}var Oh,Xx;function N5(){if(Xx)return Oh;Xx=1;var e=W;function t(a,i){var o=this.getAxis(),l=i instanceof Array?i[0]:i,c=(a instanceof Array?a[0]:a)/2;return o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(l-c)-o.dataToCoord(l+c))}function r(a){var i=a.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(o){return a.dataToPoint(o)},size:e.bind(t,a)}}}return Oh=r,Oh}var zh,Kx;function V5(){if(Kx)return zh;Kx=1;var e=W;function t(a,i){return e.map(["Radius","Angle"],function(o,l){var c=this["get"+o+"Axis"](),n=i[l],h=a[l]/2,s="dataTo"+o,v=c.type==="category"?c.getBandWidth():Math.abs(c[s](n-h)-c[s](n+h));return o==="Angle"&&(v=v*Math.PI/180),v},this)}function r(a){var i=a.getRadiusAxis(),o=a.getAngleAxis(),l=i.getExtent();return l[0]>l[1]&&l.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:l[1],r0:l[0]},api:{coord:e.bind(function(c){var n=i.dataToRadius(c[0]),h=o.dataToAngle(c[1]),s=a.coordToPoint([n,h]);return s.push(n,h*Math.PI/180),s}),size:e.bind(t,a)}}}return zh=r,zh}var Bh,Qx;function H5(){if(Qx)return Bh;Qx=1;function e(t){var r=t.getRect(),a=t.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(i,o){return t.dataToPoint(i,o)}}}}return Bh=e,Bh}var jx;function q5(){if(jx)return Wx;jx=1;var e=W,t=de,r=$d(),a=r.getDefaultLabel,i=Br(),o=os(),l=o.getLayoutOnAxis,c=Aa(),n=ft,h=ot(),s=br,v=Tn(),u=v.createClipPath,d=z5(),f=B5(),m=N5(),p=V5(),g=H5(),y=t.CACHED_LABEL_STYLE_PROPERTIES,_=["itemStyle"],A=["emphasis","itemStyle"],S=["label"],b=["emphasis","label"],x="e\0\0",w={cartesian2d:d,geo:f,singleAxis:m,polar:p,calendar:g};n.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(H,F){return i(this.getSource(),this)},getDataParams:function(H,F,U){var $=n.prototype.getDataParams.apply(this,arguments);return U&&($.info=U.info),$}}),s.extend({type:"custom",_data:null,render:function(H,F,U,$){var Y=this._data,K=H.getData(),J=this.group,j=D(H,K,F,U);K.diff(Y).add(function(te){P(null,te,j(te,$),H,J,K)}).update(function(te,ie){var ge=Y.getItemGraphicEl(ie);P(ge,te,j(te,$),H,J,K)}).remove(function(te){var ie=Y.getItemGraphicEl(te);ie&&J.remove(ie)}).execute();var ee=H.get("clip",!0)?u(H.coordinateSystem,!1,H):null;ee?J.setClipPath(ee):J.removeClipPath(),this._data=K},incrementalPrepareRender:function(H,F,U){this.group.removeAll(),this._data=null},incrementalRender:function(H,F,U,$,Y){var K=F.getData(),J=D(F,K,U,$);function j(ie){ie.isGroup||(ie.incremental=!0,ie.useHoverLayer=!0)}for(var ee=H.start;ee<H.end;ee++){var te=P(null,ee,J(ee,Y),F,this.group,K);te.traverse(j)}},dispose:e.noop,filterForExposedEvent:function(H,F,U,$){var Y=F.element;if(Y==null||U.name===Y)return!0;for(;(U=U.parent)&&U!==this.group;)if(U.name===Y)return!0;return!1}});function T(H){var F=H.type,U;if(F==="path"){var $=H.shape,Y=$.width!=null&&$.height!=null?{x:$.x||0,y:$.y||0,width:$.width,height:$.height}:null,K=k($);U=t.makePath(K,null,Y,$.layout||"center"),U.__customPathData=K}else if(F==="image")U=new t.Image({}),U.__customImagePath=H.style.image;else if(F==="text")U=new t.Text({}),U.__customText=H.style.text;else if(F==="group")U=new t.Group;else{if(F==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var J=t.getShapeClass(F);U=new J}return U.__customGraphicType=F,U.name=H.name,U}function M(H,F,U,$,Y,K,J){var j={},ee=U.style||{};if(U.shape&&(j.shape=e.clone(U.shape)),U.position&&(j.position=U.position.slice()),U.scale&&(j.scale=U.scale.slice()),U.origin&&(j.origin=U.origin.slice()),U.rotation&&(j.rotation=U.rotation),H.type==="image"&&U.style){var te=j.style={};e.each(["x","y","width","height"],function(oe){C(oe,te,ee,H.style,K)})}if(H.type==="text"&&U.style){var te=j.style={};e.each(["x","y"],function(fe){C(fe,te,ee,H.style,K)}),!ee.hasOwnProperty("textFill")&&ee.fill&&(ee.textFill=ee.fill),!ee.hasOwnProperty("textStroke")&&ee.stroke&&(ee.textStroke=ee.stroke)}if(H.type!=="group"&&(H.useStyle(ee),K)){H.style.opacity=0;var ie=ee.opacity;ie==null&&(ie=1),t.initProps(H,{style:{opacity:ie}},$,F)}K?H.attr(j):t.updateProps(H,j,$,F),U.hasOwnProperty("z2")&&H.attr("z2",U.z2||0),U.hasOwnProperty("silent")&&H.attr("silent",U.silent),U.hasOwnProperty("invisible")&&H.attr("invisible",U.invisible),U.hasOwnProperty("ignore")&&H.attr("ignore",U.ignore),U.hasOwnProperty("info")&&H.attr("info",U.info);var ge=U.styleEmphasis;t.setElementHoverStyle(H,ge),J&&t.setAsHighDownDispatcher(H,ge!==!1)}function C(H,F,U,$,Y){U[H]!=null&&!Y&&(F[H]=U[H],U[H]=$[H])}function D(H,F,U,$){var Y=H.get("renderItem"),K=H.coordinateSystem,J={};K&&(J=K.prepareCustoms?K.prepareCustoms():w[K.type](K));var j=e.defaults({getWidth:$.getWidth,getHeight:$.getHeight,getZr:$.getZr,getDevicePixelRatio:$.getDevicePixelRatio,value:se,style:me,styleEmphasis:Z,visual:Q,barLayout:re,currentSeriesIndices:le,font:ue},J.api||{}),ee={context:{},seriesId:H.id,seriesName:H.name,seriesIndex:H.seriesIndex,coordSys:J.coordSys,dataInsideLength:F.count(),encode:L(H.getData())},te,ie=!0,ge,oe,fe,pe;return function(ve,he){return te=ve,ie=!0,Y&&Y(e.defaults({dataIndexInside:ve,dataIndex:F.getRawIndex(ve),actionType:he?he.type:null},ee),j)};function ne(ve){ve==null&&(ve=te),ie&&(ge=F.getItemModel(ve),oe=ge.getModel(S),fe=ge.getModel(b),pe=F.getItemVisual(ve,"color"),ie=!1)}function se(ve,he){return he==null&&(he=te),F.get(F.getDimension(ve||0),he)}function me(ve,he){he==null&&(he=te),ne(he);var ye=ge.getModel(_).getItemStyle();pe!=null&&(ye.fill=pe);var Se=F.getItemVisual(he,"opacity");Se!=null&&(ye.opacity=Se);var Ce=ve?V(ve,oe):oe;return t.setTextStyle(ye,Ce,null,{autoColor:pe,isRectText:!0}),ye.text=Ce.getShallow("show")?e.retrieve2(H.getFormattedLabel(he,"normal"),a(F,he)):null,ve&&R(ye,ve),ye}function Z(ve,he){he==null&&(he=te),ne(he);var ye=ge.getModel(A).getItemStyle(),Se=ve?V(ve,fe):fe;return t.setTextStyle(ye,Se,null,{isRectText:!0},!0),ye.text=Se.getShallow("show")?e.retrieve3(H.getFormattedLabel(he,"emphasis"),H.getFormattedLabel(he,"normal"),a(F,he)):null,ve&&R(ye,ve),ye}function Q(ve,he){return he==null&&(he=te),F.getItemVisual(he,ve)}function re(ve){if(K.getBaseAxis){var he=K.getBaseAxis();return l(e.defaults({axis:he},ve),$)}}function le(){return U.getCurrentSeriesIndices()}function ue(ve){return t.getFont(ve,U)}}function L(H){var F={};return e.each(H.dimensions,function(U,$){var Y=H.getDimensionInfo(U);if(!Y.isExtraCoord){var K=Y.coordDim,J=F[K]=F[K]||[];J[Y.coordDimIndex]=$}}),F}function P(H,F,U,$,Y,K){return H=I(H,F,U,$,Y,K,!0),H&&K.setItemGraphicEl(F,H),H}function I(H,F,U,$,Y,K,J){var j=!U;U=U||{};var ee=U.type,te=U.shape,ie=U.style;if(H&&(j||ee!=null&&ee!==H.__customGraphicType||ee==="path"&&B(te)&&k(te)!==H.__customPathData||ee==="image"&&q(ie,"image")&&ie.image!==H.__customImagePath||ee==="text"&&q(te,"text")&&ie.text!==H.__customText)&&(Y.remove(H),H=null),!j){var ge=!H;return!H&&(H=T(U)),M(H,F,U,$,K,ge,J),ee==="group"&&E(H,F,U,$,K),Y.add(H),H}}function E(H,F,U,$,Y){var K=U.children,J=K?K.length:0,j=U.$mergeChildren,ee=j==="byName"||U.diffChildrenByName,te=j===!1;if(!(!J&&!ee&&!te)){if(ee){z({oldChildren:H.children()||[],newChildren:K||[],dataIndex:F,animatableModel:$,group:H,data:Y});return}te&&H.removeAll();for(var ie=0;ie<J;ie++)K[ie]&&I(H.childAt(ie),F,K[ie],$,H,Y)}}function z(H){new c(H.oldChildren,H.newChildren,N,N,H).add(G).update(G).remove(O).execute()}function N(H,F){var U=H&&H.name;return U??x+F}function G(H,F){var U=this.context,$=H!=null?U.newChildren[H]:null,Y=F!=null?U.oldChildren[F]:null;I(Y,U.dataIndex,$,U.animatableModel,U.group,U.data)}function V(H,F){var U=new h({},F);return e.each(y,function($,Y){H.hasOwnProperty($)&&(U.option[Y]=H[$])}),U}function R(H,F){for(var U in F)(F.hasOwnProperty(U)||!y.hasOwnProperty(U))&&(H[U]=F[U])}function O(H){var F=this.context,U=F.oldChildren[H];U&&F.group.remove(U)}function k(H){return H&&(H.pathData||H.d)}function B(H){return H&&(H.hasOwnProperty("pathData")||H.hasOwnProperty("d"))}function q(H,F){return H&&H.hasOwnProperty(F)}return Wx}var Jx={},eS;function G5(){return eS||(eS=1,Mn(),DM(),In()),Jx}var tS={},Nh,rS;function F5(){if(rS)return Nh;rS=1;var e=W,t=Re(),r=t.parsePercent,a=wr(),i=a.isDimensionStacked;function o(s){return s.get("stack")||"__ec_stack_"+s.seriesIndex}function l(s,v){return v.dim+s.model.componentIndex}function c(s,v,u){var d={},f=n(e.filter(v.getSeriesByType(s),function(m){return!v.isSeriesFiltered(m)&&m.coordinateSystem&&m.coordinateSystem.type==="polar"}));v.eachSeriesByType(s,function(m){if(m.coordinateSystem.type==="polar"){var p=m.getData(),g=m.coordinateSystem,y=g.getBaseAxis(),_=l(g,y),A=o(m),S=f[_][A],b=S.offset,x=S.width,w=g.getOtherAxis(y),T=m.coordinateSystem.cx,M=m.coordinateSystem.cy,C=m.get("barMinHeight")||0,D=m.get("barMinAngle")||0;d[A]=d[A]||[];for(var L=p.mapDimension(w.dim),P=p.mapDimension(y.dim),I=i(p,L),E=y.dim!=="radius"||!m.get("roundCap",!0),z=w.getExtent()[0],N=0,G=p.count();N<G;N++){var V=p.get(L,N),R=p.get(P,N),O=V>=0?"p":"n",k=z;I&&(d[A][R]||(d[A][R]={p:z,n:z}),k=d[A][R][O]);var B,q,H,F;if(w.dim==="radius"){var U=w.dataToRadius(V)-z,$=y.dataToAngle(R);Math.abs(U)<C&&(U=(U<0?-1:1)*C),B=k,q=k+U,H=$-b,F=H-x,I&&(d[A][R][O]=q)}else{var Y=w.dataToAngle(V,E)-z,K=y.dataToRadius(R);Math.abs(Y)<D&&(Y=(Y<0?-1:1)*D),B=K+b,q=B+x,H=k,F=k+Y,I&&(d[A][R][O]=F)}p.setItemLayout(N,{cx:T,cy:M,r0:B,r:q,startAngle:-H*Math.PI/180,endAngle:-F*Math.PI/180})}}},this)}function n(s,v){var u={};e.each(s,function(f,m){var p=f.getData(),g=f.coordinateSystem,y=g.getBaseAxis(),_=l(g,y),A=y.getExtent(),S=y.type==="category"?y.getBandWidth():Math.abs(A[1]-A[0])/p.count(),b=u[_]||{bandWidth:S,remainedWidth:S,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},x=b.stacks;u[_]=b;var w=o(f);x[w]||b.autoWidthCount++,x[w]=x[w]||{width:0,maxWidth:0};var T=r(f.get("barWidth"),S),M=r(f.get("barMaxWidth"),S),C=f.get("barGap"),D=f.get("barCategoryGap");T&&!x[w].width&&(T=Math.min(b.remainedWidth,T),x[w].width=T,b.remainedWidth-=T),M&&(x[w].maxWidth=M),C!=null&&(b.gap=C),D!=null&&(b.categoryGap=D)});var d={};return e.each(u,function(f,m){d[m]={};var p=f.stacks,g=f.bandWidth,y=r(f.categoryGap,g),_=r(f.gap,1),A=f.remainedWidth,S=f.autoWidthCount,b=(A-y)/(S+(S-1)*_);b=Math.max(b,0),e.each(p,function(M,C){var D=M.maxWidth;D&&D<b&&(D=Math.min(D,A),M.width&&(D=Math.min(D,M.width)),A-=D,M.width=D,S--)}),b=(A-y)/(S+(S-1)*_),b=Math.max(b,0);var x=0,w;e.each(p,function(M,C){M.width||(M.width=b),w=M,x+=M.width*(1+_)}),w&&(x-=w.width*_);var T=-x/2;e.each(p,function(M,C){d[m][C]=d[m][C]||{offset:T,width:M.width},T+=M.width*(1+_)})}),d}var h=c;return Nh=h,Nh}var aS={},Vh,iS;function U5(){if(iS)return Vh;iS=1;var e=W,t=aa();function r(i,o){t.call(this,"radius",i,o),this.type="category"}r.prototype={constructor:r,pointToData:function(i,o){return this.polar.pointToData(i,o)[this.dim==="radius"?0:1]},dataToRadius:t.prototype.dataToCoord,radiusToData:t.prototype.coordToData},e.inherits(r,t);var a=r;return Vh=a,Vh}var Hh,nS;function $5(){if(nS)return Hh;nS=1;var e=W,t=$e,r=aa(),a=Pe,i=a.makeInner,o=i();function l(n,h){h=h||[0,360],r.call(this,"angle",n,h),this.type="category"}l.prototype={constructor:l,pointToData:function(n,h){return this.polar.pointToData(n,h)[this.dim==="radius"?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData,calculateCategoryInterval:function(){var n=this,h=n.getLabelModel(),s=n.scale,v=s.getExtent(),u=s.count();if(v[1]-v[0]<1)return 0;var d=v[0],f=n.dataToCoord(d+1)-n.dataToCoord(d),m=Math.abs(f),p=t.getBoundingRect(d,h.getFont(),"center","top"),g=Math.max(p.height,7),y=g/m;isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(y)),A=o(n.model),S=A.lastAutoInterval,b=A.lastTickCount;return S!=null&&b!=null&&Math.abs(S-_)<=1&&Math.abs(b-u)<=1&&S>_?_=S:(A.lastTickCount=u,A.lastAutoInterval=_),_}},e.inherits(l,r);var c=l;return Hh=c,Hh}var qh,oS;function W5(){if(oS)return qh;oS=1;var e=U5(),t=$5(),r=function(i){this.name=i||"",this.cx=0,this.cy=0,this._radiusAxis=new e,this._angleAxis=new t,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(i){var o=this.pointToCoord(i);return this._radiusAxis.contain(o[0])&&this._angleAxis.contain(o[1])},containData:function(i){return this._radiusAxis.containData(i[0])&&this._angleAxis.containData(i[1])},getAxis:function(i){return this["_"+i+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(i){var o=[],l=this._angleAxis,c=this._radiusAxis;return l.scale.type===i&&o.push(l),c.scale.type===i&&o.push(c),o},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var o=this._angleAxis;return i===o?this._radiusAxis:o},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var o=i!=null&&i!=="auto"?this.getAxis(i):this.getBaseAxis();return{baseAxes:[o],otherAxes:[this.getOtherAxis(o)]}},dataToPoint:function(i,o){return this.coordToPoint([this._radiusAxis.dataToRadius(i[0],o),this._angleAxis.dataToAngle(i[1],o)])},pointToData:function(i,o){var l=this.pointToCoord(i);return[this._radiusAxis.radiusToData(l[0],o),this._angleAxis.angleToData(l[1],o)]},pointToCoord:function(i){var o=i[0]-this.cx,l=i[1]-this.cy,c=this.getAngleAxis(),n=c.getExtent(),h=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);c.inverse?h=s-360:s=h+360;var v=Math.sqrt(o*o+l*l);o/=v,l/=v;for(var u=Math.atan2(-l,o)/Math.PI*180,d=u<h?1:-1;u<h||u>s;)u+=d*360;return[v,u]},coordToPoint:function(i){var o=i[0],l=i[1]/180*Math.PI,c=Math.cos(l)*o+this.cx,n=-Math.sin(l)*o+this.cy;return[c,n]},getArea:function(){var i=this.getAngleAxis(),o=this.getRadiusAxis(),l=o.getExtent().slice();l[0]>l[1]&&l.reverse();var c=i.getExtent(),n=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:l[0],r:l[1],startAngle:-c[0]*n,endAngle:-c[1]*n,clockwise:i.inverse,contain:function(h,s){var v=h-this.cx,u=s-this.cy,d=v*v+u*u,f=this.r,m=this.r0;return d<=f*f&&d>=m*m}}}};var a=r;return qh=a,qh}var sS={},lS;function Z5(){if(lS)return sS;lS=1;var e=W,t=ct,r=ls(),a=pi(),i=t.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});e.merge(i.prototype,a);var o={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};function l(c,n){return n.type||(n.data?"category":"value")}return r("angle",i,l,o.angle),r("radius",i,l,o.radius),sS}var Gh,uS;function Y5(){if(uS)return Gh;uS=1;var e=xe;Z5();var t=e.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(r){var a,i=this.ecModel;return i.eachComponent(r,function(o){o.getCoordSysModel()===this&&(a=o)},this),a},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});return Gh=t,Gh}var vS;function ig(){if(vS)return aS;vS=1;var e=W,t=W5(),r=Re(),a=r.parsePercent,i=or(),o=i.createScaleByModel,l=i.niceScaleExtent,c=Sr,n=wr(),h=n.getStackedDimension;Y5();function s(f,m,p){var g=m.get("center"),y=p.getWidth(),_=p.getHeight();f.cx=a(g[0],y),f.cy=a(g[1],_);var A=f.getRadiusAxis(),S=Math.min(y,_)/2,b=m.get("radius");b==null?b=[0,"100%"]:e.isArray(b)||(b=[0,b]),b=[a(b[0],S),a(b[1],S)],A.inverse?A.setExtent(b[1],b[0]):A.setExtent(b[0],b[1])}function v(f,m){var p=this,g=p.getAngleAxis(),y=p.getRadiusAxis();if(g.scale.setExtent(1/0,-1/0),y.scale.setExtent(1/0,-1/0),f.eachSeries(function(S){if(S.coordinateSystem===p){var b=S.getData();e.each(b.mapDimension("radius",!0),function(x){y.scale.unionExtentFromData(b,h(b,x))}),e.each(b.mapDimension("angle",!0),function(x){g.scale.unionExtentFromData(b,h(b,x))})}}),l(g.scale,g.model),l(y.scale,y.model),g.type==="category"&&!g.onBand){var _=g.getExtent(),A=360/g.scale.count();g.inverse?_[1]+=A:_[1]-=A,g.setExtent(_[0],_[1])}}function u(f,m){if(f.type=m.get("type"),f.scale=o(m),f.onBand=m.get("boundaryGap")&&f.type==="category",f.inverse=m.get("inverse"),m.mainType==="angleAxis"){f.inverse^=m.get("clockwise");var p=m.get("startAngle");f.setExtent(p,p+(f.inverse?-360:360))}m.axis=f,f.model=m}var d={dimensions:t.prototype.dimensions,create:function(f,m){var p=[];return f.eachComponent("polar",function(g,y){var _=new t(y);_.update=v;var A=_.getRadiusAxis(),S=_.getAngleAxis(),b=g.findAxisModel("radiusAxis"),x=g.findAxisModel("angleAxis");u(A,b),u(S,x),s(_,g,m),p.push(_),g.coordinateSystem=_,_.model=g}),f.eachSeries(function(g){if(g.get("coordinateSystem")==="polar"){var y=f.queryComponents({mainType:"polar",index:g.get("polarIndex"),id:g.get("polarId")})[0];g.coordinateSystem=y.coordinateSystem}}),p}};return c.register("polar",d),aS}var hS={},Fh,cS;function X5(){if(cS)return Fh;cS=1;var e=W,t=de,r=ot(),a=Ca(),i=ia(),o=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function l(s,v,u){v[1]>v[0]&&(v=v.slice().reverse());var d=s.coordToPoint([v[0],u]),f=s.coordToPoint([v[1],u]);return{x1:d[0],y1:d[1],x2:f[0],y2:f[1]}}function c(s){var v=s.getRadiusAxis();return v.inverse?0:1}function n(s){var v=s[0],u=s[s.length-1];v&&u&&Math.abs(Math.abs(v.coord-u.coord)-360)<1e-4&&s.pop()}var h=a.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(s,v){if(this.group.removeAll(),!!s.get("show")){var u=s.axis,d=u.polar,f=d.getRadiusAxis().getExtent(),m=u.getTicksCoords(),p=u.getMinorTicksCoords(),g=e.map(u.getViewLabels(),function(_){var _=e.clone(_);return _.coord=u.dataToCoord(_.tickValue),_});n(g),n(m),e.each(o,function(y){s.get(y+".show")&&(!u.scale.isBlank()||y==="axisLine")&&this["_"+y](s,d,m,p,f,g)},this)}},_axisLine:function(s,v,u,d,f){var m=s.getModel("axisLine.lineStyle"),p=c(v),g=p?0:1,y;f[g]===0?y=new t.Circle({shape:{cx:v.cx,cy:v.cy,r:f[p]},style:m.getLineStyle(),z2:1,silent:!0}):y=new t.Ring({shape:{cx:v.cx,cy:v.cy,r:f[p],r0:f[g]},style:m.getLineStyle(),z2:1,silent:!0}),y.style.fill=null,this.group.add(y)},_axisTick:function(s,v,u,d,f){var m=s.getModel("axisTick"),p=(m.get("inside")?-1:1)*m.get("length"),g=f[c(v)],y=e.map(u,function(_){return new t.Line({shape:l(v,[g,g+p],_.coord)})});this.group.add(t.mergePath(y,{style:e.defaults(m.getModel("lineStyle").getLineStyle(),{stroke:s.get("axisLine.lineStyle.color")})}))},_minorTick:function(s,v,u,d,f){if(d.length){for(var m=s.getModel("axisTick"),p=s.getModel("minorTick"),g=(m.get("inside")?-1:1)*p.get("length"),y=f[c(v)],_=[],A=0;A<d.length;A++)for(var S=0;S<d[A].length;S++)_.push(new t.Line({shape:l(v,[y,y+g],d[A][S].coord)}));this.group.add(t.mergePath(_,{style:e.defaults(p.getModel("lineStyle").getLineStyle(),e.defaults(m.getLineStyle(),{stroke:s.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(s,v,u,d,f,m){var p=s.getCategories(!0),g=s.getModel("axisLabel"),y=g.get("margin"),_=s.get("triggerEvent");e.each(m,function(A,S){var b=g,x=A.tickValue,w=f[c(v)],T=v.coordToPoint([w+y,A.coord]),M=v.cx,C=v.cy,D=Math.abs(T[0]-M)/w<.3?"center":T[0]>M?"left":"right",L=Math.abs(T[1]-C)/w<.3?"middle":T[1]>C?"top":"bottom";p&&p[x]&&p[x].textStyle&&(b=new r(p[x].textStyle,g,g.ecModel));var P=new t.Text({silent:i.isLabelSilent(s)});this.group.add(P),t.setTextStyle(P.style,b,{x:T[0],y:T[1],textFill:b.getTextColor()||s.get("axisLine.lineStyle.color"),text:A.formattedLabel,textAlign:D,textVerticalAlign:L}),_&&(P.eventData=i.makeAxisEventDataBase(s),P.eventData.targetType="axisLabel",P.eventData.value=A.rawLabel)},this)},_splitLine:function(s,v,u,d,f){var m=s.getModel("splitLine"),p=m.getModel("lineStyle"),g=p.get("color"),y=0;g=g instanceof Array?g:[g];for(var _=[],A=0;A<u.length;A++){var S=y++%g.length;_[S]=_[S]||[],_[S].push(new t.Line({shape:l(v,f,u[A].coord)}))}for(var A=0;A<_.length;A++)this.group.add(t.mergePath(_[A],{style:e.defaults({stroke:g[A%g.length]},p.getLineStyle()),silent:!0,z:s.get("z")}))},_minorSplitLine:function(s,v,u,d,f){if(d.length){for(var m=s.getModel("minorSplitLine"),p=m.getModel("lineStyle"),g=[],y=0;y<d.length;y++)for(var _=0;_<d[y].length;_++)g.push(new t.Line({shape:l(v,f,d[y][_].coord)}));this.group.add(t.mergePath(g,{style:p.getLineStyle(),silent:!0,z:s.get("z")}))}},_splitArea:function(s,v,u,d,f){if(u.length){var m=s.getModel("splitArea"),p=m.getModel("areaStyle"),g=p.get("color"),y=0;g=g instanceof Array?g:[g];for(var _=[],A=Math.PI/180,S=-u[0].coord*A,b=Math.min(f[0],f[1]),x=Math.max(f[0],f[1]),w=s.get("clockwise"),T=1;T<u.length;T++){var M=y++%g.length;_[M]=_[M]||[],_[M].push(new t.Sector({shape:{cx:v.cx,cy:v.cy,r0:b,r:x,startAngle:S,endAngle:-u[T].coord*A,clockwise:w},silent:!0})),S=-u[T].coord*A}for(var T=0;T<_.length;T++)this.group.add(t.mergePath(_[T],{style:e.defaults({fill:g[T%g.length]},p.getAreaStyle()),silent:!0}))}}});return Fh=h,Fh}var fS;function K5(){return fS||(fS=1,ig(),X5()),hS}var dS={},Uh,gS;function Q5(){if(gS)return Uh;gS=1;var e=W,t=de,r=ia(),a=Ca(),i=["axisLine","axisTickLabel","axisName"],o=["splitLine","splitArea","minorSplitLine"],l=a.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(n,h){if(this.group.removeAll(),!!n.get("show")){var s=n.axis,v=s.polar,u=v.getAngleAxis(),d=s.getTicksCoords(),f=s.getMinorTicksCoords(),m=u.getExtent()[0],p=s.getExtent(),g=c(v,n,m),y=new r(n,g);e.each(i,y.add,y),this.group.add(y.getGroup()),e.each(o,function(_){n.get(_+".show")&&!s.scale.isBlank()&&this["_"+_](n,v,m,p,d,f)},this)}},_splitLine:function(n,h,s,v,u){var d=n.getModel("splitLine"),f=d.getModel("lineStyle"),m=f.get("color"),p=0;m=m instanceof Array?m:[m];for(var g=[],y=0;y<u.length;y++){var _=p++%m.length;g[_]=g[_]||[],g[_].push(new t.Circle({shape:{cx:h.cx,cy:h.cy,r:u[y].coord}}))}for(var y=0;y<g.length;y++)this.group.add(t.mergePath(g[y],{style:e.defaults({stroke:m[y%m.length],fill:null},f.getLineStyle()),silent:!0}))},_minorSplitLine:function(n,h,s,v,u,d){if(d.length){for(var f=n.getModel("minorSplitLine"),m=f.getModel("lineStyle"),p=[],g=0;g<d.length;g++)for(var y=0;y<d[g].length;y++)p.push(new t.Circle({shape:{cx:h.cx,cy:h.cy,r:d[g][y].coord}}));this.group.add(t.mergePath(p,{style:e.defaults({fill:null},m.getLineStyle()),silent:!0}))}},_splitArea:function(n,h,s,v,u){if(u.length){var d=n.getModel("splitArea"),f=d.getModel("areaStyle"),m=f.get("color"),p=0;m=m instanceof Array?m:[m];for(var g=[],y=u[0].coord,_=1;_<u.length;_++){var A=p++%m.length;g[A]=g[A]||[],g[A].push(new t.Sector({shape:{cx:h.cx,cy:h.cy,r0:y,r:u[_].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=u[_].coord}for(var _=0;_<g.length;_++)this.group.add(t.mergePath(g[_],{style:e.defaults({fill:m[_%m.length]},f.getAreaStyle()),silent:!0}))}}});function c(n,h,s){return{position:[n.cx,n.cy],rotation:s/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:h.getModel("axisLabel").get("rotate"),z2:1}}return Uh=l,Uh}var pS;function j5(){return pS||(pS=1,ig(),Q5()),dS}var $h,mS;function J5(){if(mS)return $h;mS=1;var e=Ge(),t=ag(),r=de,a=fs(),i=Pt(),o=ia(),l=Ca(),c=t.extend({makeElOption:function(v,u,d,f,m){var p=d.axis;p.dim==="angle"&&(this.animationThreshold=Math.PI/18);var g=p.polar,y=g.getOtherAxis(p),_=y.getExtent(),A;A=p["dataTo"+e.capitalFirst(p.dim)](u);var S=f.get("type");if(S&&S!=="none"){var b=a.buildElStyle(f),x=h[S](p,g,A,_,b);x.style=b,v.graphicKey=x.type,v.pointer=x}var w=f.get("label.margin"),T=n(u,d,f,g,w);a.buildLabelElOption(v,d,f,m,T)}});function n(v,u,d,f,m){var p=u.axis,g=p.dataToCoord(v),y=f.getAngleAxis().getExtent()[0];y=y/180*Math.PI;var _=f.getRadiusAxis().getExtent(),A,S,b;if(p.dim==="radius"){var x=i.create();i.rotate(x,x,y),i.translate(x,x,[f.cx,f.cy]),A=r.applyTransform([g,-m],x);var w=u.getModel("axisLabel").get("rotate")||0,T=o.innerTextLayout(y,w*Math.PI/180,-1);S=T.textAlign,b=T.textVerticalAlign}else{var M=_[1];A=f.coordToPoint([M+m,g]);var C=f.cx,D=f.cy;S=Math.abs(A[0]-C)/M<.3?"center":A[0]>C?"left":"right",b=Math.abs(A[1]-D)/M<.3?"middle":A[1]>D?"top":"bottom"}return{position:A,align:S,verticalAlign:b}}var h={line:function(v,u,d,f,m){return v.dim==="angle"?{type:"Line",shape:a.makeLineShape(u.coordToPoint([f[0],d]),u.coordToPoint([f[1],d]))}:{type:"Circle",shape:{cx:u.cx,cy:u.cy,r:d}}},shadow:function(v,u,d,f,m){var p=Math.max(1,v.getBandWidth()),g=Math.PI/180;return v.dim==="angle"?{type:"Sector",shape:a.makeSectorShape(u.cx,u.cy,f[0],f[1],(-d-p/2)*g,(-d+p/2)*g)}:{type:"Sector",shape:a.makeSectorShape(u.cx,u.cy,d-p/2,d+p/2,0,Math.PI*2)}}};l.registerAxisPointerClass("PolarAxisPointer",c);var s=c;return $h=s,$h}var yS;function eq(){if(yS)return tS;yS=1;var e=xe,t=W,r=F5();return ig(),K5(),j5(),In(),J5(),e.registerLayout(t.curry(r,"bar")),e.extendComponentView({type:"polar"}),tS}var _S={},Wh,xS;function tq(){if(xS)return Wh;xS=1;var e=W,t=Pe,r=ct,a=ot(),i=Zd(),o=Qd(),l=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(n){r.prototype.init.apply(this,arguments),t.defaultEmphasis(n,"label",["show"])},optionUpdated:function(){var n=this.option,h=this;n.regions=o.getFilledRegions(n.regions,n.map,n.nameMap),this._optionModelMap=e.reduce(n.regions||[],function(s,v){return v.name&&s.set(v.name,new a(v,h)),s},e.createHashMap()),this.updateSelectedMap(n.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(n){return this._optionModelMap.get(n)||new a(null,this,this.ecModel)},getFormattedLabel:function(n,h){var s=this.getRegionModel(n),v=s.get("label"+(h==="normal"?".":h+".")+"formatter"),u={name:n};if(typeof v=="function")return u.status=h,v(u);if(typeof v=="string")return v.replace("{a}",n??"")},setZoom:function(n){this.option.zoom=n},setCenter:function(n){this.option.center=n}});e.mixin(l,i);var c=l;return Wh=c,Wh}var Zh,SS;function rq(){if(SS)return Zh;SS=1;var e=vM(),t=xe,r=t.extendComponentView({type:"geo",init:function(a,i){var o=new e(i,!0);this._mapDraw=o,this.group.add(o.group)},render:function(a,i,o,l){if(!(l&&l.type==="geoToggleSelect"&&l.from===this.uid)){var c=this._mapDraw;a.get("show")?c.draw(a,i,o,this,l):this._mapDraw.group.removeAll(),this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});return Zh=r,Zh}var bS;function aq(){if(bS)return _S;bS=1;var e=xe,t=W;tq(),Qd(),rq(),hM();function r(a,i){i.update="updateView",e.registerAction(i,function(o,l){var c={};return l.eachComponent({mainType:"geo",query:o},function(n){n[a](o.name);var h=n.coordinateSystem;t.each(h.regions,function(s){c[s.name]=n.isSelected(s.name)||!1})}),{selected:c,name:o.name}})}return r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),_S}var wS={},Yh,AS;function iq(){if(AS)return Yh;AS=1;var e=W,t=ze,r=Re(),a=Sr,i=864e5;function o(n,h,s){this._model=n}o.prototype={constructor:o,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(n){n=r.parseDate(n);var h=n.getFullYear(),s=n.getMonth()+1;s=s<10?"0"+s:s;var v=n.getDate();v=v<10?"0"+v:v;var u=n.getDay();return u=Math.abs((u+7-this.getFirstDayOfWeek())%7),{y:h,m:s,d:v,day:u,time:n.getTime(),formatedDate:h+"-"+s+"-"+v,date:n}},getNextNDay:function(n,h){return h=h||0,h===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+h),this.getDateInfo(n))},update:function(n,h){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var s=this._rangeInfo.weeks||1,v=["width","height"],u=this._model.get("cellSize").slice(),d=this._model.getBoxLayoutParams(),f=this._orient==="horizontal"?[s,7]:[7,s];e.each([0,1],function(y){g(u,y)&&(d[v[y]]=u[y]*f[y])});var m={width:h.getWidth(),height:h.getHeight()},p=this._rect=t.getLayoutRect(d,m);e.each([0,1],function(y){g(u,y)||(u[y]=p[v[y]]/f[y])});function g(y,_){return y[_]!=null&&y[_]!=="auto"}this._sw=u[0],this._sh=u[1]},dataToPoint:function(n,h){e.isArray(n)&&(n=n[0]),h==null&&(h=!0);var s=this.getDateInfo(n),v=this._rangeInfo,u=s.formatedDate;if(h&&!(s.time>=v.start.time&&s.time<v.end.time+i))return[NaN,NaN];var d=s.day,f=this._getRangeInfo([v.start.time,u]).nthWeek;return this._orient==="vertical"?[this._rect.x+d*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]},pointToData:function(n){var h=this.pointToDate(n);return h&&h.time},dataToRect:function(n,h){var s=this.dataToPoint(n,h);return{contentShape:{x:s[0]-(this._sw-this._lineWidth)/2,y:s[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:s,tl:[s[0]-this._sw/2,s[1]-this._sh/2],tr:[s[0]+this._sw/2,s[1]-this._sh/2],br:[s[0]+this._sw/2,s[1]+this._sh/2],bl:[s[0]-this._sw/2,s[1]+this._sh/2]}},pointToDate:function(n){var h=Math.floor((n[0]-this._rect.x)/this._sw)+1,s=Math.floor((n[1]-this._rect.y)/this._sh)+1,v=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(s,h-1,v):this._getDateByWeeksAndDay(h,s-1,v)},convertToPixel:e.curry(l,"dataToPoint"),convertFromPixel:e.curry(l,"pointToData"),_initRangeOption:function(){var n=this._model.get("range"),h=n;if(e.isArray(h)&&h.length===1&&(h=h[0]),/^\d{4}$/.test(h)&&(n=[h+"-01-01",h+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(h)){var s=this.getDateInfo(h),v=s.date;v.setMonth(v.getMonth()+1);var u=this.getNextNDay(v,-1);n=[s.formatedDate,u.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(h)&&(n=[h,h]);var d=this._getRangeInfo(n);return d.start.time>d.end.time&&n.reverse(),n},_getRangeInfo:function(n){n=[this.getDateInfo(n[0]),this.getDateInfo(n[1])];var h;n[0].time>n[1].time&&(h=!0,n.reverse());var s=Math.floor(n[1].time/i)-Math.floor(n[0].time/i)+1,v=new Date(n[0].time),u=v.getDate(),d=n[1].date.getDate();v.setDate(u+s-1);var f=v.getDate();if(f!==d)for(var m=v.getTime()-n[1].time>0?1:-1;(f=v.getDate())!==d&&(v.getTime()-n[1].time)*m>0;)s-=m,v.setDate(f-m);var p=Math.floor((s+n[0].day+6)/7),g=h?-p+1:p-1;return h&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:s,weeks:p,nthWeek:g,fweek:n[0].day,lweek:n[1].day}},_getDateByWeeksAndDay:function(n,h,s){var v=this._getRangeInfo(s);if(n>v.weeks||n===0&&h<v.fweek||n===v.weeks&&h>v.lweek)return!1;var u=(n-1)*7-v.fweek+h,d=new Date(v.start.time);return d.setDate(v.start.d+u),this.getDateInfo(d)}},o.dimensions=o.prototype.dimensions,o.getDimensionsInfo=o.prototype.getDimensionsInfo,o.create=function(n,h){var s=[];return n.eachComponent("calendar",function(v){var u=new o(v);s.push(u),v.coordinateSystem=u}),n.eachSeries(function(v){v.get("coordinateSystem")==="calendar"&&(v.coordinateSystem=s[v.get("calendarIndex")||0])}),s};function l(n,h,s,v){var u=s.calendarModel,d=s.seriesModel,f=u?u.coordinateSystem:d?d.coordinateSystem:null;return f===this?f[n](v):null}a.register("calendar",o);var c=o;return Yh=c,Yh}var Xh,TS;function nq(){if(TS)return Xh;TS=1;var e=W,t=ct,r=ze,a=r.getLayoutParams,i=r.sizeCalculable,o=r.mergeLayoutParam,l=t.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(h,s,v,u){var d=a(h);l.superApply(this,"init",arguments),c(h,d)},mergeOption:function(h,s){l.superApply(this,"mergeOption",arguments),c(this.option,h)}});function c(h,s){var v=h.cellSize;e.isArray(v)?v.length===1&&(v[1]=v[0]):v=h.cellSize=[v,v];var u=e.map([0,1],function(d){return i(s,d)&&(v[d]="auto"),v[d]!=null&&v[d]!=="auto"});o(h,s,{type:"box",ignoreSize:u})}var n=l;return Xh=n,Xh}var Kh,CS;function oq(){if(CS)return Kh;CS=1;var e=xe,t=W,r=de,a=Ge(),i=Re(),o={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},l={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},c=e.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(n,h,s){var v=this.group;v.removeAll();var u=n.coordinateSystem,d=u.getRangeInfo(),f=u.getOrient();this._renderDayRect(n,d,v),this._renderLines(n,d,f,v),this._renderYearText(n,d,f,v),this._renderMonthText(n,f,v),this._renderWeekText(n,d,f,v)},_renderDayRect:function(n,h,s){for(var v=n.coordinateSystem,u=n.getModel("itemStyle").getItemStyle(),d=v.getCellWidth(),f=v.getCellHeight(),m=h.start.time;m<=h.end.time;m=v.getNextNDay(m,1).time){var p=v.dataToRect([m],!1).tl,g=new r.Rect({shape:{x:p[0],y:p[1],width:d,height:f},cursor:"default",style:u});s.add(g)}},_renderLines:function(n,h,s,v){var u=this,d=n.coordinateSystem,f=n.getModel("splitLine.lineStyle").getLineStyle(),m=n.get("splitLine.show"),p=f.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var g=h.start,y=0;g.time<=h.end.time;y++){A(g.formatedDate),y===0&&(g=d.getDateInfo(h.start.y+"-"+h.start.m));var _=g.date;_.setMonth(_.getMonth()+1),g=d.getDateInfo(_)}A(d.getNextNDay(h.end.time,1).formatedDate);function A(S){u._firstDayOfMonth.push(d.getDateInfo(S)),u._firstDayPoints.push(d.dataToRect([S],!1).tl);var b=u._getLinePointsOfOneWeek(n,S,s);u._tlpoints.push(b[0]),u._blpoints.push(b[b.length-1]),m&&u._drawSplitline(b,f,v)}m&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,p,s),f,v),m&&this._drawSplitline(u._getEdgesPoints(u._blpoints,p,s),f,v)},_getEdgesPoints:function(n,h,s){var v=[n[0].slice(),n[n.length-1].slice()],u=s==="horizontal"?0:1;return v[0][u]=v[0][u]-h/2,v[1][u]=v[1][u]+h/2,v},_drawSplitline:function(n,h,s){var v=new r.Polyline({z2:20,shape:{points:n},style:h});s.add(v)},_getLinePointsOfOneWeek:function(n,h,s){var v=n.coordinateSystem;h=v.getDateInfo(h);for(var u=[],d=0;d<7;d++){var f=v.getNextNDay(h.time,d),m=v.dataToRect([f.time],!1);u[2*f.day]=m.tl,u[2*f.day+1]=m[s==="horizontal"?"bl":"tr"]}return u},_formatterLabel:function(n,h){return typeof n=="string"&&n?a.formatTplSimple(n,h):typeof n=="function"?n(h):h.nameMap},_yearTextPositionControl:function(n,h,s,v,u){h=h.slice();var d=["center","bottom"];v==="bottom"?(h[1]+=u,d=["center","top"]):v==="left"?h[0]-=u:v==="right"?(h[0]+=u,d=["center","top"]):h[1]-=u;var f=0;return(v==="left"||v==="right")&&(f=Math.PI/2),{rotation:f,position:h,style:{textAlign:d[0],textVerticalAlign:d[1]}}},_renderYearText:function(n,h,s,v){var u=n.getModel("yearLabel");if(u.get("show")){var d=u.get("margin"),f=u.get("position");f||(f=s!=="horizontal"?"top":"left");var m=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],p=(m[0][0]+m[1][0])/2,g=(m[0][1]+m[1][1])/2,y=s==="horizontal"?0:1,_={top:[p,m[y][1]],bottom:[p,m[1-y][1]],left:[m[1-y][0],g],right:[m[y][0],g]},A=h.start.y;+h.end.y>+h.start.y&&(A=A+"-"+h.end.y);var S=u.get("formatter"),b={start:h.start.y,end:h.end.y,nameMap:A},x=this._formatterLabel(S,b),w=new r.Text({z2:30});r.setTextStyle(w.style,u,{text:x}),w.attr(this._yearTextPositionControl(w,_[f],s,f,d)),v.add(w)}},_monthTextPositionControl:function(n,h,s,v,u){var d="left",f="top",m=n[0],p=n[1];return s==="horizontal"?(p=p+u,h&&(d="center"),v==="start"&&(f="bottom")):(m=m+u,h&&(f="middle"),v==="start"&&(d="right")),{x:m,y:p,textAlign:d,textVerticalAlign:f}},_renderMonthText:function(n,h,s){var v=n.getModel("monthLabel");if(v.get("show")){var u=v.get("nameMap"),d=v.get("margin"),f=v.get("position"),m=v.get("align"),p=[this._tlpoints,this._blpoints];t.isString(u)&&(u=o[u.toUpperCase()]||[]);var g=f==="start"?0:1,y=h==="horizontal"?0:1;d=f==="start"?-d:d;for(var _=m==="center",A=0;A<p[g].length-1;A++){var S=p[g][A].slice(),b=this._firstDayOfMonth[A];if(_){var x=this._firstDayPoints[A];S[y]=(x[y]+p[0][A+1][y])/2}var w=v.get("formatter"),T=u[+b.m-1],M={yyyy:b.y,yy:(b.y+"").slice(2),MM:b.m,M:+b.m,nameMap:T},C=this._formatterLabel(w,M),D=new r.Text({z2:30});t.extend(r.setTextStyle(D.style,v,{text:C}),this._monthTextPositionControl(S,_,h,f,d)),s.add(D)}}},_weekTextPositionControl:function(n,h,s,v,u){var d="center",f="middle",m=n[0],p=n[1],g=s==="start";return h==="horizontal"?(m=m+v+(g?1:-1)*u[0]/2,d=g?"right":"left"):(p=p+v+(g?1:-1)*u[1]/2,f=g?"bottom":"top"),{x:m,y:p,textAlign:d,textVerticalAlign:f}},_renderWeekText:function(n,h,s,v){var u=n.getModel("dayLabel");if(u.get("show")){var d=n.coordinateSystem,f=u.get("position"),m=u.get("nameMap"),p=u.get("margin"),g=d.getFirstDayOfWeek();t.isString(m)&&(m=l[m.toUpperCase()]||[]);var y=d.getNextNDay(h.end.time,7-h.lweek).time,_=[d.getCellWidth(),d.getCellHeight()];p=i.parsePercent(p,_[s==="horizontal"?0:1]),f==="start"&&(y=d.getNextNDay(h.start.time,-(7+h.fweek)).time,p=-p);for(var A=0;A<7;A++){var S=d.getNextNDay(y,A),b=d.dataToRect([S.time],!1).center,x=A;x=Math.abs((A+g)%7);var w=new r.Text({z2:30});t.extend(r.setTextStyle(w.style,u,{text:m[x]}),this._weekTextPositionControl(b,s,f,p,_)),v.add(w)}}}});return Kh=c,Kh}var MS;function sq(){return MS||(MS=1,iq(),nq(),oq()),wS}var DS={},LS;function lq(){if(LS)return DS;LS=1;var e=xe,t=W,r=Pe,a=de,i=ze,o=Re(),l=o.parsePercent,c={path:null,compoundPath:null,group:a.Group,image:a.Image,text:a.Text};e.registerPreprocessor(function(g){var y=g.graphic;t.isArray(y)?!y[0]||!y[0].elements?g.graphic=[{elements:y}]:g.graphic=[g.graphic[0]]:y&&!y.elements&&(g.graphic=[{elements:[y]}])});var n=e.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(g){var y=this.option.elements;this.option.elements=null,n.superApply(this,"mergeOption",arguments),this.option.elements=y},optionUpdated:function(g,y){var _=this.option,A=(y?_:g).elements,S=_.elements=y?[]:_.elements,b=[];this._flatten(A,b);var x=r.mappingToExists(S,b);r.makeIdAndName(x);var w=this._elOptionsToUpdate=[];t.each(x,function(M,C){var D=M.option;D&&(w.push(D),d(M,D),f(S,C,D),m(S[C],D))},this);for(var T=S.length-1;T>=0;T--)S[T]==null?S.splice(T,1):delete S[T].$action},_flatten:function(g,y,_){t.each(g,function(A){if(A){_&&(A.parentOption=_),y.push(A);var S=A.children;A.type==="group"&&S&&this._flatten(S,y,A),delete A.children}},this)},useElOptionsToUpdate:function(){var g=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,g}});e.extendComponentView({type:"graphic",init:function(g,y){this._elMap=t.createHashMap(),this._lastGraphicModel},render:function(g,y,_){g!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=g,this._updateElements(g),this._relocate(g,_)},_updateElements:function(g){var y=g.useElOptionsToUpdate();if(y){var _=this._elMap,A=this.group;t.each(y,function(S){var b=S.$action,x=S.id,w=_.get(x),T=S.parentId,M=T!=null?_.get(T):A,C=S.style;S.type==="text"&&C&&(S.hv&&S.hv[1]&&(C.textVerticalAlign=C.textBaseline=null),!C.hasOwnProperty("textFill")&&C.fill&&(C.textFill=C.fill),!C.hasOwnProperty("textStroke")&&C.stroke&&(C.textStroke=C.stroke));var D=v(S);!b||b==="merge"?w?w.attr(D):h(x,M,D,_):b==="replace"?(s(w,_),h(x,M,D,_)):b==="remove"&&s(w,_);var L=_.get(x);L&&(L.__ecGraphicWidthOption=S.width,L.__ecGraphicHeightOption=S.height,p(L,g))})}},_relocate:function(g,y){for(var _=g.option.elements,A=this.group,S=this._elMap,b=y.getWidth(),x=y.getHeight(),w=0;w<_.length;w++){var T=_[w],M=S.get(T.id);if(!(!M||!M.isGroup)){var C=M.parent,D=C===A;M.__ecGraphicWidth=l(M.__ecGraphicWidthOption,D?b:C.__ecGraphicWidth)||0,M.__ecGraphicHeight=l(M.__ecGraphicHeightOption,D?x:C.__ecGraphicHeight)||0}}for(var w=_.length-1;w>=0;w--){var T=_[w],M=S.get(T.id);if(M){var C=M.parent,L=C===A?{width:b,height:x}:{width:C.__ecGraphicWidth,height:C.__ecGraphicHeight};i.positionElement(M,T,L,null,{hv:T.hv,boundingMode:T.bounding})}}},_clear:function(){var g=this._elMap;g.each(function(y){s(y,g)}),this._elMap=t.createHashMap()},dispose:function(){this._clear()}});function h(g,y,_,A){var S=_.type,b=c.hasOwnProperty(S)?c[S]:a.getShapeClass(S),x=new b(_);y.add(x),A.set(g,x),x.__ecGraphicId=g}function s(g,y){var _=g&&g.parent;_&&(g.type==="group"&&g.traverse(function(A){s(A,y)}),y.removeKey(g.__ecGraphicId),_.remove(g))}function v(g){return g=t.extend({},g),t.each(["id","parentId","$action","hv","bounding"].concat(i.LOCATION_PARAMS),function(y){delete g[y]}),g}function u(g,y){var _;return t.each(y,function(A){g[A]!=null&&g[A]!=="auto"&&(_=!0)}),_}function d(g,y){var _=g.exist;if(y.id=g.keyInfo.id,!y.type&&_&&(y.type=_.type),y.parentId==null){var A=y.parentOption;A?y.parentId=A.id:_&&(y.parentId=_.parentId)}y.parentOption=null}function f(g,y,_){var A=t.extend({},_),S=g[y],b=_.$action||"merge";b==="merge"?S?(t.merge(S,A,!0),i.mergeLayoutParam(S,A,{ignoreSize:!0}),i.copyLayoutParams(_,S)):g[y]=A:b==="replace"?g[y]=A:b==="remove"&&S&&(g[y]=null)}function m(g,y){g&&(g.hv=y.hv=[u(y,["left","right"]),u(y,["top","bottom"])],g.type==="group"&&(g.width==null&&(g.width=y.width=0),g.height==null&&(g.height=y.height=0)))}function p(g,y,_){var A=g.eventData;!g.silent&&!g.ignore&&!A&&(A=g.eventData={componentType:"graphic",componentIndex:y.componentIndex,name:g.name}),A&&(A.info=g.info)}return DS}var PS={},ho={},IS;function na(){if(IS)return ho;IS=1;var e={};function t(a,i){e[a]=i}function r(a){return e[a]}return ho.register=t,ho.get=r,ho}var Qh,RS;function uq(){if(RS)return Qh;RS=1;var e=xe,t=W,r=na(),a=e.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){a.superApply(this,"optionUpdated",arguments),t.each(this.option.feature,function(o,l){var c=r.get(l);c&&t.merge(o,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),i=a;return Qh=i,Qh}var co={},ES;function PM(){if(ES)return co;ES=1;var e=ze,t=e.getLayoutRect,r=e.box,a=e.positionElement,i=Ge(),o=de;function l(n,h,s){var v=h.getBoxLayoutParams(),u=h.get("padding"),d={width:s.getWidth(),height:s.getHeight()},f=t(v,d,u);r(h.get("orient"),n,h.get("itemGap"),f.width,f.height),a(n,v,d,u)}function c(u,h){var s=i.normalizeCssArray(h.get("padding")),v=h.getItemStyle(["color","opacity"]);v.fill=h.get("backgroundColor");var u=new o.Rect({shape:{x:u.x-s[3],y:u.y-s[0],width:u.width+s[1]+s[3],height:u.height+s[0]+s[2],r:h.get("borderRadius")},style:v,silent:!0,z2:-1});return u}return co.layout=l,co.makeBackground=c,co}var jh,kS;function vq(){if(kS)return jh;kS=1;var e=xe,t=W,r=$e,a=na(),i=de,o=ot(),l=Aa(),c=PM(),n=e.extendComponentView({type:"toolbox",render:function(s,v,u,d){var f=this.group;if(f.removeAll(),!s.get("show"))return;var m=+s.get("itemSize"),p=s.get("feature")||{},g=this._features||(this._features={}),y=[];t.each(p,function(S,b){y.push(b)}),new l(this._featureNames||[],y).add(_).update(_).remove(t.curry(_,null)).execute(),this._featureNames=y;function _(S,b){var x=y[S],w=y[b],T=p[x],M=new o(T,s,s.ecModel),C;if(d&&d.newTitle!=null&&d.featureName===x&&(T.title=d.newTitle),x&&!w){if(h(x))C={model:M,onclick:M.option.onclick,featureName:x};else{var D=a.get(x);if(!D)return;C=new D(M,v,u)}g[x]=C}else{if(C=g[w],!C)return;C.model=M,C.ecModel=v,C.api=u}if(!x&&w){C.dispose&&C.dispose(v,u);return}if(!M.get("show")||C.unusable){C.remove&&C.remove(v,u);return}A(M,C,x),M.setIconStatus=function(L,P){var I=this.option,E=this.iconPaths;I.iconStatus=I.iconStatus||{},I.iconStatus[L]=P,E[L]&&E[L].trigger(P)},C.render&&C.render(M,v,u,d)}function A(S,b,x){var w=S.getModel("iconStyle"),T=S.getModel("emphasis.iconStyle"),M=b.getIcons?b.getIcons():S.get("icon"),C=S.get("title")||{};if(typeof M=="string"){var D=M,L=C;M={},C={},M[x]=D,C[x]=L}var P=S.iconPaths={};t.each(M,function(I,E){var z=i.createIcon(I,{},{x:-m/2,y:-m/2,width:m,height:m});z.setStyle(w.getItemStyle()),z.hoverStyle=T.getItemStyle(),z.setStyle({text:C[E],textAlign:T.get("textAlign"),textBorderRadius:T.get("textBorderRadius"),textPadding:T.get("textPadding"),textFill:null});var N=s.getModel("tooltip");N&&N.get("show")&&z.attr("tooltip",t.extend({content:C[E],formatter:N.get("formatter",!0)||function(){return C[E]},formatterParams:{componentType:"toolbox",name:E,title:C[E],$vars:["name","title"]},position:N.get("position",!0)||"bottom"},N.option)),i.setHoverStyle(z),s.get("showTitle")&&(z.__title=C[E],z.on("mouseover",function(){var G=T.getItemStyle(),V=s.get("orient")==="vertical"?s.get("right")==null?"right":"left":s.get("bottom")==null?"bottom":"top";z.setStyle({textFill:T.get("textFill")||G.fill||G.stroke||"#000",textBackgroundColor:T.get("textBackgroundColor"),textPosition:T.get("textPosition")||V})}).on("mouseout",function(){z.setStyle({textFill:null,textBackgroundColor:null})})),z.trigger(S.get("iconStatus."+E)||"normal"),f.add(z),z.on("click",t.bind(b.onclick,b,v,u,E)),P[E]=z})}c.layout(f,s,u),f.add(c.makeBackground(f.getBoundingRect(),s)),f.eachChild(function(S){var b=S.__title,x=S.hoverStyle;if(x&&b){var w=r.getBoundingRect(b,r.makeFont(x)),T=S.position[0]+f.position[0],M=S.position[1]+f.position[1]+m,C=!1;M+w.height>u.getHeight()&&(x.textPosition="top",C=!0);var D=C?-5-w.height:m+8;T+w.width/2>u.getWidth()?(x.textPosition=["100%",D],x.textAlign="right"):T-w.width/2<0&&(x.textPosition=[0,D],x.textAlign="left")}})},updateView:function(s,v,u,d){t.each(this._features,function(f){f.updateView&&f.updateView(f.model,v,u,d)})},remove:function(s,v){t.each(this._features,function(u){u.remove&&u.remove(s,v)}),this.group.removeAll()},dispose:function(s,v){t.each(this._features,function(u){u.dispose&&u.dispose(s,v)})}});function h(s){return s.indexOf("my")===0}return jh=n,jh}var Jh,OS;function hq(){if(OS)return Jh;OS=1;var e=nt,t=ra,r=na(),a=t.toolbox.saveAsImage;function i(c){this.model=c}i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:a.lang.slice()},i.prototype.unusable=!e.canvasSupported;var o=i.prototype;o.onclick=function(c,n){var h=this.model,s=h.get("name")||c.get("title.0.text")||"echarts",v=n.getZr().painter.getType()==="svg",u=v?"svg":h.get("type",!0)||"png",d=n.getConnectedDataURL({type:u,backgroundColor:h.get("backgroundColor",!0)||c.get("backgroundColor")||"#fff",connectedBackgroundColor:h.get("connectedBackgroundColor"),excludeComponents:h.get("excludeComponents"),pixelRatio:h.get("pixelRatio")});if(typeof MouseEvent=="function"&&!e.browser.ie&&!e.browser.edge){var f=document.createElement("a");f.download=s+"."+u,f.target="_blank",f.href=d;var m=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});f.dispatchEvent(m)}else if(window.navigator.msSaveOrOpenBlob){for(var p=atob(d.split(",")[1]),g=p.length,y=new Uint8Array(g);g--;)y[g]=p.charCodeAt(g);var _=new Blob([y]);window.navigator.msSaveOrOpenBlob(_,s+"."+u)}else{var A=h.get("lang"),S='<body style="margin:0;"><img src="'+d+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',b=window.open();b.document.write(S)}},r.register("saveAsImage",i);var l=i;return Jh=l,Jh}var ec,zS;function cq(){if(zS)return ec;zS=1;var e=xe,t=W,r=ra,a=na(),i=r.toolbox.magicType,o="__ec_magicType_stack__";function l(v){this.model=v}l.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.clone(i.title),option:{},seriesIndex:{}};var c=l.prototype;c.getIcons=function(){var v=this.model,u=v.get("icon"),d={};return t.each(v.get("type"),function(f){u[f]&&(d[f]=u[f])}),d};var n={line:function(v,u,d,f){if(v==="bar")return t.merge({id:u,type:"line",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},f.get("option.line")||{},!0)},bar:function(v,u,d,f){if(v==="line")return t.merge({id:u,type:"bar",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},f.get("option.bar")||{},!0)},stack:function(v,u,d,f){var m=d.get("stack")===o;if(v==="line"||v==="bar")return f.setIconStatus("stack",m?"normal":"emphasis"),t.merge({id:u,stack:m?"":o},f.get("option.stack")||{},!0)}},h=[["line","bar"],["stack"]];c.onclick=function(v,u,d){var f=this.model,m=f.get("seriesIndex."+d);if(n[d]){var p={series:[]},g=function(A){var S=A.subType,b=A.id,x=n[d](S,b,A,f);x&&(t.defaults(x,A.option),p.series.push(x));var w=A.coordinateSystem;if(w&&w.type==="cartesian2d"&&(d==="line"||d==="bar")){var T=w.getAxesByScale("ordinal")[0];if(T){var M=T.dim,C=M+"Axis",D=v.queryComponents({mainType:C,index:A.get(name+"Index"),id:A.get(name+"Id")})[0],L=D.componentIndex;p[C]=p[C]||[];for(var P=0;P<=L;P++)p[C][L]=p[C][L]||{};p[C][L].boundaryGap=d==="bar"}}};t.each(h,function(A){t.indexOf(A,d)>=0&&t.each(A,function(S){f.setIconStatus(S,"normal")})}),f.setIconStatus(d,"emphasis"),v.eachComponent({mainType:"series",query:m==null?null:{seriesIndex:m}},g);var y;if(d==="stack"){var _=p.series&&p.series[0]&&p.series[0].stack===o;y=_?t.merge({stack:i.title.tiled},i.title):t.clone(i.title)}u.dispatchAction({type:"changeMagicType",currentType:d,newOption:p,newTitle:y,featureName:"magicType"})}},e.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(v,u){u.mergeOption(v.newOption)}),a.register("magicType",l);var s=l;return ec=s,ec}var tc,BS;function fq(){if(BS)return tc;BS=1;var e=xe,t=W,r=ht,a=ra,i=na(),o=a.toolbox.dataView,l=new Array(60).join("-"),c="	";function n(S){var b={},x=[],w=[];return S.eachRawSeries(function(T){var M=T.coordinateSystem;if(M&&(M.type==="cartesian2d"||M.type==="polar")){var C=M.getBaseAxis();if(C.type==="category"){var D=C.dim+"_"+C.index;b[D]||(b[D]={categoryAxis:C,valueAxis:M.getOtherAxis(C),series:[]},w.push({axisDim:C.dim,axisIndex:C.index})),b[D].series.push(T)}else x.push(T)}else x.push(T)}),{seriesGroupByCategoryAxis:b,other:x,meta:w}}function h(S){var b=[];return t.each(S,function(x,w){var T=x.categoryAxis,M=x.valueAxis,C=M.dim,D=[" "].concat(t.map(x.series,function(N){return N.name})),L=[T.model.getCategories()];t.each(x.series,function(N){L.push(N.getRawData().mapArray(C,function(G){return G}))});for(var P=[D.join(c)],I=0;I<L[0].length;I++){for(var E=[],z=0;z<L.length;z++)E.push(L[z][I]);P.push(E.join(c))}b.push(P.join(`
`))}),b.join(`

`+l+`

`)}function s(S){return t.map(S,function(b){var x=b.getRawData(),w=[b.name],T=[];return x.each(x.dimensions,function(){for(var M=arguments.length,C=arguments[M-1],D=x.getName(C),L=0;L<M-1;L++)T[L]=arguments[L];w.push((D?D+c:"")+T.join(c))}),w.join(`
`)}).join(`

`+l+`

`)}function v(S){var b=n(S);return{value:t.filter([h(b.seriesGroupByCategoryAxis),s(b.other)],function(x){return x.replace(/[\n\t\s]/g,"")}).join(`

`+l+`

`),meta:b.meta}}function u(S){return S.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function d(S){var b=S.slice(0,S.indexOf(`
`));if(b.indexOf(c)>=0)return!0}var f=new RegExp("["+c+"]+","g");function m(S){for(var b=S.split(/\n+/g),x=u(b.shift()).split(f),w=[],T=t.map(x,function(L){return{name:L,data:[]}}),M=0;M<b.length;M++){var C=u(b[M]).split(f);w.push(C.shift());for(var D=0;D<C.length;D++)T[D]&&(T[D].data[M]=C[D])}return{series:T,categories:w}}function p(S){for(var b=S.split(/\n+/g),x=u(b.shift()),w=[],T=0;T<b.length;T++){var M=u(b[T]).split(f),C="",D,L=!1;isNaN(M[0])?(L=!0,C=M[0],M=M.slice(1),w[T]={name:C,value:[]},D=w[T].value):D=w[T]=[];for(var P=0;P<M.length;P++)D.push(+M[P]);D.length===1&&(L?w[T].value=D[0]:w[T]=D[0])}return{name:x,data:w}}function g(S,b){var x=S.split(new RegExp(`
*`+l+`
*`,"g")),w={series:[]};return t.each(x,function(T,M){if(d(T)){var C=m(T),D=b[M],L=D.axisDim+"Axis";D&&(w[L]=w[L]||[],w[L][D.axisIndex]={data:C.categories},w.series=w.series.concat(C.series))}else{var C=p(T);w.series.push(C)}}),w}function y(S){this._dom=null,this.model=S}y.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.clone(o.title),lang:t.clone(o.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},y.prototype.onclick=function(S,b){var x=b.getDom(),w=this.model;this._dom&&x.removeChild(this._dom);var T=document.createElement("div");T.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",T.style.backgroundColor=w.get("backgroundColor")||"#fff";var M=document.createElement("h4"),C=w.get("lang")||[];M.innerHTML=C[0]||w.get("title"),M.style.cssText="margin: 10px 20px;",M.style.color=w.get("textColor");var D=document.createElement("div"),L=document.createElement("textarea");D.style.cssText="display:block;width:100%;overflow:auto;";var P=w.get("optionToContent"),I=w.get("contentToOption"),E=v(S);if(typeof P=="function"){var z=P(b.getOption());typeof z=="string"?D.innerHTML=z:t.isDom(z)&&D.appendChild(z)}else D.appendChild(L),L.readOnly=w.get("readOnly"),L.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",L.style.color=w.get("textColor"),L.style.borderColor=w.get("textareaBorderColor"),L.style.backgroundColor=w.get("textareaColor"),L.value=E.value;var N=E.meta,G=document.createElement("div");G.style.cssText="position:absolute;bottom:0;left:0;right:0;";var V="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",R=document.createElement("div"),O=document.createElement("div");V+=";background-color:"+w.get("buttonColor"),V+=";color:"+w.get("buttonTextColor");var k=this;function B(){x.removeChild(T),k._dom=null}r.addEventListener(R,"click",B),r.addEventListener(O,"click",function(){var q;try{typeof I=="function"?q=I(D,b.getOption()):q=g(L.value,N)}catch(H){throw B(),new Error("Data view format error "+H)}q&&b.dispatchAction({type:"changeDataView",newOption:q}),B()}),R.innerHTML=C[1],O.innerHTML=C[2],O.style.cssText=V,R.style.cssText=V,!w.get("readOnly")&&G.appendChild(O),G.appendChild(R),T.appendChild(M),T.appendChild(D),T.appendChild(G),D.style.height=x.clientHeight-80+"px",x.appendChild(T),this._dom=T},y.prototype.remove=function(S,b){this._dom&&b.getDom().removeChild(this._dom)},y.prototype.dispose=function(S,b){this.remove(S,b)};function _(S,b){return t.map(S,function(x,w){var T=b&&b[w];return t.isObject(T)&&!t.isArray(T)?(t.isObject(x)&&!t.isArray(x)&&(x=x.value),t.defaults({value:x},T)):x})}i.register("dataView",y),e.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(S,b){var x=[];t.each(S.newOption.series,function(w){var T=b.getSeriesByName(w.name)[0];if(!T)x.push(t.extend({type:"scatter"},w));else{var M=T.get("data");x.push({name:w.name,data:_(w.data,M)})}}),b.mergeOption(t.defaults({series:x},S.newOption))});var A=y;return tc=A,tc}var rc,NS;function IM(){if(NS)return rc;NS=1;var e=W,t=de,r=Pe,a=_M(),i=e.each,o=e.indexOf,l=e.curry,c=["dataToPoint","pointToData"],n=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function h(x,w,T){var M=this._targetInfoList=[],C={},D=u(w,x);i(d,function(L,P){(!T||!T.include||o(T.include,P)>=0)&&L(D,M,C)})}var s=h.prototype;s.setOutputRanges=function(x,w){this.matchOutputRanges(x,w,function(T,M,C){if((T.coordRanges||(T.coordRanges=[])).push(M),!T.coordRange){T.coordRange=M;var D=p[T.brushType](0,C,M);T.__rangeOffset={offset:y[T.brushType](D.values,T.range,[1,1]),xyMinMax:D.xyMinMax}}})},s.matchOutputRanges=function(x,w,T){i(x,function(M){var C=this.findTargetInfo(M,w);C&&C!==!0&&e.each(C.coordSyses,function(D){var L=p[M.brushType](1,D,M.range);T(M,L.values,D,w)})},this)},s.setInputRanges=function(x,w){i(x,function(T){var M=this.findTargetInfo(T,w);if(T.range=T.range||[],M&&M!==!0){T.panelId=M.panelId;var C=p[T.brushType](0,M.coordSys,T.coordRange),D=T.__rangeOffset;T.range=D?y[T.brushType](C.values,D.offset,A(C.xyMinMax,D.xyMinMax)):C.values}},this)},s.makePanelOpts=function(x,w){return e.map(this._targetInfoList,function(T){var M=T.getPanelRect();return{panelId:T.panelId,defaultBrushType:w&&w(T),clipPath:a.makeRectPanelClipPath(M),isTargetByCursor:a.makeRectIsTargetByCursor(M,x,T.coordSysModel),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(M)}})},s.controlSeries=function(x,w,T){var M=this.findTargetInfo(x,T);return M===!0||M&&o(M.coordSyses,w.coordinateSystem)>=0},s.findTargetInfo=function(x,w){for(var T=this._targetInfoList,M=u(w,x),C=0;C<T.length;C++){var D=T[C],L=x.panelId;if(L){if(D.panelId===L)return D}else for(var C=0;C<f.length;C++)if(f[C](M,D))return D}return!0};function v(x){return x[0]>x[1]&&x.reverse(),x}function u(x,w){return r.parseFinder(x,w,{includeMainTypes:n})}var d={grid:function(x,w){var T=x.xAxisModels,M=x.yAxisModels,C=x.gridModels,D=e.createHashMap(),L={},P={};!T&&!M&&!C||(i(T,function(I){var E=I.axis.grid.model;D.set(E.id,E),L[E.id]=!0}),i(M,function(I){var E=I.axis.grid.model;D.set(E.id,E),P[E.id]=!0}),i(C,function(I){D.set(I.id,I),L[I.id]=!0,P[I.id]=!0}),D.each(function(I){var E=I.coordinateSystem,z=[];i(E.getCartesians(),function(N,G){(o(T,N.getAxis("x").model)>=0||o(M,N.getAxis("y").model)>=0)&&z.push(N)}),w.push({panelId:"grid--"+I.id,gridModel:I,coordSysModel:I,coordSys:z[0],coordSyses:z,getPanelRect:m.grid,xAxisDeclared:L[I.id],yAxisDeclared:P[I.id]})}))},geo:function(x,w){i(x.geoModels,function(T){var M=T.coordinateSystem;w.push({panelId:"geo--"+T.id,geoModel:T,coordSysModel:T,coordSys:M,coordSyses:[M],getPanelRect:m.geo})})}},f=[function(x,w){var T=x.xAxisModel,M=x.yAxisModel,C=x.gridModel;return!C&&T&&(C=T.axis.grid.model),!C&&M&&(C=M.axis.grid.model),C&&C===w.gridModel},function(x,w){var T=x.geoModel;return T&&T===w.geoModel}],m={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var x=this.coordSys,w=x.getBoundingRect().clone();return w.applyTransform(t.getTransform(x)),w}},p={lineX:l(g,0),lineY:l(g,1),rect:function(x,w,T){var M=w[c[x]]([T[0][0],T[1][0]]),C=w[c[x]]([T[0][1],T[1][1]]),D=[v([M[0],C[0]]),v([M[1],C[1]])];return{values:D,xyMinMax:D}},polygon:function(x,w,T){var M=[[1/0,-1/0],[1/0,-1/0]],C=e.map(T,function(D){var L=w[c[x]](D);return M[0][0]=Math.min(M[0][0],L[0]),M[1][0]=Math.min(M[1][0],L[1]),M[0][1]=Math.max(M[0][1],L[0]),M[1][1]=Math.max(M[1][1],L[1]),L});return{values:C,xyMinMax:M}}};function g(x,w,T,M){var C=T.getAxis(["x","y"][x]),D=v(e.map([0,1],function(P){return w?C.coordToData(C.toLocalCoord(M[P])):C.toGlobalCoord(C.dataToCoord(M[P]))})),L=[];return L[x]=D,L[1-x]=[NaN,NaN],{values:D,xyMinMax:L}}var y={lineX:l(_,0),lineY:l(_,1),rect:function(x,w,T){return[[x[0][0]-T[0]*w[0][0],x[0][1]-T[0]*w[0][1]],[x[1][0]-T[1]*w[1][0],x[1][1]-T[1]*w[1][1]]]},polygon:function(x,w,T){return e.map(x,function(M,C){return[M[0]-T[0]*w[C][0],M[1]-T[1]*w[C][1]]})}};function _(x,w,T,M){return[w[0]-M[x]*T[0],w[1]-M[x]*T[1]]}function A(x,w){var T=S(x),M=S(w),C=[T[0]/M[0],T[1]/M[1]];return isNaN(C[0])&&(C[0]=1),isNaN(C[1])&&(C[1]=1),C}function S(x){return x?[x[0][1]-x[0][0],x[1][1]-x[1][0]]:[NaN,NaN]}var b=h;return rc=b,rc}var Va={},VS;function RM(){if(VS)return Va;VS=1;var e=W,t=e.each,r="\0_ec_hist_store";function a(n,h){var s=c(n);t(h,function(v,u){for(var d=s.length-1;d>=0;d--){var f=s[d];if(f[u])break}if(d<0){var m=n.queryComponents({mainType:"dataZoom",subType:"select",id:u})[0];if(m){var p=m.getPercentRange();s[0][u]={dataZoomId:u,start:p[0],end:p[1]}}}}),s.push(h)}function i(n){var h=c(n),s=h[h.length-1];h.length>1&&h.pop();var v={};return t(s,function(u,d){for(var f=h.length-1;f>=0;f--){var u=h[f][d];if(u){v[d]=u;break}}}),v}function o(n){n[r]=null}function l(n){return c(n).length}function c(n){var h=n[r];return h||(h=n[r]=[{}]),h}return Va.push=a,Va.pop=i,Va.clear=o,Va.count=l,Va}var HS={},qS={},GS;function ng(){if(GS)return qS;GS=1;var e=ct;return e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}),qS}var Ha={},FS;function og(){if(FS)return Ha;FS=1;var e=W,t=Ge(),r=["x","y","z","radius","angle","single"],a=["cartesian2d","polar","singleAxis"];function i(n){return e.indexOf(a,n)>=0}function o(n,h){n=n.slice();var s=e.map(n,t.capitalFirst);h=(h||[]).slice();var v=e.map(h,t.capitalFirst);return function(u,d){e.each(n,function(f,m){for(var p={name:f,capital:s[m]},g=0;g<h.length;g++)p[h[g]]=f+v[g];u.call(d,p)})}}var l=o(r,["axisIndex","axis","index","id"]);function c(n,h,s){return function(f){var m={nodes:[],records:{}};if(h(function(y){m.records[y.name]={}}),!f)return m;d(f,m);var p;do p=!1,n(g);while(p);function g(y){!v(y,m)&&u(y,m)&&(d(y,m),p=!0)}return m};function v(f,m){return e.indexOf(m.nodes,f)>=0}function u(f,m){var p=!1;return h(function(g){e.each(s(f,g)||[],function(y){m.records[g.name][y]&&(p=!0)})}),p}function d(f,m){m.nodes.push(f),h(function(p){e.each(s(f,p)||[],function(g){m.records[p.name][g]=!0})})}}return Ha.isCoordSupported=i,Ha.createNameEach=o,Ha.eachAxisDim=l,Ha.createLinkedNodesFinder=c,Ha}var ac,US;function dq(){if(US)return ac;US=1;var e=W,t=Re(),r=og(),a=yi(),i=e.each,o=t.asc,l=function(u,d,f,m){this._dimName=u,this._axisIndex=d,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=m,this._dataZoomModel=f};l.prototype={constructor:l,hostedBy:function(u){return this._dataZoomModel===u},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var u=[],d=this.ecModel;return d.eachSeries(function(f){if(r.isCoordSupported(f.get("coordinateSystem"))){var m=this._dimName,p=d.queryComponents({mainType:m+"Axis",index:f.get(m+"AxisIndex"),id:f.get(m+"AxisId")})[0];this._axisIndex===(p&&p.componentIndex)&&u.push(f)}},this),u},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var u=this._dimName,d=this.ecModel,f=this.getAxisModel(),m=u==="x"||u==="y",p,g;m?(g="gridIndex",p=u==="x"?"y":"x"):(g="polarIndex",p=u==="angle"?"radius":"angle");var y;return d.eachComponent(p+"Axis",function(_){(_.get(g)||0)===(f.get(g)||0)&&(y=_)}),y},getMinMaxSpan:function(){return e.clone(this._minMaxSpan)},calculateDataWindow:function(u){var d=this._dataExtent,f=this.getAxisModel(),m=f.axis.scale,p=this._dataZoomModel.getRangePropMode(),g=[0,100],y=[],_=[],A;i(["start","end"],function(x,w){var T=u[x],M=u[x+"Value"];p[w]==="percent"?(T==null&&(T=g[w]),M=m.parse(t.linearMap(T,g,d))):(A=!0,M=M==null?d[w]:m.parse(M),T=t.linearMap(M,d,g)),_[w]=M,y[w]=T}),o(_),o(y);var S=this._minMaxSpan;A?b(_,y,d,g,!1):b(y,_,g,d,!0);function b(x,w,T,M,C){var D=C?"Span":"ValueSpan";a(0,x,T,"all",S["min"+D],S["max"+D]);for(var L=0;L<2;L++)w[L]=t.linearMap(x[L],T,M,!0),C&&(w[L]=m.parse(w[L]))}return{valueWindow:_,percentWindow:y}},reset:function(u){if(u===this._dataZoomModel){var d=this.getTargetSeriesModels();this._dataExtent=c(this,this._dimName,d),s(this);var f=this.calculateDataWindow(u.settledOption);this._valueWindow=f.valueWindow,this._percentWindow=f.percentWindow,h(this)}},restore:function(u){u===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(u,d){if(u!==this._dataZoomModel)return;var f=this._dimName,m=this.getTargetSeriesModels(),p=u.get("filterMode"),g=this._valueWindow;if(p==="none")return;i(m,function(_){var A=_.getData(),S=A.mapDimension(f,!0);S.length&&(p==="weakFilter"?A.filterSelf(function(b){for(var x,w,T,M=0;M<S.length;M++){var C=A.get(S[M],b),D=!isNaN(C),L=C<g[0],P=C>g[1];if(D&&!L&&!P)return!0;D&&(T=!0),L&&(x=!0),P&&(w=!0)}return T&&x&&w}):i(S,function(b){if(p==="empty")_.setData(A=A.map(b,function(w){return y(w)?w:NaN}));else{var x={};x[b]=g,A.selectRange(x)}}),i(S,function(b){A.setApproximateExtent(g,b)}))});function y(_){return _>=g[0]&&_<=g[1]}}};function c(u,d,f){var m=[1/0,-1/0];return i(f,function(p){var g=p.getData();g&&i(g.mapDimension(d,!0),function(y){var _=g.getApproximateExtent(y);_[0]<m[0]&&(m[0]=_[0]),_[1]>m[1]&&(m[1]=_[1])})}),m[1]<m[0]&&(m=[NaN,NaN]),n(u,m),m}function n(u,d){var f=u.getAxisModel(),m=f.getMin(!0),p=f.get("type")==="category",g=p&&f.getCategories().length;m!=null&&m!=="dataMin"&&typeof m!="function"?d[0]=m:p&&(d[0]=g>0?0:NaN);var y=f.getMax(!0);return y!=null&&y!=="dataMax"&&typeof y!="function"?d[1]=y:p&&(d[1]=g>0?g-1:NaN),f.get("scale",!0)||(d[0]>0&&(d[0]=0),d[1]<0&&(d[1]=0)),d}function h(u,d){var f=u.getAxisModel(),m=u._percentWindow,p=u._valueWindow;if(m){var g=t.getPixelPrecision(p,[0,500]);g=Math.min(g,20);var y=d||m[0]===0&&m[1]===100;f.setRange(y?null:+p[0].toFixed(g),y?null:+p[1].toFixed(g))}}function s(u){var d=u._minMaxSpan={},f=u._dataZoomModel,m=u._dataExtent;i(["min","max"],function(p){var g=f.get(p+"Span"),y=f.get(p+"ValueSpan");y!=null&&(y=u.getAxisModel().axis.scale.parse(y)),y!=null?g=t.linearMap(m[0]+y,m,[0,100],!0):g!=null&&(y=t.linearMap(g,[0,100],m,!0)-m[0]),d[p+"Span"]=g,d[p+"ValueSpan"]=y})}var v=l;return ac=v,ac}var ic,$S;function _i(){if($S)return ic;$S=1;var e=xe,t=W,r=nt,a=Pe,i=og(),o=dq(),l=t.each,c=i.eachAxisDim,n=e.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(u,d,f){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var m=h(u);this.settledOption=m,this.mergeDefaultAndTheme(u,f),this.doInit(m)},mergeOption:function(u){var d=h(u);t.merge(this.option,u,!0),t.merge(this.settledOption,d,!0),this.doInit(d)},doInit:function(u){var d=this.option;r.canvasSupported||(d.realtime=!1),this._setDefaultThrottle(u),s(this,u);var f=this.settledOption;l([["start","startValue"],["end","endValue"]],function(m,p){this._rangePropMode[p]==="value"&&(d[m[0]]=f[m[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var u=this._axisProxies;this.eachTargetAxis(function(d,f,m,p){var g=this.dependentModels[d.axis][f],y=g.__dzAxisProxy||(g.__dzAxisProxy=new o(d.name,f,this,p));u[d.name+"_"+f]=y},this)},_resetTarget:function(){var u=this.option,d=this._judgeAutoMode();c(function(f){var m=f.axisIndex;u[m]=a.normalizeToArray(u[m])},this),d==="axisIndex"?this._autoSetAxisIndex():d==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var u=this.option,d=!1;c(function(m){u[m.axisIndex]!=null&&(d=!0)},this);var f=u.orient;if(f==null&&d)return"orient";if(!d)return f==null&&(u.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var u=!0,d=this.get("orient",!0),f=this.option,m=this.dependentModels;if(u){var p=d==="vertical"?"y":"x";m[p+"Axis"].length?(f[p+"AxisIndex"]=[0],u=!1):l(m.singleAxis,function(g){u&&g.get("orient",!0)===d&&(f.singleAxisIndex=[g.componentIndex],u=!1)})}u&&c(function(g){if(u){var y=[],_=this.dependentModels[g.axis];if(_.length&&!y.length)for(var A=0,S=_.length;A<S;A++)_[A].get("type")==="category"&&y.push(A);f[g.axisIndex]=y,y.length&&(u=!1)}},this),u&&this.ecModel.eachSeries(function(g){this._isSeriesHasAllAxesTypeOf(g,"value")&&c(function(y){var _=f[y.axisIndex],A=g.get(y.axisIndex),S=g.get(y.axisId),b=g.ecModel.queryComponents({mainType:y.axis,index:A,id:S})[0];A=b.componentIndex,t.indexOf(_,A)<0&&_.push(A)})},this)},_autoSetOrient:function(){var u;this.eachTargetAxis(function(d){!u&&(u=d.name)},this),this.option.orient=u==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(u,d){var f=!0;return c(function(m){var p=u.get(m.axisIndex),g=this.dependentModels[m.axis][p];(!g||g.get("type")!==d)&&(f=!1)},this),f},_setDefaultThrottle:function(u){if(u.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var d=this.ecModel.option;this.option.throttle=d.animation&&d.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var u;return c(function(d){if(u==null){var f=this.get(d.axisIndex);f.length&&(u=this.dependentModels[d.axis][f[0]])}},this),u},eachTargetAxis:function(u,d){var f=this.ecModel;c(function(m){l(this.get(m.axisIndex),function(p){u.call(d,m,p,this,f)},this)},this)},getAxisProxy:function(u,d){return this._axisProxies[u+"_"+d]},getAxisModel:function(u,d){var f=this.getAxisProxy(u,d);return f&&f.getAxisModel()},setRawRange:function(u){var d=this.option,f=this.settledOption;l([["start","startValue"],["end","endValue"]],function(m){(u[m[0]]!=null||u[m[1]]!=null)&&(d[m[0]]=f[m[0]]=u[m[0]],d[m[1]]=f[m[1]]=u[m[1]])},this),s(this,u)},setCalculatedRange:function(u){var d=this.option;l(["start","startValue","end","endValue"],function(f){d[f]=u[f]})},getPercentRange:function(){var u=this.findRepresentativeAxisProxy();if(u)return u.getDataPercentWindow()},getValueRange:function(u,d){if(u==null&&d==null){var f=this.findRepresentativeAxisProxy();if(f)return f.getDataValueWindow()}else return this.getAxisProxy(u,d).getDataValueWindow()},findRepresentativeAxisProxy:function(u){if(u)return u.__dzAxisProxy;var d=this._axisProxies;for(var f in d)if(d.hasOwnProperty(f)&&d[f].hostedBy(this))return d[f];for(var f in d)if(d.hasOwnProperty(f)&&!d[f].hostedBy(this))return d[f]},getRangePropMode:function(){return this._rangePropMode.slice()}});function h(u){var d={};return l(["start","end","startValue","endValue","throttle"],function(f){u.hasOwnProperty(f)&&(d[f]=u[f])}),d}function s(u,d){var f=u._rangePropMode,m=u.get("rangeMode");l([["start","startValue"],["end","endValue"]],function(p,g){var y=d[p[0]]!=null,_=d[p[1]]!=null;y&&!_?f[g]="percent":!y&&_?f[g]="value":m?f[g]=m[g]:y&&(f[g]="percent")})}var v=n;return ic=v,ic}var nc,WS;function xi(){if(WS)return nc;WS=1;var e=es,t=e.extend({type:"dataZoom",render:function(r,a,i,o){this.dataZoomModel=r,this.ecModel=a,this.api=i},getTargetCoordInfo:function(){var r=this.dataZoomModel,a=this.ecModel,i={};r.eachTargetAxis(function(l,c){var n=a.getComponent(l.axis,c);if(n){var h=n.getCoordSysModel();h&&o(h,n,i[h.mainType]||(i[h.mainType]=[]),h.componentIndex)}},this);function o(l,c,n,h){for(var s,v=0;v<n.length;v++)if(n[v].model===l){s=n[v];break}s||n.push(s={model:l,axisModels:[],coordIndex:h}),s.axisModels.push(c)}return i}});return nc=t,nc}var oc,ZS;function gq(){if(ZS)return oc;ZS=1;var e=_i(),t=e.extend({type:"dataZoom.select"});return oc=t,oc}var sc,YS;function pq(){if(YS)return sc;YS=1;var e=xi(),t=e.extend({type:"dataZoom.select"});return sc=t,sc}var XS={},KS;function sg(){if(KS)return XS;KS=1;var e=xe,t=W,r=t.createHashMap,a=t.each;return e.registerProcessor({getTargetSeries:function(i){var o=r();return i.eachComponent("dataZoom",function(l){l.eachTargetAxis(function(c,n,h){var s=h.getAxisProxy(c.name,n);a(s.getTargetSeriesModels(),function(v){o.set(v.uid,v)})})}),o},modifyOutputEnd:!0,overallReset:function(i,o){i.eachComponent("dataZoom",function(l){l.eachTargetAxis(function(c,n,h){h.getAxisProxy(c.name,n).reset(h,o)}),l.eachTargetAxis(function(c,n,h){h.getAxisProxy(c.name,n).filterData(h,o)})}),i.eachComponent("dataZoom",function(l){var c=l.findRepresentativeAxisProxy(),n=c.getDataPercentWindow(),h=c.getDataValueWindow();l.setCalculatedRange({start:n[0],end:n[1],startValue:h[0],endValue:h[1]})})}}),XS}var QS={},jS;function lg(){if(jS)return QS;jS=1;var e=xe,t=W,r=og();return e.registerAction("dataZoom",function(a,i){var o=r.createLinkedNodesFinder(t.bind(i.eachComponent,i,"dataZoom"),r.eachAxisDim,function(c,n){return c.get(n.axisIndex)}),l=[];i.eachComponent({mainType:"dataZoom",query:a},function(c,n){l.push.apply(l,o(c).nodes)}),t.each(l,function(c,n){c.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})}),QS}var JS;function mq(){return JS||(JS=1,ng(),_i(),xi(),gq(),pq(),sg(),lg()),HS}var lc,eb;function yq(){if(eb)return lc;eb=1;var e=xe,t=W,r=rg(),a=IM(),i=RM(),o=yi(),l=ra,c=na();mq();var n=l.toolbox.dataZoom,h=t.each,s="\0_ec_\0toolbox-dataZoom_";function v(y,_,A){(this._brushController=new r(A.getZr())).on("brush",t.bind(this._onBrush,this)).mount(),this._isZoomActive}v.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.clone(n.title)};var u=v.prototype;u.render=function(y,_,A,S){this.model=y,this.ecModel=_,this.api=A,p(y,_,this,S,A),m(y,_)},u.onclick=function(y,_,A){d[A].call(this)},u.remove=function(y,_){this._brushController.unmount()},u.dispose=function(y,_){this._brushController.dispose()};var d={zoom:function(){var y=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:y})},back:function(){this._dispatchZoomAction(i.pop(this.ecModel))}};u._onBrush=function(y,_){if(!_.isEnd||!y.length)return;var A={},S=this.ecModel;this._brushController.updateCovers([]);var b=new a(f(this.model.option),S,{include:["grid"]});b.matchOutputRanges(y,S,function(T,M,C){if(C.type==="cartesian2d"){var D=T.brushType;D==="rect"?(x("x",C,M[0]),x("y",C,M[1])):x({lineX:"x",lineY:"y"}[D],C,M)}}),i.push(S,A),this._dispatchZoomAction(A);function x(T,M,C){var D=M.getAxis(T),L=D.model,P=w(T,L,S),I=P.findRepresentativeAxisProxy(L).getMinMaxSpan();(I.minValueSpan!=null||I.maxValueSpan!=null)&&(C=o(0,C.slice(),D.scale.getExtent(),0,I.minValueSpan,I.maxValueSpan)),P&&(A[P.id]={dataZoomId:P.id,startValue:C[0],endValue:C[1]})}function w(T,M,C){var D;return C.eachComponent({mainType:"dataZoom",subType:"select"},function(L){var P=L.getAxisModel(T,M.componentIndex);P&&(D=L)}),D}},u._dispatchZoomAction=function(y){var _=[];h(y,function(A,S){_.push(t.clone(A))}),_.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:_})};function f(y){var _={};return t.each(["xAxisIndex","yAxisIndex"],function(A){_[A]=y[A],_[A]==null&&(_[A]="all"),(_[A]===!1||_[A]==="none")&&(_[A]=[])}),_}function m(y,_){y.setIconStatus("back",i.count(_)>1?"emphasis":"normal")}function p(y,_,A,S,b){var x=A._isZoomActive;S&&S.type==="takeGlobalCursor"&&(x=S.key==="dataZoomSelect"?S.dataZoomSelectActive:!1),A._isZoomActive=x,y.setIconStatus("zoom",x?"emphasis":"normal");var w=new a(f(y.option),_,{include:["grid"]});A._brushController.setPanels(w.makePanelOpts(b,function(T){return T.xAxisDeclared&&!T.yAxisDeclared?"lineX":!T.xAxisDeclared&&T.yAxisDeclared?"lineY":"rect"})).enableBrush(x?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}c.register("dataZoom",v),e.registerPreprocessor(function(y){if(!y)return;var _=y.dataZoom||(y.dataZoom=[]);t.isArray(_)||(y.dataZoom=_=[_]);var A=y.toolbox;if(A&&(t.isArray(A)&&(A=A[0]),A&&A.feature)){var S=A.feature.dataZoom;b("xAxis",S),b("yAxis",S)}function b(w,T){if(T){var M=w+"Index",C=T[M];C!=null&&C!=="all"&&!t.isArray(C)&&(C=C===!1||C==="none"?[]:[C]),x(w,function(D,L){if(!(C!=null&&C!=="all"&&t.indexOf(C,L)===-1)){var P={type:"select",$fromToolbox:!0,filterMode:T.filterMode||"filter",id:s+w+L};P[M]=L,_.push(P)}})}}function x(w,T){var M=y[w];t.isArray(M)||(M=M?[M]:[]),h(M,T)}});var g=v;return lc=g,lc}var uc,tb;function _q(){if(tb)return uc;tb=1;var e=xe,t=RM(),r=ra,a=na(),i=r.toolbox.restore;function o(n){this.model=n}o.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:i.title};var l=o.prototype;l.onclick=function(n,h,s){t.clear(n),h.dispatchAction({type:"restore",from:this.uid})},a.register("restore",o),e.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,h){h.resetOption("recreate")});var c=o;return uc=c,uc}var rb;function xq(){return rb||(rb=1,uq(),vq(),hq(),cq(),fq(),yq(),_q()),PS}var ab={},vc,ib;function Sq(){if(ib)return vc;ib=1;var e=xe,t=e.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});return vc=t,vc}var hc,nb;function bq(){if(nb)return hc;nb=1;var e=W,t=ut,r=ht,a=an,i=nt,o=Ge(),l=e.each,c=o.toCamelCase,n=["","-webkit-","-moz-","-o-"],h="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function s(p){var g="cubic-bezier(0.23, 1, 0.32, 1)",y="left "+p+"s "+g+",top "+p+"s "+g;return e.map(n,function(_){return _+"transition:"+y}).join(";")}function v(p){var g=[],y=p.get("fontSize"),_=p.getTextColor();return _&&g.push("color:"+_),g.push("font:"+p.getFont()),y&&g.push("line-height:"+Math.round(y*3/2)+"px"),l(["decoration","align"],function(A){var S=p.get(A);S&&g.push("text-"+A+":"+S)}),g.join(";")}function u(p){var g=[],y=p.get("transitionDuration"),_=p.get("backgroundColor"),A=p.getModel("textStyle"),S=p.get("padding");return y&&g.push(s(y)),_&&(i.canvasSupported?g.push("background-Color:"+_):(g.push("background-Color:#"+t.toHex(_)),g.push("filter:alpha(opacity=70)"))),l(["width","color","radius"],function(b){var x="border-"+b,w=c(x),T=p.get(w);T!=null&&g.push(x+":"+T+(b==="color"?"":"px"))}),g.push(v(A)),S!=null&&g.push("padding:"+o.normalizeCssArray(S).join("px ")+"px"),g.join(";")+";"}function d(p,g,y,_,A){var S=g&&g.painter;if(y){var b=S&&S.getViewportRoot();b&&a.transformLocalCoord(p,b,document.body,_,A)}else{p[0]=_,p[1]=A;var x=S&&S.getViewportRootOffset();x&&(p[0]+=x.offsetLeft,p[1]+=x.offsetTop)}}function f(p,g,y){if(i.wxa)return null;var _=document.createElement("div");_.domBelongToZr=!0,this.el=_;var A=this._zr=g.getZr(),S=this._appendToBody=y&&y.appendToBody;this._styleCoord=[0,0],d(this._styleCoord,A,S,g.getWidth()/2,g.getHeight()/2),S?document.body.appendChild(_):p.appendChild(_),this._container=p,this._show=!1,this._hideTimeout;var b=this;_.onmouseenter=function(){b._enterable&&(clearTimeout(b._hideTimeout),b._show=!0),b._inContent=!0},_.onmousemove=function(x){if(x=x||window.event,!b._enterable){var w=A.handler,T=A.painter.getViewportRoot();r.normalizeEvent(T,x,!0),w.dispatch("mousemove",x)}},_.onmouseleave=function(){b._enterable&&b._show&&b.hideLater(b._hideDelay),b._inContent=!1}}f.prototype={constructor:f,_enterable:!0,update:function(){var p=this._container,g=p.currentStyle||document.defaultView.getComputedStyle(p),y=p.style;y.position!=="absolute"&&g.position!=="absolute"&&(y.position="relative")},show:function(p){clearTimeout(this._hideTimeout);var g=this.el,y=this._styleCoord;g.style.cssText=h+u(p)+";left:"+y[0]+"px;top:"+y[1]+"px;"+(p.get("extraCssText")||""),g.style.display=g.innerHTML?"block":"none",g.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(p){this.el.innerHTML=p??""},setEnterable:function(p){this._enterable=p},getSize:function(){var p=this.el;return[p.clientWidth,p.clientHeight]},moveTo:function(p,g){var y=this._styleCoord;d(y,this._zr,this._appendToBody,p,g);var _=this.el.style;_.left=y[0]+"px",_.top=y[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(p){this._show&&!(this._inContent&&this._enterable)&&(p?(this._hideDelay=p,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),p)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var p=this.el.clientWidth,g=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var y=document.defaultView.getComputedStyle(this.el);y&&(p+=parseInt(y.borderLeftWidth,10)+parseInt(y.borderRightWidth,10),g+=parseInt(y.borderTopWidth,10)+parseInt(y.borderBottomWidth,10))}return{width:p,height:g}}};var m=f;return hc=m,hc}var cc,ob;function wq(){if(ob)return cc;ob=1;var e=W,t=ba;function r(i){this._zr=i.getZr(),this._show=!1,this._hideTimeout}r.prototype={constructor:r,_enterable:!0,update:function(){},show:function(i){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(i,o,l){this.el&&this._zr.remove(this.el);for(var c={},n=i,h="{marker",s="|}",v=n.indexOf(h);v>=0;){var u=n.indexOf(s),d=n.substr(v+h.length,u-v-h.length);d.indexOf("sub")>-1?c["marker"+d]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:o[d],textOffset:[3,0]}:c["marker"+d]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:o[d]},n=n.substr(u+1),v=n.indexOf("{marker")}this.el=new t({style:{rich:c,text:i,textLineHeight:20,textBackgroundColor:l.get("backgroundColor"),textBorderRadius:l.get("borderRadius"),textFill:l.get("textStyle.color"),textPadding:l.get("padding")},z:l.get("z")}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},setEnterable:function(i){this._enterable=i},getSize:function(){var i=this.el.getBoundingRect();return[i.width,i.height]},moveTo:function(i,o){this.el&&this.el.attr("position",[i,o])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(i){this._show&&!(this._inContent&&this._enterable)&&(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),i)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var i=this.getSize();return{width:i[0],height:i[1]}}};var a=r;return cc=a,cc}var fc,sb;function Aq(){if(sb)return fc;sb=1;var e=xe,t=W,r=nt,a=bq(),i=wq(),o=Ge(),l=Re(),c=de,n=CM(),h=ze,s=ot(),v=MM(),u=or(),d=fs(),f=Pe,m=f.getTooltipRenderMode,p=t.bind,g=t.each,y=l.parsePercent,_=new c.Rect({shape:{x:-1,y:-1,width:2,height:2}}),A=e.extendComponentView({type:"tooltip",init:function(C,D){if(!r.node){var L=C.getComponent("tooltip"),P=L.get("renderMode");this._renderMode=m(P);var I;this._renderMode==="html"?(I=new a(D.getDom(),D,{appendToBody:L.get("appendToBody",!0)}),this._newLine="<br/>"):(I=new i(D),this._newLine=`
`),this._tooltipContent=I}},render:function(C,D,L){if(!r.node){this.group.removeAll(),this._tooltipModel=C,this._ecModel=D,this._api=L,this._lastDataByCoordSys=null,this._alwaysShowContent=C.get("alwaysShowContent");var P=this._tooltipContent;P.update(),P.setEnterable(C.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var C=this._tooltipModel,D=C.get("triggerOn");v.register("itemTooltip",this._api,p(function(L,P,I){D!=="none"&&(D.indexOf(L)>=0?this._tryShow(P,I):L==="leave"&&this._hide(I))},this))},_keepShow:function(){var C=this._tooltipModel,D=this._ecModel,L=this._api;if(this._lastX!=null&&this._lastY!=null&&C.get("triggerOn")!=="none"){var P=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!L.isDisposed()&&P.manuallyShowTip(C,D,L,{x:P._lastX,y:P._lastY})})}},manuallyShowTip:function(C,D,L,P){if(!(P.from===this.uid||r.node)){var I=b(P,L);this._ticket="";var E=P.dataByCoordSys;if(P.tooltip&&P.x!=null&&P.y!=null){var z=_;z.position=[P.x,P.y],z.update(),z.tooltip=P.tooltip,this._tryShow({offsetX:P.x,offsetY:P.y,target:z},I)}else if(E)this._tryShow({offsetX:P.x,offsetY:P.y,position:P.position,dataByCoordSys:P.dataByCoordSys,tooltipOption:P.tooltipOption},I);else if(P.seriesIndex!=null){if(this._manuallyAxisShowTip(C,D,L,P))return;var N=n(P,D),G=N.point[0],V=N.point[1];G!=null&&V!=null&&this._tryShow({offsetX:G,offsetY:V,position:P.position,target:N.el},I)}else P.x!=null&&P.y!=null&&(L.dispatchAction({type:"updateAxisPointer",x:P.x,y:P.y}),this._tryShow({offsetX:P.x,offsetY:P.y,position:P.position,target:L.getZr().findHover(P.x,P.y).target},I))}},manuallyHideTip:function(C,D,L,P){var I=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&I.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,P.from!==this.uid&&this._hide(b(P,L))},_manuallyAxisShowTip:function(V,D,L,P){var I=P.seriesIndex,E=P.dataIndex,z=D.getComponent("axisPointer").coordSysAxesInfo;if(!(I==null||E==null||z==null)){var N=D.getSeriesByIndex(I);if(N){var G=N.getData(),V=S([G.getItemModel(E),N,(N.coordinateSystem||{}).model,V]);if(V.get("trigger")==="axis")return L.dispatchAction({type:"updateAxisPointer",seriesIndex:I,dataIndex:E,position:P.position}),!0}}},_tryShow:function(C,D){var L=C.target,P=this._tooltipModel;if(P){this._lastX=C.offsetX,this._lastY=C.offsetY;var I=C.dataByCoordSys;I&&I.length?this._showAxisTooltip(I,C):L&&L.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(C,L,D)):L&&L.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(C,L,D)):(this._lastDataByCoordSys=null,this._hide(D))}},_showOrMove:function(C,D){var L=C.get("showDelay");D=t.bind(D,this),clearTimeout(this._showTimout),L>0?this._showTimout=setTimeout(D,L):D()},_showAxisTooltip:function(C,D){var L=this._ecModel,P=this._tooltipModel,I=[D.offsetX,D.offsetY],E=[],z=[],N=S([D.tooltipOption,P]),G=this._renderMode,V=this._newLine,R={};g(C,function(k){g(k.dataByAxis,function(B){var q=L.getComponent(B.axisDim+"Axis",B.axisIndex),H=B.value,F=[];if(!(!q||H==null)){var U=d.getValueLabel(H,q.axis,L,B.seriesDataIndices,B.valueLabelOpt);t.each(B.seriesDataIndices,function(Y){var K=L.getSeriesByIndex(Y.seriesIndex),J=Y.dataIndexInside,j=K&&K.getDataParams(J);if(j.axisDim=B.axisDim,j.axisIndex=B.axisIndex,j.axisType=B.axisType,j.axisId=B.axisId,j.axisValue=u.getAxisRawValue(q.axis,H),j.axisValueLabel=U,j){z.push(j);var ee=K.formatTooltip(J,!0,null,G),te;if(t.isObject(ee)){te=ee.html;var ie=ee.markers;t.merge(R,ie)}else te=ee;F.push(te)}});var $=U;G!=="html"?E.push(F.join(V)):E.push(($?o.encodeHTML($)+V:"")+F.join(V))}})},this),E.reverse(),E=E.join(this._newLine+this._newLine);var O=D.position;this._showOrMove(N,function(){this._updateContentNotChangedOnAxis(C)?this._updatePosition(N,O,I[0],I[1],this._tooltipContent,z):this._showTooltipContent(N,E,z,Math.random(),I[0],I[1],O,void 0,R)})},_showSeriesItemTooltip:function(C,D,L){var P=this._ecModel,I=D.seriesIndex,E=P.getSeriesByIndex(I),z=D.dataModel||E,N=D.dataIndex,G=D.dataType,V=z.getData(G),R=S([V.getItemModel(N),z,E&&(E.coordinateSystem||{}).model,this._tooltipModel]),O=R.get("trigger");if(!(O!=null&&O!=="item")){var k=z.getDataParams(N,G),B=z.formatTooltip(N,!1,G,this._renderMode),q,H;t.isObject(B)?(q=B.html,H=B.markers):(q=B,H=null);var F="item_"+z.name+"_"+N;this._showOrMove(R,function(){this._showTooltipContent(R,q,k,F,C.offsetX,C.offsetY,C.position,C.target,H)}),L({type:"showTip",dataIndexInside:N,dataIndex:V.getRawIndex(N),seriesIndex:I,from:this.uid})}},_showComponentItemTooltip:function(C,D,L){var P=D.tooltip;if(typeof P=="string"){var I=P;P={content:I,formatter:I}}var E=new s(P,this._tooltipModel,this._ecModel),z=E.get("content"),N=Math.random();this._showOrMove(E,function(){this._showTooltipContent(E,z,E.get("formatterParams")||{},N,C.offsetX,C.offsetY,C.position,D)}),L({type:"showTip",from:this.uid})},_showTooltipContent:function(C,D,L,P,I,E,z,N,G){if(this._ticket="",!(!C.get("showContent")||!C.get("show"))){var V=this._tooltipContent,R=C.get("formatter");z=z||C.get("position");var O=D;if(R&&typeof R=="string")O=o.formatTpl(R,L,!0);else if(typeof R=="function"){var k=p(function(B,q){B===this._ticket&&(V.setContent(q,G,C),this._updatePosition(C,z,I,E,V,L,N))},this);this._ticket=P,O=R(L,P,k)}V.setContent(O,G,C),V.show(C),this._updatePosition(C,z,I,E,V,L,N)}},_updatePosition:function(C,D,L,P,I,E,z){var N=this._api.getWidth(),G=this._api.getHeight();D=D||C.get("position");var V=I.getSize(),R=C.get("align"),O=C.get("verticalAlign"),k=z&&z.getBoundingRect().clone();if(z&&k.applyTransform(z.transform),typeof D=="function"&&(D=D([L,P],E,I.el,k,{viewSize:[N,G],contentSize:V.slice()})),t.isArray(D))L=y(D[0],N),P=y(D[1],G);else if(t.isObject(D)){D.width=V[0],D.height=V[1];var B=h.getLayoutRect(D,{width:N,height:G});L=B.x,P=B.y,R=null,O=null}else if(typeof D=="string"&&z){var q=T(D,k,V);L=q[0],P=q[1]}else{var q=x(L,P,I,N,G,R?null:20,O?null:20);L=q[0],P=q[1]}if(R&&(L-=M(R)?V[0]/2:R==="right"?V[0]:0),O&&(P-=M(O)?V[1]/2:O==="bottom"?V[1]:0),C.get("confine")){var q=w(L,P,I,N,G);L=q[0],P=q[1]}I.moveTo(L,P)},_updateContentNotChangedOnAxis:function(C){var D=this._lastDataByCoordSys,L=!!D&&D.length===C.length;return L&&g(D,function(P,I){var E=P.dataByAxis||{},z=C[I]||{},N=z.dataByAxis||[];L&=E.length===N.length,L&&g(E,function(G,V){var R=N[V]||{},O=G.seriesDataIndices||[],k=R.seriesDataIndices||[];L&=G.value===R.value&&G.axisType===R.axisType&&G.axisId===R.axisId&&O.length===k.length,L&&g(O,function(B,q){var H=k[q];L&=B.seriesIndex===H.seriesIndex&&B.dataIndex===H.dataIndex})})}),this._lastDataByCoordSys=C,!!L},_hide:function(C){this._lastDataByCoordSys=null,C({type:"hideTip",from:this.uid})},dispose:function(C,D){r.node||(this._tooltipContent.dispose(),v.unregister("itemTooltip",D))}});function S(C){for(var D=C.pop();C.length;){var L=C.pop();L&&(s.isInstance(L)&&(L=L.get("tooltip",!0)),typeof L=="string"&&(L={formatter:L}),D=new s(L,D,D.ecModel))}return D}function b(C,D){return C.dispatchAction||t.bind(D.dispatchAction,D)}function x(C,D,L,P,I,E,z){var N=L.getOuterSize(),G=N.width,V=N.height;return E!=null&&(C+G+E>P?C-=G+E:C+=E),z!=null&&(D+V+z>I?D-=V+z:D+=z),[C,D]}function w(C,D,L,P,I){var E=L.getOuterSize(),z=E.width,N=E.height;return C=Math.min(C+z,P)-z,D=Math.min(D+N,I)-N,C=Math.max(C,0),D=Math.max(D,0),[C,D]}function T(C,D,L){var P=L[0],I=L[1],E=5,z=0,N=0,G=D.width,V=D.height;switch(C){case"inside":z=D.x+G/2-P/2,N=D.y+V/2-I/2;break;case"top":z=D.x+G/2-P/2,N=D.y-I-E;break;case"bottom":z=D.x+G/2-P/2,N=D.y+V+E;break;case"left":z=D.x-P-E,N=D.y+V/2-I/2;break;case"right":z=D.x+G+E,N=D.y+V/2-I/2}return[z,N]}function M(C){return C==="center"||C==="middle"}return fc=A,fc}var lb;function Tq(){if(lb)return ab;lb=1;var e=xe;return In(),Sq(),Aq(),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),ab}var ub={},dc,vb;function Cq(){if(vb)return dc;vb=1;var e=W,t=["rect","polygon","keep","clear"];function r(i,o){var l=i&&i.brush;if(e.isArray(l)||(l=l?[l]:[]),!!l.length){var c=[];e.each(l,function(u){var d=u.hasOwnProperty("toolbox")?u.toolbox:[];d instanceof Array&&(c=c.concat(d))});var n=i&&i.toolbox;e.isArray(n)&&(n=n[0]),n||(n={feature:{}},i.toolbox=[n]);var h=n.feature||(n.feature={}),s=h.brush||(h.brush={}),v=s.type||(s.type=[]);v.push.apply(v,c),a(v),o&&!v.length&&v.push.apply(v,t)}}function a(i){var o={};e.each(i,function(l){o[l]=1}),i.length=0,e.each(o,function(l,c){i.push(c)})}return dc=r,dc}var gc={},qa={},hb;function ds(){if(hb)return qa;hb=1;var e=W,t=Da(),r=e.each;function a(n){if(n){for(var h in n)if(n.hasOwnProperty(h))return!0}}function i(n,h,s){var v={};return r(h,function(d){var f=v[d]=u();r(n[d],function(m,p){if(t.isValidType(p)){var g={type:p,visual:m};s&&s(g,d),f[p]=new t(g),p==="opacity"&&(g=e.clone(g),g.type="colorAlpha",f.__hidden.__alphaForOpacity=new t(g))}})}),v;function u(){var d=function(){};d.prototype.__hidden=d.prototype;var f=new d;return f}}function o(n,h,s){var v;e.each(s,function(u){h.hasOwnProperty(u)&&a(h[u])&&(v=!0)}),v&&e.each(s,function(u){h.hasOwnProperty(u)&&a(h[u])?n[u]=e.clone(h[u]):delete n[u]})}function l(n,h,s,v,u,d){var f={};e.each(n,function(_){var A=t.prepareVisualTypes(h[_]);f[_]=A});var m;function p(_){return s.getItemVisual(m,_)}function g(_,A){s.setItemVisual(m,_,A)}d==null?s.each(y):s.each([d],y);function y(_,A){m=d==null?_:A;var S=s.getRawDataItem(m);if(!(S&&S.visualMap===!1))for(var b=v.call(u,_),x=h[b],w=f[b],T=0,M=w.length;T<M;T++){var C=w[T];x[C]&&x[C].applyVisual(_,p,g)}}}function c(n,h,s,v){var u={};e.each(n,function(f){var m=t.prepareVisualTypes(h[f]);u[f]=m});function d(f,m){v!=null&&(v=m.getDimension(v));function p(C){return m.getItemVisual(y,C)}function g(C,D){m.setItemVisual(y,C,D)}for(var y;(y=f.next())!=null;){var _=m.getRawDataItem(y);if(!(_&&_.visualMap===!1))for(var A=v!=null?m.get(v,y,!0):y,S=s(A),b=h[S],x=u[S],w=0,T=x.length;w<T;w++){var M=x[w];b[M]&&b[M].applyVisual(A,p,g)}}}return{progress:d}}return qa.createVisualMappings=i,qa.replaceVisualOption=o,qa.applyVisual=l,qa.incrementalApplyVisual=c,qa}var pc,cb;function Mq(){if(cb)return pc;cb=1;var e=KC(),t=Ke,r=de,a=r.linePolygonIntersect,i={lineX:o(0),lineY:o(1),rect:{point:function(n,h,s){return n&&s.boundingRect.contain(n[0],n[1])},rect:function(n,h,s){return n&&s.boundingRect.intersect(n)}},polygon:{point:function(n,h,s){return n&&s.boundingRect.contain(n[0],n[1])&&e.contain(s.range,n[0],n[1])},rect:function(n,h,s){var v=s.range;if(!n||v.length<=1)return!1;var u=n.x,d=n.y,f=n.width,m=n.height,p=v[0];if(e.contain(v,u,d)||e.contain(v,u+f,d)||e.contain(v,u,d+m)||e.contain(v,u+f,d+m)||t.create(n).contain(p[0],p[1])||a(u,d,u+f,d,v)||a(u,d,u,d+m,v)||a(u+f,d,u+f,d+m,v)||a(u,d+m,u+f,d+m,v))return!0}}};function o(n){var h=["x","y"],s=["width","height"];return{point:function(v,u,d){if(v){var f=d.range,m=v[n];return l(m,f)}},rect:function(v,u,d){if(v){var f=d.range,m=[v[h[n]],v[h[n]]+v[s[n]]];return m[1]<m[0]&&m.reverse(),l(m[0],f)||l(m[1],f)||l(f[0],m)||l(f[1],m)}}}}function l(n,h){return h[0]<=n&&n<=h[1]}var c=i;return pc=c,pc}var fb;function EM(){if(fb)return gc;fb=1;var e=xe,t=W,r=Ke,a=ds(),i=Mq(),o=nr,l=IM(),c=["inBrush","outOfBrush"],n="__ecBrushSelect",h="__ecInBrushSelectEvent",s=e.PRIORITY.VISUAL.BRUSH;e.registerLayout(s,function(A,S,b){A.eachComponent({mainType:"brush"},function(x){b&&b.type==="takeGlobalCursor"&&x.setBrushOption(b.key==="brush"?b.brushOption:{brushType:!1})}),v(A)});function v(A){A.eachComponent({mainType:"brush"},function(S){var b=S.brushTargetManager=new l(S.option,A);b.setInputRanges(S.areas,A)})}e.registerVisual(s,function(A,S,b){var x=[],w,T;A.eachComponent({mainType:"brush"},function(M,C){var D={brushId:M.id,brushIndex:C,brushName:M.name,areas:t.clone(M.areas),selected:[]};x.push(D);var L=M.option,P=L.brushLink,I=[],E=[],z=[],N=0;C||(w=L.throttleType,T=L.throttleDelay);var G=t.map(M.areas,function(q){return g(t.defaults({boundingRect:y[q.brushType](q)},q))}),V=a.createVisualMappings(M.option,c,function(q){q.mappingMethod="fixed"});t.isArray(P)&&t.each(P,function(q){I[q]=1});function R(q){return P==="all"||I[q]}function O(q){return!!q.length}A.eachSeries(function(q,H){var F=z[H]=[];q.subType==="parallel"?k(q,H):B(q,H,F)});function k(q,H){var F=q.coordinateSystem;N|=F.hasAxisBrushed(),R(H)&&F.eachActiveState(q.getData(),function(U,$){U==="active"&&(E[$]=1)})}function B(q,H,F){var U=m(q);if(!(!U||p(M,H))&&(t.each(G,function(Y){U[Y.brushType]&&M.brushTargetManager.controlSeries(Y,q,A)&&F.push(Y),N|=O(F)}),R(H)&&O(F))){var $=q.getData();$.each(function(Y){f(U,F,$,Y)&&(E[Y]=1)})}}A.eachSeries(function(q,H){var F={seriesId:q.id,seriesIndex:H,seriesName:q.name,dataIndex:[]};D.selected.push(F);var U=m(q),$=z[H],Y=q.getData(),K=R(H)?function(J){return E[J]?(F.dataIndex.push(Y.getRawIndex(J)),"inBrush"):"outOfBrush"}:function(J){return f(U,$,Y,J)?(F.dataIndex.push(Y.getRawIndex(J)),"inBrush"):"outOfBrush"};(R(H)?N:O($))&&a.applyVisual(c,V,Y,K)})}),u(S,w,T,x,b)});function u(A,S,b,x,w){if(w){var T=A.getZr();if(!T[h]){T[n]||(T[n]=d);var M=o.createOrUpdate(T,n,b,S);M(A,x)}}}function d(A,S){if(!A.isDisposed()){var b=A.getZr();b[h]=!0,A.dispatchAction({type:"brushSelect",batch:S}),b[h]=!1}}function f(A,S,b,x){for(var w=0,T=S.length;w<T;w++){var M=S[w];if(A[M.brushType](x,b,M.selectors,M))return!0}}function m(A){var S=A.brushSelector;if(t.isString(S)){var b=[];return t.each(i,function(w,T){b[T]=function(M,C,D,L){var P=C.getItemLayout(M);return w[S](P,D,L)}}),b}else if(t.isFunction(S)){var x={};return t.each(i,function(w,T){x[T]=S}),x}return S}function p(A,S){var b=A.option.seriesIndex;return b!=null&&b!=="all"&&(t.isArray(b)?t.indexOf(b,S)<0:S!==b)}function g(A){var S=A.selectors={};return t.each(i[A.brushType],function(b,x){S[x]=function(w){return b(w,S,A)}}),A}var y={lineX:t.noop,lineY:t.noop,rect:function(A){return _(A.range)},polygon:function(A){for(var S,b=A.range,x=0,w=b.length;x<w;x++){S=S||[[1/0,-1/0],[1/0,-1/0]];var T=b[x];T[0]<S[0][0]&&(S[0][0]=T[0]),T[0]>S[0][1]&&(S[0][1]=T[0]),T[1]<S[1][0]&&(S[1][0]=T[1]),T[1]>S[1][1]&&(S[1][1]=T[1])}return S&&_(S)}};function _(A){return new r(A[0][0],A[1][0],A[0][1]-A[0][0],A[1][1]-A[1][0])}return gc.layoutCovers=v,gc}var mc,db;function Dq(){if(db)return mc;db=1;var e=xe,t=W,r=ds(),a=ot(),i=["#ddd"],o=e.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(n,h){var s=this.option;!h&&r.replaceVisualOption(s,n,["inBrush","outOfBrush"]);var v=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:i},v.hasOwnProperty("liftZ")||(v.liftZ=5)},setAreas:function(n){n&&(this.areas=t.map(n,function(h){return l(this.option,h)},this))},setBrushOption:function(n){this.brushOption=l(this.option,n),this.brushType=this.brushOption.brushType}});function l(n,h){return t.merge({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new a(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},h,!0)}var c=o;return mc=c,mc}var yc,gb;function Lq(){if(gb)return yc;gb=1;var e=xe,t=W,r=rg(),a=EM(),i=a.layoutCovers,o=e.extendComponentView({type:"brush",init:function(c,n){this.ecModel=c,this.api=n,this.model,(this._brushController=new r(n.getZr())).on("brush",t.bind(this._onBrush,this)).mount()},render:function(c){return this.model=c,l.apply(this,arguments)},updateTransform:function(c,n){return i(n),l.apply(this,arguments)},updateView:l,dispose:function(){this._brushController.dispose()},_onBrush:function(c,n){var h=this.model.id;this.model.brushTargetManager.setOutputRanges(c,this.ecModel),(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:h,areas:t.clone(c),$from:h}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:h,areas:t.clone(c),$from:h})}});function l(c,n,h,s){(!s||s.$from!==c.id)&&this._brushController.setPanels(c.brushTargetManager.makePanelOpts(h)).enableBrush(c.brushOption).updateCovers(c.areas.slice())}return yc=o,yc}var pb={},mb;function Pq(){if(mb)return pb;mb=1;var e=xe;return e.registerAction({type:"brush",event:"brush"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(a){a.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),pb}var _c,yb;function Iq(){if(yb)return _c;yb=1;var e=W,t=na(),r=ra,a=r.toolbox.brush;function i(c,n,h){this.model=c,this.ecModel=n,this.api=h,this._brushType,this._brushMode}i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.clone(a.title)};var o=i.prototype;o.render=o.updateView=function(c,n,h){var s,v,u;n.eachComponent({mainType:"brush"},function(d){s=d.brushType,v=d.brushOption.brushMode||"single",u|=d.areas.length}),this._brushType=s,this._brushMode=v,e.each(c.get("type",!0),function(d){c.setIconStatus(d,(d==="keep"?v==="multiple":d==="clear"?u:d===s)?"emphasis":"normal")})},o.getIcons=function(){var c=this.model,n=c.get("icon",!0),h={};return e.each(c.get("type",!0),function(s){n[s]&&(h[s]=n[s])}),h},o.onclick=function(c,n,h){var s=this._brushType,v=this._brushMode;h==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:h==="keep"?s:s===h?!1:h,brushMode:h==="keep"?v==="multiple"?"single":"multiple":v}})},t.register("brush",i);var l=i;return _c=l,_c}var _b;function Rq(){if(_b)return ub;_b=1;var e=xe,t=Cq();return EM(),Dq(),Lq(),Pq(),Iq(),e.registerPreprocessor(t),ub}var xb={},Sb;function Eq(){if(Sb)return xb;Sb=1;var e=W,t=xe,r=de,a=ze,i=a.getLayoutRect,o=Ge(),l=o.windowOpen;return t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(c,n,h){if(this.group.removeAll(),!!c.get("show")){var s=this.group,v=c.getModel("textStyle"),u=c.getModel("subtextStyle"),d=c.get("textAlign"),f=e.retrieve2(c.get("textBaseline"),c.get("textVerticalAlign")),m=new r.Text({style:r.setTextStyle({},v,{text:c.get("text"),textFill:v.getTextColor()},{disableBox:!0}),z2:10}),p=m.getBoundingRect(),g=c.get("subtext"),y=new r.Text({style:r.setTextStyle({},u,{text:g,textFill:u.getTextColor(),y:p.height+c.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),_=c.get("link"),A=c.get("sublink"),S=c.get("triggerEvent",!0);m.silent=!_&&!S,y.silent=!A&&!S,_&&m.on("click",function(){l(_,"_"+c.get("target"))}),A&&y.on("click",function(){l(_,"_"+c.get("subtarget"))}),m.eventData=y.eventData=S?{componentType:"title",componentIndex:c.componentIndex}:null,s.add(m),g&&s.add(y);var b=s.getBoundingRect(),x=c.getBoxLayoutParams();x.width=b.width,x.height=b.height;var w=i(x,{width:h.getWidth(),height:h.getHeight()},c.get("padding"));d||(d=c.get("left")||c.get("right"),d==="middle"&&(d="center"),d==="right"?w.x+=w.width:d==="center"&&(w.x+=w.width/2)),f||(f=c.get("top")||c.get("bottom"),f==="center"&&(f="middle"),f==="bottom"?w.y+=w.height:f==="middle"&&(w.y+=w.height/2),f=f||"top"),s.attr("position",[w.x,w.y]);var T={textAlign:d,textVerticalAlign:f};m.setStyle(T),y.setStyle(T),b=s.getBoundingRect();var M=w.margin,C=c.getItemStyle(["color","opacity"]);C.fill=c.get("backgroundColor");var D=new r.Rect({shape:{x:b.x-M[3],y:b.y-M[0],width:b.width+M[1]+M[3],height:b.height+M[0]+M[2],r:c.get("borderRadius")},style:C,subPixelOptimize:!0,silent:!0});s.add(D)}}}),xb}var bb={},xc,wb;function kq(){if(wb)return xc;wb=1;var e=W;function t(o){var l=o&&o.timeline;e.isArray(l)||(l=l?[l]:[]),e.each(l,function(c){c&&r(c)})}function r(o){var l=o.type,c={number:"value",time:"time"};if(c[l]&&(o.axisType=c[l],delete o.type),a(o),i(o,"controlPosition")){var n=o.controlStyle||(o.controlStyle={});i(n,"position")||(n.position=o.controlPosition),n.position==="none"&&!i(n,"show")&&(n.show=!1,delete n.position),delete o.controlPosition}e.each(o.data||[],function(h){e.isObject(h)&&!e.isArray(h)&&(!i(h,"value")&&i(h,"name")&&(h.value=h.name),a(h))})}function a(o){var l=o.itemStyle||(o.itemStyle={}),c=l.emphasis||(l.emphasis={}),n=o.label||o.label||{},h=n.normal||(n.normal={}),s={normal:1,emphasis:1};e.each(n,function(v,u){!s[u]&&!i(h,u)&&(h[u]=v)}),c.label&&!i(n,"emphasis")&&(n.emphasis=c.label,delete c.label)}function i(o,l){return o.hasOwnProperty(l)}return xc=t,xc}var Ab={},Tb;function Oq(){if(Tb)return Ab;Tb=1;var e=ct;return e.registerSubTypeDefaulter("timeline",function(){return"slider"}),Ab}var Cb={},Mb;function zq(){if(Mb)return Cb;Mb=1;var e=xe,t=W;return e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,a){var i=a.getComponent("timeline");return i&&r.currentIndex!=null&&(i.setCurrentIndex(r.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),a.resetOption("timeline"),t.defaults({currentIndex:i.option.currentIndex},r)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,a){var i=a.getComponent("timeline");i&&r.playState!=null&&i.setPlayState(r.playState)}),Cb}var Sc,Db;function Bq(){if(Db)return Sc;Db=1;var e=W,t=ct,r=Wt(),a=Pe,i=t.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(l,c,n){this._data,this._names,this.mergeDefaultAndTheme(l,n),this._initData()},mergeOption:function(l){i.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(l){l==null&&(l=this.option.currentIndex);var c=this._data.count();this.option.loop?l=(l%c+c)%c:(l>=c&&(l=c-1),l<0&&(l=0)),this.option.currentIndex=l},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(l){this.option.autoPlay=!!l},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var l=this.option,c=l.data||[],n=l.axisType,h=this._names=[];if(n==="category"){var s=[];e.each(c,function(d,f){var m=a.getDataItemValue(d),p;e.isObject(d)?(p=e.clone(d),p.value=f):p=f,s.push(p),!e.isString(m)&&(m==null||isNaN(m))&&(m=""),h.push(m+"")}),c=s}var v={category:"ordinal",time:"time"}[n]||"number",u=this._data=new r([{name:"value",type:v}],this);u.initData(c,h)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}}),o=i;return Sc=o,Sc}var bc,Lb;function Nq(){if(Lb)return bc;Lb=1;var e=W,t=Bq(),r=Hd,a=t.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});e.mixin(a,r);var i=a;return bc=i,bc}var wc,Pb;function Vq(){if(Pb)return wc;Pb=1;var e=es,t=e.extend({type:"timeline"});return wc=t,wc}var Ac,Ib;function Hq(){if(Ib)return Ac;Ib=1;var e=W,t=aa(),r=function(i,o,l,c){t.call(this,i,o,l),this.type=c||"value",this.model=null};r.prototype={constructor:r,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}},e.inherits(r,t);var a=r;return Ac=a,Ac}var Tc,Rb;function qq(){if(Rb)return Tc;Rb=1;var e=W,t=Ke,r=Pt(),a=de,i=ze,o=Vq(),l=Hq(),c=Zt(),n=c.createSymbol,h=or(),s=Re(),v=Ge(),u=v.encodeHTML,d=e.bind,f=e.each,m=Math.PI,p=o.extend({type:"timeline.slider",init:function(S,b){this.api=b,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(S,b,x,w){if(this.model=S,this.api=x,this.ecModel=b,this.group.removeAll(),S.get("show",!0)){var T=this._layout(S,x),M=this._createGroup("mainGroup"),C=this._createGroup("labelGroup"),D=this._axis=this._createAxis(T,S);S.formatTooltip=function(L){return u(D.scale.getLabel(L))},f(["AxisLine","AxisTick","Control","CurrentPointer"],function(L){this["_render"+L](T,M,D,S)},this),this._renderAxisLabel(T,C,D,S),this._position(T,S)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(S,b){var x=S.get("label.position"),w=S.get("orient"),T=g(S,b);x==null||x==="auto"?x=w==="horizontal"?T.y+T.height/2<b.getHeight()/2?"-":"+":T.x+T.width/2<b.getWidth()/2?"+":"-":isNaN(x)&&(x={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[w][x]);var M={horizontal:"center",vertical:x>=0||x==="+"?"left":"right"},C={horizontal:x>=0||x==="+"?"top":"bottom",vertical:"middle"},D={horizontal:0,vertical:m/2},L=w==="vertical"?T.height:T.width,P=S.getModel("controlStyle"),I=P.get("show",!0),E=I?P.get("itemSize"):0,z=I?P.get("itemGap"):0,N=E+z,G=S.get("label.rotate")||0;G=G*m/180;var V,R,O,k,B=P.get("position",!0),q=I&&P.get("showPlayBtn",!0),H=I&&P.get("showPrevBtn",!0),F=I&&P.get("showNextBtn",!0),U=0,$=L;return B==="left"||B==="bottom"?(q&&(V=[0,0],U+=N),H&&(R=[U,0],U+=N),F&&(O=[$-E,0],$-=N)):(q&&(V=[$-E,0],$-=N),H&&(R=[0,0],U+=N),F&&(O=[$-E,0],$-=N)),k=[U,$],S.get("inverse")&&k.reverse(),{viewRect:T,mainLength:L,orient:w,rotation:D[w],labelRotation:G,labelPosOpt:x,labelAlign:S.get("label.align")||M[w],labelBaseline:S.get("label.verticalAlign")||S.get("label.baseline")||C[w],playPosition:V,prevBtnPosition:R,nextBtnPosition:O,axisExtent:k,controlSize:E,controlGap:z}},_position:function(S,b){var x=this._mainGroup,w=this._labelGroup,T=S.viewRect;if(S.orient==="vertical"){var M=r.create(),C=T.x,D=T.y+T.height;r.translate(M,M,[-C,-D]),r.rotate(M,M,-m/2),r.translate(M,M,[C,D]),T=T.clone(),T.applyTransform(M)}var L=R(T),P=R(x.getBoundingRect()),I=R(w.getBoundingRect()),E=x.position,z=w.position;z[0]=E[0]=L[0][0];var N=S.labelPosOpt;if(isNaN(N)){var G=N==="+"?0:1;O(E,P,L,1,G),O(z,I,L,1,1-G)}else{var G=N>=0?0:1;O(E,P,L,1,G),z[1]=E[1]+N}x.attr("position",E),w.attr("position",z),x.rotation=w.rotation=S.rotation,V(x),V(w);function V(k){var B=k.position;k.origin=[L[0][0]-B[0],L[1][0]-B[1]]}function R(k){return[[k.x,k.x+k.width],[k.y,k.y+k.height]]}function O(k,B,q,H,F){k[H]+=q[H][F]-B[H][F]}},_createAxis:function(S,b){var x=b.getData(),w=b.get("axisType"),T=h.createScaleByModel(b,w);T.getTicks=function(){return x.mapArray(["value"],function(D){return D})};var M=x.getDataExtent("value");T.setExtent(M[0],M[1]),T.niceTicks();var C=new l("value",T,S.axisExtent,w);return C.model=b,C},_createGroup:function(S){var b=this["_"+S]=new a.Group;return this.group.add(b),b},_renderAxisLine:function(S,b,x,w){var T=x.getExtent();w.get("lineStyle.show")&&b.add(new a.Line({shape:{x1:T[0],y1:0,x2:T[1],y2:0},style:e.extend({lineCap:"round"},w.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(S,b,x,w){var T=w.getData(),M=x.scale.getTicks();f(M,function(C){var D=x.dataToCoord(C),L=T.getItemModel(C),P=L.getModel("itemStyle"),I=L.getModel("emphasis.itemStyle"),E={position:[D,0],onclick:d(this._changeTimeline,this,C)},z=_(L,P,b,E);a.setHoverStyle(z,I.getItemStyle()),L.get("tooltip")?(z.dataIndex=C,z.dataModel=w):z.dataIndex=z.dataModel=null},this)},_renderAxisLabel:function(S,b,x,w){var T=x.getLabelModel();if(T.get("show")){var M=w.getData(),C=x.getViewLabels();f(C,function(D){var L=D.tickValue,P=M.getItemModel(L),I=P.getModel("label"),E=P.getModel("emphasis.label"),z=x.dataToCoord(D.tickValue),N=new a.Text({position:[z,0],rotation:S.labelRotation-S.rotation,onclick:d(this._changeTimeline,this,L),silent:!1});a.setTextStyle(N.style,I,{text:D.formattedLabel,textAlign:S.labelAlign,textVerticalAlign:S.labelBaseline}),b.add(N),a.setHoverStyle(N,a.setTextStyle({},E))},this)}},_renderControl:function(S,b,x,w){var T=S.controlSize,M=S.rotation,C=w.getModel("controlStyle").getItemStyle(),D=w.getModel("emphasis.controlStyle").getItemStyle(),L=[0,-T/2,T,T],P=w.getPlayState(),I=w.get("inverse",!0);E(S.nextBtnPosition,"controlStyle.nextIcon",d(this._changeTimeline,this,I?"-":"+")),E(S.prevBtnPosition,"controlStyle.prevIcon",d(this._changeTimeline,this,I?"+":"-")),E(S.playPosition,"controlStyle."+(P?"stopIcon":"playIcon"),d(this._handlePlayClick,this,!P),!0);function E(z,N,G,V){if(z){var R={position:z,origin:[T/2,0],rotation:V?-M:0,rectHover:!0,style:C,onclick:G},O=y(w,N,L,R);b.add(O),a.setHoverStyle(O,D)}}},_renderCurrentPointer:function(S,b,x,w){var T=w.getData(),M=w.getCurrentIndex(),C=T.getItemModel(M).getModel("checkpointStyle"),D=this,L={onCreate:function(P){P.draggable=!0,P.drift=d(D._handlePointerDrag,D),P.ondragend=d(D._handlePointerDragend,D),A(P,M,x,w,!0)},onUpdate:function(P){A(P,M,x,w)}};this._currentPointer=_(C,C,this._mainGroup,{},this._currentPointer,L)},_handlePlayClick:function(S){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:S,from:this.uid})},_handlePointerDrag:function(S,b,x){this._clearTimer(),this._pointerChangeTimeline([x.offsetX,x.offsetY])},_handlePointerDragend:function(S){this._pointerChangeTimeline([S.offsetX,S.offsetY],!0)},_pointerChangeTimeline:function(S,b){var x=this._toAxisCoord(S)[0],w=this._axis,T=s.asc(w.getExtent().slice());x>T[1]&&(x=T[1]),x<T[0]&&(x=T[0]),this._currentPointer.position[0]=x,this._currentPointer.dirty();var M=this._findNearestTick(x),C=this.model;(b||M!==C.getCurrentIndex()&&C.get("realtime"))&&this._changeTimeline(M)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(d(S,this),this.model.get("playInterval")));function S(){var b=this.model;this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}},_toAxisCoord:function(S){var b=this._mainGroup.getLocalTransform();return a.applyTransform(S,b,!0)},_findNearestTick:function(S){var b=this.model.getData(),x=1/0,w,T=this._axis;return b.each(["value"],function(M,C){var D=T.dataToCoord(M),L=Math.abs(D-S);L<x&&(x=L,w=C)}),w},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(S){var b=this.model.getCurrentIndex();S==="+"?S=b+1:S==="-"&&(S=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:S,from:this.uid})}});function g(S,b){return i.getLayoutRect(S.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},S.get("padding"))}function y(S,b,x,w){var T=a.makePath(S.get(b).replace(/^path:\/\//,""),e.clone(w||{}),new t(x[0],x[1],x[2],x[3]),"center");return T}function _(S,b,x,w,T,M){var C=b.get("color");if(T)T.setColor(C),x.add(T),M&&M.onUpdate(T);else{var D=S.get("symbol");T=n(D,-1,-1,2,2,C),T.setStyle("strokeNoScale",!0),x.add(T),M&&M.onCreate(T)}var L=b.getItemStyle(["color","symbol","symbolSize"]);T.setStyle(L),w=e.merge({rectHover:!0,z2:100},w,!0);var P=S.get("symbolSize");P=P instanceof Array?P.slice():[+P,+P],P[0]/=2,P[1]/=2,w.scale=P;var I=S.get("symbolOffset");if(I){var E=w.position=w.position||[0,0];E[0]+=s.parsePercent(I[0],P[0]),E[1]+=s.parsePercent(I[1],P[1])}var z=S.get("symbolRotate");return w.rotation=(z||0)*Math.PI/180||0,T.attr(w),T.updateTransform(),T}function A(S,b,x,w,T){if(!S.dragging){var M=w.getModel("checkpointStyle"),C=x.dataToCoord(w.getData().get(["value"],b));T||!M.get("animation",!0)?S.attr({position:[C,0]}):(S.stopAnimation(!0),S.animateTo({position:[C,0]},M.get("animationDuration",!0),M.get("animationEasing",!0)))}}return Tc=p,Tc}var Eb;function Gq(){if(Eb)return bb;Eb=1;var e=xe,t=kq();return Oq(),zq(),Nq(),qq(),e.registerPreprocessor(t),bb}var kb={},Cc,Ob;function ug(){if(Ob)return Cc;Ob=1;var e=xe,t=W,r=nt,a=Pe,i=Ge(),o=Hd,l=i.addCommas,c=i.encodeHTML;function n(v){a.defaultEmphasis(v,"label",["show"])}var h=e.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(v,u,d){this.mergeDefaultAndTheme(v,d),this._mergeOption(v,d,!1,!0)},isAnimationEnabled:function(){if(r.node)return!1;var v=this.__hostSeries;return this.getShallow("animation")&&v&&v.isAnimationEnabled()},mergeOption:function(v,u){this._mergeOption(v,u,!1,!1)},_mergeOption:function(v,u,d,f){var m=this.constructor,p=this.mainType+"Model";d||u.eachSeries(function(g){var y=g.get(this.mainType,!0),_=g[p];if(!y||!y.data){g[p]=null;return}_?_._mergeOption(y,u,!0):(f&&n(y),t.each(y.data,function(A){A instanceof Array?(n(A[0]),n(A[1])):n(A)}),_=new m(y,this,u),t.extend(_,{mainType:this.mainType,seriesIndex:g.seriesIndex,name:g.name,createdBySelf:!0}),_.__hostSeries=g),g[p]=_},this)},formatTooltip:function(v){var u=this.getData(),d=this.getRawValue(v),f=t.isArray(d)?t.map(d,l).join(", "):l(d),m=u.getName(v),p=c(this.name);return(d!=null||m)&&(p+="<br />"),m&&(p+=c(m),d!=null&&(p+=" : ")),d!=null&&(p+=c(f)),p},getData:function(){return this._data},setData:function(v){this._data=v}});t.mixin(h,o);var s=h;return Cc=s,Cc}var Mc,zb;function Fq(){if(zb)return Mc;zb=1;var e=ug(),t=e.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});return Mc=t,Mc}var fa={},Bb;function vg(){if(Bb)return fa;Bb=1;var e=W,t=Re(),r=wr(),a=r.isDimensionStacked,i=e.indexOf;function o(p){return!(isNaN(parseFloat(p.x))&&isNaN(parseFloat(p.y)))}function l(p){return!isNaN(parseFloat(p.x))&&!isNaN(parseFloat(p.y))}function c(p,g,y,_,A,S){var b=[],x=a(g,_),w=x?g.getCalculationInfo("stackResultDimension"):_,T=m(g,w,p),M=g.indicesOfNearest(w,T)[0];b[A]=g.get(y,M),b[S]=g.get(w,M);var C=g.get(_,M),D=t.getPrecision(g.get(_,M));return D=Math.min(D,20),D>=0&&(b[S]=+b[S].toFixed(D)),[b,C]}var n=e.curry,h={min:n(c,"min"),max:n(c,"max"),average:n(c,"average")};function s(p,g){var y=p.getData(),_=p.coordinateSystem;if(g&&!l(g)&&!e.isArray(g.coord)&&_){var A=_.dimensions,S=v(g,y,_,p);if(g=e.clone(g),g.type&&h[g.type]&&S.baseAxis&&S.valueAxis){var b=i(A,S.baseAxis.dim),x=i(A,S.valueAxis.dim),w=h[g.type](y,S.baseDataDim,S.valueDataDim,b,x);g.coord=w[0],g.value=w[1]}else{for(var T=[g.xAxis!=null?g.xAxis:g.radiusAxis,g.yAxis!=null?g.yAxis:g.angleAxis],M=0;M<2;M++)h[T[M]]&&(T[M]=m(y,y.mapDimension(A[M]),T[M]));g.coord=T}}return g}function v(p,g,y,_){var A={};return p.valueIndex!=null||p.valueDim!=null?(A.valueDataDim=p.valueIndex!=null?g.getDimension(p.valueIndex):p.valueDim,A.valueAxis=y.getAxis(u(_,A.valueDataDim)),A.baseAxis=y.getOtherAxis(A.valueAxis),A.baseDataDim=g.mapDimension(A.baseAxis.dim)):(A.baseAxis=_.getBaseAxis(),A.valueAxis=y.getOtherAxis(A.baseAxis),A.baseDataDim=g.mapDimension(A.baseAxis.dim),A.valueDataDim=g.mapDimension(A.valueAxis.dim)),A}function u(p,g){var y=p.getData(),_=y.dimensions;g=y.getDimension(g);for(var A=0;A<_.length;A++){var S=y.getDimensionInfo(_[A]);if(S.name===g)return S.coordDim}}function d(p,g){return p&&p.containData&&g.coord&&!o(g)?p.containData(g.coord):!0}function f(p,g,y,_){return _<2?p.coord&&p.coord[_]:p.value}function m(p,g,y){if(y==="average"){var _=0,A=0;return p.each(g,function(S,b){isNaN(S)||(_+=S,A++)}),_/A}else return y==="median"?p.getMedian(g):p.getDataExtent(g,!0)[y==="max"?1:0]}return fa.dataTransform=s,fa.getAxisInfo=v,fa.dataFilter=d,fa.dimValueGetter=f,fa.numCalculate=m,fa}var Dc,Nb;function hg(){if(Nb)return Dc;Nb=1;var e=xe,t=W,r=e.extendComponentView({type:"marker",init:function(){this.markerGroupMap=t.createHashMap()},render:function(a,i,o){var l=this.markerGroupMap;l.each(function(n){n.__keep=!1});var c=this.type+"Model";i.eachSeries(function(n){var h=n[c];h&&this.renderSeries(n,h,i,o)},this),l.each(function(n){!n.__keep&&this.group.remove(n.group)},this)},renderSeries:function(){}});return Dc=r,Dc}var Lc,Vb;function Uq(){if(Vb)return Lc;Vb=1;var e=W,t=An(),r=Re(),a=Wt(),i=vg(),o=hg();function l(h,s,v){var u=s.coordinateSystem;h.each(function(d){var f=h.getItemModel(d),m,p=r.parsePercent(f.get("x"),v.getWidth()),g=r.parsePercent(f.get("y"),v.getHeight());if(!isNaN(p)&&!isNaN(g))m=[p,g];else if(s.getMarkerPosition)m=s.getMarkerPosition(h.getValues(h.dimensions,d));else if(u){var y=h.get(u.dimensions[0],d),_=h.get(u.dimensions[1],d);m=u.dataToPoint([y,_])}isNaN(p)||(m[0]=p),isNaN(g)||(m[1]=g),h.setItemLayout(d,m)})}var c=o.extend({type:"markPoint",updateTransform:function(h,s,v){s.eachSeries(function(u){var d=u.markPointModel;d&&(l(d.getData(),u,v),this.markerGroupMap.get(u.id).updateLayout(d))},this)},renderSeries:function(h,s,v,u){var d=h.coordinateSystem,f=h.id,m=h.getData(),p=this.markerGroupMap,g=p.get(f)||p.set(f,new t),y=n(d,h,s);s.setData(y),l(s.getData(),h,u),y.each(function(_){var A=y.getItemModel(_),S=A.getShallow("symbol"),b=A.getShallow("symbolSize"),x=e.isFunction(S),w=e.isFunction(b);if(x||w){var T=s.getRawValue(_),M=s.getDataParams(_);x&&(S=S(T,M)),w&&(b=b(T,M))}y.setItemVisual(_,{symbol:S,symbolSize:b,color:A.get("itemStyle.color")||m.getVisual("color")})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(_){_.traverse(function(A){A.dataModel=s})}),g.__keep=!0,g.group.silent=s.get("silent")||h.get("silent")}});function n(h,s,v){var u;h?u=e.map(h&&h.dimensions,function(m){var p=s.getData().getDimensionInfo(s.getData().mapDimension(m))||{};return e.defaults({name:m},p)}):u=[{name:"value",type:"float"}];var d=new a(u,v),f=e.map(v.get("data"),e.curry(i.dataTransform,s));return h&&(f=e.filter(f,e.curry(i.dataFilter,h))),d.initData(f,null,h?i.dimValueGetter:function(m){return m.value}),d}return Lc=c,Lc}var Hb;function $q(){if(Hb)return kb;Hb=1;var e=xe;return Fq(),Uq(),e.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),kb}var qb={},Pc,Gb;function Wq(){if(Gb)return Pc;Gb=1;var e=ug(),t=e.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});return Pc=t,Pc}var Ic,Fb;function Zq(){if(Fb)return Ic;Fb=1;var e=W,t=Wt(),r=Re(),a=vg(),i=eg(),o=hg(),l=wr(),c=l.getStackedDimension,n=function(m,p,g,y){var _=m.getData(),A=y.type;if(!e.isArray(y)&&(A==="min"||A==="max"||A==="average"||A==="median"||y.xAxis!=null||y.yAxis!=null)){var S,b;if(y.yAxis!=null||y.xAxis!=null)S=p.getAxis(y.yAxis!=null?"y":"x"),b=e.retrieve(y.yAxis,y.xAxis);else{var x=a.getAxisInfo(y,_,p,m);S=x.valueAxis;var w=c(_,x.valueDataDim);b=a.numCalculate(_,w,A)}var T=S.dim==="x"?0:1,M=1-T,C=e.clone(y),D={};C.type=null,C.coord=[],D.coord=[],C.coord[M]=-1/0,D.coord[M]=1/0;var L=g.get("precision");L>=0&&typeof b=="number"&&(b=+b.toFixed(Math.min(L,20))),C.coord[T]=D.coord[T]=b,y=[C,D,{type:A,valueIndex:y.valueIndex,value:b}]}return y=[a.dataTransform(m,y[0]),a.dataTransform(m,y[1]),e.extend({},y[2])],y[2].type=y[2].type||"",e.merge(y[2],y[0]),e.merge(y[2],y[1]),y};function h(m){return!isNaN(m)&&!isFinite(m)}function s(m,p,g,y){var _=1-m,A=y.dimensions[m];return h(p[_])&&h(g[_])&&p[m]===g[m]&&y.getAxis(A).containData(p[m])}function v(m,p){if(m.type==="cartesian2d"){var g=p[0].coord,y=p[1].coord;if(g&&y&&(s(1,g,y,m)||s(0,g,y,m)))return!0}return a.dataFilter(m,p[0])&&a.dataFilter(m,p[1])}function u(m,p,g,y,_){var A=y.coordinateSystem,S=m.getItemModel(p),b,x=r.parsePercent(S.get("x"),_.getWidth()),w=r.parsePercent(S.get("y"),_.getHeight());if(!isNaN(x)&&!isNaN(w))b=[x,w];else{if(y.getMarkerPosition)b=y.getMarkerPosition(m.getValues(m.dimensions,p));else{var T=A.dimensions,M=m.get(T[0],p),C=m.get(T[1],p);b=A.dataToPoint([M,C])}if(A.type==="cartesian2d"){var D=A.getAxis("x"),L=A.getAxis("y"),T=A.dimensions;h(m.get(T[0],p))?b[0]=D.toGlobalCoord(D.getExtent()[g?0:1]):h(m.get(T[1],p))&&(b[1]=L.toGlobalCoord(L.getExtent()[g?0:1]))}isNaN(x)||(b[0]=x),isNaN(w)||(b[1]=w)}m.setItemLayout(p,b)}var d=o.extend({type:"markLine",updateTransform:function(m,p,g){p.eachSeries(function(y){var _=y.markLineModel;if(_){var A=_.getData(),S=_.__from,b=_.__to;S.each(function(x){u(S,x,!0,y,g),u(b,x,!1,y,g)}),A.each(function(x){A.setItemLayout(x,[S.getItemLayout(x),b.getItemLayout(x)])}),this.markerGroupMap.get(y.id).updateLayout()}},this)},renderSeries:function(m,p,g,y){var _=m.coordinateSystem,A=m.id,S=m.getData(),b=this.markerGroupMap,x=b.get(A)||b.set(A,new i);this.group.add(x.group);var w=f(_,m,p),T=w.from,M=w.to,C=w.line;p.__from=T,p.__to=M,p.setData(C);var D=p.get("symbol"),L=p.get("symbolSize");e.isArray(D)||(D=[D,D]),typeof L=="number"&&(L=[L,L]),w.from.each(function(I){P(T,I,!0),P(M,I,!1)}),C.each(function(I){var E=C.getItemModel(I).get("lineStyle.color");C.setItemVisual(I,{color:E||T.getItemVisual(I,"color")}),C.setItemLayout(I,[T.getItemLayout(I),M.getItemLayout(I)]),C.setItemVisual(I,{fromSymbolSize:T.getItemVisual(I,"symbolSize"),fromSymbol:T.getItemVisual(I,"symbol"),toSymbolSize:M.getItemVisual(I,"symbolSize"),toSymbol:M.getItemVisual(I,"symbol")})}),x.updateData(C),w.line.eachItemGraphicEl(function(I,E){I.traverse(function(z){z.dataModel=p})});function P(I,E,z){var N=I.getItemModel(E);u(I,E,z,m,y),I.setItemVisual(E,{symbolSize:N.get("symbolSize")||L[z?0:1],symbol:N.get("symbol",!0)||D[z?0:1],color:N.get("itemStyle.color")||S.getVisual("color")})}x.__keep=!0,x.group.silent=p.get("silent")||m.get("silent")}});function f(m,p,g){var y;m?y=e.map(m&&m.dimensions,function(w){var T=p.getData().getDimensionInfo(p.getData().mapDimension(w))||{};return e.defaults({name:w},T)}):y=[{name:"value",type:"float"}];var _=new t(y,g),A=new t(y,g),S=new t([],g),b=e.map(g.get("data"),e.curry(n,p,m,g));m&&(b=e.filter(b,e.curry(v,m)));var x=m?a.dimValueGetter:function(w){return w.value};return _.initData(e.map(b,function(w){return w[0]}),null,x),A.initData(e.map(b,function(w){return w[1]}),null,x),S.initData(e.map(b,function(w){return w[2]})),S.hasItemOption=!0,{from:_,to:A,line:S}}return Ic=d,Ic}var Ub;function Yq(){if(Ub)return qb;Ub=1;var e=xe;return Wq(),Zq(),e.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),qb}var $b={},Rc,Wb;function Xq(){if(Wb)return Rc;Wb=1;var e=ug(),t=e.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});return Rc=t,Rc}var Zb={},Yb;function Kq(){if(Yb)return Zb;Yb=1;var e=W,t=ut,r=Wt(),a=Re(),i=de,o=vg(),l=hg(),c=function(f,m,p,g){var y=o.dataTransform(f,g[0]),_=o.dataTransform(f,g[1]),A=e.retrieve,S=y.coord,b=_.coord;S[0]=A(S[0],-1/0),S[1]=A(S[1],-1/0),b[0]=A(b[0],1/0),b[1]=A(b[1],1/0);var x=e.mergeAll([{},y,_]);return x.coord=[y.coord,_.coord],x.x0=y.x,x.y0=y.y,x.x1=_.x,x.y1=_.y,x};function n(f){return!isNaN(f)&&!isFinite(f)}function h(f,m,p,g){var y=1-f;return n(m[y])&&n(p[y])}function s(f,m){var p=m.coord[0],g=m.coord[1];return f.type==="cartesian2d"&&p&&g&&(h(1,p,g)||h(0,p,g))?!0:o.dataFilter(f,{coord:p,x:m.x0,y:m.y0})||o.dataFilter(f,{coord:g,x:m.x1,y:m.y1})}function v(f,m,p,g,y){var _=g.coordinateSystem,A=f.getItemModel(m),S,b=a.parsePercent(A.get(p[0]),y.getWidth()),x=a.parsePercent(A.get(p[1]),y.getHeight());if(!isNaN(b)&&!isNaN(x))S=[b,x];else{if(g.getMarkerPosition)S=g.getMarkerPosition(f.getValues(p,m));else{var w=f.get(p[0],m),T=f.get(p[1],m),M=[w,T];_.clampData&&_.clampData(M,M),S=_.dataToPoint(M,!0)}if(_.type==="cartesian2d"){var C=_.getAxis("x"),D=_.getAxis("y"),w=f.get(p[0],m),T=f.get(p[1],m);n(w)?S[0]=C.toGlobalCoord(C.getExtent()[p[0]==="x0"?0:1]):n(T)&&(S[1]=D.toGlobalCoord(D.getExtent()[p[1]==="y0"?0:1]))}isNaN(b)||(S[0]=b),isNaN(x)||(S[1]=x)}return S}var u=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];l.extend({type:"markArea",updateTransform:function(f,m,p){m.eachSeries(function(g){var y=g.markAreaModel;if(y){var _=y.getData();_.each(function(A){var S=e.map(u,function(x){return v(_,A,x,g,p)});_.setItemLayout(A,S);var b=_.getItemGraphicEl(A);b.setShape("points",S)})}},this)},renderSeries:function(f,m,p,g){var y=f.coordinateSystem,_=f.id,A=f.getData(),S=this.markerGroupMap,b=S.get(_)||S.set(_,{group:new i.Group});this.group.add(b.group),b.__keep=!0;var x=d(y,f,m);m.setData(x),x.each(function(w){x.setItemLayout(w,e.map(u,function(T){return v(x,w,T,f,g)})),x.setItemVisual(w,{color:A.getVisual("color")})}),x.diff(b.__data).add(function(w){var T=new i.Polygon({shape:{points:x.getItemLayout(w)}});x.setItemGraphicEl(w,T),b.group.add(T)}).update(function(w,T){var M=b.__data.getItemGraphicEl(T);i.updateProps(M,{shape:{points:x.getItemLayout(w)}},m,w),b.group.add(M),x.setItemGraphicEl(w,M)}).remove(function(w){var T=b.__data.getItemGraphicEl(w);b.group.remove(T)}).execute(),x.eachItemGraphicEl(function(w,T){var M=x.getItemModel(T),C=M.getModel("label"),D=M.getModel("emphasis.label"),L=x.getItemVisual(T,"color");w.useStyle(e.defaults(M.getModel("itemStyle").getItemStyle(),{fill:t.modifyAlpha(L,.4),stroke:L})),w.hoverStyle=M.getModel("emphasis.itemStyle").getItemStyle(),i.setLabelStyle(w.style,w.hoverStyle,C,D,{labelFetcher:m,labelDataIndex:T,defaultText:x.getName(T)||"",isRectText:!0,autoColor:L}),i.setHoverStyle(w,{}),w.dataModel=m}),b.__data=x,b.group.silent=m.get("silent")||f.get("silent")}});function d(f,m,p){var g,y,_=["x0","y0","x1","y1"];f?(g=e.map(f&&f.dimensions,function(b){var x=m.getData(),w=x.getDimensionInfo(x.mapDimension(b))||{};return e.defaults({name:b},w)}),y=new r(e.map(_,function(b,x){return{name:b,type:g[x%2].type}}),p)):(g=[{name:"value",type:"float"}],y=new r(g,p));var A=e.map(p.get("data"),e.curry(c,m,f,p));f&&(A=e.filter(A,e.curry(s,f)));var S=f?function(b,x,w,T){return b.coord[Math.floor(T/2)][T%2]}:function(b){return b.value};return y.initData(A,null,S),y.hasItemOption=!0,y}return Zb}var Xb;function Qq(){if(Xb)return $b;Xb=1;var e=xe;return Xq(),Kq(),e.registerPreprocessor(function(t){t.markArea=t.markArea||{}}),$b}var Kb={},Qb={},Ec,jb;function kM(){if(jb)return Ec;jb=1;var e=xe,t=W,r=ot(),a=Pe,i=a.isNameSpecified,o=ra,l=o.legend.selector,c={all:{type:"all",title:t.clone(l.all)},inverse:{type:"inverse",title:t.clone(l.inverse)}},n=e.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(s,v,u){this.mergeDefaultAndTheme(s,u),s.selected=s.selected||{},this._updateSelector(s)},mergeOption:function(s){n.superCall(this,"mergeOption",s),this._updateSelector(s)},_updateSelector:function(s){var v=s.selector;v===!0&&(v=s.selector=["all","inverse"]),t.isArray(v)&&t.each(v,function(u,d){t.isString(u)&&(u={type:u}),v[d]=t.merge(u,c[u.type])})},optionUpdated:function(){this._updateData(this.ecModel);var s=this._data;if(s[0]&&this.get("selectedMode")==="single"){for(var v=!1,u=0;u<s.length;u++){var d=s[u].get("name");if(this.isSelected(d)){this.select(d),v=!0;break}}!v&&this.select(s[0].get("name"))}},_updateData:function(s){var v=[],u=[];s.eachRawSeries(function(m){var p=m.name;u.push(p);var g;if(m.legendVisualProvider){var y=m.legendVisualProvider,_=y.getAllNames();s.isSeriesFiltered(m)||(u=u.concat(_)),_.length?v=v.concat(_):g=!0}else g=!0;g&&i(m)&&v.push(m.name)}),this._availableNames=u;var d=this.get("data")||v,f=t.map(d,function(m){return(typeof m=="string"||typeof m=="number")&&(m={name:m}),new r(m,this,this.ecModel)},this);this._data=f},getData:function(){return this._data},select:function(s){var v=this.option.selected,u=this.get("selectedMode");if(u==="single"){var d=this._data;t.each(d,function(f){v[f.get("name")]=!1})}v[s]=!0},unSelect:function(s){this.get("selectedMode")!=="single"&&(this.option.selected[s]=!1)},toggleSelected:function(s){var v=this.option.selected;v.hasOwnProperty(s)||(v[s]=!0),this[v[s]?"unSelect":"select"](s)},allSelect:function(){var s=this._data,v=this.option.selected;t.each(s,function(u){v[u.get("name",!0)]=!0})},inverseSelect:function(){var s=this._data,v=this.option.selected;t.each(s,function(u){var d=u.get("name",!0);v.hasOwnProperty(d)||(v[d]=!0),v[d]=!v[d]})},isSelected:function(s){var v=this.option.selected;return!(v.hasOwnProperty(s)&&!v[s])&&t.indexOf(this._availableNames,s)>=0},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),h=n;return Ec=h,Ec}var Jb={},ew;function jq(){if(ew)return Jb;ew=1;var e=xe,t=W;function r(a,i,o){var l={},c=a==="toggleSelected",n;return o.eachComponent("legend",function(h){c&&n!=null?h[n?"select":"unSelect"](i.name):a==="allSelect"||a==="inverseSelect"?h[a]():(h[a](i.name),n=h.isSelected(i.name));var s=h.getData();t.each(s,function(v){var u=v.get("name");if(!(u===`
`||u==="")){var d=h.isSelected(u);l.hasOwnProperty(u)?l[u]=l[u]&&d:l[u]=d}})}),a==="allSelect"||a==="inverseSelect"?{selected:l}:{name:i.name,selected:l}}return e.registerAction("legendToggleSelect","legendselectchanged",t.curry(r,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",t.curry(r,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",t.curry(r,"inverseSelect")),e.registerAction("legendSelect","legendselected",t.curry(r,"select")),e.registerAction("legendUnSelect","legendunselected",t.curry(r,"unSelect")),Jb}var kc,tw;function OM(){if(tw)return kc;tw=1;var e=xe,t=W,r=Zt(),a=r.createSymbol,i=de,o=PM(),l=o.makeBackground,c=ze,n=t.curry,h=t.each,s=i.Group,v=e.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new s),this._backgroundEl,this.group.add(this._selectorGroup=new s),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(p,g,y){var _=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!p.get("show",!0)){var A=p.get("align"),S=p.get("orient");(!A||A==="auto")&&(A=p.get("left")==="right"&&S==="vertical"?"right":"left");var b=p.get("selector",!0),x=p.get("selectorPosition",!0);b&&(!x||x==="auto")&&(x=S==="horizontal"?"end":"start"),this.renderInner(A,p,g,y,b,S,x);var w=p.getBoxLayoutParams(),T={width:y.getWidth(),height:y.getHeight()},M=p.get("padding"),C=c.getLayoutRect(w,T,M),D=this.layoutInner(p,A,C,_,b,x),L=c.getLayoutRect(t.defaults({width:D.width,height:D.height},w),T,M);this.group.attr("position",[L.x-D.x,L.y-D.y]),this.group.add(this._backgroundEl=l(D,p))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(p,g,y,_,A,S,b){var x=this.getContentGroup(),w=t.createHashMap(),T=g.get("selectedMode"),M=[];y.eachRawSeries(function(C){!C.get("legendHoverLink")&&M.push(C.id)}),h(g.getData(),function(C,D){var L=C.get("name");if(!this.newlineDisabled&&(L===""||L===`
`)){x.add(new s({newline:!0}));return}var P=y.getSeriesByName(L)[0];if(!w.get(L))if(P){var I=P.getData(),E=I.getVisual("color"),z=I.getVisual("borderColor");typeof E=="function"&&(E=E(P.getDataParams(0))),typeof z=="function"&&(z=z(P.getDataParams(0)));var N=I.getVisual("legendSymbol")||"roundRect",G=I.getVisual("symbol"),V=this._createItem(L,D,C,g,N,G,p,E,z,T);V.on("click",n(d,L,null,_,M)).on("mouseover",n(f,P.name,null,_,M)).on("mouseout",n(m,P.name,null,_,M)),w.set(L,!0)}else y.eachRawSeries(function(R){if(!w.get(L)&&R.legendVisualProvider){var O=R.legendVisualProvider;if(!O.containName(L))return;var k=O.indexOfName(L),B=O.getItemVisual(k,"color"),q=O.getItemVisual(k,"borderColor"),H="roundRect",F=this._createItem(L,D,C,g,H,null,p,B,q,T);F.on("click",n(d,null,L,_,M)).on("mouseover",n(f,null,L,_,M)).on("mouseout",n(m,null,L,_,M)),w.set(L,!0)}},this)},this),A&&this._createSelector(A,g,_,S,b)},_createSelector:function(p,g,y,_,A){var S=this.getSelectorGroup();h(p,function(x){b(x)});function b(x){var w=x.type,T=new i.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){y.dispatchAction({type:w==="all"?"legendAllSelect":"legendInverseSelect"})}});S.add(T);var M=g.getModel("selectorLabel"),C=g.getModel("emphasis.selectorLabel");i.setLabelStyle(T.style,T.hoverStyle={},M,C,{defaultText:x.title,isRectText:!1}),i.setHoverStyle(T)}},_createItem:function(p,g,y,_,A,S,b,x,w,T){var M=_.get("itemWidth"),C=_.get("itemHeight"),D=_.get("inactiveColor"),L=_.get("inactiveBorderColor"),P=_.get("symbolKeepAspect"),I=_.getModel("itemStyle"),E=_.isSelected(p),z=new s,N=y.getModel("textStyle"),G=y.get("icon"),V=y.getModel("tooltip"),R=V.parentModel;A=G||A;var O=a(A,0,0,M,C,E?x:D,P??!0);if(z.add(u(O,A,I,w,L,E)),!G&&S&&(S!==A||S==="none")){var k=C*.8;S==="none"&&(S="circle");var B=a(S,(M-k)/2,(C-k)/2,k,k,E?x:D,P??!0);z.add(u(B,S,I,w,L,E))}var q=b==="left"?M+5:-5,H=b,F=_.get("formatter"),U=p;typeof F=="string"&&F?U=F.replace("{name}",p??""):typeof F=="function"&&(U=F(p)),z.add(new i.Text({style:i.setTextStyle({},N,{text:U,x:q,y:C/2,textFill:E?N.getTextColor():D,textAlign:H,textVerticalAlign:"middle"})}));var $=new i.Rect({shape:z.getBoundingRect(),invisible:!0,tooltip:V.get("show")?t.extend({content:p,formatter:R.get("formatter",!0)||function(){return p},formatterParams:{componentType:"legend",legendIndex:_.componentIndex,name:p,$vars:["name"]}},V.option):null});return z.add($),z.eachChild(function(Y){Y.silent=!0}),$.silent=!T,this.getContentGroup().add(z),i.setHoverStyle(z),z.__legendDataIndex=g,z},layoutInner:function(p,g,y,_,A,S){var b=this.getContentGroup(),x=this.getSelectorGroup();c.box(p.get("orient"),b,p.get("itemGap"),y.width,y.height);var w=b.getBoundingRect(),T=[-w.x,-w.y];if(A){c.box("horizontal",x,p.get("selectorItemGap",!0));var M=x.getBoundingRect(),C=[-M.x,-M.y],D=p.get("selectorButtonGap",!0),L=p.getOrient().index,P=L===0?"width":"height",I=L===0?"height":"width",E=L===0?"y":"x";S==="end"?C[L]+=w[P]+D:T[L]+=M[P]+D,C[1-L]+=w[I]/2-M[I]/2,x.attr("position",C),b.attr("position",T);var z={x:0,y:0};return z[P]=w[P]+D+M[P],z[I]=Math.max(w[I],M[I]),z[E]=Math.min(0,M[E]+C[1-L]),z}else return b.attr("position",T),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function u(p,g,y,_,A,S){var b;return g!=="line"&&g.indexOf("empty")<0?(b=y.getItemStyle(),p.style.stroke=_,S||(b.stroke=A)):b=y.getItemStyle(["borderWidth","borderColor"]),p.setStyle(b)}function d(p,g,y,_){m(p,g,y,_),y.dispatchAction({type:"legendToggleSelect",name:p??g}),f(p,g,y,_)}function f(p,g,y,_){var A=y.getZr().storage.getDisplayList()[0];A&&A.useHoverLayer||y.dispatchAction({type:"highlight",seriesName:p,name:g,excludeSeriesId:_})}function m(p,g,y,_){var A=y.getZr().storage.getDisplayList()[0];A&&A.useHoverLayer||y.dispatchAction({type:"downplay",seriesName:p,name:g,excludeSeriesId:_})}return kc=v,kc}var Oc,rw;function Jq(){if(rw)return Oc;rw=1;function e(t){var r=t.findComponents({mainType:"legend"});r&&r.length&&t.filterSeries(function(a){for(var i=0;i<r.length;i++)if(!r[i].isSelected(a.name))return!1;return!0})}return Oc=e,Oc}var aw;function zM(){if(aw)return Qb;aw=1;var e=xe;kM(),jq(),OM();var t=Jq(),r=ct;return e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,t),r.registerSubTypeDefaulter("legend",function(){return"plain"}),Qb}var zc,iw;function e3(){if(iw)return zc;iw=1;var e=kM(),t=ze,r=t.mergeLayoutParam,a=t.getLayoutParams,i=e.extend({type:"legend.scroll",setScrollDataIndex:function(c){this.option.scrollDataIndex=c},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(c,n,h,s){var v=a(c);i.superCall(this,"init",c,n,h,s),o(this,c,v)},mergeOption:function(c,n){i.superCall(this,"mergeOption",c,n),o(this,this.option,c)}});function o(c,n,h){var s=c.getOrient(),v=[1,1];v[s.index]=0,r(n,h,{type:"box",ignoreSize:v})}var l=i;return zc=l,zc}var Bc,nw;function t3(){if(nw)return Bc;nw=1;var e=W,t=de,r=ze,a=OM(),i=t.Group,o=["width","height"],l=["x","y"],c=a.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){c.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new i),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new i),this._showController},resetInner:function(){c.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(h,s,v,u,d,f,m){var p=this;c.superCall(this,"renderInner",h,s,v,u,d,f,m);var g=this._controllerGroup,y=s.get("pageIconSize",!0);e.isArray(y)||(y=[y,y]),A("pagePrev",0);var _=s.getModel("pageTextStyle");g.add(new t.Text({name:"pageText",style:{textFill:_.getTextColor(),font:_.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),A("pageNext",1);function A(S,b){var x=S+"DataIndex",w=t.createIcon(s.get("pageIcons",!0)[s.getOrient().name][b],{onclick:e.bind(p._pageGo,p,x,s,u)},{x:-y[0]/2,y:-y[1]/2,width:y[0],height:y[1]});w.name=S,g.add(w)}},layoutInner:function(h,s,v,u,d,f){var m=this.getSelectorGroup(),p=h.getOrient().index,g=o[p],y=l[p],_=o[1-p],A=l[1-p];d&&r.box("horizontal",m,h.get("selectorItemGap",!0));var S=h.get("selectorButtonGap",!0),b=m.getBoundingRect(),x=[-b.x,-b.y],w=e.clone(v);d&&(w[g]=v[g]-b[g]-S);var T=this._layoutContentAndController(h,u,w,p,g,_,A);if(d){if(f==="end")x[p]+=T[g]+S;else{var M=b[g]+S;x[p]-=M,T[y]-=M}T[g]+=b[g]+S,x[1-p]+=T[A]+T[_]/2-b[_]/2,T[_]=Math.max(T[_],b[_]),T[A]=Math.min(T[A],b[A]+x[1-p]),m.attr("position",x)}return T},_layoutContentAndController:function(h,s,v,u,d,f,m){var p=this.getContentGroup(),g=this._containerGroup,y=this._controllerGroup;r.box(h.get("orient"),p,h.get("itemGap"),u?v.width:null,u?null:v.height),r.box("horizontal",y,h.get("pageButtonItemGap",!0));var _=p.getBoundingRect(),A=y.getBoundingRect(),S=this._showController=_[d]>v[d],b=[-_.x,-_.y];s||(b[u]=p.position[u]);var x=[0,0],w=[-A.x,-A.y],T=e.retrieve2(h.get("pageButtonGap",!0),h.get("itemGap",!0));if(S){var M=h.get("pageButtonPosition",!0);M==="end"?w[u]+=v[d]-A[d]:x[u]+=A[d]+T}w[1-u]+=_[f]/2-A[f]/2,p.attr("position",b),g.attr("position",x),y.attr("position",w);var C={x:0,y:0};if(C[d]=S?v[d]:_[d],C[f]=Math.max(_[f],A[f]),C[m]=Math.min(0,A[m]+w[1-u]),g.__rectSize=v[d],S){var D={x:0,y:0};D[d]=Math.max(v[d]-A[d]-T,0),D[f]=C[f],g.setClipPath(new t.Rect({shape:D})),g.__rectSize=D[d]}else y.eachChild(function(P){P.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(h);return L.pageIndex!=null&&t.updateProps(p,{position:L.contentPosition},S?h:!1),this._updatePageInfoView(h,L),C},_pageGo:function(h,s,v){var u=this._getPageInfo(s)[h];u!=null&&v.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:s.id})},_updatePageInfoView:function(h,s){var v=this._controllerGroup;e.each(["pagePrev","pageNext"],function(g){var y=s[g+"DataIndex"]!=null,_=v.childOfName(g);_&&(_.setStyle("fill",y?h.get("pageIconColor",!0):h.get("pageIconInactiveColor",!0)),_.cursor=y?"pointer":"default")});var u=v.childOfName("pageText"),d=h.get("pageFormatter"),f=s.pageIndex,m=f!=null?f+1:0,p=s.pageCount;u&&d&&u.setStyle("text",e.isString(d)?d.replace("{current}",m).replace("{total}",p):d({current:m,total:p}))},_getPageInfo:function(h){var s=h.get("scrollDataIndex",!0),v=this.getContentGroup(),u=this._containerGroup.__rectSize,d=h.getOrient().index,f=o[d],m=l[d],p=this._findTargetItemIndex(s),g=v.children(),y=g[p],_=g.length,A=_?1:0,S={contentPosition:v.position.slice(),pageCount:A,pageIndex:A-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return S;var b=C(y);S.contentPosition[d]=-b.s;for(var x=p+1,w=b,T=b,M=null;x<=_;++x)M=C(g[x]),(!M&&T.e>w.s+u||M&&!D(M,w.s))&&(T.i>w.i?w=T:w=M,w&&(S.pageNextDataIndex==null&&(S.pageNextDataIndex=w.i),++S.pageCount)),T=M;for(var x=p-1,w=b,T=b,M=null;x>=-1;--x)M=C(g[x]),(!M||!D(T,M.s))&&w.i<T.i&&(T=w,S.pagePrevDataIndex==null&&(S.pagePrevDataIndex=w.i),++S.pageCount,++S.pageIndex),w=M;return S;function C(L){if(L){var P=L.getBoundingRect(),I=P[m]+L.position[d];return{s:I,e:I+P[f],i:L.__legendDataIndex}}}function D(L,P){return L.e>=P&&L.s<=P+u}},_findTargetItemIndex:function(h){if(!this._showController)return 0;var s,v=this.getContentGroup(),u;return v.eachChild(function(d,f){var m=d.__legendDataIndex;u==null&&m!=null&&(u=f),m===h&&(s=f)}),s??u}}),n=c;return Bc=n,Bc}var ow={},sw;function r3(){if(sw)return ow;sw=1;var e=xe;return e.registerAction("legendScroll","legendscroll",function(t,r){var a=t.scrollDataIndex;a!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(a)})}),ow}var lw;function a3(){return lw||(lw=1,zM(),e3(),t3(),r3()),Kb}var uw={},vw={},Nc,hw;function i3(){if(hw)return Nc;hw=1;var e=_i(),t=e.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),r=t;return Nc=r,Nc}var Vc,cw;function n3(){if(cw)return Vc;cw=1;var e=W,t=ht,r=de,a=nr,i=xi(),o=Re(),l=ze,c=yi(),n=r.Rect,h=o.linearMap,s=o.asc,v=e.bind,u=e.each,d=7,f=1,m=30,p="horizontal",g="vertical",y=5,_=["line","bar","candlestick","scatter"],A=i.extend({type:"dataZoom.slider",init:function(w,T){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=T},render:function(w,T,M,C){if(A.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=w.get("orient"),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}(!C||C.type!=="dataZoom"||C.from!==this.uid)&&this._buildView(),this._updateView()},remove:function(){A.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){A.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var w=this.group;w.removeAll(),this._resetLocation(),this._resetInterval();var T=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),w.add(T),this._positionGroup()},_resetLocation:function(){var w=this.dataZoomModel,T=this.api,M=this._findCoordRect(),C={width:T.getWidth(),height:T.getHeight()},D=this._orient===p?{right:C.width-M.x-M.width,top:C.height-m-d,width:M.width,height:m}:{right:d,top:M.y,width:m,height:M.height},L=l.getLayoutParams(w.option);e.each(["right","top","width","height"],function(I){L[I]==="ph"&&(L[I]=D[I])});var P=l.getLayoutRect(L,C,w.padding);this._location={x:P.x,y:P.y},this._size=[P.width,P.height],this._orient===g&&this._size.reverse()},_positionGroup:function(){var w=this.group,T=this._location,M=this._orient,C=this.dataZoomModel.getFirstTargetAxisModel(),D=C&&C.get("inverse"),L=this._displayables.barGroup,P=(this._dataShadowInfo||{}).otherAxisInverse;L.attr(M===p&&!D?{scale:P?[1,1]:[1,-1]}:M===p&&D?{scale:P?[-1,1]:[-1,-1]}:M===g&&!D?{scale:P?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:P?[-1,-1]:[-1,1],rotation:Math.PI/2});var I=w.getBoundingRect([L]);w.attr("position",[T.x-I.x,T.y-I.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var w=this.dataZoomModel,T=this._size,M=this._displayables.barGroup;M.add(new n({silent:!0,shape:{x:0,y:0,width:T[0],height:T[1]},style:{fill:w.get("backgroundColor")},z2:-40})),M.add(new n({shape:{x:0,y:0,width:T[0],height:T[1]},style:{fill:"transparent"},z2:0,onclick:e.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var w=this._dataShadowInfo=this._prepareDataShadowInfo();if(w){var T=this._size,M=w.series,C=M.getRawData(),D=M.getShadowDim?M.getShadowDim():w.otherDim;if(D!=null){var L=C.getDataExtent(D),P=(L[1]-L[0])*.3;L=[L[0]-P,L[1]+P];var I=[0,T[1]],E=[0,T[0]],z=[[T[0],0],[0,0]],N=[],G=E[1]/(C.count()-1),V=0,R=Math.round(C.count()/T[0]),O;C.each([D],function(B,q){if(R>0&&q%R){V+=G;return}var H=B==null||isNaN(B)||B==="",F=H?0:h(B,L,I,!0);H&&!O&&q?(z.push([z[z.length-1][0],0]),N.push([N[N.length-1][0],0])):!H&&O&&(z.push([V,0]),N.push([V,0])),z.push([V,F]),N.push([V,F]),V+=G,O=H});var k=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:z},style:e.defaults({fill:k.get("dataBackgroundColor")},k.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:N},style:k.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var w=this.dataZoomModel,T=w.get("showDataShadow");if(T!==!1){var M,C=this.ecModel;return w.eachTargetAxis(function(D,L){var P=w.getAxisProxy(D.name,L).getTargetSeriesModels();e.each(P,function(I){if(!M&&!(T!==!0&&e.indexOf(_,I.get("type"))<0)){var E=C.getComponent(D.axis,L).axis,z=S(D.name),N,G=I.coordinateSystem;z!=null&&G.getOtherAxis&&(N=G.getOtherAxis(E).inverse),z=I.getData().mapDimension(z),M={thisAxis:E,series:I,thisDim:D.name,otherDim:z,otherAxisInverse:N}}},this)},this),M}},_renderHandle:function(){var w=this._displayables,T=w.handles=[],M=w.handleLabels=[],C=this._displayables.barGroup,D=this._size,L=this.dataZoomModel;C.add(w.filler=new n({draggable:!0,cursor:b(this._orient),drift:v(this._onDragMove,this,"all"),ondragstart:v(this._showDataInfo,this,!0),ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1),style:{fill:L.get("fillerColor"),textPosition:"inside"}})),C.add(new n({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:D[0],height:D[1]},style:{stroke:L.get("dataBackgroundColor")||L.get("borderColor"),lineWidth:f,fill:"rgba(0,0,0,0)"}})),u([0,1],function(P){var I=r.createIcon(L.get("handleIcon"),{cursor:b(this._orient),draggable:!0,drift:v(this._onDragMove,this,P),ondragend:v(this._onDragEnd,this),onmouseover:v(this._showDataInfo,this,!0),onmouseout:v(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),E=I.getBoundingRect();this._handleHeight=o.parsePercent(L.get("handleSize"),this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,I.setStyle(L.getModel("handleStyle").getItemStyle());var z=L.get("handleColor");z!=null&&(I.style.fill=z),C.add(T[P]=I);var N=L.textStyleModel;this.group.add(M[P]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:N.getTextColor(),textFont:N.getFont()},z2:10}))},this)},_resetInterval:function(){var w=this._range=this.dataZoomModel.getPercentRange(),T=this._getViewExtent();this._handleEnds=[h(w[0],[0,100],T,!0),h(w[1],[0,100],T,!0)]},_updateInterval:function(w,T){var M=this.dataZoomModel,C=this._handleEnds,D=this._getViewExtent(),L=M.findRepresentativeAxisProxy().getMinMaxSpan(),P=[0,100];c(T,C,D,M.get("zoomLock")?"all":w,L.minSpan!=null?h(L.minSpan,P,D,!0):null,L.maxSpan!=null?h(L.maxSpan,P,D,!0):null);var I=this._range,E=this._range=s([h(C[0],D,P,!0),h(C[1],D,P,!0)]);return!I||I[0]!==E[0]||I[1]!==E[1]},_updateView:function(w){var T=this._displayables,M=this._handleEnds,C=s(M.slice()),D=this._size;u([0,1],function(L){var P=T.handles[L],I=this._handleHeight;P.attr({scale:[I/2,I/2],position:[M[L],D[1]/2-I/2]})},this),T.filler.setShape({x:C[0],y:0,width:C[1]-C[0],height:D[1]}),this._updateDataInfo(w)},_updateDataInfo:function(w){var T=this.dataZoomModel,M=this._displayables,C=M.handleLabels,D=this._orient,L=["",""];if(T.get("showDetail")){var P=T.findRepresentativeAxisProxy();if(P){var I=P.getAxisModel().axis,E=this._range,z=w?P.calculateDataWindow({start:E[0],end:E[1]}).valueWindow:P.getDataValueWindow();L=[this._formatLabel(z[0],I),this._formatLabel(z[1],I)]}}var N=s(this._handleEnds.slice());G.call(this,0),G.call(this,1);function G(V){var R=r.getTransform(M.handles[V].parent,this.group),O=r.transformDirection(V===0?"right":"left",R),k=this._handleWidth/2+y,B=r.applyTransform([N[V]+(V===0?-k:k),this._size[1]/2],R);C[V].setStyle({x:B[0],y:B[1],textVerticalAlign:D===p?"middle":O,textAlign:D===p?O:"center",text:L[V]})}},_formatLabel:function(w,T){var M=this.dataZoomModel,C=M.get("labelFormatter"),D=M.get("labelPrecision");(D==null||D==="auto")&&(D=T.getPixelPrecision());var L=w==null||isNaN(w)?"":T.type==="category"||T.type==="time"?T.scale.getLabel(Math.round(w)):w.toFixed(Math.min(D,20));return e.isFunction(C)?C(w,L):e.isString(C)?C.replace("{value}",L):L},_showDataInfo:function(w){w=this._dragging||w;var T=this._displayables.handleLabels;T[0].attr("invisible",!w),T[1].attr("invisible",!w)},_onDragMove:function(w,T,M,C){this._dragging=!0,t.stop(C.event);var D=this._displayables.barGroup.getLocalTransform(),L=r.applyTransform([T,M],D,!0),P=this._updateInterval(w,L[0]),I=this.dataZoomModel.get("realtime");this._updateView(!I),P&&I&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var w=this.dataZoomModel.get("realtime");!w&&this._dispatchZoomAction()},_onClickPanelClick:function(w){var T=this._size,M=this._displayables.barGroup.transformCoordToLocal(w.offsetX,w.offsetY);if(!(M[0]<0||M[0]>T[0]||M[1]<0||M[1]>T[1])){var C=this._handleEnds,D=(C[0]+C[1])/2,L=this._updateInterval("all",M[0]-D);this._updateView(),L&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var w=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:w[0],end:w[1]})},_findCoordRect:function(){var w;if(u(this.getTargetCoordInfo(),function(C){if(!w&&C.length){var D=C[0].model.coordinateSystem;w=D.getRect&&D.getRect()}}),!w){var T=this.api.getWidth(),M=this.api.getHeight();w={x:T*.2,y:M*.2,width:T*.6,height:M*.6}}return w}});function S(w){var T={x:"y",y:"x",radius:"angle",angle:"radius"};return T[w]}function b(w){return w==="vertical"?"ns-resize":"ew-resize"}var x=A;return Vc=x,Vc}var fw;function BM(){return fw||(fw=1,ng(),_i(),xi(),i3(),n3(),sg(),lg()),vw}var dw={},Hc,gw;function o3(){if(gw)return Hc;gw=1;var e=_i(),t=e.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});return Hc=t,Hc}var Ni={},pw;function s3(){if(pw)return Ni;pw=1;var e=W,t=Pn(),r=nr,a="\0_ec_dataZoom_roams";function i(u,d){var f=c(u),m=d.dataZoomId,p=d.coordId;e.each(f,function(_,A){var S=_.dataZoomInfos;S[m]&&e.indexOf(d.allCoordIds,p)<0&&(delete S[m],_.count--)}),h(f);var g=f[p];g||(g=f[p]={coordId:p,dataZoomInfos:{},count:0},g.controller=n(u,g),g.dispatchAction=e.curry(s,u)),!g.dataZoomInfos[m]&&g.count++,g.dataZoomInfos[m]=d;var y=v(g.dataZoomInfos);g.controller.enable(y.controlType,y.opt),g.controller.setPointerChecker(d.containsPoint),r.createOrUpdate(g,"dispatchAction",d.dataZoomModel.get("throttle",!0),"fixRate")}function o(u,d){var f=c(u);e.each(f,function(m){m.controller.dispose();var p=m.dataZoomInfos;p[d]&&(delete p[d],m.count--)}),h(f)}function l(u){return u.type+"\0_"+u.id}function c(u){var d=u.getZr();return d[a]||(d[a]={})}function n(u,d){var f=new t(u.getZr());return e.each(["pan","zoom","scrollMove"],function(m){f.on(m,function(p){var g=[];e.each(d.dataZoomInfos,function(y){if(p.isAvailableBehavior(y.dataZoomModel.option)){var _=(y.getRange||{})[m],A=_&&_(d.controller,p);!y.dataZoomModel.get("disabled",!0)&&A&&g.push({dataZoomId:y.dataZoomId,start:A[0],end:A[1]})}}),g.length&&d.dispatchAction(g)})}),f}function h(u){e.each(u,function(d,f){d.count||(d.controller.dispose(),delete u[f])})}function s(u,d){u.dispatchAction({type:"dataZoom",batch:d})}function v(u){var d,f="type_",m={type_true:2,type_move:1,type_false:0,type_undefined:-1},p=!0;return e.each(u,function(g){var y=g.dataZoomModel,_=y.get("disabled",!0)?!1:y.get("zoomLock",!0)?"move":!0;m[f+_]>m[f+d]&&(d=_),p&=y.get("preventDefaultMouseMove",!0)}),{controlType:d,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!p}}}return Ni.register=i,Ni.unregister=o,Ni.generateCoordId=l,Ni}var qc,mw;function l3(){if(mw)return qc;mw=1;var e=W,t=xi(),r=yi(),a=s3(),i=e.bind,o=t.extend({type:"dataZoom.inside",init:function(s,v){this._range},render:function(s,v,u,d){o.superApply(this,"render",arguments),this._range=s.getPercentRange(),e.each(this.getTargetCoordInfo(),function(f,m){var p=e.map(f,function(g){return a.generateCoordId(g.model)});e.each(f,function(g){var y=g.model,_={};e.each(["pan","zoom","scrollMove"],function(A){_[A]=i(l[A],this,g,m)},this),a.register(u,{coordId:a.generateCoordId(y),allCoordIds:p,containsPoint:function(A,S,b){return y.coordinateSystem.containPoint([S,b])},dataZoomId:s.id,dataZoomModel:s,getRange:_})},this)},this)},dispose:function(){a.unregister(this.api,this.dataZoomModel.id),o.superApply(this,"dispose",arguments),this._range=null}}),l={zoom:function(s,v,u,d){var f=this._range,m=f.slice(),p=s.axisModels[0];if(p){var g=n[v](null,[d.originX,d.originY],p,u,s),y=(g.signal>0?g.pixelStart+g.pixelLength-g.pixel:g.pixel-g.pixelStart)/g.pixelLength*(m[1]-m[0])+m[0],_=Math.max(1/d.scale,0);m[0]=(m[0]-y)*_+y,m[1]=(m[1]-y)*_+y;var A=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(r(0,m,[0,100],0,A.minSpan,A.maxSpan),this._range=m,f[0]!==m[0]||f[1]!==m[1])return m}},pan:c(function(s,v,u,d,f,m){var p=n[d]([m.oldX,m.oldY],[m.newX,m.newY],v,f,u);return p.signal*(s[1]-s[0])*p.pixel/p.pixelLength}),scrollMove:c(function(s,v,u,d,f,m){var p=n[d]([0,0],[m.scrollDelta,m.scrollDelta],v,f,u);return p.signal*(s[1]-s[0])*m.scrollDelta})};function c(s){return function(v,u,d,f){var m=this._range,p=m.slice(),g=v.axisModels[0];if(g){var y=s(p,g,v,u,d,f);if(r(y,p,[0,100],"all"),this._range=p,m[0]!==p[0]||m[1]!==p[1])return p}}}var n={grid:function(s,v,u,d,f){var m=u.axis,p={},g=f.model.coordinateSystem.getRect();return s=s||[0,0],m.dim==="x"?(p.pixel=v[0]-s[0],p.pixelLength=g.width,p.pixelStart=g.x,p.signal=m.inverse?1:-1):(p.pixel=v[1]-s[1],p.pixelLength=g.height,p.pixelStart=g.y,p.signal=m.inverse?-1:1),p},polar:function(s,v,u,d,f){var m=u.axis,p={},g=f.model.coordinateSystem,y=g.getRadiusAxis().getExtent(),_=g.getAngleAxis().getExtent();return s=s?g.pointToCoord(s):[0,0],v=g.pointToCoord(v),u.mainType==="radiusAxis"?(p.pixel=v[0]-s[0],p.pixelLength=y[1]-y[0],p.pixelStart=y[0],p.signal=m.inverse?1:-1):(p.pixel=v[1]-s[1],p.pixelLength=_[1]-_[0],p.pixelStart=_[0],p.signal=m.inverse?-1:1),p},singleAxis:function(s,v,u,d,f){var m=u.axis,p=f.model.coordinateSystem.getRect(),g={};return s=s||[0,0],m.orient==="horizontal"?(g.pixel=v[0]-s[0],g.pixelLength=p.width,g.pixelStart=p.x,g.signal=m.inverse?1:-1):(g.pixel=v[1]-s[1],g.pixelLength=p.height,g.pixelStart=p.y,g.signal=m.inverse?-1:1),g}},h=o;return qc=h,qc}var yw;function NM(){return yw||(yw=1,ng(),_i(),xi(),o3(),l3(),sg(),lg()),dw}var _w;function u3(){return _w||(_w=1,BM(),NM()),uw}var xw={},Sw={},Gc,bw;function VM(){if(bw)return Gc;bw=1;var e=W,t=e.each;function r(i){var o=i&&i.visualMap;e.isArray(o)||(o=o?[o]:[]),t(o,function(l){if(l){a(l,"splitList")&&!a(l,"pieces")&&(l.pieces=l.splitList,delete l.splitList);var c=l.pieces;c&&e.isArray(c)&&t(c,function(n){e.isObject(n)&&(a(n,"start")&&!a(n,"min")&&(n.min=n.start),a(n,"end")&&!a(n,"max")&&(n.max=n.end))})}})}function a(i,o){return i&&i.hasOwnProperty&&i.hasOwnProperty(o)}return Gc=r,Gc}var ww={},Aw;function HM(){if(Aw)return ww;Aw=1;var e=ct;return e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),ww}var Tw={},Cw;function qM(){if(Cw)return Tw;Cw=1;var e=xe,t=W,r=ds(),a=Da(),i=e.PRIORITY.VISUAL.COMPONENT;e.registerVisual(i,{createOnAllSeries:!0,reset:function(l,c){var n=[];return c.eachComponent("visualMap",function(h){var s=l.pipelineContext;!h.isTargetSeries(l)||s&&s.large||n.push(r.incrementalApplyVisual(h.stateList,h.targetVisuals,t.bind(h.getValueState,h),h.getDataDimension(l.getData())))}),n}}),e.registerVisual(i,{createOnAllSeries:!0,reset:function(l,c){var n=l.getData(),h=[];c.eachComponent("visualMap",function(s){if(s.isTargetSeries(l)){var v=s.getVisualMeta(t.bind(o,null,l,s))||{stops:[],outerColors:[]},u=s.getDataDimension(n),d=n.getDimensionInfo(u);d!=null&&(v.dimension=d.index,h.push(v))}}),l.getData().setVisual("visualMeta",h)}});function o(l,c,n,h){for(var s=c.targetVisuals[h],v=a.prepareVisualTypes(s),u={color:l.getData().getVisual("color")},d=0,f=v.length;d<f;d++){var m=v[d],p=s[m==="opacity"?"__alphaForOpacity":m];p&&p.applyVisual(n,g,y)}return u.color;function g(_){return u[_]}function y(_,A){u[_]=A}}return Tw}var Fc,Mw;function GM(){if(Mw)return Fc;Mw=1;var e=W,t={get:function(i,o,l){var c=e.clone((r[i]||{})[o]);return l&&e.isArray(c)?c[c.length-1]:c}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},a=t;return Fc=a,Fc}var Uc,Dw;function FM(){if(Dw)return Uc;Dw=1;var e=xe,t=W,r=nt,a=GM(),i=Da(),o=ds(),l=Pe,c=Re(),n=i.mapVisual,h=i.eachVisual,s=t.isArray,v=t.each,u=c.asc,d=c.linearMap,f=t.noop,m=e.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(g,y,_){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(g,_)},optionUpdated:function(g,y){var _=this.option;r.canvasSupported||(_.realtime=!1),!y&&o.replaceVisualOption(_,g,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(g){var y=this.stateList;g=t.bind(g,this),this.controllerVisuals=o.createVisualMappings(this.option.controller,y,g),this.targetVisuals=o.createVisualMappings(this.option.target,y,g)},getTargetSeriesIndices:function(){var g=this.option.seriesIndex,y=[];return g==null||g==="all"?this.ecModel.eachSeries(function(_,A){y.push(A)}):y=l.normalizeToArray(g),y},eachTargetSeries:function(g,y){t.each(this.getTargetSeriesIndices(),function(_){g.call(y,this.ecModel.getSeriesByIndex(_))},this)},isTargetSeries:function(g){var y=!1;return this.eachTargetSeries(function(_){_===g&&(y=!0)}),y},formatValueText:function(g,y,_){var A=this.option,S=A.precision,b=this.dataBound,x=A.formatter,w,T;if(_=_||["<",">"],t.isArray(g)&&(g=g.slice(),w=!0),T=y?g:w?[M(g[0]),M(g[1])]:M(g),t.isString(x))return x.replace("{value}",w?T[0]:T).replace("{value2}",w?T[1]:T);if(t.isFunction(x))return w?x(g[0],g[1]):x(g);if(w)return g[0]===b[0]?_[0]+" "+T[1]:g[1]===b[1]?_[1]+" "+T[0]:T[0]+" - "+T[1];return T;function M(C){return C===b[0]?"min":C===b[1]?"max":(+C).toFixed(Math.min(S,20))}},resetExtent:function(){var g=this.option,y=u([g.min,g.max]);this._dataExtent=y},getDataDimension:function(g){var y=this.option.dimension,_=g.dimensions;if(!(y==null&&!_.length)){if(y!=null)return g.getDimension(y);for(var A=g.dimensions,S=A.length-1;S>=0;S--){var b=A[S],x=g.getDimensionInfo(b);if(!x.isCalculationCoord)return b}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var g=this.ecModel,y=this.option,_={inRange:y.inRange,outOfRange:y.outOfRange},A=y.target||(y.target={}),S=y.controller||(y.controller={});t.merge(A,_),t.merge(S,_);var b=this.isCategory();x.call(this,A),x.call(this,S),w.call(this,A,"inRange","outOfRange"),T.call(this,S);function x(M){s(y.color)&&!M.inRange&&(M.inRange={color:y.color.slice().reverse()}),M.inRange=M.inRange||{color:g.get("gradientColor")},v(this.stateList,function(C){var D=M[C];if(t.isString(D)){var L=a.get(D,"active",b);L?(M[C]={},M[C][D]=L):delete M[C]}},this)}function w(M,C,D){var L=M[C],P=M[D];L&&!P&&(P=M[D]={},v(L,function(I,E){if(i.isValidType(E)){var z=a.get(E,"inactive",b);z!=null&&(P[E]=z,E==="color"&&!P.hasOwnProperty("opacity")&&!P.hasOwnProperty("colorAlpha")&&(P.opacity=[0,0]))}}))}function T(M){var C=(M.inRange||{}).symbol||(M.outOfRange||{}).symbol,D=(M.inRange||{}).symbolSize||(M.outOfRange||{}).symbolSize,L=this.get("inactiveColor");v(this.stateList,function(P){var I=this.itemSize,E=M[P];E||(E=M[P]={color:b?L:[L]}),E.symbol==null&&(E.symbol=C&&t.clone(C)||(b?"roundRect":["roundRect"])),E.symbolSize==null&&(E.symbolSize=D&&t.clone(D)||(b?I[0]:[I[0],I[0]])),E.symbol=n(E.symbol,function(G){return G==="none"||G==="square"?"roundRect":G});var z=E.symbolSize;if(z!=null){var N=-1/0;h(z,function(G){G>N&&(N=G)}),E.symbolSize=n(z,function(G){return d(G,[0,N],[0,I[0]],!0)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:f,getValueState:f,getVisualMeta:f}),p=m;return Uc=p,Uc}var $c,Lw;function v3(){if(Lw)return $c;Lw=1;var e=W,t=FM(),r=Re(),a=[20,140],i=t.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(c,n){i.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(h){h.mappingMethod="linear",h.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){i.superApply(this,"resetItemSize",arguments);var c=this.itemSize;this._orient==="horizontal"&&c.reverse(),(c[0]==null||isNaN(c[0]))&&(c[0]=a[0]),(c[1]==null||isNaN(c[1]))&&(c[1]=a[1])},_resetRange:function(){var c=this.getExtent(),n=this.option.range;!n||n.auto?(c.auto=1,this.option.range=c):e.isArray(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],c[0]),n[1]=Math.min(n[1],c[1]))},completeVisualOption:function(){t.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(c){var n=this.option.controller[c].symbolSize;n&&n[0]!==n[1]&&(n[0]=0)},this)},setSelected:function(c){this.option.range=c.slice(),this._resetRange()},getSelected:function(){var c=this.getExtent(),n=r.asc((this.get("range")||[]).slice());return n[0]>c[1]&&(n[0]=c[1]),n[1]>c[1]&&(n[1]=c[1]),n[0]<c[0]&&(n[0]=c[0]),n[1]<c[0]&&(n[1]=c[0]),n},getValueState:function(c){var n=this.option.range,h=this.getExtent();return(n[0]<=h[0]||n[0]<=c)&&(n[1]>=h[1]||c<=n[1])?"inRange":"outOfRange"},findTargetDataIndices:function(c){var n=[];return this.eachTargetSeries(function(h){var s=[],v=h.getData();v.each(this.getDataDimension(v),function(u,d){c[0]<=u&&u<=c[1]&&s.push(d)},this),n.push({seriesId:h.id,dataIndex:s})},this),n},getVisualMeta:function(c){var n=o(this,"outOfRange",this.getExtent()),h=o(this,"inRange",this.option.range.slice()),s=[];function v(y,_){s.push({value:y,color:c(y,_)})}for(var u=0,d=0,f=h.length,m=n.length;d<m&&(!h.length||n[d]<=h[0]);d++)n[d]<h[u]&&v(n[d],"outOfRange");for(var p=1;u<f;u++,p=0)p&&s.length&&v(h[u],"outOfRange"),v(h[u],"inRange");for(var p=1;d<m;d++)(!h.length||h[h.length-1]<n[d])&&(p&&(s.length&&v(s[s.length-1].value,"outOfRange"),p=0),v(n[d],"outOfRange"));var g=s.length;return{stops:s,outerColors:[g?s[0].color:"transparent",g?s[g-1].color:"transparent"]}}});function o(c,n,h){if(h[0]===h[1])return h.slice();for(var s=200,v=(h[1]-h[0])/s,u=h[0],d=[],f=0;f<=s&&u<h[1];f++)d.push(u),u+=v;return d.push(h[1]),d}var l=i;return $c=l,$c}var Wc,Pw;function UM(){if(Pw)return Wc;Pw=1;var e=xe,t=W,r=de,a=Ge(),i=ze,o=Da(),l=e.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(c,n){this.ecModel=c,this.api=n,this.visualMapModel},render:function(c,n,h,s){if(this.visualMapModel=c,c.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(c){var n=this.visualMapModel,h=a.normalizeCssArray(n.get("padding")||0),s=c.getBoundingRect();c.add(new r.Rect({z2:-1,silent:!0,shape:{x:s.x-h[3],y:s.y-h[0],width:s.width+h[3]+h[1],height:s.height+h[0]+h[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},getControllerVisual:function(c,n,h){h=h||{};var s=h.forceState,v=this.visualMapModel,u={};if(n==="symbol"&&(u.symbol=v.get("itemSymbol")),n==="color"){var d=v.get("contentColor");u.color=d}function f(y){return u[y]}function m(y,_){u[y]=_}var p=v.controllerVisuals[s||v.getValueState(c)],g=o.prepareVisualTypes(p);return t.each(g,function(y){var _=p[y];h.convertOpacityToAlpha&&y==="opacity"&&(y="colorAlpha",_=p.__alphaForOpacity),o.dependsOn(y,n)&&_&&_.applyVisual(c,f,m)}),u[n]},positionGroup:function(c){var n=this.visualMapModel,h=this.api;i.positionElement(c,n.getBoxLayoutParams(),{width:h.getWidth(),height:h.getHeight()})},doRender:t.noop});return Wc=l,Wc}var fo={},Iw;function $M(){if(Iw)return fo;Iw=1;var e=W,t=ze,r=t.getLayoutRect;function a(o,l,c){var n=o.option,h=n.align;if(h!=null&&h!=="auto")return h;for(var s={width:l.getWidth(),height:l.getHeight()},v=n.orient==="horizontal"?1:0,u=[["left","right","width"],["top","bottom","height"]],d=u[v],f=[0,null,10],m={},p=0;p<3;p++)m[u[1-v][p]]=f[p],m[d[p]]=p===2?c[0]:n[d[p]];var g=[["x","width",3],["y","height",0]][v],y=r(m,s,n.padding);return d[(y.margin[g[2]]||0)+y[g[0]]+y[g[1]]*.5<s[g[1]]*.5?0:1]}function i(o,l){return e.each(o||[],function(c){c.dataIndex!=null&&(c.dataIndexInside=c.dataIndex,c.dataIndex=null),c.highlightKey="visualMap"+(l?l.componentIndex:"")}),o}return fo.getItemAlign=a,fo.makeHighDownBatch=i,fo}var Zc,Rw;function h3(){if(Rw)return Zc;Rw=1;var e=W,t=Td,r=ht,a=UM(),i=de,o=Re(),l=yi(),c=$M(),n=Pe,h=o.linearMap,s=e.each,v=Math.min,u=Math.max,d=12,f=6,m=a.extend({type:"visualMap.continuous",init:function(){m.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(x,w,T,M){(!M||M.type!=="selectDataRange"||M.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var x=this.visualMapModel,w=this.group;this._orient=x.get("orient"),this._useHandle=x.get("calculable"),this._resetInterval(),this._renderBar(w);var T=x.get("text");this._renderEndsText(w,T,0),this._renderEndsText(w,T,1),this._updateView(!0),this.renderBackground(w),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(w)},_renderEndsText:function(x,w,T){if(w){var M=w[1-T];M=M!=null?M+"":"";var C=this.visualMapModel,D=C.get("textGap"),L=C.itemSize,P=this._shapes.barGroup,I=this._applyTransform([L[0]/2,T===0?-D:L[1]+D],P),E=this._applyTransform(T===0?"bottom":"top",P),z=this._orient,N=this.visualMapModel.textStyleModel;this.group.add(new i.Text({style:{x:I[0],y:I[1],textVerticalAlign:z==="horizontal"?"middle":E,textAlign:z==="horizontal"?E:"center",text:M,textFont:N.getFont(),textFill:N.getTextColor()}}))}},_renderBar:function(x){var w=this.visualMapModel,T=this._shapes,M=w.itemSize,C=this._orient,D=this._useHandle,L=c.getItemAlign(w,this.api,M),P=T.barGroup=this._createBarGroup(L);P.add(T.outOfRange=p()),P.add(T.inRange=p(null,D?S(this._orient):null,e.bind(this._dragHandle,this,"all",!1),e.bind(this._dragHandle,this,"all",!0)));var I=w.textStyleModel.getTextRect("国"),E=u(I.width,I.height);D&&(T.handleThumbs=[],T.handleLabels=[],T.handleLabelPoints=[],this._createHandle(P,0,M,E,C,L),this._createHandle(P,1,M,E,C,L)),this._createIndicator(P,M,E,C),x.add(P)},_createHandle:function(x,w,T,M,C){var D=e.bind(this._dragHandle,this,w,!1),L=e.bind(this._dragHandle,this,w,!0),P=p(g(w,M),S(this._orient),D,L);P.position[0]=T[0],x.add(P);var I=this.visualMapModel.textStyleModel,E=new i.Text({draggable:!0,drift:D,onmousemove:function(G){r.stop(G.event)},ondragend:L,style:{x:0,y:0,text:"",textFont:I.getFont(),textFill:I.getTextColor()}});this.group.add(E);var z=[C==="horizontal"?M/2:M*1.5,C==="horizontal"?w===0?-(M*1.5):M*1.5:w===0?-M/2:M/2],N=this._shapes;N.handleThumbs[w]=P,N.handleLabelPoints[w]=z,N.handleLabels[w]=E},_createIndicator:function(x,w,T,M){var C=p([[0,0]],"move");C.position[0]=w[0],C.attr({invisible:!0,silent:!0}),x.add(C);var D=this.visualMapModel.textStyleModel,L=new i.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:D.getFont(),textFill:D.getTextColor()}});this.group.add(L);var P=[M==="horizontal"?T/2:f+3,0],I=this._shapes;I.indicator=C,I.indicatorLabel=L,I.indicatorLabelPoint=P},_dragHandle:function(x,w,T,M){if(this._useHandle){if(this._dragging=!w,!w){var C=this._applyTransform([T,M],this._shapes.barGroup,!0);this._updateInterval(x,C[1]),this._updateView()}w===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),w?!this._hovering&&this._clearHoverLinkToSeries():A(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[x],!1)}},_resetInterval:function(){var x=this.visualMapModel,w=this._dataInterval=x.getSelected(),T=x.getExtent(),M=[0,x.itemSize[1]];this._handleEnds=[h(w[0],T,M,!0),h(w[1],T,M,!0)]},_updateInterval:function(x,w){w=w||0;var T=this.visualMapModel,M=this._handleEnds,C=[0,T.itemSize[1]];l(w,M,C,x,0);var D=T.getExtent();this._dataInterval=[h(M[0],C,D,!0),h(M[1],C,D,!0)]},_updateView:function(x){var w=this.visualMapModel,T=w.getExtent(),M=this._shapes,C=[0,w.itemSize[1]],D=x?C:this._handleEnds,L=this._createBarVisual(this._dataInterval,T,D,"inRange"),P=this._createBarVisual(T,T,C,"outOfRange");M.inRange.setStyle({fill:L.barColor,opacity:L.opacity}).setShape("points",L.barPoints),M.outOfRange.setStyle({fill:P.barColor,opacity:P.opacity}).setShape("points",P.barPoints),this._updateHandle(D,L)},_createBarVisual:function(x,w,T,M){var C={forceState:M,convertOpacityToAlpha:!0},D=this._makeColorGradient(x,C),L=[this.getControllerVisual(x[0],"symbolSize",C),this.getControllerVisual(x[1],"symbolSize",C)],P=this._createBarPoints(T,L);return{barColor:new t(0,0,0,1,D),barPoints:P,handlesColor:[D[0].color,D[D.length-1].color]}},_makeColorGradient:function(x,w){var T=100,M=[],C=(x[1]-x[0])/T;M.push({color:this.getControllerVisual(x[0],"color",w),offset:0});for(var D=1;D<T;D++){var L=x[0]+C*D;if(L>x[1])break;M.push({color:this.getControllerVisual(L,"color",w),offset:D/T})}return M.push({color:this.getControllerVisual(x[1],"color",w),offset:1}),M},_createBarPoints:function(x,w){var T=this.visualMapModel.itemSize;return[[T[0]-w[0],x[0]],[T[0],x[0]],[T[0],x[1]],[T[0]-w[1],x[1]]]},_createBarGroup:function(x){var w=this._orient,T=this.visualMapModel.get("inverse");return new i.Group(w==="horizontal"&&!T?{scale:x==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:w==="horizontal"&&T?{scale:x==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:w==="vertical"&&!T?{scale:x==="left"?[1,-1]:[-1,-1]}:{scale:x==="left"?[1,1]:[-1,1]})},_updateHandle:function(x,w){if(this._useHandle){var T=this._shapes,M=this.visualMapModel,C=T.handleThumbs,D=T.handleLabels;s([0,1],function(L){var P=C[L];P.setStyle("fill",w.handlesColor[L]),P.position[1]=x[L];var I=i.applyTransform(T.handleLabelPoints[L],i.getTransform(P,this.group));D[L].setStyle({x:I[0],y:I[1],text:M.formatValueText(this._dataInterval[L]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?L===0?"bottom":"top":"left",T.barGroup)})},this)}},_showIndicator:function(x,w,T,M){var C=this.visualMapModel,D=C.getExtent(),L=C.itemSize,P=[0,L[1]],I=h(x,D,P,!0),E=this._shapes,z=E.indicator;if(z){z.position[1]=I,z.attr("invisible",!1),z.setShape("points",y(!!T,M,I,L[1]));var N={convertOpacityToAlpha:!0},G=this.getControllerVisual(x,"color",N);z.setStyle("fill",G);var V=i.applyTransform(E.indicatorLabelPoint,i.getTransform(z,this.group)),R=E.indicatorLabel;R.attr("invisible",!1);var O=this._applyTransform("left",E.barGroup),k=this._orient;R.setStyle({text:(T||"")+C.formatValueText(w),textVerticalAlign:k==="horizontal"?O:"middle",textAlign:k==="horizontal"?"center":O,x:V[0],y:V[1]})}},_enableHoverLinkToSeries:function(){var x=this;this._shapes.barGroup.on("mousemove",function(w){if(x._hovering=!0,!x._dragging){var T=x.visualMapModel.itemSize,M=x._applyTransform([w.offsetX,w.offsetY],x._shapes.barGroup,!0,!0);M[1]=v(u(0,M[1]),T[1]),x._doHoverLinkToSeries(M[1],0<=M[0]&&M[0]<=T[0])}}).on("mouseout",function(){x._hovering=!1,!x._dragging&&x._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var x=this.api.getZr();this.visualMapModel.option.hoverLink?(x.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),x.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(x,w){var T=this.visualMapModel,M=T.itemSize;if(T.option.hoverLink){var C=[0,M[1]],D=T.getExtent();x=v(u(C[0],x),C[1]);var L=_(T,D,C),P=[x-L,x+L],I=h(x,C,D,!0),E=[h(P[0],C,D,!0),h(P[1],C,D,!0)];P[0]<C[0]&&(E[0]=-1/0),P[1]>C[1]&&(E[1]=1/0),w&&(E[0]===-1/0?this._showIndicator(I,E[1],"< ",L):E[1]===1/0?this._showIndicator(I,E[0],"> ",L):this._showIndicator(I,I,"≈ ",L));var z=this._hoverLinkDataIndices,N=[];(w||A(T))&&(N=this._hoverLinkDataIndices=T.findTargetDataIndices(E));var G=n.compressBatches(z,N);this._dispatchHighDown("downplay",c.makeHighDownBatch(G[0],T)),this._dispatchHighDown("highlight",c.makeHighDownBatch(G[1],T))}},_hoverLinkFromSeriesMouseOver:function(x){var w=x.target,T=this.visualMapModel;if(!(!w||w.dataIndex==null)){var M=this.ecModel.getSeriesByIndex(w.seriesIndex);if(T.isTargetSeries(M)){var C=M.getData(w.dataType),D=C.get(T.getDataDimension(C),w.dataIndex,!0);isNaN(D)||this._showIndicator(D,D)}}},_hideIndicator:function(){var x=this._shapes;x.indicator&&x.indicator.attr("invisible",!0),x.indicatorLabel&&x.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var x=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",c.makeHighDownBatch(x,this.visualMapModel)),x.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var x=this.api.getZr();x.off("mouseover",this._hoverLinkFromSeriesMouseOver),x.off("mouseout",this._hideIndicator)},_applyTransform:function(x,w,T,M){var C=i.getTransform(w,M?null:this.group);return i[e.isArray(x)?"applyTransform":"transformDirection"](x,C,T)},_dispatchHighDown:function(x,w){w&&w.length&&this.api.dispatchAction({type:x,batch:w})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function p(x,w,T,M){return new i.Polygon({shape:{points:x},draggable:!!T,cursor:w,drift:T,onmousemove:function(C){r.stop(C.event)},ondragend:M})}function g(x,w){return x===0?[[0,0],[w,0],[w,-w]]:[[0,0],[w,0],[w,w]]}function y(x,w,T,M){return x?[[0,-v(w,u(T,0))],[f,0],[0,v(w,u(M-T,0))]]:[[0,0],[5,-5],[5,5]]}function _(x,w,T){var M=d/2,C=x.get("hoverLinkDataSize");return C&&(M=h(C,w,T,!0)/2),M}function A(x){var w=x.get("hoverLinkOnHandle");return!!(w??x.get("realtime"))}function S(x){return x==="vertical"?"ns-resize":"ew-resize"}var b=m;return Zc=b,Zc}var Ew={},kw;function WM(){if(kw)return Ew;kw=1;var e=xe,t={type:"selectDataRange",event:"dataRangeSelected",update:"update"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"visualMap",query:r},function(i){i.setSelected(r.selected)})}),Ew}var Ow;function ZM(){if(Ow)return Sw;Ow=1;var e=xe,t=VM();return HM(),qM(),v3(),h3(),WM(),e.registerPreprocessor(t),Sw}var zw={},Yc,Bw;function c3(){if(Bw)return Yc;Bw=1;var e=W,t=FM(),r=Da(),a=GM(),i=Re(),o=i.reformIntervals,l=t.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(s,v){l.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var u=this._mode=this._determineMode();c[this._mode].call(this),this._resetSelected(s,v);var d=this.option.categories;this.resetVisual(function(f,m){u==="categories"?(f.mappingMethod="category",f.categories=e.clone(d)):(f.dataExtent=this.getExtent(),f.mappingMethod="piecewise",f.pieceList=e.map(this._pieceList,function(g){var g=e.clone(g);return m!=="inRange"&&(g.visual=null),g}))})},completeVisualOption:function(){var s=this.option,v={},u=r.listVisualTypes(),d=this.isCategory();e.each(s.pieces,function(m){e.each(u,function(p){m.hasOwnProperty(p)&&(v[p]=1)})}),e.each(v,function(m,p){var g=0;e.each(this.stateList,function(y){g|=f(s,y,p)||f(s.target,y,p)},this),!g&&e.each(this.stateList,function(y){(s[y]||(s[y]={}))[p]=a.get(p,y==="inRange"?"active":"inactive",d)})},this);function f(m,p,g){return m&&m[p]&&(e.isObject(m[p])?m[p].hasOwnProperty(g):m[p]===g)}t.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(s,v){var u=this.option,d=this._pieceList,f=(v?u:s).selected||{};if(u.selected=f,e.each(d,function(p,g){var y=this.getSelectedMapKey(p);f.hasOwnProperty(y)||(f[y]=!0)},this),u.selectedMode==="single"){var m=!1;e.each(d,function(p,g){var y=this.getSelectedMapKey(p);f[y]&&(m?f[y]=!1:m=!0)},this)}},getSelectedMapKey:function(s){return this._mode==="categories"?s.value+"":s.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var s=this.option;return s.pieces&&s.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(s){this.option.selected=e.clone(s)},getValueState:function(s){var v=r.findPieceIndex(s,this._pieceList);return v!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[v])]?"inRange":"outOfRange"},findTargetDataIndices:function(s){var v=[];return this.eachTargetSeries(function(u){var d=[],f=u.getData();f.each(this.getDataDimension(f),function(m,p){var g=r.findPieceIndex(m,this._pieceList);g===s&&d.push(p)},this),v.push({seriesId:u.id,dataIndex:d})},this),v},getRepresentValue:function(s){var v;if(this.isCategory())v=s.value;else if(s.value!=null)v=s.value;else{var u=s.interval||[];v=u[0]===-1/0&&u[1]===1/0?0:(u[0]+u[1])/2}return v},getVisualMeta:function(s){if(this.isCategory())return;var v=[],u=[],d=this;function f(y,_){var A=d.getRepresentValue({interval:y});_||(_=d.getValueState(A));var S=s(A,_);y[0]===-1/0?u[0]=S:y[1]===1/0?u[1]=S:v.push({value:y[0],color:S},{value:y[1],color:S})}var m=this._pieceList.slice();if(!m.length)m.push({interval:[-1/0,1/0]});else{var p=m[0].interval[0];p!==-1/0&&m.unshift({interval:[-1/0,p]}),p=m[m.length-1].interval[1],p!==1/0&&m.push({interval:[p,1/0]})}var g=-1/0;return e.each(m,function(y){var _=y.interval;_&&(_[0]>g&&f([g,_[0]],"outOfRange"),f(_.slice()),g=_[1])},this),{stops:v,outerColors:u}}}),c={splitNumber:function(){var s=this.option,v=this._pieceList,u=Math.min(s.precision,20),d=this.getExtent(),f=s.splitNumber;f=Math.max(parseInt(f,10),1),s.splitNumber=f;for(var m=(d[1]-d[0])/f;+m.toFixed(u)!==m&&u<5;)u++;s.precision=u,m=+m.toFixed(u),s.minOpen&&v.push({interval:[-1/0,d[0]],close:[0,0]});for(var p=0,g=d[0];p<f;g+=m,p++){var y=p===f-1?d[1]:g+m;v.push({interval:[g,y],close:[1,1]})}s.maxOpen&&v.push({interval:[d[1],1/0],close:[0,0]}),o(v),e.each(v,function(_,A){_.index=A,_.text=this.formatValueText(_.interval)},this)},categories:function(){var s=this.option;e.each(s.categories,function(v){this._pieceList.push({text:this.formatValueText(v,!0),value:v})},this),n(s,this._pieceList)},pieces:function(){var s=this.option,v=this._pieceList;e.each(s.pieces,function(u,d){e.isObject(u)||(u={value:u});var f={text:"",index:d};if(u.label!=null&&(f.text=u.label),u.hasOwnProperty("value")){var m=f.value=u.value;f.interval=[m,m],f.close=[1,1]}else{for(var p=f.interval=[],g=f.close=[0,0],y=[1,0,1],_=[-1/0,1/0],A=[],S=0;S<2;S++){for(var b=[["gte","gt","min"],["lte","lt","max"]][S],x=0;x<3&&p[S]==null;x++)p[S]=u[b[x]],g[S]=y[x],A[S]=x===2;p[S]==null&&(p[S]=_[S])}A[0]&&p[1]===1/0&&(g[0]=0),A[1]&&p[0]===-1/0&&(g[1]=0),p[0]===p[1]&&g[0]&&g[1]&&(f.value=p[0])}f.visual=r.retrieveVisuals(u),v.push(f)},this),n(s,v),o(v),e.each(v,function(u){var d=u.close,f=[["<","≤"][d[1]],[">","≥"][d[0]]];u.text=u.text||this.formatValueText(u.value!=null?u.value:u.interval,!1,f)},this)}};function n(s,v){var u=s.inverse;(s.orient==="vertical"?!u:u)&&v.reverse()}var h=l;return Yc=h,Yc}var Xc,Nw;function f3(){if(Nw)return Xc;Nw=1;var e=W,t=UM(),r=de,a=Zt(),i=a.createSymbol,o=ze,l=$M(),c=t.extend({type:"visualMap.piecewise",doRender:function(){var h=this.group;h.removeAll();var s=this.visualMapModel,v=s.get("textGap"),u=s.textStyleModel,d=u.getFont(),f=u.getTextColor(),m=this._getItemAlign(),p=s.itemSize,g=this._getViewData(),y=g.endsText,_=e.retrieve(s.get("showLabel",!0),!y);y&&this._renderEndsText(h,y[0],p,_,m),e.each(g.viewPieceList,A,this),y&&this._renderEndsText(h,y[1],p,_,m),o.box(s.get("orient"),h,s.get("itemGap")),this.renderBackground(h),this.positionGroup(h);function A(S){var b=S.piece,x=new r.Group;x.onclick=e.bind(this._onItemClick,this,b),this._enableHoverLink(x,S.indexInModelPieceList);var w=s.getRepresentValue(b);if(this._createItemSymbol(x,w,[0,0,p[0],p[1]]),_){var T=this.visualMapModel.getValueState(w);x.add(new r.Text({style:{x:m==="right"?-v:p[0]+v,y:p[1]/2,text:b.text,textVerticalAlign:"middle",textAlign:m,textFont:d,textFill:f,opacity:T==="outOfRange"?.5:1}}))}h.add(x)}},_enableHoverLink:function(h,s){h.on("mouseover",e.bind(v,this,"highlight")).on("mouseout",e.bind(v,this,"downplay"));function v(u){var d=this.visualMapModel;d.option.hoverLink&&this.api.dispatchAction({type:u,batch:l.makeHighDownBatch(d.findTargetDataIndices(s),d)})}},_getItemAlign:function(){var h=this.visualMapModel,s=h.option;if(s.orient==="vertical")return l.getItemAlign(h,this.api,h.itemSize);var v=s.align;return(!v||v==="auto")&&(v="left"),v},_renderEndsText:function(h,s,v,u,d){if(s){var f=new r.Group,m=this.visualMapModel.textStyleModel;f.add(new r.Text({style:{x:u?d==="right"?v[0]:0:v[0]/2,y:v[1]/2,textVerticalAlign:"middle",textAlign:u?d:"center",text:s,textFont:m.getFont(),textFill:m.getTextColor()}})),h.add(f)}},_getViewData:function(){var h=this.visualMapModel,s=e.map(h.getPieceList(),function(f,m){return{piece:f,indexInModelPieceList:m}}),v=h.get("text"),u=h.get("orient"),d=h.get("inverse");return(u==="horizontal"?d:!d)?s.reverse():v&&(v=v.slice().reverse()),{viewPieceList:s,endsText:v}},_createItemSymbol:function(h,s,v){h.add(i(this.getControllerVisual(s,"symbol"),v[0],v[1],v[2],v[3],this.getControllerVisual(s,"color")))},_onItemClick:function(h){var s=this.visualMapModel,v=s.option,u=e.clone(v.selected),d=s.getSelectedMapKey(h);v.selectedMode==="single"?(u[d]=!0,e.each(u,function(f,m){u[m]=m===d})):u[d]=!u[d],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:u})}}),n=c;return Xc=n,Xc}var Vw;function YM(){if(Vw)return zw;Vw=1;var e=xe,t=VM();return HM(),qM(),c3(),f3(),WM(),e.registerPreprocessor(t),zw}var Hw;function d3(){return Hw||(Hw=1,ZM(),YM()),xw}var qw={},Gw={},Vi={},Fw;function XM(){if(Fw)return Vi;Fw=1;var e=nt,t="urn:schemas-microsoft-com:vml",r=typeof window>"u"?null:window,a=!1,i=r&&r.document;function o(n){return l(n)}var l;if(i&&!e.canvasSupported)try{!i.namespaces.zrvml&&i.namespaces.add("zrvml",t),l=function(n){return i.createElement("<zrvml:"+n+' class="zrvml">')}}catch{l=function(h){return i.createElement("<"+h+' xmlns="'+t+'" class="zrvml">')}}function c(){if(!(a||!i)){a=!0;var n=i.styleSheets;n.length<31?i.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):n[0].addRule(".zrvml","behavior:url(#default#VML)")}}return Vi.doc=i,Vi.createNode=o,Vi.initVML=c,Vi}var Uw;function g3(){if(Uw)return Gw;Uw=1;var e=nt,t=Ye(),r=t.applyTransform,a=Ke,i=ut,o=$e,l=rr,c=lT(),n=hn,h=si,s=ba,v=at,u=ui,d=Xo,f=XM(),m=u.CMD,p=Math.round,g=Math.sqrt,y=Math.abs,_=Math.cos,A=Math.sin,S=Math.max;if(!e.canvasSupported){var b=",",x="progid:DXImageTransform.Microsoft",w=21600,T=w/2,M=1e5,C=1e3,D=function(ne){ne.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",ne.coordsize=w+","+w,ne.coordorigin="0,0"},L=function(ne){return String(ne).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},P=function(ne,se,me){return"rgb("+[ne,se,me].join(",")+")"},I=function(ne,se){se&&ne&&se.parentNode!==ne&&ne.appendChild(se)},E=function(ne,se){se&&ne&&se.parentNode===ne&&ne.removeChild(se)},z=function(ne,se,me){return(parseFloat(ne)||0)*M+(parseFloat(se)||0)*C+me},N=l.parsePercent,G=function(ne,se,me){var Z=i.parse(se);me=+me,isNaN(me)&&(me=1),Z&&(ne.color=P(Z[0],Z[1],Z[2]),ne.opacity=me*Z[3])},V=function(ne){var se=i.parse(ne);return[P(se[0],se[1],se[2]),se[3]]},R=function(ne,se,me){var Z=se.fill;if(Z!=null)if(Z instanceof d){var Q,re=0,le=[0,0],ue=0,ve=1,he=me.getBoundingRect(),ye=he.width,Se=he.height;if(Z.type==="linear"){Q="gradient";var Ce=me.transform,Me=[Z.x*ye,Z.y*Se],Ae=[Z.x2*ye,Z.y2*Se];Ce&&(r(Me,Me,Ce),r(Ae,Ae,Ce));var Be=Ae[0]-Me[0],Ve=Ae[1]-Me[1];re=Math.atan2(Be,Ve)*180/Math.PI,re<0&&(re+=360),re<1e-6&&(re=0)}else{Q="gradientradial";var Me=[Z.x*ye,Z.y*Se],Ce=me.transform,We=me.scale,He=ye,Ze=Se;le=[(Me[0]-he.x)/He,(Me[1]-he.y)/Ze],Ce&&r(Me,Me,Ce),He/=We[0]*w,Ze/=We[1]*w;var Qe=S(He,Ze);ue=2*0/Qe,ve=2*Z.r/Qe-ue}var Ie=Z.colorStops.slice();Ie.sort(function(Je,bt){return Je.offset-bt.offset});for(var qe=Ie.length,Ne=[],je=[],Fe=0;Fe<qe;Fe++){var et=Ie[Fe],mt=V(et.color);je.push(et.offset*ve+ue+" "+mt[0]),(Fe===0||Fe===qe-1)&&Ne.push(mt)}if(qe>=2){var St=Ne[0][0],Ot=Ne[1][0],sr=Ne[0][1]*se.opacity,dt=Ne[1][1]*se.opacity;ne.type=Q,ne.method="none",ne.focus="100%",ne.angle=re,ne.color=St,ne.color2=Ot,ne.colors=je.join(","),ne.opacity=dt,ne.opacity2=sr}Q==="radial"&&(ne.focusposition=le.join(","))}else G(ne,Z,se.opacity)},O=function(ne,se){se.lineDash&&(ne.dashstyle=se.lineDash.join(" ")),se.stroke!=null&&!(se.stroke instanceof d)&&G(ne,se.stroke,se.opacity)},k=function(ne,se,me,Z){var Q=se==="fill",re=ne.getElementsByTagName(se)[0];me[se]!=null&&me[se]!=="none"&&(Q||!Q&&me.lineWidth)?(ne[Q?"filled":"stroked"]="true",me[se]instanceof d&&E(ne,re),re||(re=f.createNode(se)),Q?R(re,me,Z):O(re,me),I(ne,re)):(ne[Q?"filled":"stroked"]="false",E(ne,re))},B=[[],[],[]],q=function(ne,se){var me=m.M,Z=m.C,Q=m.L,re=m.A,le=m.Q,ue=[],ve,he,ye,Se,Ce,Me,Ae=ne.data,Be=ne.len();for(Se=0;Se<Be;){switch(ye=Ae[Se++],he="",ve=0,ye){case me:he=" m ",ve=1,Ce=Ae[Se++],Me=Ae[Se++],B[0][0]=Ce,B[0][1]=Me;break;case Q:he=" l ",ve=1,Ce=Ae[Se++],Me=Ae[Se++],B[0][0]=Ce,B[0][1]=Me;break;case le:case Z:he=" c ",ve=3;var gt=Ae[Se++],Tt=Ae[Se++],Ve=Ae[Se++],We=Ae[Se++],He,Ze;ye===le?(He=Ve,Ze=We,Ve=(Ve+2*gt)/3,We=(We+2*Tt)/3,gt=(Ce+2*gt)/3,Tt=(Me+2*Tt)/3):(He=Ae[Se++],Ze=Ae[Se++]),B[0][0]=gt,B[0][1]=Tt,B[1][0]=Ve,B[1][1]=We,B[2][0]=He,B[2][1]=Ze,Ce=He,Me=Ze;break;case re:var Qe=0,Ie=0,qe=1,Ne=1,je=0;se&&(Qe=se[4],Ie=se[5],qe=g(se[0]*se[0]+se[1]*se[1]),Ne=g(se[2]*se[2]+se[3]*se[3]),je=Math.atan2(-se[1]/Ne,se[0]/qe));var Fe=Ae[Se++],et=Ae[Se++],mt=Ae[Se++],St=Ae[Se++],Ot=Ae[Se++]+je,sr=Ae[Se++]+Ot+je;Se++;var dt=Ae[Se++],Je=Fe+_(Ot)*mt,bt=et+A(Ot)*St,gt=Fe+_(sr)*mt,Tt=et+A(sr)*St,Nr=dt?" wa ":" at ";Math.abs(Je-gt)<1e-4&&(Math.abs(sr-Ot)>.01?dt&&(Je+=270/w):Math.abs(bt-et)<1e-4?dt&&Je<Fe||!dt&&Je>Fe?Tt-=270/w:Tt+=270/w:dt&&bt<et||!dt&&bt>et?gt+=270/w:gt-=270/w),ue.push(Nr,p(((Fe-mt)*qe+Qe)*w-T),b,p(((et-St)*Ne+Ie)*w-T),b,p(((Fe+mt)*qe+Qe)*w-T),b,p(((et+St)*Ne+Ie)*w-T),b,p((Je*qe+Qe)*w-T),b,p((bt*Ne+Ie)*w-T),b,p((gt*qe+Qe)*w-T),b,p((Tt*Ne+Ie)*w-T)),Ce=gt,Me=Tt;break;case m.R:var st=B[0],yt=B[1];st[0]=Ae[Se++],st[1]=Ae[Se++],yt[0]=st[0]+Ae[Se++],yt[1]=st[1]+Ae[Se++],se&&(r(st,st,se),r(yt,yt,se)),st[0]=p(st[0]*w-T),yt[0]=p(yt[0]*w-T),st[1]=p(st[1]*w-T),yt[1]=p(yt[1]*w-T),ue.push(" m ",st[0],b,st[1]," l ",yt[0],b,st[1]," l ",yt[0],b,yt[1]," l ",st[0],b,yt[1]);break;case m.Z:ue.push(" x ")}if(ve>0){ue.push(he);for(var Vr=0;Vr<ve;Vr++){var La=B[Vr];se&&r(La,La,se),ue.push(p(La[0]*w-T),b,p(La[1]*w-T),Vr<ve-1?b:"")}}}return ue.join("")};v.prototype.brushVML=function(ne){var se=this.style,me=this._vmlEl;me||(me=f.createNode("shape"),D(me),this._vmlEl=me),k(me,"fill",se,this),k(me,"stroke",se,this);var Z=this.transform,Q=Z!=null,re=me.getElementsByTagName("stroke")[0];if(re){var le=se.lineWidth;if(Q&&!se.strokeNoScale){var ue=Z[0]*Z[3]-Z[1]*Z[2];le*=g(y(ue))}re.weight=le+"px"}var ve=this.path||(this.path=new u);this.__dirtyPath&&(ve.beginPath(),ve.subPixelOptimize=!1,this.buildPath(ve,this.shape),ve.toStatic(),this.__dirtyPath=!1),me.path=q(ve,this.transform),me.style.zIndex=z(this.zlevel,this.z,this.z2),I(ne,me),se.text!=null?this.drawRectText(ne,this.getBoundingRect()):this.removeRectText(ne)},v.prototype.onRemove=function(ne){E(ne,this._vmlEl),this.removeRectText(ne)},v.prototype.onAdd=function(ne){I(ne,this._vmlEl),this.appendRectText(ne)};var H=function(ne){return typeof ne=="object"&&ne.tagName&&ne.tagName.toUpperCase()==="IMG"};h.prototype.brushVML=function(ne){var se=this.style,me=se.image,Z,Q;if(H(me)){var re=me.src;if(re===this._imageSrc)Z=this._imageWidth,Q=this._imageHeight;else{var le=me.runtimeStyle,ue=le.width,ve=le.height;le.width="auto",le.height="auto",Z=me.width,Q=me.height,le.width=ue,le.height=ve,this._imageSrc=re,this._imageWidth=Z,this._imageHeight=Q}me=re}else me===this._imageSrc&&(Z=this._imageWidth,Q=this._imageHeight);if(me){var he=se.x||0,ye=se.y||0,Se=se.width,Ce=se.height,Me=se.sWidth,Ae=se.sHeight,Be=se.sx||0,Ve=se.sy||0,We=Me&&Ae,He=this._vmlEl;He||(He=f.doc.createElement("div"),D(He),this._vmlEl=He);var Ze=He.style,Qe=!1,Ie,qe=1,Ne=1;if(this.transform&&(Ie=this.transform,qe=g(Ie[0]*Ie[0]+Ie[1]*Ie[1]),Ne=g(Ie[2]*Ie[2]+Ie[3]*Ie[3]),Qe=Ie[1]||Ie[2]),Qe){var je=[he,ye],Fe=[he+Se,ye],et=[he,ye+Ce],mt=[he+Se,ye+Ce];r(je,je,Ie),r(Fe,Fe,Ie),r(et,et,Ie),r(mt,mt,Ie);var St=S(je[0],Fe[0],et[0],mt[0]),Ot=S(je[1],Fe[1],et[1],mt[1]),sr=[];sr.push("M11=",Ie[0]/qe,b,"M12=",Ie[2]/Ne,b,"M21=",Ie[1]/qe,b,"M22=",Ie[3]/Ne,b,"Dx=",p(he*qe+Ie[4]),b,"Dy=",p(ye*Ne+Ie[5])),Ze.padding="0 "+p(St)+"px "+p(Ot)+"px 0",Ze.filter=x+".Matrix("+sr.join("")+", SizingMethod=clip)"}else Ie&&(he=he*qe+Ie[4],ye=ye*Ne+Ie[5]),Ze.filter="",Ze.left=p(he)+"px",Ze.top=p(ye)+"px";var dt=this._imageEl,Je=this._cropEl;dt||(dt=f.doc.createElement("div"),this._imageEl=dt);var bt=dt.style;if(We){if(Z&&Q)bt.width=p(qe*Z*Se/Me)+"px",bt.height=p(Ne*Q*Ce/Ae)+"px";else{var gt=new Image,Tt=this;gt.onload=function(){gt.onload=null,Z=gt.width,Q=gt.height,bt.width=p(qe*Z*Se/Me)+"px",bt.height=p(Ne*Q*Ce/Ae)+"px",Tt._imageWidth=Z,Tt._imageHeight=Q,Tt._imageSrc=me},gt.src=me}Je||(Je=f.doc.createElement("div"),Je.style.overflow="hidden",this._cropEl=Je);var Nr=Je.style;Nr.width=p((Se+Be*Se/Me)*qe),Nr.height=p((Ce+Ve*Ce/Ae)*Ne),Nr.filter=x+".Matrix(Dx="+-Be*Se/Me*qe+",Dy="+-Ve*Ce/Ae*Ne+")",Je.parentNode||He.appendChild(Je),dt.parentNode!==Je&&Je.appendChild(dt)}else bt.width=p(qe*Se)+"px",bt.height=p(Ne*Ce)+"px",He.appendChild(dt),Je&&Je.parentNode&&(He.removeChild(Je),this._cropEl=null);var st="",yt=se.opacity;yt<1&&(st+=".Alpha(opacity="+p(yt*100)+") "),st+=x+".AlphaImageLoader(src="+me+", SizingMethod=scale)",bt.filter=st,He.style.zIndex=z(this.zlevel,this.z,this.z2),I(ne,He),se.text!=null&&this.drawRectText(ne,this.getBoundingRect())}},h.prototype.onRemove=function(ne){E(ne,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(ne)},h.prototype.onAdd=function(ne){I(ne,this._vmlEl),this.appendRectText(ne)};var F="normal",U={},$=0,Y=100,K=document.createElement("div"),J=function(ne){var se=U[ne];if(!se){$>Y&&($=0,U={});var me=K.style,Z;try{me.font=ne,Z=me.fontFamily.split(",")[0]}catch{}se={style:me.fontStyle||F,variant:me.fontVariant||F,weight:me.fontWeight||F,size:parseFloat(me.fontSize||12)|0,family:Z||"Microsoft YaHei"},U[ne]=se,$++}return se},j;o.$override("measureText",function(ne,se){var me=f.doc;j||(j=me.createElement("div"),j.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",f.doc.body.appendChild(j));try{j.style.font=se}catch{}return j.innerHTML="",j.appendChild(me.createTextNode(ne)),{width:j.offsetWidth}});for(var ee=new a,te=function(ne,se,me,Z){var Q=this.style;this.__dirty&&l.normalizeTextStyle(Q,!0);var re=Q.text;if(re!=null&&(re+=""),!!re){if(Q.rich){var le=o.parseRichText(re,Q);re=[];for(var ue=0;ue<le.lines.length;ue++){for(var ve=le.lines[ue].tokens,he=[],ye=0;ye<ve.length;ye++)he.push(ve[ye].text);re.push(he.join(""))}re=re.join(`
`)}var Se,Ce,Me=Q.textAlign,Ae=Q.textVerticalAlign,Be=J(Q.font),Ve=Be.style+" "+Be.variant+" "+Be.weight+" "+Be.size+'px "'+Be.family+'"';me=me||o.getBoundingRect(re,Ve,Me,Ae,Q.textPadding,Q.textLineHeight);var We=this.transform;if(We&&!Z&&(ee.copy(se),ee.applyTransform(We),se=ee),Z)Se=se.x,Ce=se.y;else{var He=Q.textPosition;if(He instanceof Array)Se=se.x+N(He[0],se.width),Ce=se.y+N(He[1],se.height),Me=Me||"left";else{var Ze=this.calculateTextPosition?this.calculateTextPosition({},Q,se):o.calculateTextPosition({},Q,se);Se=Ze.x,Ce=Ze.y,Me=Me||Ze.textAlign,Ae=Ae||Ze.textVerticalAlign}}Se=o.adjustTextX(Se,me.width,Me),Ce=o.adjustTextY(Ce,me.height,Ae),Ce+=me.height/2;var Qe=f.createNode,Ie=this._textVmlEl,qe,Ne,je;Ie?(je=Ie.firstChild,qe=je.nextSibling,Ne=qe.nextSibling):(Ie=Qe("line"),qe=Qe("path"),Ne=Qe("textpath"),je=Qe("skew"),Ne.style["v-text-align"]="left",D(Ie),qe.textpathok=!0,Ne.on=!0,Ie.from="0 0",Ie.to="1000 0.05",I(Ie,je),I(Ie,qe),I(Ie,Ne),this._textVmlEl=Ie);var Fe=[Se,Ce],et=Ie.style;We&&Z?(r(Fe,Fe,We),je.on=!0,je.matrix=We[0].toFixed(3)+b+We[2].toFixed(3)+b+We[1].toFixed(3)+b+We[3].toFixed(3)+",0,0",je.offset=(p(Fe[0])||0)+","+(p(Fe[1])||0),je.origin="0 0",et.left="0px",et.top="0px"):(je.on=!1,et.left=p(Se)+"px",et.top=p(Ce)+"px"),Ne.string=L(re);try{Ne.style.font=Ve}catch{}k(Ie,"fill",{fill:Q.textFill,opacity:Q.opacity},this),k(Ie,"stroke",{stroke:Q.textStroke,opacity:Q.opacity,lineDash:Q.lineDash||null},this),Ie.style.zIndex=z(this.zlevel,this.z,this.z2),I(ne,Ie)}},ie=function(ne){E(ne,this._textVmlEl),this._textVmlEl=null},ge=function(ne){I(ne,this._textVmlEl)},oe=[c,n,h,v,s],fe=0;fe<oe.length;fe++){var pe=oe[fe].prototype;pe.drawRectText=te,pe.removeRectText=ie,pe.appendRectText=ge}s.prototype.brushVML=function(ne){var se=this.style;se.text!=null?this.drawRectText(ne,{x:se.x||0,y:se.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(ne)},s.prototype.onRemove=function(ne){this.removeRectText(ne)},s.prototype.onAdd=function(ne){this.appendRectText(ne)}}return Gw}var Kc,$w;function p3(){if($w)return Kc;$w=1;var e=sn,t=XM(),r=W,a=r.each;function i(n){return parseInt(n,10)}function o(n,h){t.initVML(),this.root=n,this.storage=h;var s=document.createElement("div"),v=document.createElement("div");s.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",v.style.cssText="position:absolute;left:0;top:0;",n.appendChild(s),this._vmlRoot=v,this._vmlViewport=s,this.resize();var u=h.delFromStorage,d=h.addToStorage;h.delFromStorage=function(f){u.call(h,f),f&&f.onRemove&&f.onRemove(v)},h.addToStorage=function(f){f.onAdd&&f.onAdd(v),d.call(h,f)},this._firstPaint=!0}o.prototype={constructor:o,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(){var n=this.storage.getDisplayList(!0,!0);this._paintList(n)},_paintList:function(n){for(var h=this._vmlRoot,s=0;s<n.length;s++){var v=n[s];v.invisible||v.ignore?(v.__alreadyNotVisible||v.onRemove(h),v.__alreadyNotVisible=!0):(v.__alreadyNotVisible&&v.onAdd(h),v.__alreadyNotVisible=!1,v.__dirty&&(v.beforeBrush&&v.beforeBrush(),(v.brushVML||v.brush).call(v,h),v.afterBrush&&v.afterBrush())),v.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(h),this._firstPaint=!1)},resize:function(s,v){var s=s??this._getWidth(),v=v??this._getHeight();if(this._width!==s||this._height!==v){this._width=s,this._height=v;var u=this._vmlViewport.style;u.width=s+"px",u.height=v+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var n=this.root,h=n.currentStyle;return(n.clientWidth||i(h.width))-i(h.paddingLeft)-i(h.paddingRight)|0},_getHeight:function(){var n=this.root,h=n.currentStyle;return(n.clientHeight||i(h.height))-i(h.paddingTop)-i(h.paddingBottom)|0}};function l(n){return function(){e('In IE8.0 VML mode painter not support method "'+n+'"')}}a(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(n){o.prototype[n]=l(n)});var c=o;return Kc=c,Kc}var Ww;function m3(){if(Ww)return qw;Ww=1,g3();var e=Or,t=e.registerPainter,r=p3();return t("vml",r),qw}var Zw={},Hi={},Qc={},Yw;function cg(){if(Yw)return Qc;Yw=1;var e="http://www.w3.org/2000/svg";function t(r){return document.createElementNS(e,r)}return Qc.createElement=t,Qc}var Xw;function fg(){if(Xw)return Hi;Xw=1;var e=cg(),t=e.createElement,r=ui,a=Ke,i=Pt(),o=$e,l=rr,c=ba,n=r.CMD,h=Array.prototype.join,s="none",v=Math.round,u=Math.sin,d=Math.cos,f=Math.PI,m=Math.PI*2,p=180/f,g=1e-4;function y(k){return v(k*1e4)/1e4}function _(k){return k<g&&k>-g}function A(k,B){var q=B?k.textFill:k.fill;return q!=null&&q!==s}function S(k,B){var q=B?k.textStroke:k.stroke;return q!=null&&q!==s}function b(k,B){B&&x(k,"transform","matrix("+h.call(B,",")+")")}function x(k,B,q){(!q||q.type!=="linear"&&q.type!=="radial")&&k.setAttribute(B,q)}function w(k,B,q){k.setAttributeNS("http://www.w3.org/1999/xlink",B,q)}function T(k,B,q,H){if(A(B,q)){var F=q?B.textFill:B.fill;F=F==="transparent"?s:F,x(k,"fill",F),x(k,"fill-opacity",B.fillOpacity!=null?B.fillOpacity*B.opacity:B.opacity)}else x(k,"fill",s);if(S(B,q)){var U=q?B.textStroke:B.stroke;U=U==="transparent"?s:U,x(k,"stroke",U);var $=q?B.textStrokeWidth:B.lineWidth,Y=!q&&B.strokeNoScale?H.getLineScale():1;x(k,"stroke-width",$/Y),x(k,"paint-order",q?"stroke":"fill"),x(k,"stroke-opacity",B.strokeOpacity!=null?B.strokeOpacity:B.opacity);var K=B.lineDash;K?(x(k,"stroke-dasharray",B.lineDash.join(",")),x(k,"stroke-dashoffset",v(B.lineDashOffset||0))):x(k,"stroke-dasharray",""),B.lineCap&&x(k,"stroke-linecap",B.lineCap),B.lineJoin&&x(k,"stroke-linejoin",B.lineJoin),B.miterLimit&&x(k,"stroke-miterlimit",B.miterLimit)}else x(k,"stroke",s)}function M(k){for(var B=[],q=k.data,H=k.len(),F=0;F<H;){var U=q[F++],$="",Y=0;switch(U){case n.M:$="M",Y=2;break;case n.L:$="L",Y=2;break;case n.Q:$="Q",Y=4;break;case n.C:$="C",Y=6;break;case n.A:var K=q[F++],J=q[F++],j=q[F++],ee=q[F++],te=q[F++],ie=q[F++],ge=q[F++],oe=q[F++],fe=Math.abs(ie),pe=_(fe-m)||(oe?ie>=m:-ie>=m),ne=ie>0?ie%m:ie%m+m,se=!1;pe?se=!0:_(fe)?se=!1:se=ne>=f==!!oe;var me=y(K+j*d(te)),Z=y(J+ee*u(te));pe&&(oe?ie=m-1e-4:ie=-m+1e-4,se=!0,F===9&&B.push("M",me,Z));var Q=y(K+j*d(te+ie)),re=y(J+ee*u(te+ie));B.push("A",y(j),y(ee),v(ge*p),+se,+oe,Q,re);break;case n.Z:$="Z";break;case n.R:var Q=y(q[F++]),re=y(q[F++]),le=y(q[F++]),ue=y(q[F++]);B.push("M",Q,re,"L",Q+le,re,"L",Q+le,re+ue,"L",Q,re+ue,"L",Q,re);break}$&&B.push($);for(var ve=0;ve<Y;ve++)B.push(y(q[F++]))}return B.join(" ")}var C={};C.brush=function(k){var B=k.style,q=k.__svgEl;q||(q=t("path"),k.__svgEl=q),k.path||k.createPathProxy();var H=k.path;if(k.__dirtyPath){H.beginPath(),H.subPixelOptimize=!1,k.buildPath(H,k.shape),k.__dirtyPath=!1;var F=M(H);F.indexOf("NaN")<0&&x(q,"d",F)}T(q,B,!1,k),b(q,k.transform),B.text!=null?N(k,k.getBoundingRect()):O(k)};var D={};D.brush=function(k){var B=k.style,q=B.image;if(q instanceof HTMLImageElement){var H=q.src;q=H}if(q){var F=B.x||0,U=B.y||0,$=B.width,Y=B.height,K=k.__svgEl;K||(K=t("image"),k.__svgEl=K),q!==k.__imageSrc&&(w(K,"href",q),k.__imageSrc=q),x(K,"width",$),x(K,"height",Y),x(K,"x",F),x(K,"y",U),b(K,k.transform),B.text!=null?N(k,k.getBoundingRect()):O(k)}};var L={},P=new a,I={},E=[],z={left:"start",right:"end",center:"middle",middle:"middle"},N=function(k,B){var q=k.style,H=k.transform,F=k instanceof c||q.transformText;k.__dirty&&l.normalizeTextStyle(q,!0);var U=q.text;if(U!=null&&(U+=""),!!l.needDrawText(U,q)){U==null&&(U=""),!F&&H&&(P.copy(B),P.applyTransform(H),B=P);var $=k.__textSvgEl;$||($=t("text"),k.__textSvgEl=$);var Y=$.style,K=q.font||o.DEFAULT_FONT,J=$.__computedFont;K!==$.__styleFont&&(Y.font=$.__styleFont=K,J=$.__computedFont=Y.font);var j=q.textPadding,ee=q.textLineHeight,te=k.__textCotentBlock;(!te||k.__dirtyText)&&(te=k.__textCotentBlock=o.parsePlainText(U,J,j,ee,q.truncate));var ie=te.outerHeight,ge=te.lineHeight;l.getBoxPosition(I,k,q,B);var oe=I.baseX,fe=I.baseY,pe=I.textAlign||"left",ne=I.textVerticalAlign;G($,F,H,q,B,oe,fe);var se=o.adjustTextY(fe,ie,ne),me=oe,Z=se;j&&(me=V(oe,pe,j),Z+=j[0]),Z+=ge/2,T($,q,!0,k);var Q=te.canCacheByTextString,re=k.__tspanList||(k.__tspanList=[]),le=re.length;if(Q&&k.__canCacheByTextString&&k.__text===U){if(k.__dirtyText&&le)for(var ue=0;ue<le;++ue)R(re[ue],pe,me,Z+ue*ge)}else{k.__text=U,k.__canCacheByTextString=Q;for(var ve=te.lines,he=ve.length,ue=0;ue<he;ue++){var ye=re[ue],Se=ve[ue];ye?ye.__zrText!==Se&&(ye.innerHTML="",ye.appendChild(document.createTextNode(Se))):(ye=re[ue]=t("tspan"),$.appendChild(ye),ye.appendChild(document.createTextNode(Se))),R(ye,pe,me,Z+ue*ge)}if(le>he){for(;ue<le;ue++)$.removeChild(re[ue]);re.length=he}}}};function G(k,B,q,H,F,U,$){i.identity(E),B&&q&&i.copy(E,q);var Y=H.textRotation;if(F&&Y){var K=H.textOrigin;K==="center"?(U=F.width/2+F.x,$=F.height/2+F.y):K&&(U=K[0]+F.x,$=K[1]+F.y),E[4]-=U,E[5]-=$,i.rotate(E,E,Y),E[4]+=U,E[5]+=$}b(k,E)}function V(k,B,q){return B==="right"?k-q[1]:B==="center"?k+q[3]/2-q[1]/2:k+q[3]}function R(k,B,q,H){x(k,"dominant-baseline","middle"),x(k,"text-anchor",z[B]),x(k,"x",q),x(k,"y",H)}function O(k){k&&k.__textSvgEl&&(k.__textSvgEl.parentNode&&k.__textSvgEl.parentNode.removeChild(k.__textSvgEl),k.__textSvgEl=null,k.__tspanList=[],k.__text=null)}return L.drawRectText=N,L.brush=function(k){var B=k.style;B.text!=null?N(k,!1):O(k)},Hi.path=C,Hi.image=D,Hi.text=L,Hi}var jc,Kw;function y3(){if(Kw)return jc;Kw=1;function e(){}e.prototype={diff:function(o,l,c){c||(c=function(_,A){return _===A}),this.equals=c;var n=this;o=o.slice(),l=l.slice();var h=l.length,s=o.length,v=1,u=h+s,d=[{newPos:-1,components:[]}],f=this.extractCommon(d[0],l,o,0);if(d[0].newPos+1>=h&&f+1>=s){for(var m=[],p=0;p<l.length;p++)m.push(p);return[{indices:m,count:l.length}]}function g(){for(var _=-1*v;_<=v;_+=2){var A,S=d[_-1],b=d[_+1],x=(b?b.newPos:0)-_;S&&(d[_-1]=void 0);var w=S&&S.newPos+1<h,T=b&&0<=x&&x<s;if(!w&&!T){d[_]=void 0;continue}if(!w||T&&S.newPos<b.newPos?(A=r(b),n.pushComponent(A.components,void 0,!0)):(A=S,A.newPos++,n.pushComponent(A.components,!0,void 0)),x=n.extractCommon(A,l,o,_),A.newPos+1>=h&&x+1>=s)return t(n,A.components);d[_]=A}v++}for(;v<=u;){var y=g();if(y)return y}},pushComponent:function(o,l,c){var n=o[o.length-1];n&&n.added===l&&n.removed===c?o[o.length-1]={count:n.count+1,added:l,removed:c}:o.push({count:1,added:l,removed:c})},extractCommon:function(o,l,c,n){for(var h=l.length,s=c.length,v=o.newPos,u=v-n,d=0;v+1<h&&u+1<s&&this.equals(l[v+1],c[u+1]);)v++,u++,d++;return d&&o.components.push({count:d}),o.newPos=v,u},tokenize:function(o){return o.slice()},join:function(o){return o.slice()}};function t(o,l,c,n){for(var h=0,s=l.length,v=0,u=0;h<s;h++){var d=l[h];if(d.removed){for(var f=[],m=u;m<u+d.count;m++)f.push(m);d.indices=f,u+=d.count}else{for(var f=[],m=v;m<v+d.count;m++)f.push(m);d.indices=f,v+=d.count,d.added||(u+=d.count)}}return l}function r(o){return{newPos:o.newPos,components:o.components.slice(0)}}var a=new e;function i(o,l,c){return a.diff(o,l,c)}return jc=i,jc}var Jc,Qw;function dg(){if(Qw)return Jc;Qw=1;var e=cg(),t=e.createElement,r=W,a=at,i=si,o=ba,l=fg(),c=l.path,n=l.image,h=l.text,s="0",v="1";function u(f,m,p,g,y){this._zrId=f,this._svgRoot=m,this._tagNames=typeof p=="string"?[p]:p,this._markLabel=g,this._domName=y||"_dom",this.nextId=0}u.prototype.createElement=t,u.prototype.getDefs=function(f){var m=this._svgRoot,p=this._svgRoot.getElementsByTagName("defs");return p.length===0?f?(p=m.insertBefore(this.createElement("defs"),m.firstChild),p.contains||(p.contains=function(g){var y=p.children;if(!y)return!1;for(var _=y.length-1;_>=0;--_)if(y[_]===g)return!0;return!1}),p):null:p[0]},u.prototype.update=function(f,m){if(f){var p=this.getDefs(!1);if(f[this._domName]&&p.contains(f[this._domName]))typeof m=="function"&&m(f);else{var g=this.add(f);g&&(f[this._domName]=g)}}},u.prototype.addDom=function(f){var m=this.getDefs(!0);m.appendChild(f)},u.prototype.removeDom=function(f){var m=this.getDefs(!1);m&&f[this._domName]&&(m.removeChild(f[this._domName]),f[this._domName]=null)},u.prototype.getDoms=function(){var f=this.getDefs(!1);if(!f)return[];var m=[];return r.each(this._tagNames,function(p){var g=f.getElementsByTagName(p);m=m.concat([].slice.call(g))}),m},u.prototype.markAllUnused=function(){var f=this.getDoms(),m=this;r.each(f,function(p){p[m._markLabel]=s})},u.prototype.markUsed=function(f){f&&(f[this._markLabel]=v)},u.prototype.removeUnused=function(){var f=this.getDefs(!1);if(f){var m=this.getDoms(),p=this;r.each(m,function(g){g[p._markLabel]!==v&&f.removeChild(g)})}},u.prototype.getSvgProxy=function(f){return f instanceof a?c:f instanceof i?n:f instanceof o?h:c},u.prototype.getTextSvgElement=function(f){return f.__textSvgEl},u.prototype.getSvgElement=function(f){return f.__svgEl};var d=u;return Jc=d,Jc}var ef,jw;function _3(){if(jw)return ef;jw=1;var e=dg(),t=W,r=sn,a=ut;function i(l,c){e.call(this,l,c,["linearGradient","radialGradient"],"__gradient_in_use__")}t.inherits(i,e),i.prototype.addWithoutUpdate=function(l,c){if(c&&c.style){var n=this;t.each(["fill","stroke"],function(h){if(c.style[h]&&(c.style[h].type==="linear"||c.style[h].type==="radial")){var s=c.style[h],v=n.getDefs(!0),u;s._dom?(u=s._dom,v.contains(s._dom)||n.addDom(u)):u=n.add(s),n.markUsed(c);var d=u.getAttribute("id");l.setAttribute(h,"url(#"+d+")")}})}},i.prototype.add=function(l){var c;if(l.type==="linear")c=this.createElement("linearGradient");else if(l.type==="radial")c=this.createElement("radialGradient");else return r("Illegal gradient type."),null;return l.id=l.id||this.nextId++,c.setAttribute("id","zr"+this._zrId+"-gradient-"+l.id),this.updateDom(l,c),this.addDom(c),c},i.prototype.update=function(l){var c=this;e.prototype.update.call(this,l,function(){var n=l.type,h=l._dom.tagName;n==="linear"&&h==="linearGradient"||n==="radial"&&h==="radialGradient"?c.updateDom(l,l._dom):(c.removeDom(l),c.add(l))})},i.prototype.updateDom=function(l,c){if(l.type==="linear")c.setAttribute("x1",l.x),c.setAttribute("y1",l.y),c.setAttribute("x2",l.x2),c.setAttribute("y2",l.y2);else if(l.type==="radial")c.setAttribute("cx",l.x),c.setAttribute("cy",l.y),c.setAttribute("r",l.r);else{r("Illegal gradient type.");return}l.global?c.setAttribute("gradientUnits","userSpaceOnUse"):c.setAttribute("gradientUnits","objectBoundingBox"),c.innerHTML="";for(var n=l.colorStops,h=0,s=n.length;h<s;++h){var v=this.createElement("stop");v.setAttribute("offset",n[h].offset*100+"%");var u=n[h].color;if(u.indexOf("rgba">-1)){var d=a.parse(u)[3],f=a.toHex(u);v.setAttribute("stop-color","#"+f),v.setAttribute("stop-opacity",d)}else v.setAttribute("stop-color",n[h].color);c.appendChild(v)}l._dom=c},i.prototype.markUsed=function(l){if(l.style){var c=l.style.fill;c&&c._dom&&e.prototype.markUsed.call(this,c._dom),c=l.style.stroke,c&&c._dom&&e.prototype.markUsed.call(this,c._dom)}};var o=i;return ef=o,ef}var tf,Jw;function x3(){if(Jw)return tf;Jw=1;var e=dg(),t=W,r=Pt();function a(o,l){e.call(this,o,l,"clipPath","__clippath_in_use__")}t.inherits(a,e),a.prototype.update=function(o){var l=this.getSvgElement(o);l&&this.updateDom(l,o.__clipPaths,!1);var c=this.getTextSvgElement(o);c&&this.updateDom(c,o.__clipPaths,!0),this.markUsed(o)},a.prototype.updateDom=function(o,l,c){if(l&&l.length>0){var n=this.getDefs(!0),h=l[0],s,v,u=c?"_textDom":"_dom";h[u]?(v=h[u].getAttribute("id"),s=h[u],n.contains(s)||n.appendChild(s)):(v="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,s=this.createElement("clipPath"),s.setAttribute("id",v),n.appendChild(s),h[u]=s);var d=this.getSvgProxy(h);if(h.transform&&h.parent.invTransform&&!c){var f=Array.prototype.slice.call(h.transform);r.mul(h.transform,h.parent.invTransform,h.transform),d.brush(h),h.transform=f}else d.brush(h);var m=this.getSvgElement(h);s.innerHTML="",s.appendChild(m.cloneNode()),o.setAttribute("clip-path","url(#"+v+")"),l.length>1&&this.updateDom(s,l.slice(1),c)}else o&&o.setAttribute("clip-path","none")},a.prototype.markUsed=function(o){var l=this;o.__clipPaths&&t.each(o.__clipPaths,function(c){c._dom&&e.prototype.markUsed.call(l,c._dom),c._textDom&&e.prototype.markUsed.call(l,c._textDom)})};var i=a;return tf=i,tf}var rf,eA;function S3(){if(eA)return rf;eA=1;var e=dg(),t=W;function r(o,l){e.call(this,o,l,["filter"],"__filter_in_use__","_shadowDom")}t.inherits(r,e),r.prototype.addWithoutUpdate=function(o,l){if(l&&a(l.style)){var c;if(l._shadowDom){c=l._shadowDom;var n=this.getDefs(!0);n.contains(l._shadowDom)||this.addDom(c)}else c=this.add(l);this.markUsed(l);var h=c.getAttribute("id");o.style.filter="url(#"+h+")"}},r.prototype.add=function(o){var l=this.createElement("filter");return o._shadowDomId=o._shadowDomId||this.nextId++,l.setAttribute("id","zr"+this._zrId+"-shadow-"+o._shadowDomId),this.updateDom(o,l),this.addDom(l),l},r.prototype.update=function(o,l){var c=l.style;if(a(c)){var n=this;e.prototype.update.call(this,l,function(){n.updateDom(l,l._shadowDom)})}else this.remove(o,l)},r.prototype.remove=function(o,l){l._shadowDomId!=null&&(this.removeDom(o),o.style.filter="")},r.prototype.updateDom=function(o,l){var c=l.getElementsByTagName("feDropShadow");c.length===0?c=this.createElement("feDropShadow"):c=c[0];var n=o.style,h=o.scale&&o.scale[0]||1,s=o.scale&&o.scale[1]||1,v,u,d,f;if(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)v=n.shadowOffsetX||0,u=n.shadowOffsetY||0,d=n.shadowBlur,f=n.shadowColor;else if(n.textShadowBlur)v=n.textShadowOffsetX||0,u=n.textShadowOffsetY||0,d=n.textShadowBlur,f=n.textShadowColor;else{this.removeDom(l,n);return}c.setAttribute("dx",v/h),c.setAttribute("dy",u/s),c.setAttribute("flood-color",f);var m=d/2/h,p=d/2/s,g=m+" "+p;c.setAttribute("stdDeviation",g),l.setAttribute("x","-100%"),l.setAttribute("y","-100%"),l.setAttribute("width",Math.ceil(d/2*200)+"%"),l.setAttribute("height",Math.ceil(d/2*200)+"%"),l.appendChild(c),o._shadowDom=l},r.prototype.markUsed=function(o){o._shadowDom&&e.prototype.markUsed.call(this,o._shadowDom)};function a(o){return o&&(o.shadowBlur||o.shadowOffsetX||o.shadowOffsetY||o.textShadowBlur||o.textShadowOffsetX||o.textShadowOffsetY)}var i=r;return rf=i,rf}var af,tA;function b3(){if(tA)return af;tA=1;var e=cg(),t=e.createElement,r=W,a=sn,i=at,o=si,l=ba,c=y3(),n=_3(),h=x3(),s=S3(),v=fg(),u=v.path,d=v.image,f=v.text;function m(M){return parseInt(M,10)}function p(M){return M instanceof i?u:M instanceof o?d:M instanceof l?f:u}function g(M,C){return C&&M&&C.parentNode!==M}function y(M,C,D){if(g(M,C)&&D){var L=D.nextSibling;L?M.insertBefore(C,L):M.appendChild(C)}}function _(M,C){if(g(M,C)){var D=M.firstChild;D?M.insertBefore(C,D):M.appendChild(C)}}function A(M,C){C&&M&&C.parentNode===M&&M.removeChild(C)}function S(M){return M.__textSvgEl}function b(M){return M.__svgEl}var x=function(M,C,D,L){this.root=M,this.storage=C,this._opts=D=r.extend({},D||{});var P=t("svg");P.setAttribute("xmlns","http://www.w3.org/2000/svg"),P.setAttribute("version","1.1"),P.setAttribute("baseProfile","full"),P.style.cssText="user-select:none;position:absolute;left:0;top:0;";var I=t("g");P.appendChild(I);var E=t("g");P.appendChild(E),this.gradientManager=new n(L,E),this.clipPathManager=new h(L,E),this.shadowManager=new s(L,E);var z=document.createElement("div");z.style.cssText="overflow:hidden;position:relative",this._svgDom=P,this._svgRoot=E,this._backgroundRoot=I,this._viewport=z,M.appendChild(z),z.appendChild(P),this.resize(D.width,D.height),this._visibleList=[]};x.prototype={constructor:x,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var M=this.getViewportRoot();if(M)return{offsetLeft:M.offsetLeft||0,offsetTop:M.offsetTop||0}},refresh:function(){var M=this.storage.getDisplayList(!0);this._paintList(M)},setBackgroundColor:function(M){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var C=t("rect");C.setAttribute("width",this.getWidth()),C.setAttribute("height",this.getHeight()),C.setAttribute("x",0),C.setAttribute("y",0),C.setAttribute("id",0),C.style.fill=M,this._backgroundRoot.appendChild(C),this._backgroundNode=C},_paintList:function(M){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var C=this._svgRoot,D=this._visibleList,L=M.length,P=[],I;for(I=0;I<L;I++){var E=M[I],z=p(E),N=b(E)||S(E);E.invisible||(E.__dirty&&(z&&z.brush(E),this.clipPathManager.update(E),E.style&&(this.gradientManager.update(E.style.fill),this.gradientManager.update(E.style.stroke),this.shadowManager.update(N,E)),E.__dirty=!1),P.push(E))}var G=c(D,P),V;for(I=0;I<G.length;I++){var R=G[I];if(R.removed)for(var O=0;O<R.count;O++){var E=D[R.indices[O]],N=b(E),k=S(E);A(C,N),A(C,k)}}for(I=0;I<G.length;I++){var R=G[I];if(R.added)for(var O=0;O<R.count;O++){var E=P[R.indices[O]],N=b(E),k=S(E);V?y(C,N,V):_(C,N),N?y(C,k,N):V?y(C,k,V):_(C,k),y(C,k,N),V=k||N||V,this.gradientManager.addWithoutUpdate(N||k,E),this.shadowManager.addWithoutUpdate(N||k,E),this.clipPathManager.markUsed(E)}else if(!R.removed)for(var O=0;O<R.count;O++){var E=P[R.indices[O]],N=b(E),k=S(E),N=b(E),k=S(E);this.gradientManager.markUsed(E),this.gradientManager.addWithoutUpdate(N||k,E),this.shadowManager.markUsed(E),this.shadowManager.addWithoutUpdate(N||k,E),this.clipPathManager.markUsed(E),k&&y(C,k,N),V=N||k||V}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=P},_getDefs:function(M){var C=this._svgDom,D=C.getElementsByTagName("defs");if(D.length===0)if(M){var D=C.insertBefore(t("defs"),C.firstChild);return D.contains||(D.contains=function(P){var I=D.children;if(!I)return!1;for(var E=I.length-1;E>=0;--E)if(I[E]===P)return!0;return!1}),D}else return null;else return D[0]},resize:function(M,C){var D=this._viewport;D.style.display="none";var L=this._opts;if(M!=null&&(L.width=M),C!=null&&(L.height=C),M=this._getSize(0),C=this._getSize(1),D.style.display="",this._width!==M||this._height!==C){this._width=M,this._height=C;var P=D.style;P.width=M+"px",P.height=C+"px";var I=this._svgDom;I.setAttribute("width",M),I.setAttribute("height",C)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",M),this._backgroundNode.setAttribute("height",C))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(M){var C=this._opts,D=["width","height"][M],L=["clientWidth","clientHeight"][M],P=["paddingLeft","paddingTop"][M],I=["paddingRight","paddingBottom"][M];if(C[D]!=null&&C[D]!=="auto")return parseFloat(C[D]);var E=this.root,z=document.defaultView.getComputedStyle(E);return(E[L]||m(z[D])||m(E.style[D]))-(m(z[P])||0)-(m(z[I])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){this.refresh();var M=encodeURIComponent(this._svgDom.outerHTML.replace(/></g,`>
\r<`));return"data:image/svg+xml;charset=UTF-8,"+M}};function w(M){return function(){a('In SVG mode painter not support method "'+M+'"')}}r.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(M){x.prototype[M]=w(M)});var T=x;return af=T,af}var rA;function w3(){if(rA)return Zw;rA=1,fg();var e=Or,t=e.registerPainter,r=b3();return t("svg",r),Zw}(function(e){var t=xe;(function(){for(var a in t){if(t==null||!t.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=t[a]}})();var r=JC();(function(){for(var a in r){if(r==null||!r.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=r[a]}})(),qC(),rV(),sV(),cV(),pV(),CV(),HV(),WV(),eH(),gH(),_H(),wH(),OH(),qH(),WH(),jH(),r5(),l5(),c5(),g5(),L5(),O5(),q5(),G5(),eq(),aq(),LM(),xM(),sq(),lq(),xq(),Tq(),In(),Rq(),Eq(),Gq(),$q(),Yq(),Qq(),a3(),zM(),u3(),NM(),BM(),d3(),ZM(),YM(),m3(),w3()})(aA);const T3=lD(aA);export{T3 as a,aA as e};

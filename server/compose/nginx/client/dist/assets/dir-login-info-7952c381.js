import{k as Z,i as w,G as $,r as a,W as A,a4 as D,b as i,o as I,a as U,c as e,w as t,f as r,g as u,p as q,m as B,Z as E,e as G,t as b,s as v,y as O}from"./index-08bbd940.js";import{u as N,d as W,e as Y}from"./ZyHeaderLogo.vue_vue_type_style_index_0_scoped_a8f08dcc_lang-1abf0340.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{Z as J}from"./ZyLogo-2e026c6a.js";import"./server-41ad1b27.js";import"./axios-707ed124.js";import"./api.roles-9c69269f.js";import"./api.users-12a10424.js";const K="/assets/login-bg-70cd97c7.png",V=Z("login");function H(){function s(S){V.value=S}const f=w(()=>V.value);function h(){s("login")}return{setLoginState:s,getLoginState:f,handleBackLogin:h}}const P=s=>(q("data-v-a961a7da"),s=s(),B(),s),Q=P(()=>r("h2",{class:"login-title"},"登录",-1)),X={style:{display:"flex"}},ee=["innerHTML"],te={class:"other-login-type"},oe={__name:"LoginForm",setup(s){const f=N(),{setLoginState:h,getLoginState:S}=H(),x=w(()=>S.value==="login"),o=$({formState:{},captchaSvg:""}),y=()=>{W().then(m=>{o.captchaSvg=Z(m.data)}).catch(m=>{})},k=()=>{o.formState.username="test"},F=m=>{f.login(m).then(n=>{}).catch(n=>{y()})},p=m=>{console.log("Failed:",m)},c=w(()=>!(o.formState.username&&o.formState.password));return y(),(m,n)=>{const l=a("IconFont"),C=a("a-input"),d=a("a-form-item"),L=a("a-input-password"),_=a("a-checkbox"),z=a("a-button"),T=a("a-form"),M=a("a-space"),j=a("a-divider");return A((I(),U("div",null,[Q,e(T,{loading:"",model:o.formState,name:"normal_login",class:"login-form",onFinish:F,onFinishFailed:p},{default:t(()=>[e(d,{name:"username",rules:[{required:!0,message:"请输入用户名!"}]},{default:t(()=>[e(C,{value:o.formState.username,"onUpdate:value":n[0]||(n[0]=g=>o.formState.username=g),allowClear:"",autocomplete:"off",size:"large",placeholder:"用户名"},{prefix:t(()=>[e(l,{type:"icon-yonghuming",style:{"font-size":"18px"}})]),_:1},8,["value"])]),_:1}),e(d,{name:"password",rules:[{required:!0,message:"请输入密码!"}]},{default:t(()=>[e(L,{value:o.formState.password,"onUpdate:value":n[1]||(n[1]=g=>o.formState.password=g),allowClear:"",autocomplete:"off",placeholder:"密码",size:"large"},{prefix:t(()=>[e(l,{type:"icon-mima",style:{"font-size":"18px"}})]),_:1},8,["value"])]),_:1}),e(d,{name:"code",rules:[{required:!0,message:"请输入验证码!"}]},{default:t(()=>[r("div",X,[e(C,{value:o.formState.code,"onUpdate:value":n[2]||(n[2]=g=>o.formState.code=g),allowClear:"",autocomplete:"off",size:"large",placeholder:"验证码"},{prefix:t(()=>[e(l,{type:"icon-yanzhengma",style:{"font-size":"18px"}})]),_:1},8,["value"]),r("div",{class:"login-code",innerHTML:o.captchaSvg,onClick:y},null,8,ee)])]),_:1}),e(d,null,{default:t(()=>[e(d,{name:"remember","no-style":""},{default:t(()=>[e(_,{checked:o.formState.remember,"onUpdate:checked":n[3]||(n[3]=g=>o.formState.remember=g)},{default:t(()=>[u("记住密码")]),_:1},8,["checked"])]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(z,{type:"primary",style:{width:"100%"},disabled:i(c),"html-type":"submit",size:"large",class:"login-form-button"},{default:t(()=>[u(" 登录 ")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"]),r("div",null,[e(M,{class:"login-btn-list"},{default:t(()=>[e(z,{onClick:n[4]||(n[4]=g=>i(h)("register")),class:"login-form-button"},{default:t(()=>[u(" 注册 ")]),_:1}),e(z,{onClick:k,class:"login-form-button"},{default:t(()=>[u(" 其他用户 ")]),_:1}),e(z,{disabled:"",class:"login-form-button"},{default:t(()=>[u(" 手机登录 ")]),_:1}),e(z,{disabled:"",class:"login-form-button"},{default:t(()=>[u(" 扫二维码登录 ")]),_:1})]),_:1})]),e(j,{class:"hr"},{default:t(()=>[u("其他方式登录")]),_:1}),r("div",te,[e(l,{class:"type-item",type:"icon-github"}),e(l,{class:"type-item",type:"icon-gitee"}),e(l,{class:"type-item",type:"icon-weixin"}),e(l,{class:"type-item",type:"icon-weibo"}),e(l,{class:"type-item",type:"icon-qq"})])],512)),[[D,i(x)]])}}},ae=R(oe,[["__scopeId","data-v-a961a7da"]]);const se=s=>(q("data-v-a4f8536a"),s=s(),B(),s),ne=se(()=>r("h2",{class:"register-title"},"注册",-1)),re={__name:"RegisterForm",setup(s){N();const{setLoginState:f,handleBackLogin:h,getLoginState:S}=H(),x=w(()=>S.value==="register"),o=$({registerState:{username:"",password:""}}),y=p=>{Y(p).then(c=>{c.status&&E.success(c.message||"注册成功"),h()})},k=p=>{console.log("Failed:",p)},F=w(()=>!(o.registerState.username&&o.registerState.password));return(p,c)=>{const m=a("IconFont"),n=a("a-input"),l=a("a-form-item"),C=a("a-input-password"),d=a("a-button"),L=a("a-form");return A((I(),U("div",null,[ne,e(L,{loading:"",model:o.registerState,name:"normal_register",class:"register-form",onFinish:y,onFinishFailed:k},{default:t(()=>[e(l,{name:"username",rules:[{required:!0,message:"请输入用户名!"}]},{default:t(()=>[e(n,{value:o.registerState.username,"onUpdate:value":c[0]||(c[0]=_=>o.registerState.username=_),allowClear:"",autocomplete:"off",size:"large",placeholder:"用户名"},{prefix:t(()=>[e(m,{type:"icon-yonghuming",style:{"font-size":"18px"}})]),_:1},8,["value"])]),_:1}),e(l,{name:"password",rules:[{required:!0,message:"请输入密码!"}]},{default:t(()=>[e(C,{value:o.registerState.password,"onUpdate:value":c[1]||(c[1]=_=>o.registerState.password=_),allowClear:"",autocomplete:"off",placeholder:"密码",size:"large"},{prefix:t(()=>[e(m,{type:"icon-mima",style:{"font-size":"18px"}})]),_:1},8,["value"])]),_:1}),e(l,{name:"nickname",rules:[{required:!0,message:"请输入昵称!"}]},{default:t(()=>[e(n,{value:o.registerState.nickname,"onUpdate:value":c[2]||(c[2]=_=>o.registerState.nickname=_),allowClear:"",autocomplete:"off",size:"large",placeholder:"昵称"},{prefix:t(()=>[e(m,{type:"icon-yonghuming",style:{"font-size":"18px"}})]),_:1},8,["value"])]),_:1}),e(l,{name:"email"},{default:t(()=>[e(n,{value:o.registerState.email,"onUpdate:value":c[3]||(c[3]=_=>o.registerState.email=_),allowClear:"",autocomplete:"off",size:"large",placeholder:"邮箱"},{prefix:t(()=>[e(m,{type:"icon-yonghuming",style:{"font-size":"18px"}})]),_:1},8,["value"])]),_:1}),e(l,null,{default:t(()=>[e(d,{type:"primary",style:{width:"100%"},disabled:i(F),"html-type":"submit",size:"large",class:"register-form-button"},{default:t(()=>[u(" 注册 ")]),_:1},8,["disabled"])]),_:1}),e(l,null,{default:t(()=>[e(d,{onClick:i(h),style:{width:"100%"},size:"large",class:"register-form-button"},{default:t(()=>[u(" 返回登录 ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])],512)),[[D,i(x)]])}}},le=R(re,[["__scopeId","data-v-a4f8536a"]]);const ie=s=>(q("data-v-4466c345"),s=s(),B(),s),ce=["src"],me={style:{"margin-top":"15px"}},ue=ie(()=>r("p",{style:{"margin-top":"15px"}},[r("a",{href:"https://gitee.com/xiaomu-source/homepage/stargazers"},[r("img",{src:"https://gitee.com/xiaomu-source/homepage/badge/star.svg?theme=dark",alt:"star"})]),r("a",{href:"https://gitee.com/xiaomu-source/homepage/members"},[r("img",{src:"https://gitee.com/xiaomu-source/homepage/badge/fork.svg?theme=dark",alt:"fork"})])],-1)),de={key:0,class:"copyright"},_e=["href"],pe={target:"_blank",class:"out-link",href:"https://beian.miit.gov.cn/#/Integrated/index"},ge={__name:"dir-login-info",setup(s){N();const f=$({username:"admin",password:"admin",code:"",remember:!0});return w(()=>!(f.username&&f.password)),(h,S)=>{const x=a("a-layout-header"),o=a("a-col"),y=a("a-row"),k=a("a-layout-content"),F=a("a-layout-footer"),p=a("a-layout");return I(),G(p,{class:"login-box"},{default:t(()=>[e(x,{class:"login-logo"},{default:t(()=>[e(J,{class:"login-img"})]),_:1}),e(k,{class:"login-content"},{default:t(()=>[e(y,{align:"middle",justify:"center",class:"login-content-main"},{default:t(()=>[e(o,{class:"login-content-bgc",pull:1},{default:t(()=>[r("img",{src:i(K),width:"480"},null,8,ce),r("h2",null,b(i(v).websiteInfo.desc||"开箱即用的中后台管理系统"),1),r("p",me,"✨✨✨ 欢迎使用 "+b(i(v).websiteInfo.name||"HS·Admin")+"@"+b(i(v).websiteInfo.version||"1.0.0")+"！",1),ue]),_:1}),e(o,{class:"login-content-form"},{default:t(()=>[e(ae),e(le)]),_:1})]),_:1})]),_:1}),e(F,{class:"login-footer"},{default:t(()=>[i(v).reference.show?(I(),U("div",de,[u(b(` Copyright ©${new Date().getFullYear()} by`),1),r("a",{target:"_blank",class:"out-link",href:i(v).reference.authorizationUrl},"@"+b(i(v).reference.authorization),9,_e),u(" . All rights reserved. | "),r("a",pe,b(i(v).reference.number),1)])):O("",!0)]),_:1})]),_:1})}}},ke=R(ge,[["__scopeId","data-v-4466c345"]]);export{ke as default};
